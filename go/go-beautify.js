/*
 * GoJS v1.6.13 JavaScript Library for HTML Diagrams
 * Northwoods Software, https://www.nwoods.com/
 * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.
 * Copyright (C) 1998-2016 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/1.6.13/doc/license.html.
 */
(function( window )
{
	var g, ea = {};
	if( !window.document || void 0 === window.document.createElement( "canvas" ).getContext )throw window.console && window.console.log( "The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode." ), Error( "The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode." );
	if( !Object.defineProperty )throw Error( "GoJS requires a newer version of JavaScript" );
	Function.prototype.bind || (Function.prototype.bind = function( a )
	{
		function b()
		{
			return f.apply( a, e.concat( d.call( arguments ) ) )
		}

		function c()
		{
		}

		var d = Array.prototype.slice, e = d.call( arguments, 1 ), f = this;
		c.prototype = this.prototype;
		b.prototype = new c;
		return b
	});
	(function()
	{
		for( var a = 0, b = ["ms", "moz", "webkit", "o"], c = 0; c < b.length && !window.requestAnimationFrame; ++c )window.requestAnimationFrame = window[b[c] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[b[c] + "CancelAnimationFrame"] || window[b[c] + "CancelRequestAnimationFrame"];
		window.requestAnimationFrame || (window.requestAnimationFrame = function( b )
		{
			var c = (new Date).getTime(), f = Math.max( 8, 16 - (c - a) ), h = window.setTimeout( function()
			{
				b( c + f )
			}, f );
			a = c + f;
			return h
		});
		window.cancelAnimationFrame || (window.cancelAnimationFrame =
			function( a )
			{
				window.clearTimeout( a )
			})
	})();
	ea.Debug = null;
	var v = {ed: 1, Nc: 2, Xc: 4, Wc: 8, Rm: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf( "534.30" ) && 0 < window.navigator.userAgent.indexOf( "Android" ), oH: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf( "MSIE 10.0" ), pH: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf( "Trident/7" ), RJ: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf( "Edge/" ), ak: void 0 !== window.navigator && void 0 !== window.navigator.platform && 0 <= window.navigator.platform.toUpperCase().indexOf( "MAC" ),
		cE: void 0 !== window.navigator && void 0 !== window.navigator.platform && null !== window.navigator.platform.match( /(iPhone|iPod|iPad)/i ), vD: function( a, b, c )
		{
			var d = -1;
			return function()
			{
				var e = this, f = arguments;
				-1 !== d && v.clearTimeout( d );
				d = v.setTimeout( function()
				{
					d = -1;
					c || a.apply( e, f )
				}, b );
				c && !d && a.apply( e, f )
			}
		}, setTimeout: function( a, b )
		{
			return window.setTimeout( a, b )
		}, clearTimeout: function( a )
		{
			window.clearTimeout( a )
		}, createElement: function( a )
		{
			return window.document.createElement( a )
		}, k: function( a )
		{
			throw Error( a );
		}, ka: function( a, b )
		{
			var c = "The object is frozen, so its properties cannot be set: " + a.toString();
			void 0 !== b && (c += "  to value: " + b);
			v.k( c )
		}, A: function( a, b, c, d )
		{
			a instanceof b || (c = v.getTypeName( c ), void 0 !== d && (c += "." + d), v.Gd( a, b, c ))
		}, j: function( a, b, c, d )
		{
			typeof a !== b && (c = v.getTypeName( c ), void 0 !== d && (c += "." + d), v.Gd( a, b, c ))
		}, Ve: function( a, b, c )
		{
			"number" === typeof a && isFinite( a ) || (b = v.getTypeName( b ), void 0 !== c && (b += "." + c), v.k( b + " must be a real number type, and not NaN or Infinity: " + a ))
		}, pb: function( a, b, c, d )
		{
			a instanceof
			fa && a.qe === b || (c = v.getTypeName( c ), void 0 !== d && (c += "." + d), v.Gd( a, "a constant of class " + v.af( b ), c ))
		}, tJ: function( a, b )
		{
			"string" === typeof a ? ga( a ) || v.k( 'Color "' + a + '" is not a valid color string for ' + b ) : a instanceof ha || v.k( "Value for " + b + " must be a color string or a Brush, not " + a )
		}, Gd: function( a, b, c, d )
		{
			b = v.getTypeName( b );
			c = v.getTypeName( c );
			void 0 !== d && (c += "." + d);
			"string" === typeof a ? v.k( c + " value is not an instance of " + b + ': "' + a + '"' ) : v.k( c + " value is not an instance of " + b + ": " + a )
		}, va: function( a, b, c, d )
		{
			c = v.getTypeName( c );
			void 0 !== d && (c += "." + d);
			v.k( c + " is not in the range " + b + ": " + a )
		}, dd: function( a )
		{
			v.k( v.af( a ) + " constructor cannot take any arguments." )
		}, Ka: function( a )
		{
			v.k( "Collection was modified during iteration: " + a.toString() + "\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration." )
		}, trace: function( a )
		{
			window.console && window.console.log( a )
		}, Ta: function( a )
		{
			return"object" === typeof a && null !== a
		}, isArray: function( a )
		{
			return Array.isArray( a ) ||
				a instanceof NodeList || a instanceof HTMLCollection
		}, qH: function( a )
		{
			return Array.isArray( a )
		}, $y: function( a, b, c )
		{
			v.isArray( a ) || v.Gd( a, "Array or NodeList or HTMLCollection", b, c )
		}, Va: function( a )
		{
			return a.length
		}, dl: function( a )
		{
			return Array.prototype.slice.call( a )
		}, Pa: function( a, b )
		{
			Array.isArray( a );
			return a[b]
		}, hD: function( a, b, c )
		{
			Array.isArray( a ) ? a[b] = c : v.k( "Cannot replace an object in an HTMLCollection or NodeList at " + b )
		}, Zy: function( a, b )
		{
			if( Array.isArray( a ) )return a.indexOf( b );
			for( var c = a.length, d =
				0; d < c; d++ )if( a[d] === b )return d;
			return-1
		}, Oi: function( a, b, c )
		{
			Array.isArray( a ) ? b >= a.length ? a.push( c ) : a.splice( b, 0, c ) : v.k( "Cannot insert an object into an HTMLCollection or NodeList: " + c + " at " + b )
		}, Vh: function( a, b )
		{
			Array.isArray( a ) ? b >= a.length ? a.pop() : a.splice( b, 1 ) : v.k( "Cannot remove an object from an HTMLCollection or NodeList at " + b )
		}, zx: [], L: function()
		{
			var a = v.zx.pop();
			return void 0 === a ? new y : a
		}, Mb: function( a, b )
		{
			var c = v.zx.pop();
			if( void 0 === c )return new y( a, b );
			c.x = a;
			c.y = b;
			return c
		}, v: function( a )
		{
			v.zx.push( a )
		},
		HA: [], Fl: function()
		{
			var a = v.HA.pop();
			return void 0 === a ? new ia : a
		}, Yj: function( a )
		{
			v.HA.push( a )
		}, Ax: [], bg: function()
		{
			var a = v.Ax.pop();
			return void 0 === a ? new B : a
		}, gk: function( a, b, c, d )
		{
			var e = v.Ax.pop();
			if( void 0 === e )return new B( a, b, c, d );
			e.x = a;
			e.y = b;
			e.width = c;
			e.height = d;
			return e
		}, Vb: function( a )
		{
			v.Ax.push( a )
		}, IA: [], qh: function()
		{
			var a = v.IA.pop();
			return void 0 === a ? new ja : a
		}, $e: function( a )
		{
			v.IA.push( a )
		}, Bx: null, s: function()
		{
			var a = v.Bx;
			return null !== a ? (v.Bx = null, a) : new ma
		}, q: function( a )
		{
			a.reset();
			v.Bx = a
		}, GA: [],
		jb: function()
		{
			var a = v.GA.pop();
			return void 0 === a ? [] : a
		}, sa: function( a )
		{
			a.length = 0;
			v.GA.push( a )
		}, th: Object.freeze( [] ), Jl: 1, ec: function( a )
		{
			a.__gohashid = v.Jl++
		}, nt: function( a )
		{
			var b = a.__gohashid;
			void 0 === b && (b = v.Jl++, a.__gohashid = b);
			return b
		}, md: function( a )
		{
			return a.__gohashid
		}, ea: function( a, b )
		{
			b.Kx = a;
			ea[a] = b
		}, Ia: function( a, b )
		{
			function c()
			{
			}

			c.prototype = b.prototype;
			a.prototype = new c;
			a.prototype.constructor = a
		}, Wh: function( a )
		{
			a.MF = !0
		}, defineProperty: function( a, b, c, d, e )
		{
			v.j( a, "function", "Util.defineProperty:classfunc" );
			v.j( b, "object", "Util.defineProperty:propobj" );
			v.j( c, "function", "Util.defineProperty:getter" );
			v.j( d, "function", "Util.defineProperty:setter" );
			for( var f in b )
			{
				b = b[f];
				c = {get: c, set: d, enumerable: !0};
				if( void 0 !== e )for( var h in e )c[h] = e[h];
				Object.defineProperty( a.prototype, f, c );
				e = Object.getOwnPropertyDescriptor( a.prototype, f );
				b && e && Object.defineProperty( a.prototype, b, e );
				break
			}
		}, VI: !1, u: function( a, b, c, d )
		{
			v.j( a, "function", "Util.defineReadOnlyProperty:classfunc" );
			v.j( b, "object", "Util.defineReadOnlyProperty:propobj" );
			v.j( c, "function", "Util.defineReadOnlyProperty:getter" );
			for( var e in b )
			{
				var f = b[e];
				b = {get: c, set: function( a )
				{
					v.k( 'The property "' + f + '" is read-only and cannot be set to ' + a )
				}, enumerable: !0};
				if( void 0 !== d )for( var h in d )b[h] = d[h];
				Object.defineProperty( a.prototype, e, b );
				d = Object.getOwnPropertyDescriptor( a.prototype, e );
				f && d && Object.defineProperty( a.prototype, f, d );
				break
			}
		}, Pd: function( a, b )
		{
			for( var c in b )b[c] = !0;
			a.prototype.IF = b
		}, getTypeName: function( a )
		{
			return void 0 === a ? "" : "string" === typeof a ? a : "function" === typeof a ? v.af( a ) : null === a ? "*" : ""
		}, af: function( a )
		{
			if( "function" === typeof a )
			{
				if( a.Kx )return a.Kx;
				if( a.name )return a.name;
				var b = a.toString(), c = b.indexOf( "(" ), b = b.substring( 9, c ).trim();
				if( "" !== b )return a.Kx = b
			}
			else if( "object" === typeof a && a.constructor )return v.af( a.constructor );
			return typeof a
		}, p: function( a, b, c )
		{
			v.j( a, "function", "Util.defineEnumValue:classfunc" );
			v.j( b, "string", "Util.defineEnumValue:name" );
			v.j( c, "number", "Util.defineEnumValue:num" );
			c = new fa( a, b, c );
			Object.freeze( c );
			a[b] = c;
			var d = a.ju;
			d instanceof
			na || (d = new na( "string", fa ), a.ju = d);
			d.add( b, c );
			return c
		}, qb: function( a, b )
		{
			if( !a || !b )return null;
			var c = void 0;
			try
			{
				"function" === typeof b ? c = b( a ) : "function" === typeof a.getAttribute ? (c = a.getAttribute( b ), null === c && (c = void 0)) : c = a[b]
			} catch( d )
			{
			}
			return c
		}, Ja: function( a, b, c )
		{
			if( a && b )try
			{
				"function" === typeof b ? b( a, c ) : "function" === typeof a.setAttribute ? a.setAttribute( b, c ) : a[b] = c
			} catch( d )
			{
			}
		}, Wt: function( a, b )
		{
			v.j( a, "object", "Setting properties requires Objects as arguments" );
			v.j( b, "object", "Setting properties requires Objects as arguments" );
			var c = a instanceof D, d = a instanceof E, e;
			for( e in b )
			{
				"" === e && v.k( "Setting properties requires non-empty property names" );
				var f = a, h = e;
				if( c || d )
				{
					var k = e.indexOf( "." );
					if( 0 < k )
					{
						var l = e.substring( 0, k );
						if( c )f = a.de( l );
						else if( f = a[l], void 0 === f || null === f )f = a.Za[l];
						v.Ta( f ) ? h = e.substr( k + 1 ) : v.k( "Unable to find object named: " + l + " in " + a.toString() + " when trying to set property: " + e )
					}
				}
				if( "_" !== h[0] && !v.UD( f, h ) )if( d && "ModelChanged" === h )
				{
					a.aG( b[h] );
					continue
				}
				else if( d && "Changed" === h )
				{
					a.xm( b[h] );
					continue
				}
				else if( d &&
					v.UD( a.Za, h ) )f = a.Za;
				else if( d && qa( a, h ) )
				{
					a.Uy( h, b[h] );
					continue
				}
				else if( a instanceof F && "Changed" === h )
				{
					a.xm( b[h] );
					continue
				}
				else v.k( 'Trying to set undefined property "' + h + '" on object: ' + f.toString() );
				f[h] = b[e];
				"_" === h[0] && f instanceof G && f.YF( h )
			}
		}, UD: function( a, b )
		{
			if( a.hasOwnProperty( b ) )return!0;
			for( var c = Object.getPrototypeOf( a ); c && c !== Function; )
			{
				if( c.hasOwnProperty( b ) )return!0;
				var d = c.IF;
				if( d && d[b] )return!0;
				c = Object.getPrototypeOf( c )
			}
			return!1
		}, dI: function( a )
		{
			for( var b = [], c = 0; 256 > c; c++ )b[c] = c;
			for( var d =
				0, e = 0, c = 0; 256 > c; c++ )d = (d + b[c] + 119) % 256, e = b[c], b[c] = b[d], b[d] = e;
			for( var d = c = 0, f = "", h = 0; h < a.length; h++ )c = (c + 1) % 256, d = (d + b[c]) % 256, e = b[c], b[c] = b[d], b[d] = e, f += String.fromCharCode( a.charCodeAt( h ) ^ b[(b[c] + b[d]) % 256] );
			return f
		}, cH: function( a )
		{
			for( var b = [], c = 0; 256 > c; c++ )b["0123456789abcdef".charAt( c >> 4 ) + "0123456789abcdef".charAt( c & 15 )] = String.fromCharCode( c );
			a.length % 2 && (a = "0" + a);
			for( var d = [], e = 0, c = 0; c < a.length; c += 2 )d[e++] = b[a.substr( c, 2 )];
			a = d.join( "" );
			return"" === a ? "0" : a
		}, ug: function( a )
		{
			return v.dI( v.cH( a ) )
		},
		Hl: null, adym: "7da71ca0ad381e90", vfo: "2be640fdb265", mG: "@COLOR1", nG: "@COLOR2"};
	v.Hl = function()
	{
		var a = window.document.createElement( "canvas" ), b = a.getContext( "2d" );
		b[v.ug( "7ca11abfd022028846" )] = v.ug( "398c3597c01238" );
		for( var c = ["5da73c80a3330d854f9e5e671d6633", "32ab5ff3b26f42dc0ed90f22422913b54ae6247590da4bb21c324ba3a84e385776", "54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387", "74bf19bce72555874c86"], d = 1; 5 > d; d++ )b[v.ug( "7ca11abfd7330390" )]( v.ug( c[d - 1] ), 10, 15 * d + 0 );
		b[v.ug( "7ca11abfd022028846" )] = v.ug( "39f046ebb36e4b" );
		for( d = 1; 5 > d; d++ )b[v.ug( "7ca11abfd7330390" )]( v.ug( c[d -
			1] ), 10, 15 * d + 0 );
		if( 4 !== c.length || "5" !== c[0][0] || "7" !== c[3][0] )v.p = function( a, b )
		{
			var c = new fa( a, b, 2 );
			Object.freeze( c );
			a[b] = c;
			var d = a.ju;
			d instanceof na || (d = new na( "string", fa ), a.ju = d);
			d.add( b, c );
			return c
		};
		return a
	}();
	function fa( a, b, c )
	{
		v.ec( this );
		this.VA = a;
		this.Ob = b;
		this.RF = c
	}

	v.ea( "EnumValue", fa );
	fa.prototype.toString = function()
	{
		return v.af( this.VA ) + "." + this.Ob
	};
	v.u( fa, {qe: "classType"}, function()
	{
		return this.VA
	} );
	v.u( fa, {name: "name"}, function()
	{
		return this.Ob
	} );
	v.u( fa, {value: "value"}, function()
	{
		return this.RF
	} );
	var ra;
	fa.findName = ra = function( a, b )
	{
		if( void 0 === b || null === b || "" === b )return null;
		v.j( a, "function", "findName:classfunc" );
		v.j( b, "string", "EnumValue.findName:name" );
		var c = a.ju;
		return c instanceof na ? c.ja( b ) : null
	};
	function sa()
	{
		this.TA = []
	}

	sa.prototype.toString = function()
	{
		return this.TA.join( "" )
	};
	sa.prototype.add = function( a )
	{
		"" !== a && this.TA.push( a )
	};
	function ta()
	{
	}

	function va( a )
	{
		void 0 === a && (a = 42);
		this.seed = a;
		this.vx = 48271;
		this.iu = 2147483647;
		this.FA = this.iu / this.vx;
		this.uF = this.iu % this.vx;
		this.tF = 1 / this.iu;
		this.random()
	}

	va.prototype.random = function()
	{
		var a = this.seed % this.FA * this.vx - this.seed / this.FA * this.uF;
		this.seed = 0 < a ? a : a + this.iu;
		return this.seed * this.tF
	};
	function wa()
	{
	}

	v.u( wa, {i: "iterator"}, function()
	{
		return this
	} );
	wa.prototype.reset = wa.prototype.reset = function()
	{
	};
	wa.prototype.next = wa.prototype.hasNext = wa.prototype.next = function()
	{
		return!1
	};
	wa.prototype.first = wa.prototype.first = function()
	{
		return null
	};
	wa.prototype.any = function()
	{
		return!1
	};
	wa.prototype.all = function()
	{
		return!0
	};
	wa.prototype.each = function()
	{
		return this
	};
	wa.prototype.map = function()
	{
		return this
	};
	wa.prototype.filter = function()
	{
		return this
	};
	wa.prototype.concat = function( a )
	{
		return a.i
	};
	v.u( wa, {count: "count"}, function()
	{
		return 0
	} );
	wa.prototype.Df = function()
	{
	};
	wa.prototype.toString = function()
	{
		return"EmptyIterator"
	};
	var xa = new wa;

	function ya( a )
	{
		this.key = -1;
		this.value = a
	}

	v.Pd( ya, {key: !0, value: !0} );
	v.u( ya, {i: "iterator"}, function()
	{
		return this
	} );
	ya.prototype.reset = ya.prototype.reset = function()
	{
		this.key = -1
	};
	ya.prototype.next = ya.prototype.hasNext = ya.prototype.next = function()
	{
		return-1 === this.key ? (this.key = 0, !0) : !1
	};
	ya.prototype.first = ya.prototype.first = function()
	{
		this.key = 0;
		return this.value
	};
	ya.prototype.any = function( a )
	{
		this.key = -1;
		return a( this.value )
	};
	ya.prototype.all = function( a )
	{
		this.key = -1;
		return a( this.value )
	};
	ya.prototype.each = function( a )
	{
		this.key = -1;
		a( this.value );
		return this
	};
	ya.prototype.map = function( a )
	{
		return new ya( a( this.value ) )
	};
	ya.prototype.filter = function( a )
	{
		return a( this.value ) ? new ya( this.value ) : xa
	};
	ya.prototype.concat = function( a )
	{
		return new za( this, a.i )
	};
	v.u( ya, {count: "count"}, function()
	{
		return 1
	} );
	ya.prototype.Df = function()
	{
		this.value = null
	};
	ya.prototype.toString = function()
	{
		return"SingletonIterator(" + this.value + ")"
	};
	function za( a, b )
	{
		this.Gk = a;
		this.Hk = b;
		this.ku = !1
	}

	v.Pd( za, {key: !0, value: !0} );
	v.u( za, {i: "iterator"}, function()
	{
		return this
	} );
	za.prototype.reset = za.prototype.reset = function()
	{
		this.Gk.reset();
		this.Hk.reset();
		this.ku = !1
	};
	za.prototype.next = za.prototype.hasNext = za.prototype.next = function()
	{
		if( !this.ku )
		{
			var a = this.Gk;
			if( a.next() )return this.key = a.key, this.value = a.value, !0;
			this.ku = !0
		}
		return this.ku && (a = this.Hk, a.next()) ? (this.key = a.key, this.value = a.value, !0) : !1
	};
	za.prototype.first = za.prototype.first = function()
	{
		this.reset();
		return this.next() ? this.value : null
	};
	za.prototype.any = function( a )
	{
		return this.Gk.any( a ) || this.Hk.any( a ) ? !0 : !1
	};
	za.prototype.all = function( a )
	{
		return this.Gk.all( a ) && this.Hk.all( a ) ? !0 : !1
	};
	za.prototype.each = function( a )
	{
		this.Gk.each( a );
		this.Hk.each( a );
		return this
	};
	za.prototype.map = function( a )
	{
		return new za( this.Gk.map( a ), this.Hk.map( a ) )
	};
	za.prototype.filter = function( a )
	{
		return new za( this.Gk.filter( a ), this.Hk.filter( a ) )
	};
	za.prototype.concat = function( a )
	{
		return new za( this, a.i )
	};
	v.u( za, {count: "count"}, function()
	{
		return this.Gk.count + this.Hk.count
	} );
	za.prototype.Df = function()
	{
		this.value = this.key = null
	};
	za.prototype.toString = function()
	{
		return"ConcatIterator()"
	};
	function Aa( a )
	{
		this.sc = a;
		this.Ih = null;
		this.reset()
	}

	v.Pd( Aa, {key: !0, value: !0} );
	v.u( Aa, {i: "iterator"}, function()
	{
		return this
	} );
	v.defineProperty( Aa, {Ym: "predicate"}, function()
	{
		return this.Ih
	}, function( a )
	{
		this.Ih = a
	} );
	Aa.prototype.reset = Aa.prototype.reset = function()
	{
		var a = this.sc;
		a.Wb = null;
		this.eb = a.F;
		this.Oc = -1
	};
	Aa.prototype.next = Aa.prototype.hasNext = Aa.prototype.next = function()
	{
		var a = this.sc;
		if( a.F !== this.eb )
		{
			if( 0 > this.key )return!1;
			v.Ka( a )
		}
		var a = a.n, b = a.length, c = ++this.Oc, d = this.Ih;
		if( null !== d )for( ; c < b; )
		{
			var e = a[c];
			if( d( e ) )return this.key = this.Oc = c, this.value = e, !0;
			c++
		}
		else
		{
			if( c < b )return this.key = c, this.value = a[c], !0;
			this.Df()
		}
		return!1
	};
	Aa.prototype.first = Aa.prototype.first = function()
	{
		var a = this.sc;
		this.eb = a.F;
		this.Oc = 0;
		var a = a.n, b = a.length, c = this.Ih;
		if( null !== c )
		{
			for( var d = 0; d < b; )
			{
				var e = a[d];
				if( c( e ) )return this.key = this.Oc = d, this.value = e;
				d++
			}
			return null
		}
		return 0 < b ? (e = a[0], this.key = 0, this.value = e) : null
	};
	Aa.prototype.any = function( a )
	{
		var b = this.sc;
		b.Wb = null;
		var c = b.F;
		this.Oc = -1;
		for( var d = b.n, e = d.length, f = this.Ih, h = 0; h < e; h++ )
		{
			var k = d[h];
			if( null === f || f( k ) )
			{
				if( a( k ) )return!0;
				b.F !== c && v.Ka( b )
			}
		}
		return!1
	};
	Aa.prototype.all = function( a )
	{
		var b = this.sc;
		b.Wb = null;
		var c = b.F;
		this.Oc = -1;
		for( var d = b.n, e = d.length, f = this.Ih, h = 0; h < e; h++ )
		{
			var k = d[h];
			if( null === f || f( k ) )
			{
				if( !a( k ) )return!1;
				b.F !== c && v.Ka( b )
			}
		}
		return!0
	};
	Aa.prototype.each = function( a )
	{
		var b = this.sc;
		b.Wb = null;
		var c = b.F;
		this.Oc = -1;
		for( var d = b.n, e = d.length, f = this.Ih, h = 0; h < e; h++ )
		{
			var k = d[h];
			if( null === f || f( k ) )a( k ), b.F !== c && v.Ka( b )
		}
		return this
	};
	Aa.prototype.map = function( a )
	{
		var b = this.sc;
		b.Wb = null;
		var c = b.F;
		this.Oc = -1;
		for( var d = [], e = b.n, f = e.length, h = this.Ih, k = 0; k < f; k++ )
		{
			var l = e[k];
			if( null === h || h( l ) )d.push( a( l ) ), b.F !== c && v.Ka( b )
		}
		a = new I;
		a.n = d;
		a.Bc();
		return a.i
	};
	Aa.prototype.filter = function( a )
	{
		var b = this.sc;
		b.Wb = null;
		var c = b.F;
		this.Oc = -1;
		for( var d = [], e = b.n, f = e.length, h = this.Ih, k = 0; k < f; k++ )
		{
			var l = e[k];
			if( null === h || h( l ) )a( l ) && d.push( l ), b.F !== c && v.Ka( b )
		}
		a = new I( b.ia );
		a.n = d;
		a.Bc();
		return a.i
	};
	Aa.prototype.concat = function( a )
	{
		this.sc.Wb = null;
		return new za( this, a.i )
	};
	v.u( Aa, {count: "count"}, function()
	{
		var a = this.Ih;
		if( null !== a )
		{
			for( var b = 0, c = this.sc.n, d = c.length, e = 0; e < d; e++ )a( c[e] ) && b++;
			return b
		}
		return this.sc.n.length
	} );
	Aa.prototype.Df = function()
	{
		this.key = -1;
		this.value = null;
		this.eb = -1;
		this.Ih = null;
		this.sc.Wb = this
	};
	Aa.prototype.toString = function()
	{
		return"ListIterator@" + this.Oc + "/" + this.sc.count
	};
	function Ba( a )
	{
		this.sc = a;
		this.reset()
	}

	v.Pd( Ba, {key: !0, value: !0} );
	v.u( Ba, {i: "iterator"}, function()
	{
		return this
	} );
	Ba.prototype.reset = Ba.prototype.reset = function()
	{
		var a = this.sc;
		a.tj = null;
		this.eb = a.F;
		this.Oc = a.n.length
	};
	Ba.prototype.next = Ba.prototype.hasNext = Ba.prototype.next = function()
	{
		var a = this.sc;
		if( a.F !== this.eb )
		{
			if( 0 > this.key )return!1;
			v.Ka( a )
		}
		var b = --this.Oc;
		if( 0 <= b )return this.key = b, this.value = a.n[b], !0;
		this.Df();
		return!1
	};
	Ba.prototype.first = Ba.prototype.first = function()
	{
		var a = this.sc;
		this.eb = a.F;
		var b = a.n;
		this.Oc = a = b.length - 1;
		return 0 <= a ? (b = b[a], this.key = a, this.value = b) : null
	};
	Ba.prototype.any = function( a )
	{
		var b = this.sc;
		b.tj = null;
		var c = b.F, d = b.n, e = d.length;
		this.Oc = e;
		for( e -= 1; 0 <= e; e-- )
		{
			if( a( d[e] ) )return!0;
			b.F !== c && v.Ka( b )
		}
		return!1
	};
	Ba.prototype.all = function( a )
	{
		var b = this.sc;
		b.tj = null;
		var c = b.F, d = b.n, e = d.length;
		this.Oc = e;
		for( e -= 1; 0 <= e; e-- )
		{
			if( !a( d[e] ) )return!1;
			b.F !== c && v.Ka( b )
		}
		return!0
	};
	Ba.prototype.each = function( a )
	{
		var b = this.sc;
		b.tj = null;
		var c = b.F, d = b.n, e = d.length;
		this.Oc = e;
		for( e -= 1; 0 <= e; e-- )a( d[e] ), b.F !== c && v.Ka( b );
		return this
	};
	Ba.prototype.map = function( a )
	{
		var b = this.sc;
		b.tj = null;
		var c = b.F, d = [], e = b.n, f = e.length;
		this.Oc = f;
		for( f -= 1; 0 <= f; f-- )d.push( a( e[f] ) ), b.F !== c && v.Ka( b );
		a = new I;
		a.n = d;
		a.Bc();
		return a.i
	};
	Ba.prototype.filter = function( a )
	{
		var b = this.sc;
		b.tj = null;
		var c = b.F, d = [], e = b.n, f = e.length;
		this.Oc = f;
		for( f -= 1; 0 <= f; f-- )
		{
			var h = e[f];
			a( h ) && d.push( h );
			b.F !== c && v.Ka( b )
		}
		a = new I( b.ia );
		a.n = d;
		a.Bc();
		return a.i
	};
	Ba.prototype.concat = function( a )
	{
		this.sc.tj = null;
		return new za( this, a.i )
	};
	v.u( Ba, {count: "count"}, function()
	{
		return this.sc.n.length
	} );
	Ba.prototype.Df = function()
	{
		this.key = -1;
		this.value = null;
		this.eb = -1;
		this.sc.tj = this
	};
	Ba.prototype.toString = function()
	{
		return"ListIteratorBackwards(" + this.Oc + "/" + this.sc.count + ")"
	};
	function I( a )
	{
		v.ec( this );
		this.D = !1;
		this.n = [];
		this.F = 0;
		this.tj = this.Wb = null;
		void 0 === a || null === a ? this.ia = null : "string" === typeof a ? "object" === a || "string" === a || "number" === a || "boolean" === a || "function" === a ? this.ia = a : v.va( a, "the string 'object', 'number', 'string', 'boolean', or 'function'", "List constructor: type" ) : "function" === typeof a ? this.ia = a === Object ? "object" : a === String ? "string" : a === Number ? "number" : a === Boolean ? "boolean" : a === Function ? "function" : a : v.va( a, "null, a primitive type name, or a class type",
			"List constructor: type" )
	}

	v.ea( "List", I );
	I.prototype.Bc = function()
	{
		var a = this.F;
		a++;
		999999999 < a && (a = 0);
		this.F = a
	};
	I.prototype.freeze = I.prototype.freeze = function()
	{
		this.D = !0;
		return this
	};
	I.prototype.thaw = I.prototype.Oa = function()
	{
		this.D = !1;
		return this
	};
	I.prototype.toString = function()
	{
		return"List(" + v.getTypeName( this.ia ) + ")#" + v.md( this )
	};
	I.prototype.add = I.prototype.push = I.prototype.add = function( a )
	{
		null !== a && (this.D && v.ka( this, a ), this.n.push( a ), this.Bc())
	};
	I.prototype.addAll = I.prototype.Tc = function( a )
	{
		if( null === a )return this;
		this.D && v.ka( this );
		var b = this.n;
		if( v.isArray( a ) )for( var c = v.Va( a ), d = 0; d < c; d++ )
		{
			var e = v.Pa( a, d );
			b.push( e )
		}
		else for( a = a.i; a.next(); )e = a.value, b.push( e );
		this.Bc();
		return this
	};
	I.prototype.clear = I.prototype.clear = function()
	{
		this.D && v.ka( this );
		this.n.length = 0;
		this.Bc()
	};
	I.prototype.contains = I.prototype.has = I.prototype.contains = function( a )
	{
		return null === a ? !1 : -1 !== this.n.indexOf( a )
	};
	I.prototype.indexOf = I.prototype.indexOf = function( a )
	{
		return null === a ? -1 : this.n.indexOf( a )
	};
	I.prototype.elt = I.prototype.get = I.prototype.da = function( a )
	{
		var b = this.n;
		(0 > a || a >= b.length) && v.va( a, "0 <= i < length", I, "elt:i" );
		return b[a]
	};
	I.prototype.setElt = I.prototype.set = I.prototype.Ig = function( a, b )
	{
		var c = this.n;
		(0 > a || a >= c.length) && v.va( a, "0 <= i < length", I, "setElt:i" );
		this.D && v.ka( this, a );
		c[a] = b
	};
	I.prototype.first = I.prototype.first = function()
	{
		var a = this.n;
		return 0 === a.length ? null : a[0]
	};
	I.prototype.last = I.prototype.Td = function()
	{
		var a = this.n, b = a.length;
		return 0 < b ? a[b - 1] : null
	};
	I.prototype.pop = I.prototype.pop = function()
	{
		this.D && v.ka( this );
		var a = this.n;
		return 0 < a.length ? a.pop() : null
	};
	I.prototype.any = function( a )
	{
		for( var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++ )
		{
			if( a( b[e] ) )return!0;
			this.F !== c && v.Ka( this )
		}
		return!1
	};
	I.prototype.all = function( a )
	{
		for( var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++ )
		{
			if( !a( b[e] ) )return!1;
			this.F !== c && v.Ka( this )
		}
		return!0
	};
	I.prototype.each = function( a )
	{
		for( var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++ )a( b[e] ), this.F !== c && v.Ka( this );
		return this
	};
	I.prototype.map = function( a )
	{
		for( var b = new I, c = [], d = this.n, e = this.F, f = d.length, h = 0; h < f; h++ )c.push( a( d[h] ) ), this.F !== e && v.Ka( this );
		b.n = c;
		b.Bc();
		return b
	};
	I.prototype.filter = function( a )
	{
		for( var b = new I( this.ia ), c = [], d = this.n, e = this.F, f = d.length, h = 0; h < f; h++ )
		{
			var k = d[h];
			a( k ) && c.push( k );
			this.F !== e && v.Ka( this )
		}
		b.n = c;
		b.Bc();
		return b
	};
	I.prototype.concat = function( a )
	{
		return this.copy().Tc( a )
	};
	I.prototype.insertAt = I.prototype.Cd = function( a, b )
	{
		0 > a && v.va( a, ">= 0", I, "insertAt:i" );
		this.D && v.ka( this, a );
		var c = this.n;
		a >= c.length ? c.push( b ) : c.splice( a, 0, b );
		this.Bc();
		return!0
	};
	I.prototype.remove = I.prototype["delete"] = I.prototype.remove = function( a )
	{
		if( null === a )return!1;
		this.D && v.ka( this, a );
		var b = this.n;
		a = b.indexOf( a );
		if( -1 === a )return!1;
		a === b.length - 1 ? b.pop() : b.splice( a, 1 );
		this.Bc();
		return!0
	};
	I.prototype.removeAt = I.prototype.Vc = function( a )
	{
		var b = this.n;
		(0 > a || a >= b.length) && v.va( a, "0 <= i < length", I, "removeAt:i" );
		this.D && v.ka( this, a );
		a === b.length - 1 ? b.pop() : b.splice( a, 1 );
		this.Bc()
	};
	I.prototype.removeRange = I.prototype.removeRange = function( a, b )
	{
		var c = this.n;
		(0 > a || a >= c.length) && v.va( a, "0 <= from < length", I, "elt:from" );
		(0 > b || b >= c.length) && v.va( b, "0 <= to < length", I, "elt:to" );
		this.D && v.ka( this, a );
		var d = c.slice( (b || a) + 1 || c.length );
		c.length = 0 > a ? c.length + a : a;
		c.push.apply( c, d );
		this.Bc()
	};
	I.prototype.copy = function()
	{
		var a = new I( this.ia ), b = this.n;
		0 < b.length && (a.n = Array.prototype.slice.call( b ));
		return a
	};
	I.prototype.toArray = I.prototype.dc = function()
	{
		for( var a = this.n, b = this.count, c = Array( b ), d = 0; d < b; d++ )c[d] = a[d];
		return c
	};
	I.prototype.toSet = I.prototype.dF = function()
	{
		for( var a = new J( this.ia ), b = this.n, c = this.count, d = 0; d < c; d++ )a.add( b[d] );
		return a
	};
	I.prototype.sort = I.prototype.sort = function( a )
	{
		this.D && v.ka( this );
		this.n.sort( a );
		this.Bc();
		return this
	};
	I.prototype.sortRange = I.prototype.Ip = function( a, b, c )
	{
		var d = this.n, e = d.length;
		void 0 === b && (b = 0);
		void 0 === c && (c = e);
		this.D && v.ka( this );
		var f = c - b;
		if( 1 >= f )return this;
		(0 > b || b >= e - 1) && v.va( b, "0 <= from < length", I, "sortRange:from" );
		if( 2 === f )return c = d[b], e = d[b + 1], 0 < a( c, e ) && (d[b] = e, d[b + 1] = c, this.Bc()), this;
		if( 0 === b )if( c >= e )d.sort( a );
		else for( f = d.slice( 0, c ), f.sort( a ), a = 0; a < c; a++ )d[a] = f[a];
		else if( c >= e )for( f = d.slice( b ), f.sort( a ), a = b; a < e; a++ )d[a] = f[a - b];
		else for( f = d.slice( b, c ), f.sort( a ), a = b; a < c; a++ )d[a] = f[a -
				b];
		this.Bc();
		return this
	};
	I.prototype.reverse = I.prototype.reverse = function()
	{
		this.D && v.ka( this );
		this.n.reverse();
		this.Bc();
		return this
	};
	v.u( I, {count: "count"}, function()
	{
		return this.n.length
	} );
	v.u( I, {size: "size"}, function()
	{
		return this.n.length
	} );
	v.u( I, {length: "length"}, function()
	{
		return this.n.length
	} );
	v.u( I, {i: "iterator"}, function()
	{
		if( 0 >= this.n.length )return xa;
		var a = this.Wb;
		return null !== a ? (a.reset(), a) : new Aa( this )
	} );
	v.u( I, {Tm: "iteratorBackwards"}, function()
	{
		if( 0 >= this.n.length )return xa;
		var a = this.tj;
		return null !== a ? (a.reset(), a) : new Ba( this )
	} );
	function Da( a )
	{
		this.Kh = a;
		this.reset()
	}

	v.Pd( Da, {key: !0, value: !0} );
	v.u( Da, {i: "iterator"}, function()
	{
		return this
	} );
	Da.prototype.reset = Da.prototype.reset = function()
	{
		var a = this.Kh;
		a.Wb = null;
		this.eb = a.F;
		this.cb = null
	};
	Da.prototype.next = Da.prototype.hasNext = Da.prototype.next = function()
	{
		var a = this.Kh;
		if( a.F !== this.eb )
		{
			if( null === this.key )return!1;
			v.Ka( a )
		}
		var b = this.cb, b = null === b ? a.Da : b.Ua;
		if( null !== b )return this.cb = b, this.value = b.value, this.key = b.key, !0;
		this.Df();
		return!1
	};
	Da.prototype.first = Da.prototype.first = function()
	{
		var a = this.Kh;
		this.eb = a.F;
		a = a.Da;
		if( null !== a )
		{
			this.cb = a;
			var b = a.value;
			this.key = a.key;
			return this.value = b
		}
		return null
	};
	Da.prototype.any = function( a )
	{
		var b = this.Kh;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( a( d.value ) )return!0;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!1
	};
	Da.prototype.all = function( a )
	{
		var b = this.Kh;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( !a( d.value ) )return!1;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!0
	};
	Da.prototype.each = function( a )
	{
		var b = this.Kh;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )a( d.value ), b.F !== c && v.Ka( b ), d = d.Ua;
		return this
	};
	Da.prototype.map = function( a )
	{
		var b = this.Kh;
		b.Wb = null;
		for( var c = new I, d = b.F, e = b.Da; null !== e; )c.add( a( e.value ) ), b.F !== d && v.Ka( b ), e = e.Ua;
		return c.i
	};
	Da.prototype.filter = function( a )
	{
		var b = this.Kh;
		b.Wb = null;
		for( var c = new I( b.ia ), d = b.F, e = b.Da; null !== e; )
		{
			var f = e.value;
			a( f ) && c.add( f );
			b.F !== d && v.Ka( b );
			e = e.Ua
		}
		return c.i
	};
	Da.prototype.concat = function( a )
	{
		this.Kh.Wb = null;
		return new za( this, a.i )
	};
	v.u( Da, {count: "count"}, function()
	{
		return this.Kh.gd
	} );
	Da.prototype.Df = function()
	{
		this.value = this.key = null;
		this.eb = -1;
		this.Kh.Wb = this
	};
	Da.prototype.toString = function()
	{
		return null !== this.cb ? "SetIterator@" + this.cb.value : "SetIterator"
	};
	function J( a )
	{
		v.ec( this );
		this.D = !1;
		void 0 === a || null === a ? this.ia = null : "string" === typeof a ? "object" === a || "string" === a || "number" === a ? this.ia = a : v.va( a, "the string 'object', 'number' or 'string'", "Set constructor: type" ) : "function" === typeof a ? this.ia = a === Object ? "object" : a === String ? "string" : a === Number ? "number" : a : v.va( a, "null, a primitive type name, or a class type", "Set constructor: type" );
		this.hd = {};
		this.gd = 0;
		this.Wb = null;
		this.F = 0;
		this.Fh = this.Da = null
	}

	v.ea( "Set", J );
	J.prototype.Bc = function()
	{
		var a = this.F;
		a++;
		999999999 < a && (a = 0);
		this.F = a
	};
	J.prototype.freeze = J.prototype.freeze = function()
	{
		this.D = !0;
		return this
	};
	J.prototype.thaw = J.prototype.Oa = function()
	{
		this.D = !1;
		return this
	};
	J.prototype.toString = function()
	{
		return"Set(" + v.getTypeName( this.ia ) + ")#" + v.md( this )
	};
	J.prototype.add = J.prototype.add = function( a )
	{
		if( null === a )return!1;
		this.D && v.ka( this, a );
		var b = a;
		v.Ta( a ) && (b = v.nt( a ));
		return void 0 === this.hd[b] ? (this.gd++, a = new Ea( a, a ), this.hd[b] = a, b = this.Fh, null === b ? this.Da = a : (a.no = b, b.Ua = a), this.Fh = a, this.Bc(), !0) : !1
	};
	J.prototype.addAll = J.prototype.Tc = function( a )
	{
		if( null === a )return this;
		this.D && v.ka( this );
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.add( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.add( a.value );
		return this
	};
	J.prototype.contains = J.prototype.has = J.prototype.contains = function( a )
	{
		if( null === a )return!1;
		var b = a;
		return v.Ta( a ) && (b = v.md( a ), void 0 === b) ? !1 : void 0 !== this.hd[b]
	};
	J.prototype.containsAll = function( a )
	{
		if( null === a )return!0;
		for( a = a.i; a.next(); )if( !this.contains( a.value ) )return!1;
		return!0
	};
	J.prototype.containsAny = function( a )
	{
		if( null === a )return!0;
		for( a = a.i; a.next(); )if( this.contains( a.value ) )return!0;
		return!1
	};
	J.prototype.first = J.prototype.first = function()
	{
		var a = this.Da;
		return null === a ? null : a.value
	};
	J.prototype.any = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )
		{
			if( a( c.value ) )return!0;
			this.F !== b && v.Ka( this );
			c = c.Ua
		}
		return!1
	};
	J.prototype.all = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )
		{
			if( !a( c.value ) )return!1;
			this.F !== b && v.Ka( this );
			c = c.Ua
		}
		return!0
	};
	J.prototype.each = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )a( c.value ), this.F !== b && v.Ka( this ), c = c.Ua;
		return this
	};
	J.prototype.map = function( a )
	{
		for( var b = new J, c = this.F, d = this.Da; null !== d; )b.add( a( d.value ) ), this.F !== c && v.Ka( this ), d = d.Ua;
		return b
	};
	J.prototype.filter = function( a )
	{
		for( var b = new J( this.ia ), c = this.F, d = this.Da; null !== d; )
		{
			var e = d.value;
			a( e ) && b.add( e );
			this.F !== c && v.Ka( this );
			d = d.Ua
		}
		return b
	};
	J.prototype.concat = function( a )
	{
		return this.copy().Tc( a )
	};
	J.prototype.remove = J.prototype["delete"] = J.prototype.remove = function( a )
	{
		if( null === a )return!1;
		this.D && v.ka( this, a );
		var b = a;
		if( v.Ta( a ) && (b = v.md( a ), void 0 === b) )return!1;
		a = this.hd[b];
		if( void 0 === a )return!1;
		var c = a.Ua, d = a.no;
		null !== c && (c.no = d);
		null !== d && (d.Ua = c);
		this.Da === a && (this.Da = c);
		this.Fh === a && (this.Fh = d);
		delete this.hd[b];
		this.gd--;
		this.Bc();
		return!0
	};
	J.prototype.removeAll = J.prototype.bA = function( a )
	{
		if( null === a )return this;
		this.D && v.ka( this );
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.remove( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.remove( a.value );
		return this
	};
	J.prototype.retainAll = function( a )
	{
		if( null === a || 0 === this.count )return this;
		this.D && v.ka( this );
		var b = new J( this.ia );
		b.Tc( a );
		a = [];
		for( var c = this.i; c.next(); )
		{
			var d = c.value;
			b.contains( d ) || a.push( d )
		}
		this.bA( a );
		return this
	};
	J.prototype.clear = J.prototype.clear = function()
	{
		this.D && v.ka( this );
		this.hd = {};
		this.gd = 0;
		this.Fh = this.Da = null;
		this.Bc()
	};
	J.prototype.copy = function()
	{
		var a = new J( this.ia ), b = this.hd, c;
		for( c in b )a.add( b[c].value );
		return a
	};
	J.prototype.toArray = J.prototype.dc = function()
	{
		var a = Array( this.gd ), b = this.hd, c = 0, d;
		for( d in b )a[c] = b[d].value, c++;
		return a
	};
	J.prototype.toList = function()
	{
		var a = new I( this.ia ), b = this.hd, c;
		for( c in b )a.add( b[c].value );
		return a
	};
	v.u( J, {count: "count"}, function()
	{
		return this.gd
	} );
	v.u( J, {size: "size"}, function()
	{
		return this.gd
	} );
	v.u( J, {i: "iterator"}, function()
	{
		if( 0 >= this.gd )return xa;
		var a = this.Wb;
		return null !== a ? (a.reset(), a) : new Da( this )
	} );
	function Ha( a )
	{
		this.Ga = a;
		this.reset()
	}

	v.Pd( Ha, {key: !0, value: !0} );
	v.u( Ha, {i: "iterator"}, function()
	{
		return this
	} );
	Ha.prototype.reset = Ha.prototype.reset = function()
	{
		this.eb = this.Ga.F;
		this.cb = null
	};
	Ha.prototype.next = Ha.prototype.hasNext = Ha.prototype.next = function()
	{
		var a = this.Ga;
		if( a.F !== this.eb )
		{
			if( null === this.key )return!1;
			v.Ka( a )
		}
		var b = this.cb, b = null === b ? a.Da : b.Ua;
		if( null !== b )return this.cb = b, this.value = this.key = a = b.key, !0;
		this.Df();
		return!1
	};
	Ha.prototype.first = Ha.prototype.first = function()
	{
		var a = this.Ga;
		this.eb = a.F;
		a = a.Da;
		return null !== a ? (this.cb = a, this.value = this.key = a = a.key) : null
	};
	Ha.prototype.any = function( a )
	{
		var b = this.Ga, c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( a( d.key ) )return!0;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!1
	};
	Ha.prototype.all = function( a )
	{
		var b = this.Ga, c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( !a( d.key ) )return!1;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!0
	};
	Ha.prototype.each = function( a )
	{
		var b = this.Ga, c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )a( d.key ), b.F !== c && v.Ka( b ), d = d.Ua;
		return this
	};
	Ha.prototype.map = function( a )
	{
		var b = this.Ga, c = b.F;
		this.cb = null;
		for( var d = new I, e = b.Da; null !== e; )d.add( a( e.key ) ), b.F !== c && v.Ka( b ), e = e.Ua;
		return d.i
	};
	Ha.prototype.filter = function( a )
	{
		var b = this.Ga, c = b.F;
		this.cb = null;
		for( var d = new I( b.wi ), e = b.Da; null !== e; )
		{
			var f = e.key;
			a( f ) && d.add( f );
			b.F !== c && v.Ka( b );
			e = e.Ua
		}
		return d.i
	};
	Ha.prototype.concat = function( a )
	{
		return new za( this, a.i )
	};
	v.u( Ha, {count: "count"}, function()
	{
		return this.Ga.gd
	} );
	Ha.prototype.Df = function()
	{
		this.value = this.key = null;
		this.eb = -1
	};
	Ha.prototype.toString = function()
	{
		return null !== this.cb ? "MapKeySetIterator@" + this.cb.value : "MapKeySetIterator"
	};
	function Ja( a )
	{
		v.ec( this );
		this.D = !0;
		this.Ga = a
	}

	v.Ia( Ja, J );
	Ja.prototype.freeze = function()
	{
		return this
	};
	Ja.prototype.Oa = function()
	{
		return this
	};
	Ja.prototype.toString = function()
	{
		return"MapKeySet(" + this.Ga.toString() + ")"
	};
	Ja.prototype.add = Ja.prototype.set = Ja.prototype.add = function()
	{
		v.k( "This Set is read-only: " + this.toString() );
		return!1
	};
	Ja.prototype.contains = Ja.prototype.has = Ja.prototype.contains = function( a )
	{
		return this.Ga.contains( a )
	};
	Ja.prototype.remove = Ja.prototype["delete"] = Ja.prototype.remove = function()
	{
		v.k( "This Set is read-only: " + this.toString() );
		return!1
	};
	Ja.prototype.clear = Ja.prototype.clear = function()
	{
		v.k( "This Set is read-only: " + this.toString() )
	};
	Ja.prototype.first = Ja.prototype.first = function()
	{
		var a = this.Ga.Da;
		return null !== a ? a.key : null
	};
	Ja.prototype.any = function( a )
	{
		for( var b = this.Ga.Da; null !== b; )
		{
			if( a( b.key ) )return!0;
			b = b.Ua
		}
		return!1
	};
	Ja.prototype.all = function( a )
	{
		for( var b = this.Ga.Da; null !== b; )
		{
			if( !a( b.key ) )return!1;
			b = b.Ua
		}
		return!0
	};
	Ja.prototype.each = function( a )
	{
		for( var b = this.Ga.Da; null !== b; )a( b.key ), b = b.Ua;
		return this
	};
	Ja.prototype.map = function( a )
	{
		for( var b = new J, c = this.Ga.Da; null !== c; )b.add( a( c.key ) ), c = c.Ua;
		return b
	};
	Ja.prototype.filter = function( a )
	{
		for( var b = new J( this.Ga.wi ), c = this.Ga.Da; null !== c; )
		{
			var d = c.key;
			a( d ) && b.add( d );
			c = c.Ua
		}
		return b
	};
	Ja.prototype.concat = function( a )
	{
		return this.dF().Tc( a )
	};
	Ja.prototype.copy = function()
	{
		return new Ja( this.Ga )
	};
	Ja.prototype.toSet = Ja.prototype.dF = function()
	{
		var a = new J( this.Ga.wi ), b = this.Ga.hd, c;
		for( c in b )a.add( b[c].key );
		return a
	};
	Ja.prototype.toArray = Ja.prototype.dc = function()
	{
		var a = this.Ga.hd, b = Array( this.Ga.gd ), c = 0, d;
		for( d in a )b[c] = a[d].key, c++;
		return b
	};
	Ja.prototype.toList = function()
	{
		var a = new I( this.ia ), b = this.Ga.hd, c;
		for( c in b )a.add( b[c].key );
		return a
	};
	v.u( Ja, {count: "count"}, function()
	{
		return this.Ga.gd
	} );
	v.u( Ja, {size: "size"}, function()
	{
		return this.Ga.gd
	} );
	v.u( Ja, {i: "iterator"}, function()
	{
		return 0 >= this.Ga.gd ? xa : new Ha( this.Ga )
	} );
	function La( a )
	{
		this.Ga = a;
		this.reset()
	}

	v.Pd( La, {key: !0, value: !0} );
	v.u( La, {i: "iterator"}, function()
	{
		return this
	} );
	La.prototype.reset = La.prototype.reset = function()
	{
		var a = this.Ga;
		a.uj = null;
		this.eb = a.F;
		this.cb = null
	};
	La.prototype.next = La.prototype.hasNext = La.prototype.next = function()
	{
		var a = this.Ga;
		if( a.F !== this.eb )
		{
			if( null === this.key )return!1;
			v.Ka( a )
		}
		var b = this.cb, b = null === b ? a.Da : b.Ua;
		if( null !== b )return this.cb = b, this.value = b.value, this.key = b.key, !0;
		this.Df();
		return!1
	};
	La.prototype.first = La.prototype.first = function()
	{
		var a = this.Ga;
		this.eb = a.F;
		a = a.Da;
		if( null !== a )
		{
			this.cb = a;
			var b = a.value;
			this.key = a.key;
			return this.value = b
		}
		return null
	};
	La.prototype.any = function( a )
	{
		var b = this.Ga;
		b.uj = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( a( d.value ) )return!0;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!1
	};
	La.prototype.all = function( a )
	{
		var b = this.Ga;
		b.uj = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( !a( d.value ) )return!1;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!0
	};
	La.prototype.each = function( a )
	{
		var b = this.Ga;
		b.uj = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )a( d.value ), b.F !== c && v.Ka( b ), d = d.Ua;
		return this
	};
	La.prototype.map = function( a )
	{
		var b = this.Ga;
		b.uj = null;
		var c = b.F;
		this.cb = null;
		for( var d = new I, e = b.Da; null !== e; )d.add( a( e.value ) ), b.F !== c && v.Ka( b ), e = e.Ua;
		return d.i
	};
	La.prototype.filter = function( a )
	{
		var b = this.Ga;
		b.uj = null;
		var c = b.F;
		this.cb = null;
		for( var d = new I( b.wi ), e = b.Da; null !== e; )
		{
			var f = e.value;
			a( f ) && d.add( f );
			b.F !== c && v.Ka( b );
			e = e.Ua
		}
		return d.i
	};
	La.prototype.concat = function( a )
	{
		this.Ga.uj = null;
		return new za( this, a.i )
	};
	v.u( La, {count: "count"}, function()
	{
		return this.Ga.gd
	} );
	La.prototype.Df = function()
	{
		this.value = this.key = null;
		this.eb = -1;
		this.Ga.uj = this
	};
	La.prototype.toString = function()
	{
		return null !== this.cb ? "MapValueSetIterator@" + this.cb.value : "MapValueSetIterator"
	};
	function Ea( a, b )
	{
		this.key = a;
		this.value = b;
		this.no = this.Ua = null
	}

	v.Pd( Ea, {key: !0, value: !0} );
	Ea.prototype.toString = function()
	{
		return"{" + this.key + ":" + this.value + "}"
	};
	function Ma( a )
	{
		this.Ga = a;
		this.reset()
	}

	v.Pd( Ma, {key: !0, value: !0} );
	v.u( Ma, {i: "iterator"}, function()
	{
		return this
	} );
	Ma.prototype.reset = Ma.prototype.reset = function()
	{
		var a = this.Ga;
		a.Wb = null;
		this.eb = a.F;
		this.cb = null
	};
	Ma.prototype.next = Ma.prototype.hasNext = Ma.prototype.next = function()
	{
		var a = this.Ga;
		if( a.F !== this.eb )
		{
			if( null === this.key )return!1;
			v.Ka( a )
		}
		var b = this.cb, b = null === b ? a.Da : b.Ua;
		if( null !== b )return this.cb = b, this.key = b.key, this.value = b.value, !0;
		this.Df();
		return!1
	};
	Ma.prototype.first = Ma.prototype.first = function()
	{
		var a = this.Ga;
		this.eb = a.F;
		a = a.Da;
		return null !== a ? (this.cb = a, this.key = a.key, this.value = a.value, a) : null
	};
	Ma.prototype.any = function( a )
	{
		var b = this.Ga;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( a( d ) )return!0;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!1
	};
	Ma.prototype.all = function( a )
	{
		var b = this.Ga;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )
		{
			if( !a( d ) )return!1;
			b.F !== c && v.Ka( b );
			d = d.Ua
		}
		return!0
	};
	Ma.prototype.each = function( a )
	{
		var b = this.Ga;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = b.Da; null !== d; )a( d ), b.F !== c && v.Ka( b ), d = d.Ua;
		return this
	};
	Ma.prototype.map = function( a )
	{
		var b = this.Ga;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = new I, e = b.Da; null !== e; )d.add( a( e ) ), b.F !== c && v.Ka( b ), e = e.Ua;
		return d.i
	};
	Ma.prototype.filter = function( a )
	{
		var b = this.Ga;
		b.Wb = null;
		var c = b.F;
		this.cb = null;
		for( var d = new I, e = b.Da; null !== e; )a( e ) && d.add( e ), b.F !== c && v.Ka( b ), e = e.Ua;
		return d.i
	};
	Ma.prototype.concat = function( a )
	{
		this.Ga.Wb = null;
		return new za( this, a.i )
	};
	v.u( Ma, {count: "count"}, function()
	{
		return this.Ga.gd
	} );
	Ma.prototype.Df = function()
	{
		this.value = this.key = null;
		this.eb = -1;
		this.Ga.Wb = this
	};
	Ma.prototype.toString = function()
	{
		return null !== this.cb ? "MapIterator@" + this.cb : "MapIterator"
	};
	function na( a, b )
	{
		v.ec( this );
		this.D = !1;
		void 0 === a || null === a ? this.wi = null : "string" === typeof a ? "object" === a || "string" === a || "number" === a ? this.wi = a : v.va( a, "the string 'object', 'number' or 'string'", "Map constructor: keytype" ) : "function" === typeof a ? this.wi = a === Object ? "object" : a === String ? "string" : a === Number ? "number" : a : v.va( a, "null, a primitive type name, or a class type", "Map constructor: keytype" );
		void 0 === b || null === b ? this.Gs = null : "string" === typeof b ? "object" === b || "string" === b || "boolean" === b || "number" ===
			b || "function" === b ? this.Gs = b : v.va( b, "the string 'object', 'number', 'string', 'boolean', or 'function'", "Map constructor: valtype" ) : "function" === typeof b ? this.Gs = b === Object ? "object" : b === String ? "string" : b === Number ? "number" : b === Boolean ? "boolean" : b === Function ? "function" : b : v.va( b, "null, a primitive type name, or a class type", "Map constructor: valtype" );
		this.hd = {};
		this.gd = 0;
		this.uj = this.Wb = null;
		this.F = 0;
		this.Fh = this.Da = null
	}

	v.ea( "Map", na );
	na.prototype.Bc = function()
	{
		var a = this.F;
		a++;
		999999999 < a && (a = 0);
		this.F = a
	};
	na.prototype.freeze = na.prototype.freeze = function()
	{
		this.D = !0;
		return this
	};
	na.prototype.thaw = na.prototype.Oa = function()
	{
		this.D = !1;
		return this
	};
	na.prototype.toString = function()
	{
		return"Map(" + v.getTypeName( this.wi ) + "," + v.getTypeName( this.Gs ) + ")#" + v.md( this )
	};
	na.prototype.add = na.prototype.set = na.prototype.add = function( a, b )
	{
		this.D && v.ka( this, a );
		var c = a;
		v.Ta( a ) && (c = v.nt( a ));
		var d = this.hd[c];
		if( void 0 === d )return this.gd++, d = new Ea( a, b ), this.hd[c] = d, c = this.Fh, null === c ? this.Da = d : (d.no = c, c.Ua = d), this.Fh = d, this.Bc(), !0;
		d.value = b;
		return!1
	};
	na.prototype.addAll = na.prototype.Tc = function( a )
	{
		if( null === a )return this;
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )
		{
			var d = v.Pa( a, c );
			this.add( d.key, d.value )
		}
		else for( a = a.i; a.next(); )this.add( a.key, a.value );
		return this
	};
	na.prototype.first = na.prototype.first = function()
	{
		return this.Da
	};
	na.prototype.any = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )
		{
			if( a( c ) )return!0;
			this.F !== b && v.Ka( this );
			c = c.Ua
		}
		return!1
	};
	na.prototype.all = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )
		{
			if( !a( c ) )return!1;
			this.F !== b && v.Ka( this );
			c = c.Ua
		}
		return!0
	};
	na.prototype.each = function( a )
	{
		for( var b = this.F, c = this.Da; null !== c; )a( c ), this.F !== b && v.Ka( this ), c = c.Ua;
		return this
	};
	na.prototype.map = function( a )
	{
		for( var b = new na( this.wi ), c = this.F, d = this.Da; null !== d; )b.add( d.key, a( d ) ), this.F !== c && v.Ka( this ), d = d.Ua;
		return b
	};
	na.prototype.filter = function( a )
	{
		for( var b = new na( this.wi, this.Gs ), c = this.F, d = this.Da; null !== d; )a( d ) && b.add( d.key, d.value ), this.F !== c && v.Ka( this ), d = d.Ua;
		return b
	};
	na.prototype.concat = function( a )
	{
		return this.copy().Tc( a )
	};
	na.prototype.contains = na.prototype.has = na.prototype.contains = function( a )
	{
		var b = a;
		return v.Ta( a ) && (b = v.md( a ), void 0 === b) ? !1 : void 0 !== this.hd[b]
	};
	na.prototype.getValue = na.prototype.get = na.prototype.ja = function( a )
	{
		var b = a;
		if( v.Ta( a ) && (b = v.md( a ), void 0 === b) )return null;
		a = this.hd[b];
		return void 0 === a ? null : a.value
	};
	na.prototype.remove = na.prototype["delete"] = na.prototype.remove = function( a )
	{
		if( null === a )return!1;
		this.D && v.ka( this, a );
		var b = a;
		if( v.Ta( a ) && (b = v.md( a ), void 0 === b) )return!1;
		a = this.hd[b];
		if( void 0 === a )return!1;
		var c = a.Ua, d = a.no;
		null !== c && (c.no = d);
		null !== d && (d.Ua = c);
		this.Da === a && (this.Da = c);
		this.Fh === a && (this.Fh = d);
		delete this.hd[b];
		this.gd--;
		this.Bc();
		return!0
	};
	na.prototype.clear = na.prototype.clear = function()
	{
		this.D && v.ka( this );
		this.hd = {};
		this.gd = 0;
		this.Fh = this.Da = null;
		this.Bc()
	};
	na.prototype.copy = function()
	{
		var a = new na( this.wi, this.Gs ), b = this.hd, c;
		for( c in b )
		{
			var d = b[c];
			a.add( d.key, d.value )
		}
		return a
	};
	na.prototype.toArray = na.prototype.dc = function()
	{
		var a = this.hd, b = Array( this.gd ), c = 0, d;
		for( d in a )
		{
			var e = a[d];
			b[c] = new Ea( e.key, e.value );
			c++
		}
		return b
	};
	na.prototype.toKeySet = na.prototype.cj = function()
	{
		return new Ja( this )
	};
	v.u( na, {count: "count"}, function()
	{
		return this.gd
	} );
	v.u( na, {size: "size"}, function()
	{
		return this.gd
	} );
	v.u( na, {i: "iterator"}, function()
	{
		if( 0 >= this.count )return xa;
		var a = this.Wb;
		return null !== a ? (a.reset(), a) : new Ma( this )
	} );
	v.u( na, {jE: "iteratorKeys"}, function()
	{
		return 0 >= this.count ? xa : new Ha( this )
	} );
	v.u( na, {kE: "iteratorValues"}, function()
	{
		if( 0 >= this.count )return xa;
		var a = this.uj;
		return null !== a ? (a.reset(), a) : new La( this )
	} );
	function y( a, b )
	{
		void 0 === a ? this.y = this.x = 0 : (this.x = a, this.y = b);
		this.D = !1
	}

	v.ea( "Point", y );
	v.Wh( y );
	v.Pd( y, {x: !0, y: !0} );
	y.prototype.assign = function( a )
	{
		this.x = a.x;
		this.y = a.y
	};
	y.prototype.setTo = y.prototype.m = function( a, b )
	{
		this.x = a;
		this.y = b;
		return this
	};
	y.prototype.set = y.prototype.set = function( a )
	{
		this.Cb();
		this.x = a.x;
		this.y = a.y;
		return this
	};
	y.prototype.copy = function()
	{
		var a = new y;
		a.x = this.x;
		a.y = this.y;
		return a
	};
	g = y.prototype;
	g.Ea = function()
	{
		this.D = !0;
		Object.freeze( this );
		return this
	};
	g.R = function()
	{
		return Object.isFrozen( this ) ? this : this.copy().freeze()
	};
	g.freeze = function()
	{
		this.D = !0;
		return this
	};
	g.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		return this
	};
	g.Cb = function( a )
	{
		if( this.D )
		{
			var b = "The Point is frozen, so its properties cannot be set: " + this.toString();
			void 0 !== a && (b += "  to value: " + a);
			v.k( b )
		}
	};
	y.parse = function( a )
	{
		if( "string" === typeof a )
		{
			a = a.split( " " );
			for( var b = 0, c = 0; "" === a[b]; )b++;
			var d = a[b++];
			d && (c = parseFloat( d ));
			for( var e = 0; "" === a[b]; )b++;
			(d = a[b++]) && (e = parseFloat( d ));
			return new y( c, e )
		}
		return new y
	};
	y.stringify = function( a )
	{
		return a instanceof y ? a.x.toString() + " " + a.y.toString() : a.toString()
	};
	y.prototype.toString = function()
	{
		return"Point(" + this.x + "," + this.y + ")"
	};
	y.prototype.equals = y.prototype.K = function( a )
	{
		return a instanceof y ? this.x === a.x && this.y === a.y : !1
	};
	y.prototype.equalTo = y.prototype.ww = function( a, b )
	{
		return this.x === a && this.y === b
	};
	y.prototype.equalsApprox = y.prototype.Fc = function( a )
	{
		return K( this.x, a.x ) && K( this.y, a.y )
	};
	y.prototype.add = y.prototype.add = function( a )
	{
		this.Cb();
		this.x += a.x;
		this.y += a.y;
		return this
	};
	y.prototype.subtract = y.prototype.cu = function( a )
	{
		this.Cb();
		this.x -= a.x;
		this.y -= a.y;
		return this
	};
	y.prototype.offset = y.prototype.offset = function( a, b )
	{
		this.Cb();
		this.x += a;
		this.y += b;
		return this
	};
	y.prototype.rotate = y.prototype.rotate = function( a )
	{
		this.Cb();
		if( 0 === a )return this;
		var b = this.x, c = this.y;
		if( 0 === b && 0 === c )return this;
		var d = 0, e = 0;
		360 <= a ? a -= 360 : 0 > a && (a += 360);
		90 === a ? (d = 0, e = 1) : 180 === a ? (d = -1, e = 0) : 270 === a ? (d = 0, e = -1) : (a = a * Math.PI / 180, d = Math.cos( a ), e = Math.sin( a ));
		this.x = d * b - e * c;
		this.y = e * b + d * c;
		return this
	};
	y.prototype.scale = y.prototype.scale = function( a, b )
	{
		this.x *= a;
		this.y *= b;
		return this
	};
	y.prototype.distanceSquaredPoint = y.prototype.sf = function( a )
	{
		var b = a.x - this.x;
		a = a.y - this.y;
		return b * b + a * a
	};
	y.prototype.distanceSquared = y.prototype.To = function( a, b )
	{
		var c = a - this.x, d = b - this.y;
		return c * c + d * d
	};
	y.prototype.normalize = y.prototype.normalize = function()
	{
		this.Cb();
		var a = this.x, b = this.y, c = Math.sqrt( a * a + b * b );
		0 < c && (this.x = a / c, this.y = b / c);
		return this
	};
	y.prototype.directionPoint = y.prototype.xc = function( a )
	{
		return Na( a.x - this.x, a.y - this.y )
	};
	y.prototype.direction = y.prototype.direction = function( a, b )
	{
		return Na( a - this.x, b - this.y )
	};
	function Na( a, b )
	{
		if( 0 === a )return 0 < b ? 90 : 0 > b ? 270 : 0;
		if( 0 === b )return 0 < a ? 0 : 180;
		if( isNaN( a ) || isNaN( b ) )return 0;
		var c = 180 * Math.atan( Math.abs( b / a ) ) / Math.PI;
		0 > a ? c = 0 > b ? c + 180 : 180 - c : 0 > b && (c = 360 - c);
		return c
	}

	y.prototype.projectOntoLineSegment = function( a, b, c, d )
	{
		Oa( a, b, c, d, this.x, this.y, this );
		return this
	};
	y.prototype.projectOntoLineSegmentPoint = function( a, b )
	{
		Oa( a.x, a.y, b.x, b.y, this.x, this.y, this );
		return this
	};
	y.prototype.snapToGrid = function( a, b, c, d )
	{
		Pa( this.x, this.y, a, b, c, d, this );
		return this
	};
	y.prototype.snapToGridPoint = function( a, b )
	{
		Pa( this.x, this.y, a.x, a.y, b.width, b.height, this );
		return this
	};
	y.prototype.setRectSpot = y.prototype.Xt = function( a, b )
	{
		this.Cb();
		this.x = a.x + b.x * a.width + b.offsetX;
		this.y = a.y + b.y * a.height + b.offsetY;
		return this
	};
	y.prototype.setSpot = y.prototype.Zt = function( a, b, c, d, e )
	{
		this.Cb();
		this.x = a + e.x * c + e.offsetX;
		this.y = b + e.y * d + e.offsetY;
		return this
	};
	y.prototype.transform = function( a )
	{
		a.ub( this );
		return this
	};
	function Qa( a, b )
	{
		b.Yh( a );
		return a
	}

	var Sa;
	y.distanceLineSegmentSquared = Sa = function( a, b, c, d, e, f )
	{
		var h = e - c, k = f - d, l = h * h + k * k;
		c -= a;
		d -= b;
		var m = -c * h - d * k;
		if( 0 >= m || m >= l )return h = e - a, k = f - b, Math.min( c * c + d * d, h * h + k * k );
		a = h * d - k * c;
		return a * a / l
	};
	var Ta;
	y.distanceSquared = Ta = function( a, b, c, d )
	{
		a = c - a;
		b = d - b;
		return a * a + b * b
	};
	var Wa;
	y.direction = Wa = function( a, b, c, d )
	{
		a = c - a;
		b = d - b;
		if( 0 === a )return 0 < b ? 90 : 0 > b ? 270 : 0;
		if( 0 === b )return 0 < a ? 0 : 180;
		if( isNaN( a ) || isNaN( b ) )return 0;
		d = 180 * Math.atan( Math.abs( b / a ) ) / Math.PI;
		0 > a ? d = 0 > b ? d + 180 : 180 - d : 0 > b && (d = 360 - d);
		return d
	};
	y.prototype.isReal = y.prototype.G = function()
	{
		return isFinite( this.x ) && isFinite( this.y )
	};
	function ia( a, b )
	{
		void 0 === a ? this.height = this.width = 0 : (this.width = a, this.height = b);
		this.D = !1
	}

	v.ea( "Size", ia );
	v.Wh( ia );
	v.Pd( ia, {width: !0, height: !0} );
	ia.prototype.assign = function( a )
	{
		this.width = a.width;
		this.height = a.height
	};
	ia.prototype.setTo = ia.prototype.m = function( a, b )
	{
		this.width = a;
		this.height = b;
		return this
	};
	ia.prototype.set = ia.prototype.set = function( a )
	{
		this.Cb();
		this.width = a.width;
		this.height = a.height;
		return this
	};
	ia.prototype.copy = function()
	{
		var a = new ia;
		a.width = this.width;
		a.height = this.height;
		return a
	};
	g = ia.prototype;
	g.Ea = function()
	{
		this.D = !0;
		Object.freeze( this );
		return this
	};
	g.R = function()
	{
		return Object.isFrozen( this ) ? this : this.copy().freeze()
	};
	g.freeze = function()
	{
		this.D = !0;
		return this
	};
	g.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		return this
	};
	g.Cb = function( a )
	{
		if( this.D )
		{
			var b = "The Size is frozen, so its properties cannot be set: " + this.toString();
			void 0 !== a && (b += "  to value: " + a);
			v.k( b )
		}
	};
	ia.parse = function( a )
	{
		if( "string" === typeof a )
		{
			a = a.split( " " );
			for( var b = 0, c = 0; "" === a[b]; )b++;
			var d = a[b++];
			d && (c = parseFloat( d ));
			for( var e = 0; "" === a[b]; )b++;
			(d = a[b++]) && (e = parseFloat( d ));
			return new ia( c, e )
		}
		return new ia
	};
	ia.stringify = function( a )
	{
		return a instanceof ia ? a.width.toString() + " " + a.height.toString() : a.toString()
	};
	ia.prototype.toString = function()
	{
		return"Size(" + this.width + "," + this.height + ")"
	};
	ia.prototype.equals = ia.prototype.K = function( a )
	{
		return a instanceof ia ? this.width === a.width && this.height === a.height : !1
	};
	ia.prototype.equalTo = ia.prototype.ww = function( a, b )
	{
		return this.width === a && this.height === b
	};
	ia.prototype.equalsApprox = ia.prototype.Fc = function( a )
	{
		return K( this.width, a.width ) && K( this.height, a.height )
	};
	ia.prototype.isReal = ia.prototype.G = function()
	{
		return isFinite( this.width ) && isFinite( this.height )
	};
	function B( a, b, c, d )
	{
		void 0 === a ? this.height = this.width = this.y = this.x = 0 : a instanceof y ? b instanceof y ? (this.x = Math.min( a.x, b.x ), this.y = Math.min( a.y, b.y ), this.width = Math.abs( a.x - b.x ), this.height = Math.abs( a.y - b.y )) : b instanceof ia ? (this.x = a.x, this.y = a.y, this.width = b.width, this.height = b.height) : v.k( "Incorrect arguments supplied to Rect constructor" ) : (this.x = a, this.y = b, this.width = c, this.height = d);
		this.D = !1
	}

	v.ea( "Rect", B );
	v.Wh( B );
	v.Pd( B, {x: !0, y: !0, width: !0, height: !0} );
	B.prototype.assign = function( a )
	{
		this.x = a.x;
		this.y = a.y;
		this.width = a.width;
		this.height = a.height
	};
	function Xa( a, b, c )
	{
		a.width = b;
		a.height = c
	}

	B.prototype.setTo = B.prototype.m = function( a, b, c, d )
	{
		this.x = a;
		this.y = b;
		this.width = c;
		this.height = d;
		return this
	};
	B.prototype.set = B.prototype.set = function( a )
	{
		this.Cb();
		this.x = a.x;
		this.y = a.y;
		this.width = a.width;
		this.height = a.height;
		return this
	};
	B.prototype.setPoint = B.prototype.Af = function( a )
	{
		this.Cb();
		this.x = a.x;
		this.y = a.y;
		return this
	};
	B.prototype.setSize = function( a )
	{
		this.Cb();
		this.width = a.width;
		this.height = a.height;
		return this
	};
	B.prototype.copy = function()
	{
		var a = new B;
		a.x = this.x;
		a.y = this.y;
		a.width = this.width;
		a.height = this.height;
		return a
	};
	g = B.prototype;
	g.Ea = function()
	{
		this.D = !0;
		Object.freeze( this );
		return this
	};
	g.R = function()
	{
		return Object.isFrozen( this ) ? this : this.copy().freeze()
	};
	g.freeze = function()
	{
		this.D = !0;
		return this
	};
	g.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		return this
	};
	g.Cb = function( a )
	{
		if( this.D )
		{
			var b = "The Rect is frozen, so its properties cannot be set: " + this.toString();
			void 0 !== a && (b += "  to value: " + a);
			v.k( b )
		}
	};
	B.parse = function( a )
	{
		if( "string" === typeof a )
		{
			a = a.split( " " );
			for( var b = 0, c = 0; "" === a[b]; )b++;
			var d = a[b++];
			d && (c = parseFloat( d ));
			for( var e = 0; "" === a[b]; )b++;
			(d = a[b++]) && (e = parseFloat( d ));
			for( var f = 0; "" === a[b]; )b++;
			(d = a[b++]) && (f = parseFloat( d ));
			for( var h = 0; "" === a[b]; )b++;
			(d = a[b++]) && (h = parseFloat( d ));
			return new B( c, e, f, h )
		}
		return new B
	};
	B.stringify = function( a )
	{
		return a instanceof B ? a.x.toString() + " " + a.y.toString() + " " + a.width.toString() + " " + a.height.toString() : a.toString()
	};
	B.prototype.toString = function()
	{
		return"Rect(" + this.x + "," + this.y + "," + this.width + "," + this.height + ")"
	};
	B.prototype.equals = B.prototype.K = function( a )
	{
		return a instanceof B ? this.x === a.x && this.y === a.y && this.width === a.width && this.height === a.height : !1
	};
	B.prototype.equalTo = B.prototype.ww = function( a, b, c, d )
	{
		return this.x === a && this.y === b && this.width === c && this.height === d
	};
	B.prototype.equalsApprox = B.prototype.Fc = function( a )
	{
		return K( this.x, a.x ) && K( this.y, a.y ) && K( this.width, a.width ) && K( this.height, a.height )
	};
	B.prototype.containsPoint = B.prototype.Fa = function( a )
	{
		return this.x <= a.x && this.x + this.width >= a.x && this.y <= a.y && this.y + this.height >= a.y
	};
	B.prototype.containsRect = B.prototype.Vj = function( a )
	{
		return this.x <= a.x && a.x + a.width <= this.x + this.width && this.y <= a.y && a.y + a.height <= this.y + this.height
	};
	B.prototype.contains = B.prototype.contains = function( a, b, c, d )
	{
		void 0 === c && (c = 0);
		void 0 === d && (d = 0);
		return this.x <= a && a + c <= this.x + this.width && this.y <= b && b + d <= this.y + this.height
	};
	B.prototype.reset = function()
	{
		this.Cb();
		this.height = this.width = this.y = this.x = 0
	};
	B.prototype.offset = B.prototype.offset = function( a, b )
	{
		this.Cb();
		this.x += a;
		this.y += b;
		return this
	};
	B.prototype.inflate = B.prototype.Rf = function( a, b )
	{
		return Ya( this, b, a, b, a )
	};
	B.prototype.addMargin = B.prototype.ew = function( a )
	{
		return Ya( this, a.top, a.right, a.bottom, a.left )
	};
	B.prototype.subtractMargin = B.prototype.EI = function( a )
	{
		return Ya( this, -a.top, -a.right, -a.bottom, -a.left )
	};
	B.prototype.grow = function( a, b, c, d )
	{
		return Ya( this, a, b, c, d )
	};
	function Ya( a, b, c, d, e )
	{
		a.Cb();
		var f = a.width;
		c + e <= -f ? (a.x += f / 2, a.width = 0) : (a.x -= e, a.width += c + e);
		c = a.height;
		b + d <= -c ? (a.y += c / 2, a.height = 0) : (a.y -= b, a.height += b + d);
		return a
	}

	B.prototype.intersectRect = function( a )
	{
		return Za( this, a.x, a.y, a.width, a.height )
	};
	B.prototype.intersect = function( a, b, c, d )
	{
		return Za( this, a, b, c, d )
	};
	function Za( a, b, c, d, e )
	{
		a.Cb();
		var f = Math.max( a.x, b ), h = Math.max( a.y, c );
		b = Math.min( a.x + a.width, b + d );
		c = Math.min( a.y + a.height, c + e );
		a.x = f;
		a.y = h;
		a.width = Math.max( 0, b - f );
		a.height = Math.max( 0, c - h );
		return a
	}

	B.prototype.intersectsRect = B.prototype.yg = function( a )
	{
		return this.WD( a.x, a.y, a.width, a.height )
	};
	B.prototype.intersects = B.prototype.WD = function( a, b, c, d )
	{
		var e = this.width, f = this.x;
		if( Infinity !== e && Infinity !== c && (e += f, c += a, isNaN( c ) || isNaN( e ) || f > c || a > e) )return!1;
		a = this.height;
		c = this.y;
		return Infinity !== a && Infinity !== d && (a += c, d += b, isNaN( d ) || isNaN( a ) || c > d || b > a) ? !1 : !0
	};
	function $a( a, b )
	{
		var c = a.width, d = b.width + 10 + 10, e = a.x, f = b.x - 10;
		if( e > d + f || f > c + e )return!1;
		c = a.height;
		d = b.height + 10 + 10;
		e = a.y;
		f = b.y - 10;
		return e > d + f || f > c + e ? !1 : !0
	}

	B.prototype.unionPoint = B.prototype.dj = function( a )
	{
		return ab( this, a.x, a.y, 0, 0 )
	};
	B.prototype.unionRect = B.prototype.ci = function( a )
	{
		return ab( this, a.x, a.y, a.width, a.height )
	};
	B.prototype.union = B.prototype.mF = function( a, b, c, d )
	{
		this.Cb();
		void 0 === c && (c = 0);
		void 0 === d && (d = 0);
		return ab( this, a, b, c, d )
	};
	function ab( a, b, c, d, e )
	{
		var f = Math.min( a.x, b ), h = Math.min( a.y, c );
		b = Math.max( a.x + a.width, b + d );
		c = Math.max( a.y + a.height, c + e );
		a.x = f;
		a.y = h;
		a.width = b - f;
		a.height = c - h;
		return a
	}

	B.prototype.setSpot = B.prototype.Zt = function( a, b, c )
	{
		this.Cb();
		this.x = a - c.offsetX - c.x * this.width;
		this.y = b - c.offsetY - c.y * this.height;
		return this
	};
	var db;
	B.contains = db = function( a, b, c, d, e, f, h, k )
	{
		void 0 === h && (h = 0);
		void 0 === k && (k = 0);
		return a <= e && e + h <= a + c && b <= f && f + k <= b + d
	};
	B.intersects = function( a, b, c, d, e, f, h, k )
	{
		c += a;
		h += e;
		if( a > h || e > c )return!1;
		a = d + b;
		k += f;
		return b > k || f > a ? !1 : !0
	};
	v.defineProperty( B, {left: "left"}, function()
	{
		return this.x
	}, function( a )
	{
		this.Cb( a );
		this.x = a
	} );
	v.defineProperty( B, {top: "top"}, function()
	{
		return this.y
	}, function( a )
	{
		this.Cb( a );
		this.y = a
	} );
	v.defineProperty( B, {right: "right"}, function()
	{
		return this.x + this.width
	}, function( a )
	{
		this.Cb( a );
		this.x += a - (this.x + this.width)
	} );
	v.defineProperty( B, {bottom: "bottom"}, function()
	{
		return this.y + this.height
	}, function( a )
	{
		this.Cb( a );
		this.y += a - (this.y + this.height)
	} );
	v.defineProperty( B, {position: "position"}, function()
	{
		return new y( this.x, this.y )
	}, function( a )
	{
		this.Cb( a );
		this.x = a.x;
		this.y = a.y
	} );
	v.defineProperty( B, {size: "size"}, function()
	{
		return new ia( this.width, this.height )
	}, function( a )
	{
		this.Cb( a );
		this.width = a.width;
		this.height = a.height
	} );
	v.defineProperty( B, {bl: "center"}, function()
	{
		return new y( this.x + this.width / 2, this.y + this.height / 2 )
	}, function( a )
	{
		this.Cb( a );
		this.x = a.x - this.width / 2;
		this.y = a.y - this.height / 2
	} );
	v.defineProperty( B, {na: "centerX"}, function()
	{
		return this.x + this.width / 2
	}, function( a )
	{
		this.Cb( a );
		this.x = a - this.width / 2
	} );
	v.defineProperty( B, {ua: "centerY"}, function()
	{
		return this.y + this.height / 2
	}, function( a )
	{
		this.Cb( a );
		this.y = a - this.height / 2
	} );
	B.prototype.isReal = B.prototype.G = function()
	{
		return isFinite( this.x ) && isFinite( this.y ) && isFinite( this.width ) && isFinite( this.height )
	};
	B.prototype.isEmpty = function()
	{
		return 0 === this.width && 0 === this.height
	};
	function eb( a, b, c, d )
	{
		void 0 === a ? this.left = this.bottom = this.right = this.top = 0 : void 0 === b ? this.left = this.bottom = this.right = this.top = a : void 0 === c ? (d = b, this.top = a, this.right = b, this.bottom = a, this.left = d) : void 0 !== d ? (this.top = a, this.right = b, this.bottom = c, this.left = d) : v.k( "Invalid arguments to Margin constructor" );
		this.D = !1
	}

	v.ea( "Margin", eb );
	v.Wh( eb );
	v.Pd( eb, {top: !0, right: !0, bottom: !0, left: !0} );
	eb.prototype.assign = function( a )
	{
		this.top = a.top;
		this.right = a.right;
		this.bottom = a.bottom;
		this.left = a.left
	};
	eb.prototype.setTo = eb.prototype.m = function( a, b, c, d )
	{
		this.Cb();
		this.top = a;
		this.right = b;
		this.bottom = c;
		this.left = d;
		return this
	};
	eb.prototype.set = eb.prototype.set = function( a )
	{
		this.Cb();
		this.top = a.top;
		this.right = a.right;
		this.bottom = a.bottom;
		this.left = a.left;
		return this
	};
	eb.prototype.copy = function()
	{
		var a = new eb;
		a.top = this.top;
		a.right = this.right;
		a.bottom = this.bottom;
		a.left = this.left;
		return a
	};
	g = eb.prototype;
	g.Ea = function()
	{
		this.D = !0;
		Object.freeze( this );
		return this
	};
	g.R = function()
	{
		return Object.isFrozen( this ) ? this : this.copy().freeze()
	};
	g.freeze = function()
	{
		this.D = !0;
		return this
	};
	g.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		return this
	};
	g.Cb = function( a )
	{
		if( this.D )
		{
			var b = "The Margin is frozen, so its properties cannot be set: " + this.toString();
			void 0 !== a && (b += "  to value: " + a);
			v.k( b )
		}
	};
	eb.parse = function( a )
	{
		if( "string" === typeof a )
		{
			a = a.split( " " );
			for( var b = 0, c = NaN; "" === a[b]; )b++;
			var d = a[b++];
			d && (c = parseFloat( d ));
			if( isNaN( c ) )return new eb;
			for( var e = NaN; "" === a[b]; )b++;
			(d = a[b++]) && (e = parseFloat( d ));
			if( isNaN( e ) )return new eb( c );
			for( var f = NaN; "" === a[b]; )b++;
			(d = a[b++]) && (f = parseFloat( d ));
			if( isNaN( f ) )return new eb( c, e );
			for( var h = NaN; "" === a[b]; )b++;
			(d = a[b++]) && (h = parseFloat( d ));
			return isNaN( h ) ? new eb( c, e ) : new eb( c, e, f, h )
		}
		return new eb
	};
	eb.stringify = function( a )
	{
		return a instanceof eb ? a.top.toString() + " " + a.right.toString() + " " + a.bottom.toString() + " " + a.left.toString() : a.toString()
	};
	eb.prototype.toString = function()
	{
		return"Margin(" + this.top + "," + this.right + "," + this.bottom + "," + this.left + ")"
	};
	eb.prototype.equals = eb.prototype.K = function( a )
	{
		return a instanceof eb ? this.top === a.top && this.right === a.right && this.bottom === a.bottom && this.left === a.left : !1
	};
	eb.prototype.equalTo = eb.prototype.ww = function( a, b, c, d )
	{
		return this.top === a && this.right === b && this.bottom === c && this.left === d
	};
	eb.prototype.equalsApprox = eb.prototype.Fc = function( a )
	{
		return K( this.top, a.top ) && K( this.right, a.right ) && K( this.bottom, a.bottom ) && K( this.left, a.left )
	};
	eb.prototype.isReal = eb.prototype.G = function()
	{
		return isFinite( this.top ) && isFinite( this.right ) && isFinite( this.bottom ) && isFinite( this.left )
	};
	function ja()
	{
		this.m11 = 1;
		this.m21 = this.m12 = 0;
		this.m22 = 1;
		this.dy = this.dx = 0
	}

	v.Wh( ja );
	v.Pd( ja, {m11: !0, m12: !0, m21: !0, m22: !0, dx: !0, dy: !0} );
	ja.prototype.set = ja.prototype.set = function( a )
	{
		this.m11 = a.m11;
		this.m12 = a.m12;
		this.m21 = a.m21;
		this.m22 = a.m22;
		this.dx = a.dx;
		this.dy = a.dy;
		return this
	};
	ja.prototype.copy = function()
	{
		var a = new ja;
		a.m11 = this.m11;
		a.m12 = this.m12;
		a.m21 = this.m21;
		a.m22 = this.m22;
		a.dx = this.dx;
		a.dy = this.dy;
		return a
	};
	ja.prototype.toString = function()
	{
		return"Transform(" + this.m11 + "," + this.m12 + "," + this.m21 + "," + this.m22 + "," + this.dx + "," + this.dy + ")"
	};
	ja.prototype.equals = ja.prototype.K = function( a )
	{
		return a instanceof ja ? this.m11 === a.m11 && this.m12 === a.m12 && this.m21 === a.m21 && this.m22 === a.m22 && this.dx === a.dx && this.dy === a.dy : !1
	};
	ja.prototype.isIdentity = ja.prototype.ut = function()
	{
		return 1 === this.m11 && 0 === this.m12 && 0 === this.m21 && 1 === this.m22 && 0 === this.dx && 0 === this.dy
	};
	ja.prototype.reset = ja.prototype.reset = function()
	{
		this.m11 = 1;
		this.m21 = this.m12 = 0;
		this.m22 = 1;
		this.dy = this.dx = 0;
		return this
	};
	ja.prototype.multiply = ja.prototype.multiply = function( a )
	{
		var b = this.m12 * a.m11 + this.m22 * a.m12, c = this.m11 * a.m21 + this.m21 * a.m22, d = this.m12 * a.m21 + this.m22 * a.m22, e = this.m11 * a.dx + this.m21 * a.dy + this.dx, f = this.m12 * a.dx + this.m22 * a.dy + this.dy;
		this.m11 = this.m11 * a.m11 + this.m21 * a.m12;
		this.m12 = b;
		this.m21 = c;
		this.m22 = d;
		this.dx = e;
		this.dy = f;
		return this
	};
	ja.prototype.multiplyInverted = ja.prototype.sE = function( a )
	{
		var b = 1 / (a.m11 * a.m22 - a.m12 * a.m21), c = a.m22 * b, d = -a.m12 * b, e = -a.m21 * b, f = a.m11 * b, h = b * (a.m21 * a.dy - a.m22 * a.dx), k = b * (a.m12 * a.dx - a.m11 * a.dy);
		a = this.m12 * c + this.m22 * d;
		b = this.m11 * e + this.m21 * f;
		e = this.m12 * e + this.m22 * f;
		f = this.m11 * h + this.m21 * k + this.dx;
		h = this.m12 * h + this.m22 * k + this.dy;
		this.m11 = this.m11 * c + this.m21 * d;
		this.m12 = a;
		this.m21 = b;
		this.m22 = e;
		this.dx = f;
		this.dy = h;
		return this
	};
	ja.prototype.invert = ja.prototype.zz = function()
	{
		var a = 1 / (this.m11 * this.m22 - this.m12 * this.m21), b = -this.m12 * a, c = -this.m21 * a, d = this.m11 * a, e = a * (this.m21 * this.dy - this.m22 * this.dx), f = a * (this.m12 * this.dx - this.m11 * this.dy);
		this.m11 = this.m22 * a;
		this.m12 = b;
		this.m21 = c;
		this.m22 = d;
		this.dx = e;
		this.dy = f;
		return this
	};
	ja.prototype.rotate = ja.prototype.rotate = function( a, b, c )
	{
		360 <= a ? a -= 360 : 0 > a && (a += 360);
		if( 0 === a )return this;
		this.translate( b, c );
		var d = 0, e = 0;
		90 === a ? (d = 0, e = 1) : 180 === a ? (d = -1, e = 0) : 270 === a ? (d = 0, e = -1) : (e = a * Math.PI / 180, d = Math.cos( e ), e = Math.sin( e ));
		a = this.m12 * d + this.m22 * e;
		var f = this.m11 * -e + this.m21 * d, h = this.m12 * -e + this.m22 * d;
		this.m11 = this.m11 * d + this.m21 * e;
		this.m12 = a;
		this.m21 = f;
		this.m22 = h;
		this.translate( -b, -c );
		return this
	};
	ja.prototype.translate = ja.prototype.translate = function( a, b )
	{
		this.dx += this.m11 * a + this.m21 * b;
		this.dy += this.m12 * a + this.m22 * b;
		return this
	};
	ja.prototype.scale = ja.prototype.scale = function( a, b )
	{
		void 0 === b && (b = a);
		this.m11 *= a;
		this.m12 *= a;
		this.m21 *= b;
		this.m22 *= b;
		return this
	};
	ja.prototype.transformPoint = ja.prototype.ub = function( a )
	{
		var b = a.x, c = a.y;
		a.x = b * this.m11 + c * this.m21 + this.dx;
		a.y = b * this.m12 + c * this.m22 + this.dy;
		return a
	};
	ja.prototype.invertedTransformPoint = ja.prototype.Yh = function( a )
	{
		var b = 1 / (this.m11 * this.m22 - this.m12 * this.m21), c = -this.m12 * b, d = this.m11 * b, e = b * (this.m12 * this.dx - this.m11 * this.dy), f = a.x, h = a.y;
		a.x = f * this.m22 * b + h * -this.m21 * b + b * (this.m21 * this.dy - this.m22 * this.dx);
		a.y = f * c + h * d + e;
		return a
	};
	ja.prototype.transformRect = ja.prototype.kF = function( a )
	{
		var b = a.x, c = a.y, d = b + a.width, e = c + a.height, f = this.m11, h = this.m12, k = this.m21, l = this.m22, m = this.dx, n = this.dy, p = b * f + c * k + m, q = b * h + c * l + n, r = d * f + c * k + m, c = d * h + c * l + n, s = b * f + e * k + m, b = b * h + e * l + n, f = d * f + e * k + m, d = d * h + e * l + n, e = p, h = q, p = Math.min( p, r ), e = Math.max( e, r ), h = Math.min( h, c ), q = Math.max( q, c ), p = Math.min( p, s ), e = Math.max( e, s ), h = Math.min( h, b ), q = Math.max( q, b ), p = Math.min( p, f ), e = Math.max( e, f ), h = Math.min( h, d ), q = Math.max( q, d );
		a.x = p;
		a.y = h;
		a.width = e - p;
		a.height = q - h;
		return a
	};
	function L( a, b, c, d )
	{
		void 0 === a ? this.offsetY = this.offsetX = this.y = this.x = 0 : (void 0 === b && (b = 0), void 0 === c && (c = 0), void 0 === d && (d = 0), this.x = a, this.y = b, this.offsetX = c, this.offsetY = d);
		this.D = !1
	}

	v.ea( "Spot", L );
	v.Wh( L );
	v.Pd( L, {x: !0, y: !0, offsetX: !0, offsetY: !0} );
	L.prototype.assign = function( a )
	{
		this.x = a.x;
		this.y = a.y;
		this.offsetX = a.offsetX;
		this.offsetY = a.offsetY
	};
	L.prototype.setTo = L.prototype.m = function( a, b, c, d )
	{
		this.Cb();
		this.x = a;
		this.y = b;
		this.offsetX = c;
		this.offsetY = d;
		return this
	};
	L.prototype.set = L.prototype.set = function( a )
	{
		this.Cb();
		this.x = a.x;
		this.y = a.y;
		this.offsetX = a.offsetX;
		this.offsetY = a.offsetY;
		return this
	};
	L.prototype.copy = function()
	{
		var a = new L;
		a.x = this.x;
		a.y = this.y;
		a.offsetX = this.offsetX;
		a.offsetY = this.offsetY;
		return a
	};
	g = L.prototype;
	g.Ea = function()
	{
		this.D = !0;
		Object.freeze( this );
		return this
	};
	g.R = function()
	{
		return Object.isFrozen( this ) ? this : this.copy().freeze()
	};
	g.freeze = function()
	{
		this.D = !0;
		return this
	};
	g.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		return this
	};
	g.Cb = function( a )
	{
		if( this.D )
		{
			var b = "The Spot is frozen, so its properties cannot be set: " + this.toString();
			void 0 !== a && (b += "  to value: " + a);
			v.k( b )
		}
	};
	function fb( a, b )
	{
		a.x = NaN;
		a.y = NaN;
		a.offsetX = b;
		return a
	}

	var nb;
	L.parse = nb = function( a )
	{
		if( "string" === typeof a )
		{
			a = a.trim();
			if( "None" === a )return sb;
			if( "TopLeft" === a )return tb;
			if( "Top" === a || "TopCenter" === a || "MiddleTop" === a )return ub;
			if( "TopRight" === a )return vb;
			if( "Left" === a || "LeftCenter" === a || "MiddleLeft" === a )return wb;
			if( "Center" === a )return Ab;
			if( "Right" === a || "RightCenter" === a || "MiddleRight" === a )return Bb;
			if( "BottomLeft" === a )return Db;
			if( "Bottom" === a || "BottomCenter" === a || "MiddleBottom" === a )return Eb;
			if( "BottomRight" === a )return Fb;
			if( "TopSide" === a )return Gb;
			if( "LeftSide" ===
				a )return Hb;
			if( "RightSide" === a )return Nb;
			if( "BottomSide" === a )return Ob;
			if( "TopBottomSides" === a )return Pb;
			if( "LeftRightSides" === a )return Qb;
			if( "TopLeftSides" === a )return Ub;
			if( "TopRightSides" === a )return Vb;
			if( "BottomLeftSides" === a )return Zb;
			if( "BottomRightSides" === a )return $b;
			if( "NotTopSide" === a )return ac;
			if( "NotLeftSide" === a )return bc;
			if( "NotRightSide" === a )return cc;
			if( "NotBottomSide" === a )return dc;
			if( "AllSides" === a )return ec;
			if( "Default" === a )return kc;
			a = a.split( " " );
			for( var b = 0, c = 0; "" === a[b]; )b++;
			var d = a[b++];
			void 0 !== d && 0 < d.length && (c = parseFloat( d ));
			for( var e = 0; "" === a[b]; )b++;
			d = a[b++];
			void 0 !== d && 0 < d.length && (e = parseFloat( d ));
			for( var f = 0; "" === a[b]; )b++;
			d = a[b++];
			void 0 !== d && 0 < d.length && (f = parseFloat( d ));
			for( var h = 0; "" === a[b]; )b++;
			d = a[b++];
			void 0 !== d && 0 < d.length && (h = parseFloat( d ));
			return new L( c, e, f, h )
		}
		return new L
	};
	L.stringify = function( a )
	{
		return a instanceof L ? a.cd() ? a.x.toString() + " " + a.y.toString() + " " + a.offsetX.toString() + " " + a.offsetY.toString() : a.toString() : a.toString()
	};
	L.prototype.toString = function()
	{
		return this.cd() ? 0 === this.offsetX && 0 === this.offsetY ? "Spot(" + this.x + "," + this.y + ")" : "Spot(" + this.x + "," + this.y + "," + this.offsetX + "," + this.offsetY + ")" : this.K( sb ) ? "None" : this.K( tb ) ? "TopLeft" : this.K( ub ) ? "Top" : this.K( vb ) ? "TopRight" : this.K( wb ) ? "Left" : this.K( Ab ) ? "Center" : this.K( Bb ) ? "Right" : this.K( Db ) ? "BottomLeft" : this.K( Eb ) ? "Bottom" : this.K( Fb ) ? "BottomRight" : this.K( Gb ) ? "TopSide" : this.K( Hb ) ? "LeftSide" : this.K( Nb ) ? "RightSide" : this.K( Ob ) ? "BottomSide" : this.K( Pb ) ? "TopBottomSides" : this.K( Qb ) ?
			"LeftRightSides" : this.K( Ub ) ? "TopLeftSides" : this.K( Vb ) ? "TopRightSides" : this.K( Zb ) ? "BottomLeftSides" : this.K( $b ) ? "BottomRightSides" : this.K( ac ) ? "NotTopSide" : this.K( bc ) ? "NotLeftSide" : this.K( cc ) ? "NotRightSide" : this.K( dc ) ? "NotBottomSide" : this.K( ec ) ? "AllSides" : this.K( kc ) ? "Default" : "None"
	};
	L.prototype.equals = L.prototype.K = function( a )
	{
		return a instanceof L ? (this.x === a.x || isNaN( this.x ) && isNaN( a.x )) && (this.y === a.y || isNaN( this.y ) && isNaN( a.y )) && this.offsetX === a.offsetX && this.offsetY === a.offsetY : !1
	};
	L.prototype.opposite = function()
	{
		return new L( .5 - (this.x - .5), .5 - (this.y - .5), -this.offsetX, -this.offsetY )
	};
	L.prototype.includesSide = L.prototype.bp = function( a )
	{
		if( !this.Vi() )return!1;
		if( !a.Vi() )if( a.K( lc ) )a = Hb;
		else if( a.K( mc ) )a = Nb;
		else if( a.K( nc ) )a = Gb;
		else if( a.K( oc ) )a = Ob;
		else return!1;
		a = a.offsetY;
		return(this.offsetY & a) === a
	};
	L.prototype.isSpot = L.prototype.cd = function()
	{
		return!isNaN( this.x ) && !isNaN( this.y )
	};
	L.prototype.isNoSpot = L.prototype.te = function()
	{
		return isNaN( this.x ) || isNaN( this.y )
	};
	L.prototype.isSide = L.prototype.Vi = function()
	{
		return this.te() && 1 === this.offsetX && 0 !== this.offsetY
	};
	L.prototype.isDefault = L.prototype.Uc = function()
	{
		return isNaN( this.x ) && isNaN( this.y ) && -1 === this.offsetX && 0 === this.offsetY
	};
	var sb;
	L.None = sb = fb( new L( 0, 0, 0, 0 ), 0 ).Ea();
	var kc;
	L.Default = kc = fb( new L( 0, 0, -1, 0 ), -1 ).Ea();
	var tb;
	L.TopLeft = tb = (new L( 0, 0, 0, 0 )).Ea();
	var ub;
	L.TopCenter = ub = (new L( .5, 0, 0, 0 )).Ea();
	var vb;
	L.TopRight = vb = (new L( 1, 0, 0, 0 )).Ea();
	var wb;
	L.LeftCenter = wb = (new L( 0, .5, 0, 0 )).Ea();
	var Ab;
	L.Center = Ab = (new L( .5, .5, 0, 0 )).Ea();
	var Bb;
	L.RightCenter = Bb = (new L( 1, .5, 0, 0 )).Ea();
	var Db;
	L.BottomLeft = Db = (new L( 0, 1, 0, 0 )).Ea();
	var Eb;
	L.BottomCenter = Eb = (new L( .5, 1, 0, 0 )).Ea();
	var Fb;
	L.BottomRight = Fb = (new L( 1, 1, 0, 0 )).Ea();
	var pc;
	L.MiddleTop = pc = ub;
	var qc;
	L.MiddleLeft = qc = wb;
	var rc;
	L.MiddleRight = rc = Bb;
	var sc;
	L.MiddleBottom = sc = Eb;
	var nc;
	L.Top = nc = ub;
	var lc;
	L.Left = lc = wb;
	var mc;
	L.Right = mc = Bb;
	var oc;
	L.Bottom = oc = Eb;
	var Gb;
	L.TopSide = Gb = fb( new L( 0, 0, 1, v.ed ), 1 ).Ea();
	var Hb;
	L.LeftSide = Hb = fb( new L( 0, 0, 1, v.Nc ), 1 ).Ea();
	var Nb;
	L.RightSide = Nb = fb( new L( 0, 0, 1, v.Xc ), 1 ).Ea();
	var Ob;
	L.BottomSide = Ob = fb( new L( 0, 0, 1, v.Wc ), 1 ).Ea();
	var Pb;
	L.TopBottomSides = Pb = fb( new L( 0, 0, 1, v.ed | v.Wc ), 1 ).Ea();
	var Qb;
	L.LeftRightSides = Qb = fb( new L( 0, 0, 1, v.Nc | v.Xc ), 1 ).Ea();
	var Ub;
	L.TopLeftSides = Ub = fb( new L( 0, 0, 1, v.ed | v.Nc ), 1 ).Ea();
	var Vb;
	L.TopRightSides = Vb = fb( new L( 0, 0, 1, v.ed | v.Xc ), 1 ).Ea();
	var Zb;
	L.BottomLeftSides = Zb = fb( new L( 0, 0, 1, v.Wc | v.Nc ), 1 ).Ea();
	var $b;
	L.BottomRightSides = $b = fb( new L( 0, 0, 1, v.Wc | v.Xc ), 1 ).Ea();
	var ac;
	L.NotTopSide = ac = fb( new L( 0, 0, 1, v.Nc | v.Xc | v.Wc ), 1 ).Ea();
	var bc;
	L.NotLeftSide = bc = fb( new L( 0, 0, 1, v.ed | v.Xc | v.Wc ), 1 ).Ea();
	var cc;
	L.NotRightSide = cc = fb( new L( 0, 0, 1, v.ed | v.Nc | v.Wc ), 1 ).Ea();
	var dc;
	L.NotBottomSide = dc = fb( new L( 0, 0, 1, v.ed | v.Nc | v.Xc ), 1 ).Ea();
	var ec;
	L.AllSides = ec = fb( new L( 0, 0, 1, v.ed | v.Nc | v.Xc | v.Wc ), 1 ).Ea();
	function wc()
	{
		this.ff = [1, 0, 0, 1, 0, 0]
	}

	wc.prototype.copy = function()
	{
		var a = new wc;
		a.ff[0] = this.ff[0];
		a.ff[1] = this.ff[1];
		a.ff[2] = this.ff[2];
		a.ff[3] = this.ff[3];
		a.ff[4] = this.ff[4];
		a.ff[5] = this.ff[5];
		return a
	};
	function xc( a )
	{
		this.type = a;
		this.r2 = this.y2 = this.x2 = this.r1 = this.y1 = this.x1 = 0;
		this.mD = [];
		this.pattern = null
	}

	xc.prototype.addColorStop = function( a, b )
	{
		this.mD.push( {offset: a, color: b} )
	};
	function yc( a, b, c )
	{
		this.fillStyle = "#000000";
		this.font = "10px sans-serif";
		this.globalAlpha = 1;
		this.lineCap = "butt";
		this.Um = 0;
		this.lineJoin = "miter";
		this.lineWidth = 1;
		this.miterLimit = 10;
		this.shadowBlur = 0;
		this.shadowColor = "rgba(0, 0, 0, 0)";
		this.shadowOffsetY = this.shadowOffsetX = 0;
		this.strokeStyle = "#000000";
		this.textAlign = "start";
		this.ow = !1;
		this.pg = this.ns = this.ms = 0;
		this.document = b || document;
		this.DD = c;
		this.Lw = null;
		this.path = [];
		this.Ri = new wc;
		this.stack = [];
		this.uf = [];
		this.uw = a;
		this.XH = "http://www.w3.org/2000/svg";
		this.width = this.uw.width;
		this.height = this.uw.height;
		this.Dl = zc( this, "svg", {width: this.width + "px", height: this.height + "px", OK: "0 0 " + this.uw.width + " " + this.uw.height} );
		this.Dl.setAttributeNS( "http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg" );
		this.Dl.setAttributeNS( "http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink" );
		Ac( this, 1, 0, 0, 1, 0, 0 );
		a = v.Jl++;
		b = zc( this, "clipPath", {id: "mainClip" + a} );
		b.appendChild( zc( this, "rect", {x: 0, y: 0, width: this.width, height: this.height} ) );
		this.Dl.appendChild( b );
		this.uf[0].setAttributeNS( null, "clip-path", "url(#mainClip" + a + ")" )
	}

	g = yc.prototype;
	g.arc = function( a, b, c, d, e, f )
	{
		Bc( this, a, b, c, d, e, f )
	};
	g.beginPath = function()
	{
		this.path = []
	};
	g.bezierCurveTo = function( a, b, c, d, e, f )
	{
		this.path.push( ["C", a, b, c, d, e, f] )
	};
	g.clearRect = function()
	{
	};
	g.clip = function()
	{
		Cc( this, "clipPath", this.path, new wc )
	};
	g.closePath = function()
	{
		this.path.push( ["z"] )
	};
	g.createLinearGradient = function( a, b, c, d )
	{
		var e = new xc( "linear" );
		e.x1 = a;
		e.y1 = b;
		e.x2 = c;
		e.y2 = d;
		return e
	};
	g.createPattern = function( a )
	{
		var b = new xc( "pattern" );
		b.pattern = a;
		return b
	};
	g.createRadialGradient = function( a, b, c, d, e, f )
	{
		var h = new xc( "radial" );
		h.x1 = a;
		h.y1 = b;
		h.r1 = c;
		h.x2 = d;
		h.y2 = e;
		h.r2 = f;
		return h
	};
	g.drawImage = function( a, b, c, d, e, f, h, k, l )
	{
		var m = "";
		a instanceof HTMLCanvasElement && (m = a.toDataURL());
		a instanceof HTMLImageElement && (m = a.src);
		m = {x: 0, y: 0, width: a.naturalWidth, height: a.naturalHeight, href: m};
		m.preserveAspectRatio = Dc( d, k ) && Dc( e, l ) ? "xMidYMid slice" : "none";
		var n = "";
		k /= d;
		l /= e;
		if( 0 !== f || 0 !== h )n += " translate(" + f + ", " + h + ")";
		if( 1 !== k || 1 !== l )n += " scale(" + k + ", " + l + ")";
		if( 0 !== b || 0 !== c )n += " translate(" + -b + ", " + -c + ")";
		if( 0 !== b || 0 !== c || d !== a.naturalWidth || e !== a.naturalHeight )a = "CLIP" + v.Jl++, f = zc( this,
			"clipPath", {id: a} ), f.appendChild( zc( this, "rect", {x: b, y: c, width: d, height: e} ) ), this.Dl.appendChild( f ), m["clip-path"] = "url(#" + a + ")";
		Ic( this, "image", m, this.Ri, n );
		this.addElement( "image", m )
	};
	g.fill = function()
	{
		Cc( this, "fill", this.path, this.Ri )
	};
	g.vg = function()
	{
		this.ow ? this.clip() : this.fill()
	};
	g.fillRect = function( a, b, c, d )
	{
		Jc( this, "fill", [a, b, c, d], this.Ri )
	};
	g.fillText = function( a, b, c )
	{
		a = [a, b, c];
		b = this.textAlign;
		"left" === b ? b = "start" : "right" === b ? b = "end" : "center" === b && (b = "middle");
		b = {x: a[1], y: a[2], style: "font: " + this.font, "text-anchor": b};
		Ic( this, "fill", b, this.Ri );
		this.addElement( "text", b, a[0] )
	};
	g.lineTo = function( a, b )
	{
		this.path.push( ["L", a, b] )
	};
	g.moveTo = function( a, b )
	{
		this.path.push( ["M", a, b] )
	};
	g.quadraticCurveTo = function( a, b, c, d )
	{
		this.path.push( ["Q", a, b, c, d] )
	};
	g.rect = function( a, b, c, d )
	{
		this.path.push( ["M", a, b], ["L", a + c, b], ["L", a + c, b + d], ["L", a, b + d], ["z"] )
	};
	g.restore = function()
	{
		this.Ri = this.stack.pop();
		this.path = this.stack.pop();
		var a = this.stack.pop();
		this.fillStyle = a.fillStyle;
		this.font = a.font;
		this.globalAlpha = a.globalAlpha;
		this.lineCap = a.lineCap;
		this.Um = a.Um;
		this.lineJoin = a.lineJoin;
		this.lineWidth = a.lineWidth;
		this.miterLimit = a.miterLimit;
		this.shadowBlur = a.shadowBlur;
		this.shadowColor = a.shadowColor;
		this.shadowOffsetX = a.shadowOffsetX;
		this.shadowOffsetY = a.shadowOffsetY;
		this.strokeStyle = a.strokeStyle;
		this.textAlign = a.textAlign
	};
	g.save = function()
	{
		this.stack.push( {fillStyle: this.fillStyle, font: this.font, globalAlpha: this.globalAlpha, lineCap: this.lineCap, Um: this.Um, lineJoin: this.lineJoin, lineWidth: this.lineWidth, miterLimit: this.miterLimit, shadowBlur: this.shadowBlur, shadowColor: this.shadowColor, shadowOffsetX: this.shadowOffsetX, shadowOffsetY: this.shadowOffsetY, strokeStyle: this.strokeStyle, textAlign: this.textAlign} );
		for( var a = [], b = 0; b < this.path.length; b++ )a.push( this.path[b] );
		this.stack.push( a );
		this.stack.push( this.Ri.copy() )
	};
	g.setTransform = function( a, b, c, d, e, f )
	{
		1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f || Ac( this, a, b, c, d, e, f )
	};
	g.scale = function()
	{
	};
	g.stroke = function()
	{
		Cc( this, "stroke", this.path, this.Ri )
	};
	g.bj = function()
	{
		this.qn || this.stroke()
	};
	g.strokeRect = function( a, b, c, d )
	{
		Jc( this, "stroke", [a, b, c, d], this.Ri )
	};
	function zc( a, b, c, d )
	{
		a = a.document.createElementNS( a.XH, b );
		if( v.Ta( c ) )for( var e in c )a.setAttributeNS( "href" === e ? "http://www.w3.org/1999/xlink" : "", e, c[e] );
		void 0 !== d && (a.textContent = d);
		return a
	}

	g.addElement = function( a, b, c )
	{
		a = zc( this, a, b, c );
		0 < this.uf.length ? this.uf[this.uf.length - 1].appendChild( a ) : this.Dl.appendChild( a );
		return this.Lw = a
	};
	function Ic( a, b, c, d, e )
	{
		1 !== a.globalAlpha && (c.opacity = a.globalAlpha);
		"fill" === b ? (/^rgba\(/.test( a.fillStyle ) ? (a = /^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec( a.fillStyle ), c.fill = "rgb(" + a[1] + "," + a[2] + "," + a[3] + ")", c["fill-opacity"] = a[4]) : c.fill = a.fillStyle instanceof xc ? Kc( a, a.fillStyle ) : a.fillStyle, c.stroke = "none") : "stroke" === b && (c.fill = "none", /^rgba\(/.test( a.strokeStyle ) ? (b = /^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec( a.strokeStyle ),
			c.stroke = "rgb(" + b[1] + "," + b[2] + "," + b[3] + ")", c["stroke-opacity"] = b[4]) : c.stroke = a.strokeStyle instanceof xc ? Kc( a, a.strokeStyle ) : a.strokeStyle, c["stroke-width"] = a.lineWidth, c["stroke-linecap"] = a.lineCap, c["stroke-linejoin"] = a.lineJoin, c["stroke-miterlimit"] = a.miterLimit);
		d = d.ff;
		d = "matrix(" + d[0] + ", " + d[1] + ", " + d[2] + ", " + d[3] + ", " + d[4] + ", " + d[5] + ")";
		void 0 !== e && (d += e);
		c.transform = d
	}

	function Kc( a, b )
	{
		var c = "GRAD" + v.Jl++, d;
		if( "linear" === b.type )d = {x1: b.x1, x2: b.x2, y1: b.y1, y2: b.y2, id: c, gradientUnits: "userSpaceOnUse"}, d = zc( a, "linearGradient", d );
		else if( "radial" === b.type )d = {x1: b.x1, x2: b.x2, y1: b.y1, y2: b.y2, r1: b.r1, r2: b.r2, id: c}, d = zc( a, "radialGradient", d );
		else if( "pattern" === b.type )
		{
			var e = b.pattern;
			d = {width: e.width, height: e.height, id: c, patternUnits: "userSpaceOnUse"};
			var f = "";
			e instanceof HTMLCanvasElement && (f = e.toDataURL());
			e instanceof HTMLImageElement && (f = e.src);
			e = {x: 0, y: 0, width: e.width,
				height: e.height, href: f};
			d = zc( a, "pattern", d );
			d.appendChild( zc( a, "image", e ) )
		}
		else throw Error( "invalid gradient" );
		for( var e = b.mD, f = e.length, h = [], k = 0; k < f; k++ )
		{
			var l = e[k], m = l.color, l = {offset: l.offset, "stop-color": m};
			/^rgba\(/.test( m ) && (m = /^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec( m ), l["stop-color"] = "rgb(" + m[1] + "," + m[2] + "," + m[3] + ")", l["stop-opacity"] = m[4]);
			h.push( l )
		}
		h.sort( function( a, b )
		{
			return a.offset > b.offset ? 1 : -1
		} );
		for( k = 0; k < f; k++ )d.appendChild( zc( a, "stop",
			h[k] ) );
		a.Dl.appendChild( d );
		return"url(#" + c + ")"
	}

	function Jc( a, b, c, d )
	{
		c = {x: c[0], y: c[1], width: c[2], height: c[3]};
		Ic( a, b, c, d );
		a.addElement( "rect", c )
	}

	function Cc( a, b, c, d )
	{
		for( var e = [], f = 0; f < c.length; f++ )
		{
			var h = v.dl( c[f] ), k = [h.shift()];
			if( "A" === k[0] )k.push( h.shift() + "," + h.shift(), h.shift(), h.shift() + "," + h.shift(), h.shift() + "," + h.shift() );
			else for( ; h.length; )k.push( h.shift() + "," + h.shift() );
			e.push( k.join( " " ) )
		}
		c = {d: e.join( " " )};
		Ic( a, b, c, d );
		"clipPath" === b ? (b = "CLIP" + v.Jl++, d = zc( a, "clipPath", {id: b} ), d.appendChild( zc( a, "path", c ) ), a.Dl.appendChild( d ), 0 < a.uf.length && a.uf[a.uf.length - 1].setAttributeNS( null, "clip-path", "url(#" + b + ")" )) : a.addElement( "path",
			c )
	}

	function Bc( a, b, c, d, e, f, h )
	{
		var k = Math.abs( e - f );
		if( e !== f )
		{
			var l = b + d * Math.cos( f );
			f = c + d * Math.sin( f );
			k >= 2 * Math.PI ? (Bc( a, b, c, d, e, e + Math.PI, h ), Bc( a, b, c, d, e + Math.PI, e + 2 * Math.PI, h ), a.path.push( ["M", l, f] )) : (b += d * Math.cos( e ), c += d * Math.sin( e ), k = 180 * k / Math.PI, e = h ? 0 : 1, h = 180 <= k === !!h ? 0 : 1, 0 !== a.path.length ? a.path.push( ["L", b, c] ) : a.path.push( ["M", b, c] ), a.path.push( ["A", d, d, k, h, e, l, f] ))
		}
	}

	function Ac( a, b, c, d, e, f, h )
	{
		var k = new wc;
		k.ff = [b, c, d, e, f, h];
		b = {};
		Ic( a, "g", b, k );
		k = a.addElement( "g", b );
		a.uf.push( k )
	}

	g.Ya = function()
	{
		if( 0 !== this.shadowOffsetX || 0 !== this.shadowOffsetY || 0 !== this.shadowBlur )
		{
			var a = "SHADOW" + v.Jl++, b = this.addElement( "filter", {id: a, x: "-100%", y: "-100%", width: "300%", height: "300%"}, null ), c, d, e, f, h;
			c = zc( this, "feGaussianBlur", {"in": "SourceAlpha", result: "blur", EK: this.shadowBlur / 2} );
			d = zc( this, "feFlood", {"in": "blur", result: "flood", "flood-color": this.shadowColor} );
			e = zc( this, "feComposite", {"in": "flood", in2: "blur", operator: "in", result: "comp"} );
			f = zc( this, "feOffset", {"in": "comp", result: "offsetBlur",
				dx: this.shadowOffsetX, dy: this.shadowOffsetY} );
			h = zc( this, "feMerge", {} );
			h.appendChild( zc( this, "feMergeNode", {"in": "offsetBlur"} ) );
			h.appendChild( zc( this, "feMergeNode", {"in": "SourceGraphic"} ) );
			b.appendChild( c );
			b.appendChild( d );
			b.appendChild( e );
			b.appendChild( f );
			b.appendChild( h );
			0 < this.uf.length && this.uf[this.uf.length - 1].setAttributeNS( null, "filter", "url(#" + a + ")" )
		}
	};
	g.nA = function( a, b, c )
	{
		this.ms = a;
		this.ns = b;
		this.pg = c
	};
	g.bn = function()
	{
		this.shadowBlur = this.shadowOffsetY = this.shadowOffsetX = 0
	};
	g.cn = function()
	{
		this.shadowOffsetX = this.ms;
		this.shadowOffsetY = this.ns;
		this.shadowBlur = this.pg
	};
	function Lc( a, b )
	{
		this.ownerDocument = void 0 === b ? document : b;
		var c = this.ownerDocument.createElement( "canvas" );
		c.tabIndex = 0;
		this.zd = c;
		this.cl = new Mc( c );
		c.S = a;
		Object.seal( this )
	}

	g = Lc.prototype;
	g.toDataURL = function( a, b )
	{
		return this.zd.toDataURL( a, b )
	};
	g.getBoundingClientRect = function()
	{
		return this.zd.getBoundingClientRect()
	};
	g.focus = function()
	{
		return this.zd.focus()
	};
	g.addEventListener = function( a, b, c )
	{
		this.zd.addEventListener( a, b, c )
	};
	g.removeEventListener = function( a, b, c )
	{
		this.zd.removeEventListener( a, b, c )
	};
	v.defineProperty( Lc, {width: "width"}, function()
	{
		return this.zd.width
	}, function( a )
	{
		this.zd.width = a
	} );
	v.defineProperty( Lc, {height: "height"}, function()
	{
		return this.zd.height
	}, function( a )
	{
		this.zd.height = a
	} );
	v.defineProperty( Lc, {style: "style"}, function()
	{
		return this.zd.style
	}, function( a )
	{
		this.zd.style = a
	} );
	function Mc( a )
	{
		a.getContext && a.getContext( "2d" ) || v.k( "Browser does not support HTML Canvas Element" );
		this.Aa = a.getContext( "2d" );
		this.Hx = this.Jx = this.Ix = "";
		this.qn = !1;
		this.pg = this.ns = this.ms = 0;
		Object.seal( this )
	}

	v.defineProperty( Mc, {fillStyle: "fillStyle"}, function()
	{
		return this.Aa.fillStyle
	}, function( a )
	{
		this.Hx !== a && (this.Hx = this.Aa.fillStyle = a)
	} );
	v.defineProperty( Mc, {font: "font"}, function()
	{
		return this.Aa.font
	}, function( a )
	{
		this.Ix !== a && (this.Ix = this.Aa.font = a)
	} );
	v.defineProperty( Mc, {globalAlpha: "globalAlpha"}, function()
	{
		return this.Aa.globalAlpha
	}, function( a )
	{
		this.Aa.globalAlpha = a
	} );
	v.defineProperty( Mc, {lineCap: "lineCap"}, function()
	{
		return this.Aa.lineCap
	}, function( a )
	{
		this.Aa.lineCap = a
	} );
	v.defineProperty( Mc, {Um: "lineDashOffset"}, function()
	{
		return this.Aa.Um
	}, function( a )
	{
		this.Aa.Um = a
	} );
	v.defineProperty( Mc, {lineJoin: "lineJoin"}, function()
	{
		return this.Aa.lineJoin
	}, function( a )
	{
		this.Aa.lineJoin = a
	} );
	v.defineProperty( Mc, {lineWidth: "lineWidth"}, function()
	{
		return this.Aa.lineWidth
	}, function( a )
	{
		this.Aa.lineWidth = a
	} );
	v.defineProperty( Mc, {miterLimit: "miterLimit"}, function()
	{
		return this.Aa.miterLimit
	}, function( a )
	{
		this.Aa.miterLimit = a
	} );
	v.defineProperty( Mc, {shadowBlur: "shadowBlur"}, function()
	{
		return this.Aa.shadowBlur
	}, function( a )
	{
		this.Aa.shadowBlur = a
	} );
	v.defineProperty( Mc, {shadowColor: "shadowColor"}, function()
	{
		return this.Aa.shadowColor
	}, function( a )
	{
		this.Aa.shadowColor = a
	} );
	v.defineProperty( Mc, {shadowOffsetX: "shadowOffsetX"}, function()
	{
		return this.Aa.shadowOffsetX
	}, function( a )
	{
		this.Aa.shadowOffsetX = a
	} );
	v.defineProperty( Mc, {shadowOffsetY: "shadowOffsetY"}, function()
	{
		return this.Aa.shadowOffsetY
	}, function( a )
	{
		this.Aa.shadowOffsetY = a
	} );
	v.defineProperty( Mc, {strokeStyle: "strokeStyle"}, function()
	{
		return this.Aa.strokeStyle
	}, function( a )
	{
		this.Jx !== a && (this.Jx = this.Aa.strokeStyle = a)
	} );
	v.defineProperty( Mc, {textAlign: "textAlign"}, function()
	{
		return this.Aa.textAlign
	}, function( a )
	{
		this.Aa.textAlign = a
	} );
	v.defineProperty( Mc, {ot: "imageSmoothingEnabled"}, function()
	{
		return this.Aa.ot
	}, function( a )
	{
		this.Aa.ot = a
	} );
	g = Mc.prototype;
	g.arc = function( a, b, c, d, e, f )
	{
		this.Aa.arc( a, b, c, d, e, f )
	};
	g.beginPath = function()
	{
		this.Aa.beginPath()
	};
	g.bezierCurveTo = function( a, b, c, d, e, f )
	{
		this.Aa.bezierCurveTo( a, b, c, d, e, f )
	};
	g.clearRect = function( a, b, c, d )
	{
		this.Aa.clearRect( a, b, c, d )
	};
	g.clip = function()
	{
		this.Aa.clip()
	};
	g.closePath = function()
	{
		this.Aa.closePath()
	};
	g.createLinearGradient = function( a, b, c, d )
	{
		return this.Aa.createLinearGradient( a, b, c, d )
	};
	g.createPattern = function( a, b )
	{
		return this.Aa.createPattern( a, b )
	};
	g.createRadialGradient = function( a, b, c, d, e, f )
	{
		return this.Aa.createRadialGradient( a, b, c, d, e, f )
	};
	g.drawImage = function( a, b, c, d, e, f, h, k, l )
	{
		void 0 === d ? this.Aa.drawImage( a, b, c ) : this.Aa.drawImage( a, b, c, d, e, f, h, k, l )
	};
	g.fill = function()
	{
		this.Aa.fill()
	};
	g.fillRect = function( a, b, c, d )
	{
		this.Aa.fillRect( a, b, c, d )
	};
	g.fillText = function( a, b, c )
	{
		this.Aa.fillText( a, b, c )
	};
	g.getImageData = function( a, b, c, d )
	{
		return this.Aa.getImageData( a, b, c, d )
	};
	g.lineTo = function( a, b )
	{
		this.Aa.lineTo( a, b )
	};
	g.measureText = function( a )
	{
		return this.Aa.measureText( a )
	};
	g.moveTo = function( a, b )
	{
		this.Aa.moveTo( a, b )
	};
	g.quadraticCurveTo = function( a, b, c, d )
	{
		this.Aa.quadraticCurveTo( a, b, c, d )
	};
	g.rect = function( a, b, c, d )
	{
		this.Aa.rect( a, b, c, d )
	};
	g.restore = function()
	{
		this.Aa.restore()
	};
	Mc.prototype.rotate = function( a )
	{
		this.Aa.rotate( a )
	};
	g = Mc.prototype;
	g.save = function()
	{
		this.Aa.save()
	};
	g.setTransform = function( a, b, c, d, e, f )
	{
		this.Aa.setTransform( a, b, c, d, e, f )
	};
	g.scale = function( a, b )
	{
		this.Aa.scale( a, b )
	};
	g.stroke = function()
	{
		this.Aa.stroke()
	};
	g.transform = function( a, b, c, d, e, f )
	{
		1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f || this.Aa.transform( a, b, c, d, e, f )
	};
	g.translate = function( a, b )
	{
		this.Aa.translate( a, b )
	};
	g.vg = function( a )
	{
		if( a instanceof ha && a.type === Uc )
		{
			var b = a.un;
			a = a.Nx;
			a > b ? (this.scale( b / a, 1 ), this.translate( (a - b) / 2, 0 )) : b > a && (this.scale( 1, a / b ), this.translate( 0, (b - a) / 2 ));
			this.qn ? this.clip() : this.fill();
			a > b ? (this.translate( -(a - b) / 2, 0 ), this.scale( 1 / (b / a), 1 )) : b > a && (this.translate( 0, -(b - a) / 2 ), this.scale( 1, 1 / (a / b) ))
		}
		else this.qn ? this.clip() : this.fill()
	};
	g.bj = function()
	{
		this.qn || this.stroke()
	};
	v.defineProperty( Mc, {ow: "clipInsteadOfFill"}, function()
	{
		return this.qn
	}, function( a )
	{
		this.qn = a
	} );
	Mc.prototype.nA = function( a, b, c )
	{
		this.ms = a;
		this.ns = b;
		this.pg = c
	};
	Mc.prototype.bn = function()
	{
		this.shadowBlur = this.shadowOffsetY = this.shadowOffsetX = 0
	};
	Mc.prototype.cn = function()
	{
		this.shadowOffsetX = this.ms;
		this.shadowOffsetY = this.ns;
		this.shadowBlur = this.pg
	};
	function Vc( a, b )
	{
		b && (a.Ix = "");
		a.Jx = "";
		a.Hx = ""
	}

	var Wc = (Math.sqrt( 2 ) - 1) / 3 * 4, Xc = (new y( 0, 0 )).Ea(), Yc = (new B( 0, 0, 0, 0 )).Ea(), ed = (new eb( 0, 0, 0, 0 )).Ea(), fd = (new eb( 2, 2, 2, 2 )).Ea(), gd = (new y( 6, 6 )).Ea(), hd = (new y( -Infinity, -Infinity )).Ea(), id = (new y( Infinity, Infinity )).Ea(), jd = (new ia( 0, 0 )).Ea(), kd = (new ia( 1, 1 )).Ea(), ld = (new ia( 6, 6 )).Ea(), md = (new ia( 8, 8 )).Ea(), yd = (new ia( 10, 10 )).Ea(), zd = (new ia( Infinity, Infinity )).Ea(), Ad = (new y( NaN, NaN )).Ea(), Bd = (new ia( NaN, NaN )).Ea(), Cd = (new B( NaN, NaN, NaN, NaN )).Ea(), Dd = (new L( .156, .156 )).Ea(), Ed = (new L( .844, .844 )).Ea(),
		Fd = new ta, Gd = new ta, Hd = null;

	function Id( a )
	{
		if( 0 >= a )return 0;
		var b = Hd;
		if( null === b )
		{
			for( var b = [], c = 0; 2E3 >= c; c++ )b[c] = Math.sqrt( c );
			Hd = b
		}
		return 1 > a ? (c = 1 / a, 2E3 >= c ? 1 / b[c | 0] : Math.sqrt( a )) : 2E3 >= a ? b[a | 0] : Math.sqrt( a )
	}

	function K( a, b )
	{
		var c = a - b;
		return.5 > c && -.5 < c
	}

	function Dc( a, b )
	{
		var c = a - b;
		return 5E-8 > c && -5E-8 < c
	}

	function Jd( a, b, c, d, e, f, h )
	{
		0 >= e && (e = 1E-6);
		var k = 0, l = 0, m = 0, n = 0;
		a < c ? (l = a, k = c) : (l = c, k = a);
		b < d ? (n = b, m = d) : (n = d, m = b);
		if( a === c )return n <= h && h <= m && a - e <= f && f <= a + e;
		if( b === d )return l <= f && f <= k && b - e <= h && h <= b + e;
		k += e;
		l -= e;
		if( l <= f && f <= k && (m += e, n -= e, n <= h && h <= m) )if( k - l > m - n )if( a - c > e || c - a > e )
		{
			if( f = (d - b) / (c - a) * (f - a) + b, f - e <= h && h <= f + e )return!0
		}
		else return!0;
		else if( b - d > e || d - b > e )
		{
			if( h = (c - a) / (d - b) * (h - b) + a, h - e <= f && f <= h + e )return!0
		}
		else return!0;
		return!1
	}

	function Pd( a, b, c, d, e, f, h, k, l, m, n, p )
	{
		if( Jd( a, b, h, k, p, c, d ) && Jd( a, b, h, k, p, e, f ) )return Jd( a, b, h, k, p, m, n );
		var q = (a + c) / 2, r = (b + d) / 2, s = (c + e) / 2, t = (d + f) / 2;
		e = (e + h) / 2;
		f = (f + k) / 2;
		d = (q + s) / 2;
		c = (r + t) / 2;
		var s = (s + e) / 2, t = (t + f) / 2, u = (d + s) / 2, w = (c + t) / 2;
		return Pd( a, b, q, r, d, c, u, w, l, m, n, p ) || Pd( u, w, s, t, e, f, h, k, l, m, n, p )
	}

	function Qd( a, b, c, d, e, f, h, k, l, m )
	{
		if( Jd( a, b, h, k, l, c, d ) && Jd( a, b, h, k, l, e, f ) )ab( m, a, b, 0, 0 ), ab( m, h, k, 0, 0 );
		else
		{
			var n = (a + c) / 2, p = (b + d) / 2, q = (c + e) / 2, r = (d + f) / 2;
			e = (e + h) / 2;
			f = (f + k) / 2;
			d = (n + q) / 2;
			c = (p + r) / 2;
			var q = (q + e) / 2, r = (r + f) / 2, s = (d + q) / 2, t = (c + r) / 2;
			Qd( a, b, n, p, d, c, s, t, l, m );
			Qd( s, t, q, r, e, f, h, k, l, m )
		}
	}

	function Rd( a, b, c, d, e, f, h, k, l, m )
	{
		if( Jd( a, b, h, k, l, c, d ) && Jd( a, b, h, k, l, e, f ) )0 === m.length && (m.push( a ), m.push( b )), m.push( h ), m.push( k );
		else
		{
			var n = (a + c) / 2, p = (b + d) / 2, q = (c + e) / 2, r = (d + f) / 2;
			e = (e + h) / 2;
			f = (f + k) / 2;
			d = (n + q) / 2;
			c = (p + r) / 2;
			var q = (q + e) / 2, r = (r + f) / 2, s = (d + q) / 2, t = (c + r) / 2;
			Rd( a, b, n, p, d, c, s, t, l, m );
			Rd( s, t, q, r, e, f, h, k, l, m )
		}
	}

	function Sd( a, b, c, d, e, f, h, k, l, m, n, p, q, r )
	{
		var s = 1 - l;
		a = a * s + c * l;
		b = b * s + d * l;
		c = c * s + e * l;
		d = d * s + f * l;
		e = e * s + h * l;
		f = f * s + k * l;
		k = a * s + c * l;
		h = b * s + d * l;
		c = c * s + e * l;
		d = d * s + f * l;
		m.x = a;
		m.y = b;
		n.x = k;
		n.y = h;
		p.x = k * s + c * l;
		p.y = h * s + d * l;
		q.x = c;
		q.y = d;
		r.x = e;
		r.y = f
	}

	function Td( a, b, c, d, e, f, h, k, l, m )
	{
		if( Jd( a, b, e, f, m, c, d ) )return Jd( a, b, e, f, m, k, l );
		var n = (a + c) / 2, p = (b + d) / 2;
		c = (c + e) / 2;
		d = (d + f) / 2;
		var q = (n + c) / 2, r = (p + d) / 2;
		return Td( a, b, n, p, q, r, h, k, l, m ) || Td( q, r, c, d, e, f, h, k, l, m )
	}

	function Ud( a, b, c, d, e, f, h, k )
	{
		if( Jd( a, b, e, f, h, c, d ) )ab( k, a, b, 0, 0 ), ab( k, e, f, 0, 0 );
		else
		{
			var l = (a + c) / 2, m = (b + d) / 2;
			c = (c + e) / 2;
			d = (d + f) / 2;
			var n = (l + c) / 2, p = (m + d) / 2;
			Ud( a, b, l, m, n, p, h, k );
			Ud( n, p, c, d, e, f, h, k )
		}
	}

	function Vd( a, b, c, d, e, f, h, k )
	{
		if( Jd( a, b, e, f, h, c, d ) )0 === k.length && (k.push( a ), k.push( b )), k.push( e ), k.push( f );
		else
		{
			var l = (a + c) / 2, m = (b + d) / 2;
			c = (c + e) / 2;
			d = (d + f) / 2;
			var n = (l + c) / 2, p = (m + d) / 2;
			Vd( a, b, l, m, n, p, h, k );
			Vd( n, p, c, d, e, f, h, k )
		}
	}

	function Wd( a, b, c, d, e, f, h, k, l, m, n, p, q, r )
	{
		0 >= q && (q = 1E-6);
		if( Jd( a, b, h, k, q, c, d ) && Jd( a, b, h, k, q, e, f ) )
		{
			var s = (a - h) * (m - p) - (b - k) * (l - n);
			if( 0 === s )return!1;
			q = ((a * k - b * h) * (l - n) - (a - h) * (l * p - m * n)) / s;
			s = ((a * k - b * h) * (m - p) - (b - k) * (l * p - m * n)) / s;
			if( (l > n ? l - n : n - l) < (m > p ? m - p : p - m) )
			{
				if( h = l = 0, b < k ? (l = b, h = k) : (l = k, h = b), s < l || s > h )return!1
			}
			else if( a < h ? l = a : (l = h, h = a), q < l || q > h )return!1;
			r.x = q;
			r.y = s;
			return!0
		}
		var s = (a + c) / 2, t = (b + d) / 2;
		c = (c + e) / 2;
		d = (d + f) / 2;
		e = (e + h) / 2;
		f = (f + k) / 2;
		var u = (s + c) / 2, w = (t + d) / 2;
		c = (c + e) / 2;
		d = (d + f) / 2;
		var x = (u + c) / 2, z = (w + d) / 2,
			A = (n - l) * (n - l) + (p - m) * (p - m), H = !1;
		Wd( a, b, s, t, u, w, x, z, l, m, n, p, q, r ) && (b = (r.x - l) * (r.x - l) + (r.y - m) * (r.y - m), b < A && (A = b, H = !0));
		a = r.x;
		s = r.y;
		Wd( x, z, c, d, e, f, h, k, l, m, n, p, q, r ) && (b = (r.x - l) * (r.x - l) + (r.y - m) * (r.y - m), b < A ? H = !0 : (r.x = a, r.y = s));
		return H
	}

	function Xd( a, b, c, d, e, f, h, k, l, m, n, p, q )
	{
		var r = 0;
		0 >= q && (q = 1E-6);
		if( Jd( a, b, h, k, q, c, d ) && Jd( a, b, h, k, q, e, f ) )
		{
			q = (a - h) * (m - p) - (b - k) * (l - n);
			if( 0 === q )return r;
			var s = ((a * k - b * h) * (l - n) - (a - h) * (l * p - m * n)) / q, t = ((a * k - b * h) * (m - p) - (b - k) * (l * p - m * n)) / q;
			if( s >= n )return r;
			if( (l > n ? l - n : n - l) < (m > p ? m - p : p - m) )
			{
				if( a = l = 0, b < k ? (l = b, a = k) : (l = k, a = b), t < l || t > a )return r
			}
			else if( a < h ? (l = a, a = h) : l = h, s < l || s > a )return r;
			0 < q ? r++ : 0 > q && r--
		}
		else
		{
			var s = (a + c) / 2, t = (b + d) / 2, u = (c + e) / 2, w = (d + f) / 2;
			e = (e + h) / 2;
			f = (f + k) / 2;
			d = (s + u) / 2;
			c = (t + w) / 2;
			var u = (u + e) / 2, w = (w + f) / 2,
				x = (d + u) / 2, z = (c + w) / 2, r = r + Xd( a, b, s, t, d, c, x, z, l, m, n, p, q ), r = r + Xd( x, z, u, w, e, f, h, k, l, m, n, p, q )
		}
		return r
	}

	function Oa( a, b, c, d, e, f, h )
	{
		if( Dc( a, c ) )
		{
			var k = 0;
			c = 0;
			b < d ? (k = b, c = d) : (k = d, c = b);
			d = f;
			if( d < k )return h.x = a, h.y = k, !1;
			if( d > c )return h.x = a, h.y = c, !1;
			h.x = a;
			h.y = d;
			return!0
		}
		if( Dc( b, d ) )
		{
			a < c ? k = a : (k = c, c = a);
			d = e;
			if( d < k )return h.x = k, h.y = b, !1;
			if( d > c )return h.x = c, h.y = b, !1;
			h.x = d;
			h.y = b;
			return!0
		}
		k = ((a - e) * (a - c) + (b - f) * (b - d)) / ((c - a) * (c - a) + (d - b) * (d - b));
		if( -5E-6 > k )return h.x = a, h.y = b, !1;
		if( 1.000005 < k )return h.x = c, h.y = d, !1;
		h.x = a + k * (c - a);
		h.y = b + k * (d - b);
		return!0
	}

	function Yd( a, b, c, d, e, f, h, k, l )
	{
		if( K( a, c ) && K( b, d ) )return l.x = a, l.y = b, !1;
		if( Dc( e, h ) )
		{
			if( Dc( a, c ) )return Oa( a, b, c, d, e, f, l ), !1;
			f = (d - b) / (c - a) * (e - a) + b;
			return Oa( a, b, c, d, e, f, l )
		}
		k = (k - f) / (h - e);
		if( Dc( a, c ) )
		{
			f = k * (a - e) + f;
			c = h = 0;
			b < d ? (h = b, c = d) : (h = d, c = b);
			if( f < h )return l.x = a, l.y = h, !1;
			if( f > c )return l.x = a, l.y = c, !1;
			l.x = a;
			l.y = f;
			return!0
		}
		h = (d - b) / (c - a);
		if( Dc( k, h ) )return Oa( a, b, c, d, e, f, l ), !1;
		e = (h * a - k * e + f - b) / (h - k);
		if( Dc( h, 0 ) )
		{
			a < c ? h = a : (h = c, c = a);
			if( e < h )return l.x = h, l.y = b, !1;
			if( e > c )return l.x = c, l.y = b, !1;
			l.x = e;
			l.y = b;
			return!0
		}
		f =
			h * (e - a) + b;
		return Oa( a, b, c, d, e, f, l )
	}

	function Zd( a, b, c, d, e, f, h, k, l )
	{
		var m = 1E21, n = a, p = b;
		if( Yd( a, b, a, d, e, f, h, k, l ) )
		{
			var q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f);
			q < m && (m = q, n = l.x, p = l.y)
		}
		Yd( c, b, c, d, e, f, h, k, l ) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));
		Yd( a, b, c, b, e, f, h, k, l ) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));
		Yd( a, d, c, d, e, f, h, k, l ) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));
		l.x = n;
		l.y = p;
		return 1E21 > m
	}

	function $d( a, b, c, d, e, f, h, k, l )
	{
		c = a - c;
		var m = e - h, n = h = 0;
		0 === c || 0 === m ? 0 === c ? (k = (f - k) / m, h = a, n = k * h + (f - k * e)) : (d = (b - d) / c, h = e, n = d * h + (b - d * a)) : (d = (b - d) / c, k = (f - k) / m, a = b - d * a, h = (f - k * e - a) / (d - k), n = d * h + a);
		l.m( h, n );
		return l
	}

	function ke( a, b, c )
	{
		var d = b.x, e = b.y, f = c.x, h = c.y, k = a.left, l = a.right, m = a.top, n = a.bottom;
		return d === f ? (f = a = 0, e < h ? (a = e, f = h) : (a = h, f = e), k <= d && d <= l && a <= n && f >= m) : e === h ? (d < f ? a = d : (a = f, f = d), m <= e && e <= n && a <= l && f >= k) : a.Fa( b ) || a.Fa( c ) || le( k, m, l, m, d, e, f, h ) || le( l, m, l, n, d, e, f, h ) || le( l, n, k, n, d, e, f, h ) || le( k, n, k, m, d, e, f, h ) ? !0 : !1
	}

	function le( a, b, c, d, e, f, h, k )
	{
		return 0 >= me( a, b, c, d, e, f ) * me( a, b, c, d, h, k ) && 0 >= me( e, f, h, k, a, b ) * me( e, f, h, k, c, d )
	}

	function me( a, b, c, d, e, f )
	{
		c -= a;
		d -= b;
		a = e - a;
		b = f - b;
		f = a * d - b * c;
		0 === f && (f = a * c + b * d, 0 < f && (f = (a - c) * c + (b - d) * d, 0 > f && (f = 0)));
		return 0 > f ? -1 : 0 < f ? 1 : 0
	}

	function ne( a )
	{
		0 > a && (a += 360);
		360 <= a && (a -= 360);
		return a
	}

	function oe( a, b, c, d )
	{
		var e = Math.PI;
		d || (b *= e / 180, c *= e / 180);
		d = b < c ? 1 : -1;
		var f = [], h = e / 2, k = b;
		for( b = Math.min( 2 * e, Math.abs( c - b ) ); 1E-5 < b; )
		{
			c = k + d * Math.min( b, h );
			var e = (c - k) / 2, l = a * Math.cos( e ), m = a * Math.sin( e ), n = -m, p = l * l + n * n, q = p + l * l + n * m, p = 4 / 3 * (Math.sqrt( 2 * p * q ) - q) / (l * m - n * l), m = l - p * n, l = n + p * l, n = -l, p = e + k, e = Math.cos( p ), p = Math.sin( p );
			f.push( [0 + a * Math.cos( k ), 0 + a * Math.sin( k ), 0 + m * e - l * p, 0 + m * p + l * e, 0 + m * e - n * p, 0 + m * p + n * e, 0 + a * Math.cos( c ), 0 + a * Math.sin( c )] );
			b -= Math.abs( c - k );
			k = c
		}
		return f
	}

	function Pa( a, b, c, d, e, f, h )
	{
		c = Math.floor( (a - c) / e ) * e + c;
		d = Math.floor( (b - d) / f ) * f + d;
		var k = c;
		c + e - a < e / 2 && (k = c + e);
		a = d;
		d + f - b < f / 2 && (a = d + f);
		h.m( k, a )
	}

	function pe( a, b )
	{
		var c = Math.max( a, b ), d = Math.min( a, b ), e = 1, f = 1;
		do e = c % d, c = f = d, d = e;
		while( 0 < e );
		return f
	}

	function qe( a, b, c, d )
	{
		var e = 0 > c, f = 0 > d, h = 0, k = h = 0;
		a < b ? (h = 1, k = 0) : (h = 0, k = 1);
		var l = 0, m = 0, n = 0, p = 0, l = 0 === h ? a : b, n = 0 === h ? c : d;
		if( 0 === h ? e : f )n = -n;
		h = k;
		m = 0 === h ? a : b;
		p = 0 === h ? c : d;
		if( 0 === h ? e : f )p = -p;
		a = a = 0;
		if( 0 < p )if( 0 < n )
		{
			b = l * l;
			a = m * m;
			l *= n;
			c = m * p;
			d = -a + c;
			e = -a + Math.sqrt( l * l + c * c );
			m = d;
			for( f = 0; 9999999999 > f; ++f )
			{
				m = .5 * (d + e);
				if( m === d || m === e )break;
				k = l / (m + b);
				h = c / (m + a);
				k = k * k + h * h - 1;
				if( 0 < k )d = m;
				else if( 0 > k )e = m;
				else break
			}
			n = b * n / (m + b) - n;
			p = a * p / (m + a) - p;
			a = Math.sqrt( n * n + p * p )
		}
		else a = Math.abs( p - m );
		else p = l * l - m * m, a = l * n, a < p ? (p = a / p, a = m * Math.sqrt( Math.abs( 1 -
			p * p ) ), n = l * p - n, a = Math.sqrt( n * n + a * a )) : a = Math.abs( n - l );
		return a
	}

	function re( a )
	{
		1 < arguments.length && v.k( "Geometry constructor can take at most one optional argument, the Geometry type." );
		v.ec( this );
		this.D = !1;
		void 0 === a && (a = De);
		this.ia = a;
		this.Bb = this.vb = this.Cc = this.vc = 0;
		this.jj = new I( Ee );
		this.Ru = this.jj.F;
		this.Bu = (new B).freeze();
		this.$a = !0;
		this.Ph = tb;
		this.Qh = Fb;
		this.Sn = this.Un = NaN;
		this.oi = Fe
	}

	v.ea( "Geometry", re );
	v.Wh( re );
	re.prototype.copy = function()
	{
		var a = new re;
		a.ia = this.ia;
		a.vc = this.vc;
		a.Cc = this.Cc;
		a.vb = this.vb;
		a.Bb = this.Bb;
		for( var b = this.jj.n, c = b.length, d = a.jj, e = 0; e < c; e++ )
		{
			var f = b[e].copy();
			d.add( f )
		}
		a.Ru = this.Ru;
		a.Bu.assign( this.Bu );
		a.$a = this.$a;
		a.Ph = this.Ph.R();
		a.Qh = this.Qh.R();
		a.Un = this.Un;
		a.Sn = this.Sn;
		a.oi = this.oi;
		return a
	};
	var Ge;
	re.Line = Ge = v.p( re, "Line", 0 );
	var He;
	re.Rectangle = He = v.p( re, "Rectangle", 1 );
	var Ie;
	re.Ellipse = Ie = v.p( re, "Ellipse", 2 );
	var De;
	re.Path = De = v.p( re, "Path", 3 );
	re.prototype.Ea = function()
	{
		this.freeze();
		Object.freeze( this );
		return this
	};
	re.prototype.freeze = function()
	{
		this.D = !0;
		var a = this.Ub;
		a.freeze();
		for( var a = a.n, b = a.length, c = 0; c < b; c++ )a[c].freeze();
		return this
	};
	re.prototype.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		var a = this.Ub;
		a.Oa();
		for( var a = a.n, b = a.length, c = 0; c < b; c++ )a[c].Oa();
		return this
	};
	re.prototype.equalsApprox = re.prototype.Fc = function( a )
	{
		if( !(a instanceof re) )return!1;
		if( this.type !== a.type )return this.type === Ge && a.type === De ? Ze( this, a ) : a.type === Ge && this.type === De ? Ze( a, this ) : !1;
		if( this.type === De )
		{
			var b = this.Ub.n;
			a = a.Ub.n;
			var c = b.length;
			if( c !== a.length )return!1;
			for( var d = 0; d < c; d++ )if( !b[d].Fc( a[d] ) )return!1;
			return!0
		}
		return K( this.za, a.za ) && K( this.wa, a.wa ) && K( this.I, a.I ) && K( this.J, a.J )
	};
	function Ze( a, b )
	{
		if( a.type !== Ge || b.type !== De )return!1;
		if( 1 === b.Ub.count )
		{
			var c = b.Ub.da( 0 );
			if( 1 === c.sb.count && K( a.za, c.za ) && K( a.wa, c.wa ) && (c = c.sb.da( 0 ), c.type === $e && K( a.I, c.I ) && K( a.J, c.J )) )return!0
		}
		return!1
	}

	var af;
	re.stringify = af = function( a )
	{
		return a.toString()
	};
	re.prototype.toString = function( a )
	{
		void 0 === a && (a = -1);
		switch( this.type )
		{
		case Ge:
			return 0 > a ? "M" + this.za.toString() + " " + this.wa.toString() + "L" + this.I.toString() + " " + this.J.toString() : "M" + this.za.toFixed( a ) + " " + this.wa.toFixed( a ) + "L" + this.I.toFixed( a ) + " " + this.J.toFixed( a );
		case He:
			var b = new B( this.za, this.wa, 0, 0 );
			b.mF( this.I, this.J, 0, 0 );
			return 0 > a ? "M" + b.x.toString() + " " + b.y.toString() + "H" + b.right.toString() + "V" + b.bottom.toString() + "H" + b.left.toString() + "z" : "M" + b.x.toFixed( a ) + " " + b.y.toFixed( a ) + "H" + b.right.toFixed( a ) +
				"V" + b.bottom.toFixed( a ) + "H" + b.left.toFixed( a ) + "z";
		case Ie:
			b = new B( this.za, this.wa, 0, 0 );
			b.mF( this.I, this.J, 0, 0 );
			if( 0 > a )
			{
				var c = b.left.toString() + " " + (b.y + b.height / 2).toString(), d = b.right.toString() + " " + (b.y + b.height / 2).toString();
				return"M" + c + "A" + (b.width / 2).toString() + " " + (b.height / 2).toString() + " 0 0 1 " + d + "A" + (b.width / 2).toString() + " " + (b.height / 2).toString() + " 0 0 1 " + c
			}
			c = b.left.toFixed( a ) + " " + (b.y + b.height / 2).toFixed( a );
			d = b.right.toFixed( a ) + " " + (b.y + b.height / 2).toFixed( a );
			return"M" + c + "A" + (b.width /
				2).toFixed( a ) + " " + (b.height / 2).toFixed( a ) + " 0 0 1 " + d + "A" + (b.width / 2).toFixed( a ) + " " + (b.height / 2).toFixed( a ) + " 0 0 1 " + c;
		case De:
			for( var b = "", c = this.Ub.n, d = c.length, e = 0; e < d; e++ )
			{
				var f = c[e];
				0 < e && (b += " x ");
				f.tt && (b += "F ");
				b += f.toString( a )
			}
			return b;
		default:
			return this.type.toString()
		}
	};
	re.fillPath = function( a )
	{
		"string" !== typeof a && v.Gd( a, "string", re, "fillPath:str" );
		a = a.split( /[Xx]/ );
		for( var b = a.length, c = "", d = 0; d < b; d++ )var e = a[d], c = null !== e.match( /[Ff]/ ) ? 0 === d ? c + e : c + ("X" + (" " === e[0] ? "" : " ") + e) : c + ((0 === d ? "" : "X ") + "F" + (" " === e[0] ? "" : " ") + e);
		return c
	};
	var bf;
	re.parse = bf = function( a, b )
	{
		function c()
		{
			return m >= t - 1 ? !0 : null !== l[m + 1].match( /[A-Za-z]/ )
		}

		function d()
		{
			m++;
			return l[m]
		}

		function e()
		{
			var a = new y( parseFloat( d() ), parseFloat( d() ) );
			n === n.toLowerCase() && (a.x = s.x + a.x, a.y = s.y + a.y);
			return a
		}

		function f()
		{
			return s = e()
		}

		function h()
		{
			return r = e()
		}

		function k()
		{
			return"c" !== p.toLowerCase() && "s" !== p.toLowerCase() ? s : new y( 2 * s.x - r.x, 2 * s.y - r.y )
		}

		void 0 === b && (b = !1);
		"string" !== typeof a && v.Gd( a, "string", re, "parse:str" );
		a = a.replace( /,/gm, " " );
		a = a.replace( /([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
			"$1 $2" );
		a = a.replace( /([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm, "$1 $2" );
		a = a.replace( /([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm, "$1 $2" );
		a = a.replace( /([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm, "$1 $2" );
		a = a.replace( /([0-9])([+\-])/gm, "$1 $2" );
		a = a.replace( /(\.[0-9]*)(\.)/gm, "$1 $2" );
		a = a.replace( /([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 " );
		a = a.replace( /[\s\r\t\n]+/gm, " " );
		a = a.replace( /^\s+|\s+$/g, "" );
		for( var l = a.split( " " ), m = -1, n = "", p = "", q = new y( 0, 0 ), r = new y( 0, 0 ), s = new y( 0,
			0 ), t = l.length, u = v.s(), w = !1, x = !1, z = !0; !(m >= t - 1); )if( p = n, n = d(), "" !== n )switch( n.toUpperCase() )
		{
		case "X":
			z = !0;
			x = w = !1;
			break;
		case "M":
			var A = f();
			null === u.Rb || !0 === z ? (N( u, A.x, A.y, w, !1, !x ), z = !1) : u.moveTo( A.x, A.y );
			for( q = s; !c(); )A = f(), u.lineTo( A.x, A.y );
			break;
		case "L":
			for( ; !c(); )A = f(), u.lineTo( A.x, A.y );
			break;
		case "H":
			for( ; !c(); )s = A = new y( (n === n.toLowerCase() ? s.x : 0) + parseFloat( d() ), s.y ), u.lineTo( s.x, s.y );
			break;
		case "V":
			for( ; !c(); )s = A = new y( s.x, (n === n.toLowerCase() ? s.y : 0) + parseFloat( d() ) ), u.lineTo( s.x, s.y );
			break;
		case "C":
			for( ; !c(); )
			{
				var H = e(), C = h(), A = f();
				O( u, H.x, H.y, C.x, C.y, A.x, A.y )
			}
			break;
		case "S":
			for( ; !c(); )H = k(), C = h(), A = f(), O( u, H.x, H.y, C.x, C.y, A.x, A.y );
			break;
		case "Q":
			for( ; !c(); )C = h(), A = f(), cf( u, C.x, C.y, A.x, A.y );
			break;
		case "T":
			for( ; !c(); )r = C = k(), A = f(), cf( u, C.x, C.y, A.x, A.y );
			break;
		case "B":
			for( ; !c(); )
			{
				var A = parseFloat( d() ), H = parseFloat( d() ), C = parseFloat( d() ), T = parseFloat( d() ), ba = parseFloat( d() ), U = ba, M = !1;
				c() || (U = parseFloat( d() ), c() || (M = 0 !== parseFloat( d() )));
				n === n.toLowerCase() && (C += s.x, T += s.y);
				u.arcTo( A, H,
					C, T, ba, U, M )
			}
			break;
		case "A":
			for( ; !c(); )H = Math.abs( parseFloat( d() ) ), C = Math.abs( parseFloat( d() ) ), T = parseFloat( d() ), ba = !!parseFloat( d() ), U = !!parseFloat( d() ), A = f(), df( u, H, C, T, ba, U, A.x, A.y );
			break;
		case "Z":
			A = u.o.Ub.n[u.o.Ub.length - 1];
			P( u );
			s = q;
			break;
		case "F":
			A = "";
			for( H = 1; l[m + H]; )if( null !== l[m + H].match( /[Uu]/ ) )H++;
			else if( null === l[m + H].match( /[A-Za-z]/ ) )H++;
			else
			{
				A = l[m + H];
				break
			}
			A.match( /[Mm]/ ) ? w = !0 : ef( u );
			break;
		case "U":
			A = "";
			for( H = 1; l[m + H]; )if( null !== l[m + H].match( /[Ff]/ ) )H++;
			else if( null === l[m + H].match( /[A-Za-z]/ ) )H++;
			else
			{
				A = l[m + H];
				break
			}
			A.match( /[Mm]/ ) ? x = !0 : u.Ya( !1 )
		}
		q = u.o;
		v.q( u );
		if( b )for( u = q.Ub.i; u.next(); )A = u.value, A.tt = !0;
		return q
	};
	function ff( a, b )
	{
		for( var c = a.length, d = v.L(), e = 0; e < c; e++ )
		{
			var f = a[e];
			d.x = f[0];
			d.y = f[1];
			b.ub( d );
			f[0] = d.x;
			f[1] = d.y;
			d.x = f[2];
			d.y = f[3];
			b.ub( d );
			f[2] = d.x;
			f[3] = d.y;
			d.x = f[4];
			d.y = f[5];
			b.ub( d );
			f[4] = d.x;
			f[5] = d.y;
			d.x = f[6];
			d.y = f[7];
			b.ub( d );
			f[6] = d.x;
			f[7] = d.y
		}
		v.v( d )
	}

	re.prototype.Dz = function()
	{
		if( this.$a || this.Ru !== this.Ub.F )return!0;
		for( var a = this.Ub.n, b = a.length, c = 0; c < b; c++ )if( a[c].Dz() )return!0;
		return!1
	};
	re.prototype.yA = function()
	{
		this.$a = !1;
		this.Ru = this.Ub.F;
		for( var a = this.Ub.n, b = a.length, c = 0; c < b; c++ )a[c].yA()
	};
	re.prototype.ah = function()
	{
		var a = this.Bu;
		a.Oa();
		isNaN( this.Un ) || isNaN( this.Sn ) ? a.m( 0, 0, 0, 0 ) : a.m( 0, 0, this.Un, this.Sn );
		gf( this, a, !1 );
		ab( a, 0, 0, 0, 0 );
		a.freeze()
	};
	re.prototype.computeBoundsWithoutOrigin = re.prototype.qG = function()
	{
		var a = new B;
		gf( this, a, !0 );
		return a
	};
	function gf( a, b, c )
	{
		switch( a.type )
		{
		case Ge:
		case He:
		case Ie:
			c ? b.m( a.vc, a.Cc, 0, 0 ) : ab( b, a.vc, a.Cc, 0, 0 );
			ab( b, a.vb, a.Bb, 0, 0 );
			break;
		case De:
			var d = a.Ub;
			a = d.n;
			for( var d = d.length, e = 0; e < d; e++ )
			{
				var f = a[e];
				c && 0 === e ? b.m( f.za, f.wa, 0, 0 ) : ab( b, f.za, f.wa, 0, 0 );
				for( var h = f.sb.n, k = h.length, l = f.za, m = f.wa, n = 0; n < k; n++ )
				{
					var p = h[n];
					switch( p.type )
					{
					case $e:
					case hf:
						l = p.I;
						m = p.J;
						ab( b, l, m, 0, 0 );
						break;
					case jf:
						Qd( l, m, p.qc, p.Kc, p.lh, p.mh, p.I, p.J, .5, b );
						l = p.I;
						m = p.J;
						break;
					case kf:
						Ud( l, m, p.qc, p.Kc, p.I, p.J, .5, b );
						l = p.I;
						m = p.J;
						break;
					case lf:
					case mf:
						var q =
								p.type === lf ? nf( p, f ) : of( p, f, l, m ), r = q.length;
						if( 0 === r )
						{
							l = p.na;
							m = p.ua;
							ab( b, l, m, 0, 0 );
							break
						}
						for( var p = null, s = 0; s < r; s++ )p = q[s], Qd( p[0], p[1], p[2], p[3], p[4], p[5], p[6], p[7], .5, b );
						null !== p && (l = p[6], m = p[7]);
						break;
					default:
						v.k( "Unknown Segment type: " + p.type )
					}
				}
			}
			break;
		default:
			v.k( "Unknown Geometry type: " + a.type )
		}
	}

	re.prototype.normalize = re.prototype.normalize = function()
	{
		this.D && v.ka( this );
		var a = this.qG();
		this.offset( -a.x, -a.y );
		return new y( -a.x, -a.y )
	};
	re.prototype.offset = re.prototype.offset = function( a, b )
	{
		this.D && v.ka( this );
		this.transform( 1, 0, 0, 1, a, b );
		return this
	};
	re.prototype.scale = re.prototype.scale = function( a, b )
	{
		this.D && v.ka( this );
		this.transform( a, 0, 0, b, 0, 0 );
		return this
	};
	re.prototype.rotate = re.prototype.rotate = function( a, b, c )
	{
		this.D && v.ka( this );
		void 0 === b && (b = 0);
		void 0 === c && (c = 0);
		var d = v.qh();
		d.reset();
		d.rotate( a, b, c );
		this.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy );
		v.$e( d );
		return this
	};
	re.prototype.transform = re.prototype.transform = function( a, b, c, d, e, f )
	{
		var h = 0, k = 0;
		switch( this.type )
		{
		case Ge:
		case He:
		case Ie:
			h = this.vc;
			k = this.Cc;
			this.vc = h * a + k * c + e;
			this.Cc = h * b + k * d + f;
			h = this.vb;
			k = this.Bb;
			this.vb = h * a + k * c + e;
			this.Bb = h * b + k * d + f;
			break;
		case De:
			for( var l = this.Ub.n, m = l.length, n = 0; n < m; n++ )
			{
				var p = l[n], h = p.za, k = p.wa;
				p.za = h * a + k * c + e;
				p.wa = h * b + k * d + f;
				for( var p = p.sb.n, q = p.length, r = 0; r < q; r++ )
				{
					var s = p[r];
					switch( s.type )
					{
					case $e:
					case hf:
						h = s.I;
						k = s.J;
						s.I = h * a + k * c + e;
						s.J = h * b + k * d + f;
						break;
					case jf:
						h = s.qc;
						k = s.Kc;
						s.qc =
							h * a + k * c + e;
						s.Kc = h * b + k * d + f;
						h = s.lh;
						k = s.mh;
						s.lh = h * a + k * c + e;
						s.mh = h * b + k * d + f;
						h = s.I;
						k = s.J;
						s.I = h * a + k * c + e;
						s.J = h * b + k * d + f;
						break;
					case kf:
						h = s.qc;
						k = s.Kc;
						s.qc = h * a + k * c + e;
						s.Kc = h * b + k * d + f;
						h = s.I;
						k = s.J;
						s.I = h * a + k * c + e;
						s.J = h * b + k * d + f;
						break;
					case lf:
						h = s.na;
						k = s.ua;
						s.na = h * a + k * c + e;
						s.ua = h * b + k * d + f;
						0 !== b && (h = 180 * Math.atan2( b, a ) / Math.PI, 0 > h && (h += 360), s.ye += h);
						0 > a && (s.ye = 180 - s.ye, s.Bf = -s.Bf);
						0 > d && (s.ye = -s.ye, s.Bf = -s.Bf);
						s.radiusX *= Math.sqrt( a * a + c * c );
						void 0 !== s.radiusY && (s.radiusY *= Math.sqrt( b * b + d * d ));
						break;
					case mf:
						h = s.I;
						k = s.J;
						s.I = h *
							a + k * c + e;
						s.J = h * b + k * d + f;
						0 !== b && (h = 180 * Math.atan2( b, a ) / Math.PI, 0 > h && (h += 360), s.ej += h);
						0 > a && (s.ej = 180 - s.ej, s.sl = !s.sl);
						0 > d && (s.ej = -s.ej, s.sl = !s.sl);
						s.radiusX *= Math.sqrt( a * a + c * c );
						s.radiusY *= Math.sqrt( b * b + d * d );
						break;
					default:
						v.k( "Unknown Segment type: " + s.type )
					}
				}
			}
		}
		this.$a = !0;
		return this
	};
	re.prototype.Fa = function( a, b, c, d )
	{
		var e = a.x, f = a.y, h = this.mb.x - 20;
		a = a.y;
		for( var k = 0, l = 0, m = 0, n = 0, p = 0, q = 0, r = this.Ub.n, s = r.length, t = 0; t < s; t++ )
		{
			var u = r[t];
			if( u.tt )
			{
				if( c && u.Fa( e, f, b ) )return!0;
				for( var w = u.sb, l = u.za, m = u.wa, x = l, z = m, A = w.n, H = 0; H <= w.length; H++ )
				{
					var C, T;
					H !== w.length ? (C = A[H], T = C.type, p = C.I, q = C.J) : (T = $e, p = x, q = z);
					switch( T )
					{
					case hf:
						n = pf( e, f, h, a, l, m, x, z );
						if( isNaN( n ) )return!0;
						k += n;
						x = p;
						z = q;
						break;
					case $e:
						n = pf( e, f, h, a, l, m, p, q );
						if( isNaN( n ) )return!0;
						k += n;
						break;
					case jf:
						n = Xd( l, m, C.qc, C.Kc, C.lh, C.mh, p, q, h,
							a, e, f, .5 );
						k += n;
						break;
					case kf:
						n = Xd( l, m, (l + 2 * C.qc) / 3, (m + 2 * C.Kc) / 3, (2 * C.qc + p) / 3, (2 * C.Kc + q) / 3, p, q, h, a, e, f, .5 );
						k += n;
						break;
					case lf:
					case mf:
						T = C.type === lf ? nf( C, u ) : of( C, u, l, m );
						var ba = T.length;
						if( 0 === ba )
						{
							n = pf( e, f, h, a, l, m, C.na, C.ua );
							if( isNaN( n ) )return!0;
							k += n;
							break
						}
						for( var U = null, M = 0; M < ba; M++ )
						{
							U = T[M];
							if( 0 === M )
							{
								n = pf( e, f, h, a, l, m, U[0], U[1] );
								if( isNaN( n ) )return!0;
								k += n
							}
							n = Xd( U[0], U[1], U[2], U[3], U[4], U[5], U[6], U[7], h, a, e, f, .5 );
							k += n
						}
						null !== U && (p = U[6], q = U[7]);
						break;
					default:
						v.k( "Unknown Segment type: " + C.type )
					}
					l = p;
					m = q
				}
				if( 0 !==
					k )return!0;
				k = 0
			}
			else if( u.Fa( e, f, d ? b : b + 2 ) )return!0
		}
		return 0 !== k
	};
	function pf( a, b, c, d, e, f, h, k )
	{
		if( Jd( e, f, h, k, .05, a, b ) )return NaN;
		var l = (a - c) * (f - k);
		if( 0 === l )return 0;
		var m = ((a * d - b * c) * (e - h) - (a - c) * (e * k - f * h)) / l;
		b = (a * d - b * c) * (f - k) / l;
		if( m >= a )return 0;
		if( (e > h ? e - h : h - e) < (f > k ? f - k : k - f) )
		{
			if( e = a = 0, f < k ? (a = f, e = k) : (a = k, e = f), b < a || b > e )return 0
		}
		else if( e < h ? (a = e, e = h) : a = h, m < a || m > e )return 0;
		return 0 < l ? 1 : -1
	}

	function vf( a, b, c, d )
	{
		a = a.Ub.n;
		for( var e = a.length, f = 0; f < e; f++ )if( a[f].Fa( b, c, d ) )return!0;
		return!1
	}

	re.prototype.getPointAlongPath = function( a )
	{
		(0 > a || 1 < a) && v.va( a, "0 <= fraction <= 1", re, "getPointAlongPath:fraction" );
		var b = this.Ub.first(), c = v.jb(), d = [];
		d.push( b.za );
		d.push( b.wa );
		for( var e = b.za, f = b.wa, h = e, k = f, l = b.sb.n, m = l.length, n = 0; n < m; n++ )
		{
			var p = l[n];
			switch( p.ia )
			{
			case hf:
				c.push( d );
				d = [];
				d.push( p.I );
				d.push( p.J );
				e = p.I;
				f = p.J;
				h = e;
				k = f;
				break;
			case $e:
				d.push( p.I );
				d.push( p.J );
				e = p.I;
				f = p.J;
				break;
			case jf:
				Rd( e, f, p.td, p.Ge, p.Yg, p.og, p.vb, p.Bb, .5, d );
				e = p.I;
				f = p.J;
				break;
			case kf:
				Vd( e, f, p.td, p.Ge, p.vb, p.Bb, .5, d );
				e = p.I;
				f = p.J;
				break;
			case lf:
				var q = nf( p, b ), r = q.length;
				if( 0 === r )
				{
					d.push( p.na );
					d.push( p.ua );
					e = p.na;
					f = p.ua;
					break
				}
				for( var s = 0; s < r; s++ )
				{
					var t = q[s];
					Rd( e, f, t[2], t[3], t[4], t[5], t[6], t[7], .5, d );
					e = t[6];
					f = t[7]
				}
				break;
			case mf:
				q = of( p, b, e, f );
				r = q.length;
				for( s = 0; s < r; s++ )t = q[s], Rd( e, f, t[2], t[3], t[4], t[5], t[6], t[7], .5, d ), e = t[6], f = t[7];
				break;
			default:
				v.k( "Segment not of valid type" )
			}
			p.Eh && (d.push( h ), d.push( k ))
		}
		c.push( d );
		q = 0;
		h = c.length;
		for( k = d = b = 0; k < h; k++ )for( l = c[k], m = l.length, n = 0; n < m; n += 2 )e = l[n], f = l[n + 1], 0 !== n && (p = Math.sqrt( Ta( b,
			d, e, f ) ), q += p), b = e, d = f;
		a *= q;
		for( k = q = 0; k < h; k++ )for( l = c[k], m = l.length, n = 0; n < m; n++ )
		{
			e = l[n];
			f = l[n + 1];
			if( 0 !== n )
			{
				p = Math.sqrt( Ta( b, d, e, f ) );
				if( q + p > a )return n = (a - q) / p, v.sa( c ), new y( b + (e - b) * n, d + (f - d) * n );
				q += p
			}
			b = e;
			d = f
		}
		v.sa( c );
		return null
	};
	v.defineProperty( re, {type: "type"}, function()
	{
		return this.ia
	}, function( a )
	{
		this.ia !== a && (this.D && v.ka( this, a ), this.ia = a, this.$a = !0)
	} );
	v.defineProperty( re, {za: "startX"}, function()
	{
		return this.vc
	}, function( a )
	{
		this.vc !== a && (this.D && v.ka( this, a ), this.vc = a, this.$a = !0)
	} );
	v.defineProperty( re, {wa: "startY"}, function()
	{
		return this.Cc
	}, function( a )
	{
		this.Cc !== a && (this.D && v.ka( this, a ), this.Cc = a, this.$a = !0)
	} );
	v.defineProperty( re, {I: "endX"}, function()
	{
		return this.vb
	}, function( a )
	{
		this.vb !== a && (this.D && v.ka( this, a ), this.vb = a, this.$a = !0)
	} );
	v.defineProperty( re, {J: "endY"}, function()
	{
		return this.Bb
	}, function( a )
	{
		this.Bb !== a && (this.D && v.ka( this, a ), this.Bb = a, this.$a = !0)
	} );
	v.defineProperty( re, {Ub: "figures"}, function()
	{
		return this.jj
	}, function( a )
	{
		this.jj !== a && (this.D && v.ka( this, a ), this.jj = a, this.$a = !0)
	} );
	re.prototype.add = re.prototype.add = function( a )
	{
		this.jj.add( a );
		return this
	};
	re.prototype.setSpots = function( a, b, c, d, e, f, h, k )
	{
		this.D && v.ka( this );
		this.Ph = (new L( a, b, e, f )).freeze();
		this.Qh = (new L( c, d, h, k )).freeze();
		return this
	};
	v.defineProperty( re, {B: "spot1"}, function()
	{
		return this.Ph
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Ph = a.R()
	} );
	v.defineProperty( re, {C: "spot2"}, function()
	{
		return this.Qh
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Qh = a.R()
	} );
	v.defineProperty( re, {Od: "defaultStretch"}, function()
	{
		return this.oi
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.oi = a
	} );
	v.u( re, {mb: "bounds"}, function()
	{
		this.Dz() && (this.yA(), this.ah());
		return this.Bu
	} );
	function Ee( a, b, c, d )
	{
		v.ec( this );
		this.D = !1;
		void 0 === c && (c = !0);
		this.Sl = c;
		void 0 === d && (d = !0);
		this.Vn = d;
		this.vc = void 0 !== a ? a : 0;
		this.Cc = void 0 !== b ? b : 0;
		this.ro = new I( wf );
		this.Qv = this.ro.F;
		this.$a = !0
	}

	v.ea( "PathFigure", Ee );
	v.Wh( Ee );
	Ee.prototype.copy = function()
	{
		var a = new Ee;
		a.Sl = this.Sl;
		a.Vn = this.Vn;
		a.vc = this.vc;
		a.Cc = this.Cc;
		for( var b = this.ro.n, c = b.length, d = a.ro, e = 0; e < c; e++ )
		{
			var f = b[e].copy();
			d.add( f )
		}
		a.Qv = this.Qv;
		a.$a = this.$a;
		return a
	};
	Ee.prototype.equalsApprox = Ee.prototype.Fc = function( a )
	{
		if( !(a instanceof Ee && K( this.za, a.za ) && K( this.wa, a.wa )) )return!1;
		var b = this.sb.n;
		a = a.sb.n;
		var c = b.length;
		if( c !== a.length )return!1;
		for( var d = 0; d < c; d++ )if( !b[d].Fc( a[d] ) )return!1;
		return!0
	};
	g = Ee.prototype;
	g.toString = function( a )
	{
		void 0 === a && (a = -1);
		for( var b = 0 > a ? "M" + this.za.toString() + " " + this.wa.toString() : "M" + this.za.toFixed( a ) + " " + this.wa.toFixed( a ), c = this.sb.n, d = c.length, e = 0; e < d; e++ )b += " " + c[e].toString( a );
		return b
	};
	g.freeze = function()
	{
		this.D = !0;
		var a = this.sb;
		a.freeze();
		for( var b = a.n, a = a.length, c = 0; c < a; c++ )b[c].freeze();
		return this
	};
	g.Oa = function()
	{
		this.D = !1;
		var a = this.sb;
		a.Oa();
		for( var a = a.n, b = a.length, c = 0; c < b; c++ )a[c].Oa();
		return this
	};
	g.Dz = function()
	{
		if( this.$a )return!0;
		var a = this.sb;
		if( this.Qv !== a.F )return!0;
		for( var a = a.n, b = a.length, c = 0; c < b; c++ )if( a[c].$a )return!0;
		return!1
	};
	g.yA = function()
	{
		this.$a = !1;
		var a = this.sb;
		this.Qv = a.F;
		for( var a = a.n, b = a.length, c = 0; c < b; c++ )
		{
			var d = a[c];
			d.$a = !1;
			d.dg = null
		}
	};
	v.defineProperty( Ee, {tt: "isFilled"}, function()
	{
		return this.Sl
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Sl = a
	} );
	v.defineProperty( Ee, {vl: "isShadowed"}, function()
	{
		return this.Vn
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Vn = a
	} );
	v.defineProperty( Ee, {za: "startX"}, function()
	{
		return this.vc
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.vc = a;
		this.$a = !0
	} );
	v.defineProperty( Ee, {wa: "startY"}, function()
	{
		return this.Cc
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Cc = a;
		this.$a = !0
	} );
	v.defineProperty( Ee, {sb: "segments"}, function()
	{
		return this.ro
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.ro = a;
		this.$a = !0
	} );
	Ee.prototype.add = Ee.prototype.add = function( a )
	{
		this.ro.add( a );
		return this
	};
	Ee.prototype.Fa = function( a, b, c )
	{
		for( var d = this.za, e = this.wa, f = d, h = e, k = this.sb.n, l = k.length, m = 0; m < l; m++ )
		{
			var n = k[m];
			switch( n.type )
			{
			case hf:
				f = n.I;
				h = n.J;
				d = n.I;
				e = n.J;
				break;
			case $e:
				if( Jd( d, e, n.I, n.J, c, a, b ) )return!0;
				d = n.I;
				e = n.J;
				break;
			case jf:
				if( Pd( d, e, n.qc, n.Kc, n.lh, n.mh, n.I, n.J, .5, a, b, c ) )return!0;
				d = n.I;
				e = n.J;
				break;
			case kf:
				if( Td( d, e, n.qc, n.Kc, n.I, n.J, .5, a, b, c ) )return!0;
				d = n.I;
				e = n.J;
				break;
			case lf:
			case mf:
				var p = n.type === lf ? nf( n, this ) : of( n, this, d, e ), q = p.length;
				if( 0 === q )
				{
					if( Jd( d, e, n.na, n.ua, c, a, b ) )return!0;
					d = n.na;
					e = n.ua;
					break
				}
				for( var r = null, s = 0; s < q; s++ )if( r = p[s], 0 === s && Jd( d, e, r[0], r[1], c, a, b ) || Pd( r[0], r[1], r[2], r[3], r[4], r[5], r[6], r[7], .5, a, b, c ) )return!0;
				null !== r && (d = r[6], e = r[7]);
				break;
			default:
				v.k( "Unknown Segment type: " + n.type )
			}
			if( n.Fw && (d !== f || e !== h) && Jd( d, e, f, h, c, a, b ) )return!0
		}
		return!1
	};
	function wf( a, b, c, d, e, f, h, k )
	{
		v.ec( this );
		this.D = !1;
		void 0 === a && (a = $e);
		this.ia = a;
		this.vb = void 0 !== b ? b : 0;
		this.Bb = void 0 !== c ? c : 0;
		void 0 === d && (d = 0);
		void 0 === e && (e = 0);
		void 0 === f && (f = 0);
		void 0 === h && (h = 0);
		a === mf ? (a = f % 360, 0 > a && (a += 360), this.td = a, this.Ge = 0, this.Yg = Math.max( d, 0 ), this.og = Math.max( e, 0 ), this.$n = "boolean" === typeof h ? !!h : !1, this.rn = !!k) : (this.td = d, this.Ge = e, a === lf && (f = Math.max( f, 0 )), this.Yg = f, "number" === typeof h ? (a === lf && (h = Math.max( h, 0 )), this.og = h) : this.og = 0, this.rn = this.$n = !1);
		this.Eh = !1;
		this.$a = !0;
		this.dg = null
	}

	v.ea( "PathSegment", wf );
	v.Wh( wf );
	wf.prototype.copy = function()
	{
		var a = new wf;
		a.ia = this.ia;
		a.vb = this.vb;
		a.Bb = this.Bb;
		a.td = this.td;
		a.Ge = this.Ge;
		a.Yg = this.Yg;
		a.og = this.og;
		a.$n = this.$n;
		a.rn = this.rn;
		a.Eh = this.Eh;
		a.$a = this.$a;
		return a
	};
	wf.prototype.equalsApprox = wf.prototype.Fc = function( a )
	{
		if( !(a instanceof wf) || this.type !== a.type || this.Fw !== a.Fw )return!1;
		switch( this.type )
		{
		case hf:
		case $e:
			return K( this.I, a.I ) && K( this.J, a.J );
		case jf:
			return K( this.I, a.I ) && K( this.J, a.J ) && K( this.qc, a.qc ) && K( this.Kc, a.Kc ) && K( this.lh, a.lh ) && K( this.mh, a.mh );
		case kf:
			return K( this.I, a.I ) && K( this.J, a.J ) && K( this.qc, a.qc ) && K( this.Kc, a.Kc );
		case lf:
			return K( this.ye, a.ye ) && K( this.Bf, a.Bf ) && K( this.na, a.na ) && K( this.ua, a.ua ) && K( this.radiusX, a.radiusX ) && K( this.radiusY,
				a.radiusY );
		case mf:
			return this.sl === a.sl && this.Iw === a.Iw && K( this.ej, a.ej ) && K( this.I, a.I ) && K( this.J, a.J ) && K( this.radiusX, a.radiusX ) && K( this.radiusY, a.radiusY );
		default:
			return!1
		}
	};
	wf.prototype.toString = function( a )
	{
		void 0 === a && (a = -1);
		var b = "";
		switch( this.type )
		{
		case hf:
			b = 0 > a ? "M" + this.I.toString() + " " + this.J.toString() : "M" + this.I.toFixed( a ) + " " + this.J.toFixed( a );
			break;
		case $e:
			b = 0 > a ? "L" + this.I.toString() + " " + this.J.toString() : "L" + this.I.toFixed( a ) + " " + this.J.toFixed( a );
			break;
		case jf:
			b = 0 > a ? "C" + this.qc.toString() + " " + this.Kc.toString() + " " + this.lh.toString() + " " + this.mh.toString() + " " + this.I.toString() + " " + this.J.toString() : "C" + this.qc.toFixed( a ) + " " + this.Kc.toFixed( a ) + " " + this.lh.toFixed( a ) +
				" " + this.mh.toFixed( a ) + " " + this.I.toFixed( a ) + " " + this.J.toFixed( a );
			break;
		case kf:
			b = 0 > a ? "Q" + this.qc.toString() + " " + this.Kc.toString() + " " + this.I.toString() + " " + this.J.toString() : "Q" + this.qc.toFixed( a ) + " " + this.Kc.toFixed( a ) + " " + this.I.toFixed( a ) + " " + this.J.toFixed( a );
			break;
		case lf:
			b = 0 > a ? "B" + this.ye.toString() + " " + this.Bf.toString() + " " + this.na.toString() + " " + this.ua.toString() + " " + this.radiusX : "B" + this.ye.toFixed( a ) + " " + this.Bf.toFixed( a ) + " " + this.na.toFixed( a ) + " " + this.ua.toFixed( a ) + " " + this.radiusX;
			break;
		case mf:
			b = 0 > a ? "A" + this.radiusX.toString() + " " + this.radiusY.toString() + " " + this.ej.toString() + " " + (this.Iw ? 1 : 0) + " " + (this.sl ? 1 : 0) + " " + this.I.toString() + " " + this.J.toString() : "A" + this.radiusX.toFixed( a ) + " " + this.radiusY.toFixed( a ) + " " + this.ej.toFixed( a ) + " " + (this.Iw ? 1 : 0) + " " + (this.sl ? 1 : 0) + " " + this.I.toFixed( a ) + " " + this.J.toFixed( a );
			break;
		default:
			b = this.type.toString()
		}
		return b + (this.Eh ? "z" : "")
	};
	var hf;
	wf.Move = hf = v.p( wf, "Move", 0 );
	var $e;
	wf.Line = $e = v.p( wf, "Line", 1 );
	var jf;
	wf.Bezier = jf = v.p( wf, "Bezier", 2 );
	var kf;
	wf.QuadraticBezier = kf = v.p( wf, "QuadraticBezier", 3 );
	var lf;
	wf.Arc = lf = v.p( wf, "Arc", 4 );
	var mf;
	wf.SvgArc = mf = v.p( wf, "SvgArc", 4 );
	wf.prototype.freeze = function()
	{
		this.D = !0;
		return this
	};
	wf.prototype.Oa = function()
	{
		this.D = !1;
		return this
	};
	wf.prototype.close = wf.prototype.close = function()
	{
		this.Eh = !0;
		return this
	};
	function nf( a, b )
	{
		if( null !== a.dg && !1 === b.$a )return a.dg;
		var c = a.radiusX, d = a.radiusY;
		void 0 === d && (d = c);
		if( 0 === c || 0 === d )return a.dg = [], a.dg;
		var e = a.td, f = a.Ge, h = oe( c < d ? c : d, a.ye, a.ye + a.Bf, !1 );
		if( c !== d )
		{
			var k = v.qh();
			k.reset();
			c < d ? k.scale( 1, d / c ) : k.scale( c / d, 1 );
			ff( h, k );
			v.$e( k )
		}
		c = h.length;
		for( d = 0; d < c; d++ )k = h[d], k[0] += e, k[1] += f, k[2] += e, k[3] += f, k[4] += e, k[5] += f, k[6] += e, k[7] += f;
		a.dg = h;
		return a.dg
	}

	function of( a, b, c, d )
	{
		function e( a, b, c, d )
		{
			return(a * d < b * c ? -1 : 1) * Math.acos( (a * c + b * d) / (Math.sqrt( a * a + b * b ) * Math.sqrt( c * c + d * d )) )
		}

		if( null !== a.dg && !1 === b.$a )return a.dg;
		b = a.Yg;
		var f = a.og;
		if( 0 === b || 0 === f )return a.dg = [], a.dg;
		var h = Math.PI / 180 * a.td, k = a.$n, l = a.rn, m = a.vb, n = a.Bb, p = Math.cos( h ), q = Math.sin( h ), r = p * (c - m) / 2 + q * (d - n) / 2, h = -q * (c - m) / 2 + p * (d - n) / 2, s = r * r / (b * b) + h * h / (f * f);
		1 < s && (b *= Math.sqrt( s ), f *= Math.sqrt( s ));
		s = (k === l ? -1 : 1) * Math.sqrt( (b * b * f * f - b * b * h * h - f * f * r * r) / (b * b * h * h + f * f * r * r) );
		isNaN( s ) && (s = 0);
		k = s * b * h / f;
		s = s * -f *
			r / b;
		isNaN( k ) && (k = 0);
		isNaN( s ) && (s = 0);
		c = (c + m) / 2 + p * k - q * s;
		d = (d + n) / 2 + q * k + p * s;
		n = e( 1, 0, (r - k) / b, (h - s) / f );
		p = (r - k) / b;
		m = (h - s) / f;
		r = (-r - k) / b;
		k = (-h - s) / f;
		h = e( p, m, r, k );
		r = (p * r + m * k) / (Math.sqrt( p * p + m * m ) * Math.sqrt( r * r + k * k ));
		-1 >= r ? h = Math.PI : 1 <= r && (h = 0);
		!l && 0 < h && (h -= 2 * Math.PI);
		l && 0 > h && (h += 2 * Math.PI);
		l = b > f ? 1 : b / f;
		r = b > f ? f / b : 1;
		b = oe( b > f ? b : f, n, n + h, !0 );
		f = v.qh();
		f.reset();
		f.translate( c, d );
		f.rotate( a.td, 0, 0 );
		f.scale( l, r );
		ff( b, f );
		v.$e( f );
		a.dg = b;
		return a.dg
	}

	v.defineProperty( wf, {Fw: "isClosed"}, function()
	{
		return this.Eh
	}, function( a )
	{
		this.Eh !== a && (this.Eh = a, this.$a = !0)
	} );
	v.defineProperty( wf, {type: "type"}, function()
	{
		return this.ia
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.ia = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {I: "endX"}, function()
	{
		return this.vb
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.vb = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {J: "endY"}, function()
	{
		return this.Bb
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Bb = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {qc: "point1X"}, function()
	{
		return this.td
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.td = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {Kc: "point1Y"}, function()
	{
		return this.Ge
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Ge = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {lh: "point2X"}, function()
	{
		return this.Yg
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Yg = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {mh: "point2Y"}, function()
	{
		return this.og
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.og = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {na: "centerX"}, function()
	{
		return this.td
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.td = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {ua: "centerY"}, function()
	{
		return this.Ge
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Ge = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {radiusX: "radiusX"}, function()
	{
		return this.Yg
	}, function( a )
	{
		0 > a && v.va( a, ">= zero", wf, "radiusX" );
		this.D && v.ka( this, a );
		this.Yg = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {radiusY: "radiusY"}, function()
	{
		return this.og
	}, function( a )
	{
		0 > a && v.va( a, ">= zero", wf, "radiusY" );
		this.D && v.ka( this, a );
		this.og = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {ye: "startAngle"}, function()
	{
		return this.vb
	}, function( a )
	{
		this.vb !== a && (this.D && v.ka( this, a ), a %= 360, 0 > a && (a += 360), this.vb = a, this.$a = !0)
	} );
	v.defineProperty( wf, {Bf: "sweepAngle"}, function()
	{
		return this.Bb
	}, function( a )
	{
		this.D && v.ka( this, a );
		360 < a && (a = 360);
		-360 > a && (a = -360);
		this.Bb = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {sl: "isClockwiseArc"}, function()
	{
		return this.rn
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.rn = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {Iw: "isLargeArc"}, function()
	{
		return this.$n
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.$n = a;
		this.$a = !0
	} );
	v.defineProperty( wf, {ej: "xAxisRotation"}, function()
	{
		return this.td
	}, function( a )
	{
		a %= 360;
		0 > a && (a += 360);
		this.D && v.ka( this, a );
		this.td = a;
		this.$a = !0
	} );
	function xf()
	{
		this.S = null;
		this.Qy = (new y( 0, 0 )).freeze();
		this.Vx = (new y( 0, 0 )).freeze();
		this.xu = this.tv = 0;
		this.yu = 1;
		this.iv = "";
		this.$v = this.Ou = !1;
		this.Ku = this.Au = 0;
		this.fj = this.Wu = this.fv = !1;
		this.Eq = null;
		this.Yv = 0;
		this.qg = this.Xv = null
	}

	v.ea( "InputEvent", xf );
	xf.prototype.copy = function()
	{
		var a = new xf;
		a.S = this.S;
		a.Qy.assign( this.jf );
		a.Vx.assign( this.ca );
		a.tv = this.tv;
		a.xu = this.xu;
		a.yu = this.yu;
		a.iv = this.iv;
		a.Ou = this.Ou;
		a.$v = this.$v;
		a.Au = this.Au;
		a.Ku = this.Ku;
		a.fv = this.fv;
		a.Wu = this.Wu;
		a.fj = this.fj;
		a.Eq = this.Eq;
		a.Yv = this.Yv;
		a.Xv = this.Xv;
		a.qg = this.qg;
		return a
	};
	xf.prototype.toString = function()
	{
		var a = "^";
		0 !== this.pd && (a += "M:" + this.pd);
		0 !== this.button && (a += "B:" + this.button);
		"" !== this.key && (a += "K:" + this.key);
		0 !== this.We && (a += "C:" + this.We);
		0 !== this.gl && (a += "D:" + this.gl);
		this.zc && (a += "h");
		this.bubbles && (a += "b");
		null !== this.ca && (a += "@" + this.ca.toString());
		return a
	};
	v.defineProperty( xf, {g: "diagram"}, function()
	{
		return this.S
	}, function( a )
	{
		this.S = a
	} );
	v.defineProperty( xf, {jf: "viewPoint"}, function()
	{
		return this.Qy
	}, function( a )
	{
		v.A( a, y, xf, "viewPoint" );
		this.Qy.assign( a )
	} );
	v.defineProperty( xf, {ca: "documentPoint"}, function()
	{
		return this.Vx
	}, function( a )
	{
		v.A( a, y, xf, "documentPoint" );
		this.Vx.assign( a )
	} );
	v.defineProperty( xf, {pd: "modifiers"}, function()
	{
		return this.tv
	}, function( a )
	{
		this.tv = a
	} );
	v.defineProperty( xf, {button: "button"}, function()
	{
		return this.xu
	}, function( a )
	{
		this.xu = a;
		if( null === this.event )switch( a )
		{
		case 0:
			this.buttons = 1;
			break;
		case 1:
			this.buttons = 4;
			break;
		case 2:
			this.buttons = 2
		}
	} );
	v.defineProperty( xf, {buttons: "buttons"}, function()
	{
		return this.yu
	}, function( a )
	{
		this.yu = a
	} );
	v.defineProperty( xf, {key: "key"}, function()
	{
		return this.iv
	}, function( a )
	{
		this.iv = a
	} );
	v.defineProperty( xf, {il: "down"}, function()
	{
		return this.Ou
	}, function( a )
	{
		this.Ou = a
	} );
	v.defineProperty( xf, {up: "up"}, function()
	{
		return this.$v
	}, function( a )
	{
		this.$v = a
	} );
	v.defineProperty( xf, {We: "clickCount"}, function()
	{
		return this.Au
	}, function( a )
	{
		this.Au = a
	} );
	v.defineProperty( xf, {gl: "delta"}, function()
	{
		return this.Ku
	}, function( a )
	{
		this.Ku = a
	} );
	v.defineProperty( xf, {vt: "isMultiTouch"}, function()
	{
		return this.fv
	}, function( a )
	{
		this.fv = a
	} );
	v.defineProperty( xf, {zc: "handled"}, function()
	{
		return this.Wu
	}, function( a )
	{
		this.Wu = a
	} );
	v.defineProperty( xf, {bubbles: "bubbles"}, function()
	{
		return this.fj
	}, function( a )
	{
		this.fj = a
	} );
	v.defineProperty( xf, {event: "event"}, function()
	{
		return this.Eq
	}, function( a )
	{
		this.Eq = a
	} );
	v.u( xf, {Wi: "isTouchEvent"}, function()
	{
		var a = window.TouchEvent;
		return a && this.event instanceof a ? !0 : (a = window.PointerEvent) && this.event instanceof a && "touch" === this.event.pointerType
	} );
	v.u( xf, {ak: "isMac"}, function()
	{
		return v.ak
	} );
	v.defineProperty( xf, {timestamp: "timestamp"}, function()
	{
		return this.Yv
	}, function( a )
	{
		this.Yv = a
	} );
	v.defineProperty( xf, {Jg: "targetDiagram"}, function()
	{
		return this.Xv
	}, function( a )
	{
		this.Xv = a
	} );
	v.defineProperty( xf, {ze: "targetObject"}, function()
	{
		return this.qg
	}, function( a )
	{
		this.qg = a
	} );
	v.defineProperty( xf, {control: "control"}, function()
	{
		return 0 !== (this.pd & 1)
	}, function( a )
	{
		this.pd = a ? this.pd | 1 : this.pd & -2
	} );
	v.defineProperty( xf, {shift: "shift"}, function()
	{
		return 0 !== (this.pd & 4)
	}, function( a )
	{
		this.pd = a ? this.pd | 4 : this.pd & -5
	} );
	v.defineProperty( xf, {alt: "alt"}, function()
	{
		return 0 !== (this.pd & 2)
	}, function( a )
	{
		this.pd = a ? this.pd | 2 : this.pd & -3
	} );
	v.defineProperty( xf, {Et: "meta"}, function()
	{
		return 0 !== (this.pd & 8)
	}, function( a )
	{
		this.pd = a ? this.pd | 8 : this.pd & -9
	} );
	v.defineProperty( xf, {left: "left"}, function()
	{
		var a = this.event;
		return null !== a && a instanceof MouseEvent && ("mousedown" === a.type || "mouseup" === a.type) ? 0 === this.button : 0 !== (this.buttons & 1)
	}, function( a )
	{
		this.buttons = a ? this.buttons | 1 : this.buttons & -2
	} );
	v.defineProperty( xf, {right: "right"}, function()
	{
		var a = this.event;
		return null !== a && a instanceof MouseEvent && ("mousedown" === a.type || "mouseup" === a.type) ? 2 === this.button : 0 !== (this.buttons & 2)
	}, function( a )
	{
		this.buttons = a ? this.buttons | 2 : this.buttons & -3
	} );
	v.defineProperty( xf, {gK: "middle"}, function()
	{
		var a = this.event;
		return null !== a && a instanceof MouseEvent && ("mousedown" === a.type || "mouseup" === a.type) ? 1 === this.button : 0 !== (this.buttons & 4)
	}, function( a )
	{
		this.buttons = a ? this.buttons | 4 : this.buttons & -5
	} );
	function yf()
	{
		this.S = null;
		this.Ob = "";
		this.Cv = this.Vv = null;
		this.zu = !1
	}

	v.ea( "DiagramEvent", yf );
	yf.prototype.copy = function()
	{
		var a = new yf;
		a.S = this.S;
		a.Ob = this.Ob;
		a.Vv = this.Vv;
		a.Cv = this.Cv;
		a.zu = this.zu;
		return a
	};
	yf.prototype.toString = function()
	{
		var a = "*" + this.name;
		this.cancel && (a += "x");
		null !== this.qA && (a += ":" + this.qA.toString());
		null !== this.Wz && (a += "(" + this.Wz.toString() + ")");
		return a
	};
	v.defineProperty( yf, {g: "diagram"}, function()
	{
		return this.S
	}, function( a )
	{
		this.S = a
	} );
	v.defineProperty( yf, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		this.Ob = a
	} );
	v.defineProperty( yf, {qA: "subject"}, function()
	{
		return this.Vv
	}, function( a )
	{
		this.Vv = a
	} );
	v.defineProperty( yf, {Wz: "parameter"}, function()
	{
		return this.Cv
	}, function( a )
	{
		this.Cv = a
	} );
	v.defineProperty( yf, {cancel: "cancel"}, function()
	{
		return this.zu
	}, function( a )
	{
		this.zu = a
	} );
	function zf()
	{
		this.bq = Af;
		this.lm = this.sv = "";
		this.Br = this.Cr = this.Fr = this.Gr = this.Er = this.S = this.Xd = null
	}

	v.ea( "ChangedEvent", zf );
	var Bf;
	zf.Transaction = Bf = v.p( zf, "Transaction", -1 );
	var Af;
	zf.Property = Af = v.p( zf, "Property", 0 );
	var Cf;
	zf.Insert = Cf = v.p( zf, "Insert", 1 );
	var Df;
	zf.Remove = Df = v.p( zf, "Remove", 2 );
	zf.prototype.clear = zf.prototype.clear = function()
	{
		this.Br = this.Cr = this.Fr = this.Gr = this.Er = this.S = this.Xd = null
	};
	zf.prototype.copy = function()
	{
		var a = new zf;
		a.bq = this.bq;
		a.sv = this.sv;
		a.lm = this.lm;
		a.Xd = this.Xd;
		a.S = this.S;
		a.Er = this.Er;
		var b = this.Gr;
		a.Gr = v.Ta( b ) && "function" === typeof b.R ? b.R() : b;
		b = this.Fr;
		a.Fr = v.Ta( b ) && "function" === typeof b.R ? b.R() : b;
		b = this.Cr;
		a.Cr = v.Ta( b ) && "function" === typeof b.R ? b.R() : b;
		b = this.Br;
		a.Br = v.Ta( b ) && "function" === typeof b.R ? b.R() : b;
		return a
	};
	zf.prototype.toString = function()
	{
		var a = "", a = this.wc === Bf ? a + "* " : this.wc === Af ? a + (null !== this.ba ? "!m" : "!d") : a + ((null !== this.ba ? "!m" : "!d") + this.wc);
		this.propertyName && "string" === typeof this.propertyName && (a += " " + this.propertyName);
		this.hf && this.hf !== this.propertyName && (a += " " + this.hf);
		a += ": ";
		this.wc === Bf ? null !== this.oldValue && (a += " " + this.oldValue) : (null !== this.object && (a += Ef( this.object )), null !== this.oldValue && (a += "  old: " + Ef( this.oldValue )), null !== this.Cg && (a += " " + this.Cg), null !== this.newValue &&
			(a += "  new: " + Ef( this.newValue )), null !== this.Ag && (a += " " + this.Ag));
		return a
	};
	zf.prototype.getValue = zf.prototype.ja = function( a )
	{
		return a ? this.oldValue : this.newValue
	};
	zf.prototype.getParam = function( a )
	{
		return a ? this.Cg : this.Ag
	};
	zf.prototype.canUndo = zf.prototype.canUndo = function()
	{
		return null !== this.ba || null !== this.g ? !0 : !1
	};
	zf.prototype.undo = zf.prototype.undo = function()
	{
		this.canUndo() && (null !== this.ba ? this.ba.Cm( this, !0 ) : null !== this.g && this.g.Cm( this, !0 ))
	};
	zf.prototype.canRedo = zf.prototype.canRedo = function()
	{
		return null !== this.ba || null !== this.g ? !0 : !1
	};
	zf.prototype.redo = zf.prototype.redo = function()
	{
		this.canRedo() && (null !== this.ba ? this.ba.Cm( this, !1 ) : null !== this.g && this.g.Cm( this, !1 ))
	};
	v.defineProperty( zf, {ba: "model"}, function()
	{
		return this.Xd
	}, function( a )
	{
		this.Xd = a
	} );
	v.defineProperty( zf, {g: "diagram"}, function()
	{
		return this.S
	}, function( a )
	{
		this.S = a
	} );
	v.defineProperty( zf, {wc: "change"}, function()
	{
		return this.bq
	}, function( a )
	{
		this.bq = a
	} );
	v.defineProperty( zf, {hf: "modelChange"}, function()
	{
		return this.sv
	}, function( a )
	{
		this.sv = a
	} );
	v.defineProperty( zf, {propertyName: "propertyName"}, function()
	{
		return this.lm
	}, function( a )
	{
		this.lm = a
	} );
	v.u( zf, {hE: "isTransactionFinished"}, function()
	{
		return this.bq === Bf && ("CommittedTransaction" === this.lm || "FinishedUndo" === this.lm || "FinishedRedo" === this.lm)
	} );
	v.defineProperty( zf, {object: "object"}, function()
	{
		return this.Er
	}, function( a )
	{
		this.Er = a
	} );
	v.defineProperty( zf, {oldValue: "oldValue"}, function()
	{
		return this.Gr
	}, function( a )
	{
		this.Gr = a
	} );
	v.defineProperty( zf, {Cg: "oldParam"}, function()
	{
		return this.Fr
	}, function( a )
	{
		this.Fr = a
	} );
	v.defineProperty( zf, {newValue: "newValue"}, function()
	{
		return this.Cr
	}, function( a )
	{
		this.Cr = a
	} );
	v.defineProperty( zf, {Ag: "newParam"}, function()
	{
		return this.Br
	}, function( a )
	{
		this.Br = a
	} );
	function F( a )
	{
		1 < arguments.length && v.k( "Model constructor can only take one optional argument, the Array of node data." );
		v.ec( this );
		this.qq = this.Ob = "";
		this.ui = !1;
		this.yy = {};
		this.Jf = [];
		this.tc = new na( null, Object );
		this.Cj = "key";
		this.xn = this.eo = null;
		this.iq = this.Du = !1;
		this.Sp = null;
		this.fm = "category";
		this.pi = new na( null, J );
		this.wj = null;
		this.Ii = !1;
		this.Py = null;
		this.la = new Ff;
		void 0 !== a && (this.Zf = a)
	}

	v.ea( "Model", F );
	F.prototype.cloneProtected = function( a )
	{
		a.Ob = this.Ob;
		a.qq = this.qq;
		a.ui = this.ui;
		a.Cj = this.Cj;
		a.eo = this.eo;
		a.xn = this.xn;
		a.UI = this.Du;
		a.iq = this.iq;
		a.Sp = this.Sp;
		a.fm = this.fm
	};
	F.prototype.copy = function()
	{
		var a = new this.constructor;
		this.cloneProtected( a );
		return a
	};
	F.prototype.clear = F.prototype.clear = function()
	{
		this.Jf = [];
		this.tc.clear();
		this.pi.clear();
		this.la.clear()
	};
	g = F.prototype;
	g.toString = function( a )
	{
		void 0 === a && (a = 0);
		if( 1 < a )return this.tA();
		var b = ("" !== this.name ? this.name : "") + " Model";
		if( 0 < a )
		{
			b += "\n node data:";
			a = this.Zf;
			for( var c = v.Va( a ), d = 0; d < c; d++ )var e = v.Pa( a, d ), b = b + (" " + this.gb( e ) + ":" + Ef( e ))
		}
		return b
	};
	g.hn = function()
	{
		var a = "";
		"" !== this.name && (a += ',\n  "name": ' + this.quote( this.name ));
		"" !== this.el && (a += ',\n  "dataFormat": ' + this.quote( this.el ));
		this.ab && (a += ',\n  "isReadOnly": ' + this.ab);
		"key" !== this.yl && "string" === typeof this.yl && (a += ',\n  "nodeKeyProperty": ' + this.quote( this.yl ));
		this.fz && (a += ',\n  "copiesArrays": true');
		this.ez && (a += ',\n  "copiesArrayObjects": true');
		"category" !== this.Xm && "string" === typeof this.Xm && (a += ',\n  "nodeCategoryProperty": ' + this.quote( this.Xm ));
		return a
	};
	g.Mt = function( a )
	{
		a.name && (this.name = a.name);
		a.dataFormat && (this.el = a.dataFormat);
		a.isReadOnly && (this.ab = a.isReadOnly);
		a.nodeKeyProperty && (this.yl = a.nodeKeyProperty);
		a.copiesArrays && (this.fz = a.copiesArrays);
		a.copiesArrayObjects && (this.ez = a.copiesArrayObjects);
		a.nodeCategoryProperty && (this.Xm = a.nodeCategoryProperty)
	};
	function Gf( a )
	{
		return',\n  "modelData": ' + Hf( a, a.bk )
	}

	function If( a, b )
	{
		var c = b.modelData;
		v.Ta( c ) && (a.Pt( c ), a.bk = c)
	}

	g.BA = function()
	{
		var a = this.bk, b = !1, c;
		for( c in a )if( !Lf( c, a[c] ) )
		{
			b = !0;
			break
		}
		a = "";
		b && (a = Gf( this ));
		return a + ',\n  "nodeDataArray": ' + Mf( this, this.Zf, !0 )
	};
	g.Zz = function( a )
	{
		If( this, a );
		a = a.nodeDataArray;
		v.isArray( a ) && (this.Pt( a ), this.Zf = a)
	};
	function Nf( a, b, c, d )
	{
		if( b === c )return!0;
		if( typeof b !== typeof c || "function" === typeof b || "function" === typeof c )return!1;
		if( Array.isArray( b ) && Array.isArray( c ) )
		{
			if( d.ja( b ) === c )return!0;
			d.add( b, c );
			if( b.length !== c.length )return!1;
			for( var e = 0; e < b.length; e++ )if( !Nf( a, b[e], c[e], d ) )return!1;
			return!0
		}
		if( v.Ta( b ) && v.Ta( c ) )
		{
			if( d.ja( b ) === c )return!0;
			d.add( b, c );
			for( e in b )
			{
				var f = b[e];
				if( !Lf( e, f ) )
				{
					var h = c[e];
					if( void 0 === h || !Nf( a, f, h, d ) )return!1
				}
			}
			for( var k in c )if( h = c[k], !Lf( k, h ) && (f = b[k], void 0 === f || !Nf( a, f, h, d )) )return!1;
			return!0
		}
		return!1
	}

	function Of( a, b, c )
	{
		a[c] !== b[c] && v.k( "Model.computeJsonDifference: Model." + c + ' is not the same in both models: "' + a[c] + '" and "' + b[c] + '"' )
	}

	g.CA = function( a )
	{
		Of( this, a, "nodeKeyProperty" );
		this instanceof Pf && Of( this, a, "nodeParentKeyProperty" );
		for( var b = new J, c = new J, d = (new J).Tc( this.tc.jE ), e = new na, f = a.Zf, h = 0; h < f.length; h++ )
		{
			var k = f[h], l = a.gb( k );
			if( void 0 !== l )
			{
				d.remove( l );
				var m = this.ce( l );
				null === m ? (b.add( l ), c.add( k )) : Nf( this, m, k, e ) || c.add( k )
			}
			else this.Jz( k ), l = this.gb( k ), b.add( l ), c.add( k )
		}
		f = "";
		Nf( this, this.bk, a.bk, e ) || (f += Gf( this ));
		0 < b.count && (f += this.Dx + Mf( this, b.dc(), !0 ));
		0 < c.count && (f += this.KA + Mf( this, c.dc(), !0 ));
		0 < d.count && (f += this.Fx +
			Mf( this, d.dc(), !0 ));
		return f
	};
	F.prototype.computeJsonDifference = F.prototype.computeJSONDifference = function( a, b )
	{
		v.A( a, F, F, "computeJsonDifference:newmodel" );
		void 0 === b && (b = this.constructor === F ? "go.Model" : this.constructor === Q ? "go.GraphLinksModel" : this.constructor === Pf ? "go.TreeModel" : v.af( this ));
		return'{ "class": ' + this.quote( b ) + ', "incremental": 1' + this.hn() + this.CA( a ) + "}"
	};
	g = F.prototype;
	g.Dx = ',\n  "insertedNodeKeys": ';
	g.KA = ',\n  "modifiedNodeData": ';
	g.Fx = ',\n  "removedNodeKeys": ';
	g.AA = function( a, b )
	{
		var c = this, d = !1, e = new J, f = new J, h = new J;
		a.Pf.each( function( a )
		{
			a.ba === c && ("nodeDataArray" === a.hf ? a.wc === Cf ? e.add( a.newValue ) : a.wc === Df && h.add( a.oldValue ) : c.Ie( a.object ) ? f.add( a.object ) : c.bk === a.object && a.wc === Af && (d = !0))
		} );
		var k = new J;
		e.each( function( a )
		{
			k.add( c.gb( a ) );
			b || f.add( a )
		} );
		var l = new J;
		h.each( function( a )
		{
			l.add( c.gb( a ) );
			b && f.add( a )
		} );
		var m = "";
		d && (m += Gf( this ));
		0 < k.count && (m += (b ? this.Fx : this.Dx) + Mf( this, k.dc(), !0 ));
		0 < f.count && (m += this.KA + Mf( this, f.dc(), !0 ));
		0 < l.count && (m += (b ?
			this.Dx : this.Fx) + Mf( this, l.dc(), !0 ));
		return m
	};
	g.Yz = function( a )
	{
		If( this, a );
		var b = a.insertedNodeKeys;
		if( v.isArray( b ) )for( var c = v.Va( b ), d = 0; d < c; d++ )
		{
			var e = v.Pa( b, d ), f = this.ce( e );
			null === f && (f = this.copyNodeData( {} ), this.lx( f, e ), this.Xk( f ))
		}
		b = a.modifiedNodeData;
		if( v.isArray( b ) )for( c = v.Va( b ), d = 0; d < c; d++ )
		{
			var h = v.Pa( b, d ), e = this.gb( h ), f = this.ce( e );
			if( null !== f )for( var k in h )"__gohashid" !== k && k !== this.yl && this.setDataProperty( f, k, h[k] )
		}
		a = a.removedNodeKeys;
		if( v.isArray( a ) )for( c = v.Va( a ), d = 0; d < c; d++ )e = v.Pa( a, d ), f = this.ce( e ), null !== f && this.bx( f )
	};
	F.prototype.toIncrementalJson = F.prototype.toIncrementalJSON = function( a, b )
	{
		v.A( a, zf, F, "toIncrementalJson:e" );
		a.wc !== Bf && v.k( "Model.toIncrementalJson argument is not a Transaction ChangedEvent:" + a.toString() );
		var c = a.object;
		if( !(a.hE && c instanceof Qf) )return'{ "incremental": 0 }';
		void 0 === b && (b = this.constructor === F ? "go.Model" : this.constructor === Q ? "go.GraphLinksModel" : this.constructor === Pf ? "go.TreeModel" : v.af( this ));
		return'{ "class": ' + this.quote( b ) + ', "incremental": 1' + this.hn() + this.AA( c, "FinishedUndo" ===
			a.propertyName ) + "}"
	};
	F.prototype.toJson = F.prototype.toJSON = F.prototype.tA = function( a )
	{
		void 0 === a && (a = this.constructor === F ? "go.Model" : this.constructor === Q ? "go.GraphLinksModel" : this.constructor === Pf ? "go.TreeModel" : v.af( this ));
		return'{ "class": ' + this.quote( a ) + this.hn() + this.BA() + "}"
	};
	F.prototype.applyIncrementalJson = F.prototype.applyIncrementalJSON = function( a )
	{
		var b = null;
		if( "string" === typeof a )if( window.JSON && window.JSON.parse )try
		{
			b = window.JSON.parse( a )
		} catch( c )
		{
		}
		else v.trace( "WARNING: no JSON.parse available" );
		else"object" === typeof a ? b = a : v.k( "Unable to modify a Model from: " + a );
		var d = b.incremental;
		"number" !== typeof d && v.k( "Unable to apply non-incremental changes to Model: " + a );
		0 !== d && (this.Qb( "applyIncrementalJson" ), this.Yz( b ), this.yd( "applyIncrementalJson" ))
	};
	F.fromJson = F.fromJSON = function( a, b )
	{
		void 0 === b && (b = null);
		null !== b && v.A( b, F, F, "fromJson:model" );
		var c = null;
		if( "string" === typeof a )if( window.JSON && window.JSON.parse )try
		{
			c = window.JSON.parse( a )
		} catch( d )
		{
		}
		else v.trace( "WARNING: no JSON.parse available" );
		else"object" === typeof a ? c = a : v.k( "Unable to construct a Model from: " + a );
		if( null === b )
		{
			var e;
			e = null;
			var f = c["class"];
			if( "string" === typeof f )try
			{
				var h = null;
				0 === f.indexOf( "go." ) ? (f = f.substr( 3 ), h = ea[f]) : (h = ea[f], void 0 === h && (h = window[f]));
				"function" === typeof h &&
				(e = new h)
			} catch( k )
			{
			}
			null === e || e instanceof F ? b = e : v.k( "Unable to construct a Model of declared class: " + c["class"] )
		}
		null === b && (b = new Q);
		b.Mt( c );
		b.Zz( c );
		return b
	};
	F.prototype.replaceJsonObjects = F.prototype.Pt = function( a )
	{
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )
		{
			var d = v.Pa( a, c );
			v.Ta( d ) && v.hD( a, c, this.Pt( d ) )
		}
		else if( v.Ta( a ) )
		{
			for( c in a )if( d = a[c], v.Ta( d ) && (d = this.Pt( d ), a[c] = d, "points" === c && Array.isArray( d )) )
			{
				for( var e = 0 === d.length % 2, f = 0; f < d.length; f++ )if( "number" !== typeof d[f] )
				{
					e = !1;
					break
				}
				if( e )
				{
					e = new I( y );
					for( f = 0; f < d.length / 2; f++ )e.add( new y( d[2 * f], d[2 * f + 1] ) );
					e.freeze();
					a[c] = e
				}
			}
			if( "object" === typeof a )
			{
				c = a;
				d = a["class"];
				if( "NaN" === d )c = NaN;
				else if( "Date" ===
					d )c = new Date( a.value );
				else if( "go.Point" === d )c = new y( Rf( a.x ), Rf( a.y ) );
				else if( "go.Size" === d )c = new ia( Rf( a.width ), Rf( a.height ) );
				else if( "go.Rect" === d )c = new B( Rf( a.x ), Rf( a.y ), Rf( a.width ), Rf( a.height ) );
				else if( "go.Margin" === d )c = new eb( Rf( a.top ), Rf( a.right ), Rf( a.bottom ), Rf( a.left ) );
				else if( "go.Spot" === d )c = "string" === typeof a["enum"] ? nb( a["enum"] ) : new L( Rf( a.x ), Rf( a.y ), Rf( a.offsetX ), Rf( a.offsetY ) );
				else if( "go.Brush" === d )
				{
					if( c = new ha, c.type = ra( ha, a.type ), "string" === typeof a.color && (c.color = a.color), a.start instanceof
						L && (c.start = a.start), a.end instanceof L && (c.end = a.end), "number" === typeof a.startRadius && (c.bu = Rf( a.startRadius )), "number" === typeof a.endRadius && (c.at = Rf( a.endRadius )), a = a.colorStops, v.Ta( a ) )for( b in a )c.addColorStop( parseFloat( b ), a[b] )
				}
				else"go.Geometry" === d ? (b = null, b = "string" === typeof a.path ? bf( a.path ) : new re, b.type = ra( re, a.type ), "number" === typeof a.startX && (b.za = Rf( a.startX )), "number" === typeof a.startY && (b.wa = Rf( a.startY )), "number" === typeof a.endX && (b.I = Rf( a.endX )), "number" === typeof a.endY && (b.J =
						Rf( a.endY )), a.spot1 instanceof L && (b.B = a.spot1), a.spot2 instanceof L && (b.C = a.spot2), c = b) : "go.EnumValue" === d && (b = a.classType, 0 === b.indexOf( "go." ) && (b = b.substr( 3 )), c = ra( ea[b], a.name ));
				a = c
			}
		}
		return a
	};
	F.prototype.quote = function( a )
	{
		for( var b = "", c = a.length, d = 0; d < c; d++ )
		{
			var e = a[d];
			if( '"' === e || "\\" === e )b += "\\" + e;
			else if( "\b" === e )b += "\\b";
			else if( "\f" === e )b += "\\f";
			else if( "\n" === e )b += "\\n";
			else if( "\r" === e )b += "\\r";
			else if( "\t" === e )b += "\\t";
			else var f = a.charCodeAt( d ), b = 16 > f ? b + ("\\u000" + a.charCodeAt( d ).toString( 16 )) : 32 > f ? b + ("\\u00" + a.charCodeAt( d ).toString( 16 )) : 8232 === f ? b + "\\u2028" : 8233 === f ? b + "\\u2029" : b + e
		}
		return'"' + b + '"'
	};
	F.prototype.writeJsonValue = F.prototype.hu = function( a )
	{
		return void 0 === a ? "undefined" : null === a ? "null" : !0 === a ? "true" : !1 === a ? "false" : "string" === typeof a ? this.quote( a ) : "number" === typeof a ? Infinity === a ? "9e9999" : -Infinity === a ? "-9e9999" : isNaN( a ) ? '{"class":"NaN"}' : a.toString() : a instanceof Date ? '{"class":"Date", "value":"' + a.toJSON() + '"}' : a instanceof Number ? this.hu( a.valueOf() ) : v.isArray( a ) ? Mf( this, a ) : v.Ta( a ) ? Hf( this, a ) : "function" === typeof a ? "null" : a.toString()
	};
	function Mf( a, b, c )
	{
		void 0 === c && (c = !1);
		var d = v.Va( b );
		if( 0 >= d )return"[]";
		var e = new sa;
		e.add( "[ " );
		c && 1 < d && e.add( "\n" );
		for( var f = 0; f < d; f++ )
		{
			var h = v.Pa( b, f );
			void 0 !== h && (0 < f && (e.add( "," ), c && e.add( "\n" )), e.add( a.hu( h ) ))
		}
		c && 1 < d && e.add( "\n" );
		e.add( " ]" );
		return e.toString()
	}

	function Lf( a, b )
	{
		return void 0 === b || "__gohashid" === a || "_" === a[0] || "function" === typeof b ? !0 : !1
	}

	function Sf( a )
	{
		return isNaN( a ) ? "NaN" : Infinity === a ? "9e9999" : -Infinity === a ? "-9e9999" : a
	}

	function Hf( a, b )
	{
		var c = b;
		if( c instanceof y )
		{
			var d = c;
			b = {"class": "go.Point", x: Sf( d.x ), y: Sf( d.y )}
		}
		else if( c instanceof ia )
		{
			var e = c;
			b = {"class": "go.Size", width: Sf( e.width ), height: Sf( e.height )}
		}
		else if( c instanceof B )b = {"class": "go.Rect", x: Sf( c.x ), y: Sf( c.y ), width: Sf( c.width ), height: Sf( c.height )};
		else if( c instanceof eb )b = {"class": "go.Margin", top: Sf( c.top ), right: Sf( c.right ), bottom: Sf( c.bottom ), left: Sf( c.left )};
		else if( c instanceof L )e = c, b = e.cd() ? {"class": "go.Spot", x: Sf( e.x ), y: Sf( e.y ), offsetX: Sf( e.offsetX ),
			offsetY: Sf( e.offsetY )} : {"class": "go.Spot", "enum": e.toString()};
		else if( c instanceof ha )
		{
			b = {"class": "go.Brush", type: c.type.name};
			if( c.type === Tf )b.color = c.color;
			else if( c.type === Uf || c.type === Uc )b.start = c.start, b.end = c.end, c.type === Uc && (0 !== c.bu && (b.startRadius = Sf( c.bu )), isNaN( c.at ) || (b.endRadius = Sf( c.at )));
			if( null !== c.Xs )
			{
				for( var f = {}, h = c.Xs.i; h.next(); )f[h.key] = h.value;
				b.colorStops = f
			}
		}
		else if( c instanceof re )b = {"class": "go.Geometry", type: c.type.name}, 0 !== c.za && (b.startX = Sf( c.za )), 0 !== c.wa && (b.startY =
			Sf( c.wa )), 0 !== c.I && (b.endX = Sf( c.I )), 0 !== c.J && (b.endY = Sf( c.J )), c.B.K( tb ) || (b.spot1 = c.B), c.C.K( Fb ) || (b.spot2 = c.C), c.type === De && (b.path = af( c ));
		else if( c instanceof fa )b = {"class": "go.EnumValue", classType: v.af( c.qe ), name: c.name};
		else if( c instanceof G || c instanceof E || c instanceof Vf || c instanceof F || c instanceof Wf || c instanceof Xf || c instanceof Yf || c instanceof Zf || c instanceof Ff || c instanceof Qf )return v.trace( "ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: " +
			c.toString() ), "{}";
		f = "{";
		c = !0;
		for( d in b )if( e = v.qb( b, d ), !Lf( d, e ) )if( c ? c = !1 : f += ", ", f += '"' + d + '":', "points" === d && e instanceof I && e.ia === y )
		{
			h = e;
			e = "[";
			for( h = h.i; h.next(); )
			{
				var k = h.value;
				1 < e.length && (e += ",");
				e += a.hu( k.x );
				e += ",";
				e += a.hu( k.y )
			}
			e += "]";
			f += e
		}
		else f += a.hu( e );
		return f + "}"
	}

	function Rf( a )
	{
		return"number" === typeof a ? a : "NaN" === a ? NaN : "9e9999" === a ? Infinity : "-9e9999" === a ? -Infinity : parseFloat( a )
	}

	v.defineProperty( F, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		var b = this.Ob;
		b !== a && (v.j( a, "string", F, "name" ), this.Ob = a, this.h( "name", b, a ))
	} );
	v.defineProperty( F, {el: "dataFormat"}, function()
	{
		return this.qq
	}, function( a )
	{
		var b = this.qq;
		b !== a && (v.j( a, "string", F, "dataFormat" ), this.qq = a, this.h( "dataFormat", b, a ))
	} );
	v.defineProperty( F, {ab: "isReadOnly"}, function()
	{
		return this.ui
	}, function( a )
	{
		var b = this.ui;
		b !== a && (v.j( a, "boolean", F, "isReadOnly" ), this.ui = a, this.h( "isReadOnly", b, a ))
	} );
	v.defineProperty( F, {bk: "modelData"}, function()
	{
		return this.yy
	}, function( a )
	{
		var b = this.yy;
		b !== a && (v.j( a, "object", F, "modelData" ), this.yy = a, this.h( "modelData", b, a ), this.Hb( a ))
	} );
	F.prototype.addChangedListener = F.prototype.xm = function( a )
	{
		v.j( a, "function", F, "addChangedListener:listener" );
		null === this.wj && (this.wj = new I( "function" ));
		this.wj.add( a )
	};
	F.prototype.removeChangedListener = F.prototype.Nt = function( a )
	{
		v.j( a, "function", F, "removeChangedListener:listener" );
		null !== this.wj && (this.wj.remove( a ), 0 === this.wj.count && (this.wj = null))
	};
	F.prototype.mw = function( a )
	{
		this.tb || this.la.TD( a );
		if( null !== this.wj )
		{
			var b = this.wj, c = b.length;
			if( 1 === c )b = b.da( 0 ), b( a );
			else if( 0 !== c )for( var d = b.dc(), e = 0; e < c; e++ )b = d[e], b( a )
		}
	};
	F.prototype.raiseChangedEvent = F.prototype.Lc = function( a, b, c, d, e, f, h )
	{
		$f( this, "", a, b, c, d, e, f, h )
	};
	F.prototype.raiseChanged = F.prototype.h = function( a, b, c, d, e )
	{
		$f( this, "", Af, a, this, b, c, d, e )
	};
	F.prototype.raiseDataChanged = F.prototype.Xz = function( a, b, c, d, e, f )
	{
		$f( this, "", Af, b, a, c, d, e, f )
	};
	function $f( a, b, c, d, e, f, h, k, l )
	{
		void 0 === k && (k = null);
		void 0 === l && (l = null);
		var m = new zf;
		m.ba = a;
		m.wc = c;
		m.hf = b;
		m.propertyName = d;
		m.object = e;
		m.oldValue = f;
		m.Cg = k;
		m.newValue = h;
		m.Ag = l;
		a.mw( m )
	}

	v.defineProperty( F, {la: "undoManager"}, function()
	{
		return this.Py
	}, function( a )
	{
		var b = this.Py;
		b !== a && (v.A( a, Ff, F, "undoManager" ), null !== b && b.gI( this ), this.Py = a, null !== a && a.$F( this ))
	} );
	v.defineProperty( F, {tb: "skipsUndoManager"}, function()
	{
		return this.Ii
	}, function( a )
	{
		v.j( a, "boolean", F, "skipsUndoManager" );
		this.Ii = a
	} );
	F.prototype.Cm = function( a, b )
	{
		if( null !== a && a.ba === this )if( a.wc === Af )
		{
			var c = a.object, d = a.propertyName, e = a.ja( b );
			v.Ja( c, d, e )
		}
		else a.wc === Cf ? "nodeDataArray" === a.hf ? (c = a.newValue, v.Ta( c ) && (d = this.gb( c ), void 0 !== d && (b ? (v.Vh( this.Jf, a.Ag ), this.tc.remove( d )) : (v.Oi( this.Jf, a.Ag, c ), this.tc.add( d, c ))))) : "" === a.hf ? (c = a.object, !v.isArray( c ) && a.propertyName && (c = v.qb( a.object, a.propertyName )), v.isArray( c ) && (d = a.newValue, e = a.Ag, b ? v.Vh( c, e ) : v.Oi( c, e, d ))) : v.k( "unknown ChangedEvent.Insert object: " + a.toString() ) : a.wc ===
				Df ? "nodeDataArray" === a.hf ? (c = a.oldValue, v.Ta( c ) && (d = this.gb( c ), void 0 !== d && (b ? (v.Oi( this.Jf, a.Cg, c ), this.tc.add( d, c )) : (v.Vh( this.Jf, a.Cg ), this.tc.remove( d ))))) : "" === a.hf ? (c = a.object, !v.isArray( c ) && a.propertyName && (c = v.qb( a.object, a.propertyName )), v.isArray( c ) && (d = a.oldValue, e = a.Cg, b ? v.Oi( c, e, d ) : v.Vh( c, e ))) : v.k( "unknown ChangedEvent.Remove object: " + a.toString() ) : a.wc !== Bf && v.k( "unknown ChangedEvent: " + a.toString() )
	};
	F.prototype.startTransaction = F.prototype.Qb = function( a )
	{
		return this.la.Qb( a )
	};
	F.prototype.commitTransaction = F.prototype.yd = function( a )
	{
		return this.la.yd( a )
	};
	F.prototype.rollbackTransaction = F.prototype.zp = function()
	{
		return this.la.zp()
	};
	F.prototype.updateTargetBindings = F.prototype.Hb = function( a, b )
	{
		void 0 === b && (b = "");
		$f( this, "SourceChanged", Bf, b, a, null, null )
	};
	v.defineProperty( F, {yl: "nodeKeyProperty"}, function()
	{
		return this.Cj
	}, function( a )
	{
		var b = this.Cj;
		b !== a && (lg( a, F, "nodeKeyProperty" ), "" === a && v.k( "Model.nodeKeyProperty may not be the empty string" ), 0 < this.tc.count && v.k( "Cannot set Model.nodeKeyProperty when there is existing node data" ), this.Cj = a, this.h( "nodeKeyProperty", b, a ))
	} );
	function lg( a, b, c )
	{
		"string" !== typeof a && "function" !== typeof a && v.Gd( a, "string or function", b, c )
	}

	F.prototype.getKeyForNodeData = F.prototype.gb = function( a )
	{
		if( null !== a )
		{
			var b = this.Cj;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "Key value for node data " + a + " is not a number or a string: " + b )
			}
		}
	};
	F.prototype.setKeyForNodeData = F.prototype.lx = function( a, b )
	{
		void 0 !== b && null !== b && mg( b ) || v.Gd( b, "number or string", F, "setKeyForNodeData:key" );
		if( null !== a )
		{
			var c = this.Cj;
			if( "" !== c )if( this.Ie( a ) )
			{
				var d = v.qb( a, c );
				d !== b && null === this.ce( b ) && (v.Ja( a, c, b ), this.tc.remove( d ), this.tc.add( b, a ), $f( this, "nodeKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ), this.Ot( d, b ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( F, {$J: "makeUniqueKeyFunction"}, function()
	{
		return this.eo
	}, function( a )
	{
		var b = this.eo;
		b !== a && (null !== a && v.j( a, "function", F, "makeUniqueKeyFunction" ), this.eo = a, this.h( "makeUniqueKeyFunction", b, a ))
	} );
	function mg( a )
	{
		return"number" === typeof a || "string" === typeof a
	}

	F.prototype.containsNodeData = F.prototype.Ie = function( a )
	{
		var b = this.gb( a );
		return void 0 === b ? !1 : this.tc.ja( b ) === a
	};
	F.prototype.findNodeDataForKey = F.prototype.ce = function( a )
	{
		null === a && v.k( "Model.findNodeDataForKey:key must not be null" );
		return void 0 !== a && mg( a ) ? this.tc.ja( a ) : null
	};
	v.defineProperty( F, {Zf: "nodeDataArray"}, function()
	{
		return this.Jf
	}, function( a )
	{
		var b = this.Jf;
		if( b !== a )
		{
			v.$y( a, F, "nodeDataArray" );
			this.tc.clear();
			this.wA();
			for( var c = v.Va( a ), d = 0; d < c; d++ )
			{
				var e = v.Pa( a, d );
				if( !v.Ta( e ) )
				{
					v.k( "Model.nodeDataArray must only contain Objects, not: " + e );
					return
				}
				v.nt( e )
			}
			this.Jf = a;
			for( var f = new I( Object ), d = 0; d < c; d++ )
			{
				var e = v.Pa( a, d ), h = this.gb( e );
				void 0 === h ? f.add( e ) : null !== this.tc.ja( h ) ? f.add( e ) : this.tc.add( h, e )
			}
			for( d = f.i; d.next(); )e = d.value, this.Jz( e ), f = this.gb( e ), void 0 !== f &&
				this.tc.add( f, e );
			$f( this, "nodeDataArray", Af, "nodeDataArray", this, b, a );
			for( d = 0; d < c; d++ )e = v.Pa( a, d ), this.yp( e ), this.xp( e );
			this.lD();
			v.qH( a ) || (this.ab = !0)
		}
	} );
	F.prototype.makeNodeDataKeyUnique = F.prototype.Jz = function( a )
	{
		if( null !== a )
		{
			var b = this.Cj;
			if( "" !== b )
			{
				var c = this.gb( a );
				if( void 0 === c || this.tc.contains( c ) )
				{
					var d = this.eo;
					if( null !== d && (c = d( this, a ), void 0 !== c && null !== c && !this.tc.contains( c )) )
					{
						v.Ja( a, b, c );
						return
					}
					if( "string" === typeof c )
					{
						for( d = 2; this.tc.contains( c + d ); )d++;
						v.Ja( a, b, c + d )
					}
					else if( void 0 === c || "number" === typeof c )
					{
						for( d = -this.tc.count - 1; this.tc.contains( d ); )d--;
						v.Ja( a, b, d )
					}
					else v.k( "Model.getKeyForNodeData returned something other than a string or a number: " +
							c )
				}
			}
		}
	};
	F.prototype.addNodeData = F.prototype.Xk = function( a )
	{
		null !== a && (v.nt( a ), ng( this, a, !0 ))
	};
	function ng( a, b, c )
	{
		var d = a.gb( b );
		if( void 0 === d || a.tc.ja( d ) !== b )if( a.Jz( b ), d = a.gb( b ), void 0 === d )v.k( "Model.makeNodeDataKeyUnique failed on " + b + ".  Data not added to Model." );
		else
		{
			a.tc.add( d, b );
			if( c )
			{
				var e = v.Va( a.Jf );
				v.Oi( a.Jf, e, b )
			}
			$f( a, "nodeDataArray", Cf, "nodeDataArray", a, null, b, null, e );
			a.yp( b );
			a.xp( b )
		}
	}

	F.prototype.addNodeDataCollection = function( a )
	{
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.Xk( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.Xk( a.value )
	};
	F.prototype.removeNodeData = F.prototype.bx = function( a )
	{
		null !== a && og( this, a, !0 )
	};
	function og( a, b, c )
	{
		var d = a.gb( b );
		if( void 0 !== d && a.tc.contains( d ) )
		{
			a.tc.remove( d );
			if( c )
			{
				var e = v.Zy( a.Jf, b );
				if( 0 > e )return;
				v.Vh( a.Jf, e )
			}
			$f( a, "nodeDataArray", Df, "nodeDataArray", a, b, null, e, null );
			a.fu( b )
		}
	}

	F.prototype.removeNodeDataCollection = function( a )
	{
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.bx( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.bx( a.value )
	};
	g = F.prototype;
	g.Ot = function( a, b )
	{
		var c = pg( this, a );
		c instanceof J && this.pi.add( b, c )
	};
	g.wA = function()
	{
	};
	g.yp = function()
	{
	};
	g.xp = function()
	{
	};
	g.fu = function()
	{
	};
	function qg( a, b, c )
	{
		if( void 0 !== b )
		{
			var d = a.pi.ja( b );
			null === d && (d = new J( Object ), a.pi.add( b, d ));
			d.add( c )
		}
	}

	function rg( a, b, c )
	{
		if( void 0 !== b )
		{
			var d = a.pi.ja( b );
			d instanceof J && (void 0 === c || null === c ? a.pi.remove( b ) : (d.remove( c ), 0 === d.count && a.pi.remove( b )))
		}
	}

	function pg( a, b )
	{
		if( void 0 === b )return null;
		var c = a.pi.ja( b );
		return c instanceof J ? c : null
	}

	F.prototype.clearUnresolvedReferences = F.prototype.lD = function( a )
	{
		void 0 === a ? this.pi.clear() : this.pi.remove( a )
	};
	v.defineProperty( F, {vJ: "copyNodeDataFunction"}, function()
	{
		return this.xn
	}, function( a )
	{
		var b = this.xn;
		b !== a && (null !== a && v.j( a, "function", F, "copyNodeDataFunction" ), this.xn = a, this.h( "copyNodeDataFunction", b, a ))
	} );
	v.defineProperty( F, {fz: "copiesArrays"}, function()
	{
		return this.Du
	}, function( a )
	{
		var b = this.Du;
		b !== a && (null !== a && v.j( a, "boolean", F, "copiesArrays" ), this.Du = a, this.h( "copiesArrays", b, a ))
	} );
	v.defineProperty( F, {ez: "copiesArrayObjects"}, function()
	{
		return this.iq
	}, function( a )
	{
		var b = this.iq;
		b !== a && (null !== a && v.j( a, "boolean", F, "copiesArrayObjects" ), this.iq = a, this.h( "copiesArrayObjects", b, a ))
	} );
	F.prototype.copyNodeData = function( a )
	{
		if( null === a )return null;
		var b = null, b = this.xn, b = null !== b ? b( a, this ) : sg( this, a, !0 );
		v.Ta( b ) && v.ec( b );
		return b
	};
	function sg( a, b, c )
	{
		if( a.fz && Array.isArray( b ) )
		{
			var d = [];
			for( c = 0; c < b.length; c++ )
			{
				var e = sg( a, b[c], a.ez );
				d.push( e )
			}
			v.ec( d );
			return d
		}
		if( c && v.Ta( b ) )
		{
			c = (c = b.constructor) ? new c : {};
			for( d in b )if( "__gohashid" !== d )
			{
				var e = v.qb( b, d ), f;
				f = e;
				f instanceof G || f instanceof E || f instanceof Vf || f instanceof tg || f instanceof ug || f instanceof Wf || f instanceof Xf || f instanceof Yf || f instanceof xf || f instanceof yf ? ("_" !== d[0] && v.trace( 'Warning: found GraphObject or Diagram reference when copying model data on property "' +
					d + '" of data object: ' + b.toString() + "  \nModel data should not have any references to a Diagram or any part of a diagram, such as: " + f.toString() ), f = !0) : f = f instanceof F || f instanceof Ff || f instanceof Qf || f instanceof zf ? !0 : !1;
				f || (e = sg( a, e, !1 ));
				v.Ja( c, d, e )
			}
			v.ec( c );
			return c
		}
		return b instanceof y ? b.copy() : b instanceof ia ? b.copy() : b instanceof B ? b.copy() : b instanceof L ? b.copy() : b instanceof eb ? b.copy() : b
	}

	v.defineProperty( F, {bG: "afterCopyFunction"}, function()
	{
		return this.Sp
	}, function( a )
	{
		var b = this.Sp;
		b !== a && (null !== a && v.j( a, "function", F, "afterCopyFunction" ), this.Sp = a, this.h( "afterCopyFunction", b, a ))
	} );
	var vg = !1;
	F.prototype.setDataProperty = function( a, b, c )
	{
		if( this.Ie( a ) )if( b === this.yl )this.lx( a, c );
		else
		{
			if( b === this.Xm )
			{
				this.ix( a, c );
				return
			}
		}
		else!vg && a instanceof G && (vg = !0, v.trace( 'Model.setDataProperty is modifying a GraphObject, "' + a.toString() + '"' ), v.trace( "  Is that really your intent?" ));
		var d = v.qb( a, b );
		d !== c && (v.Ja( a, b, c ), this.Xz( a, b, d, c ))
	};
	F.prototype.addArrayItem = function( a, b )
	{
		this.kH( a, -1, b )
	};
	F.prototype.insertArrayItem = F.prototype.kH = function( a, b, c )
	{
		a === this.Jf && v.k( "Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray" );
		0 > b && (b = v.Va( a ));
		v.Oi( a, b, c );
		$f( this, "", Cf, "", a, null, c, null, b )
	};
	F.prototype.removeArrayItem = function( a, b )
	{
		void 0 === b && (b = -1);
		a === this.Jf && v.k( "Model.removeArrayItem should not be called on the Model.nodeDataArray" );
		-1 === b && (b = v.Va( a ) - 1);
		var c = v.Pa( a, b );
		v.Vh( a, b );
		$f( this, "", Df, "", a, c, null, b, null )
	};
	v.defineProperty( F, {Xm: "nodeCategoryProperty"}, function()
	{
		return this.fm
	}, function( a )
	{
		var b = this.fm;
		b !== a && (lg( a, F, "nodeCategoryProperty" ), this.fm = a, this.h( "nodeCategoryProperty", b, a ))
	} );
	F.prototype.getCategoryForNodeData = F.prototype.sz = function( a )
	{
		if( null === a )return"";
		var b = this.fm;
		if( "" === b )return"";
		b = v.qb( a, b );
		if( void 0 === b )return"";
		if( "string" === typeof b )return b;
		v.k( "getCategoryForNodeData found a non-string category for " + a + ": " + b );
		return""
	};
	F.prototype.setCategoryForNodeData = F.prototype.ix = function( a, b )
	{
		v.j( b, "string", F, "setCategoryForNodeData:cat" );
		if( null !== a )
		{
			var c = this.fm;
			if( "" !== c )if( this.Ie( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = "");
				d !== b && (v.Ja( a, c, b ), $f( this, "nodeCategory", Af, c, a, d, b ))
			}
			else v.Ja( a, c, b )
		}
	};
	function Q( a, b )
	{
		2 < arguments.length && v.k( "GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data." );
		F.call( this );
		this.Hf = [];
		this.bo = new J( Object );
		this.Yc = new na( null, Object );
		this.Kk = "";
		this.Ll = this.wn = this.fo = null;
		this.Gh = "from";
		this.Hh = "to";
		this.cm = this.bm = "";
		this.am = "category";
		this.kg = "";
		this.ko = "isGroup";
		this.Vg = "group";
		this.jq = !1;
		void 0 !== a && (this.Zf = a);
		void 0 !== b && (this.zg = b)
	}

	v.Ia( Q, F );
	v.ea( "GraphLinksModel", Q );
	Q.prototype.cloneProtected = function( a )
	{
		F.prototype.cloneProtected.call( this, a );
		a.Kk = this.Kk;
		a.fo = this.fo;
		a.wn = this.wn;
		a.Gh = this.Gh;
		a.Hh = this.Hh;
		a.bm = this.bm;
		a.cm = this.cm;
		a.am = this.am;
		a.kg = this.kg;
		a.ko = this.ko;
		a.Vg = this.Vg;
		a.jq = this.jq
	};
	Q.prototype.clear = Q.prototype.clear = function()
	{
		F.prototype.clear.call( this );
		this.Hf = [];
		this.Yc.clear();
		this.bo.clear()
	};
	g = Q.prototype;
	g.toString = function( a )
	{
		void 0 === a && (a = 0);
		if( 2 <= a )return this.tA();
		var b = ("" !== this.name ? this.name : "") + " GraphLinksModel";
		if( 0 < a )
		{
			b += "\n node data:";
			a = this.Zf;
			for( var c = v.Va( a ), d = 0, d = 0; d < c; d++ )var e = v.Pa( a, d ), b = b + (" " + this.gb( e ) + ":" + Ef( e ));
			b += "\n link data:";
			a = this.zg;
			c = v.Va( a );
			for( d = 0; d < c; d++ )e = v.Pa( a, d ), b += " " + this.ol( e ) + "--\x3e" + this.pl( e )
		}
		return b
	};
	g.hn = function()
	{
		var a = F.prototype.hn.call( this ), b = "";
		"category" !== this.At && "string" === typeof this.At && (b += ',\n  "linkCategoryProperty": ' + this.quote( this.At ));
		"" !== this.Yi && "string" === typeof this.Yi && (b += ',\n  "linkKeyProperty": ' + this.quote( this.Yi ));
		"from" !== this.ip && "string" === typeof this.ip && (b += ',\n  "linkFromKeyProperty": ' + this.quote( this.ip ));
		"to" !== this.kp && "string" === typeof this.kp && (b += ',\n  "linkToKeyProperty": ' + this.quote( this.kp ));
		"" !== this.Bt && "string" === typeof this.Bt && (b += ',\n  "linkFromPortIdProperty": ' +
			this.quote( this.Bt ));
		"" !== this.Dt && "string" === typeof this.Dt && (b += ',\n  "linkToPortIdProperty": ' + this.quote( this.Dt ));
		"" !== this.Ct && "string" === typeof this.Ct && (b += ',\n  "linkLabelKeysProperty": ' + this.quote( this.Ct ));
		"isGroup" !== this.Jt && "string" === typeof this.Jt && (b += ',\n  "nodeIsGroupProperty": ' + this.quote( this.Jt ));
		"group" !== this.tp && "string" === typeof this.tp && (b += ',\n  "nodeGroupKeyProperty": ' + this.quote( this.tp ));
		return a + b
	};
	g.Mt = function( a )
	{
		F.prototype.Mt.call( this, a );
		a.linkKeyProperty && (this.Yi = a.linkKeyProperty);
		a.linkFromKeyProperty && (this.ip = a.linkFromKeyProperty);
		a.linkToKeyProperty && (this.kp = a.linkToKeyProperty);
		a.linkFromPortIdProperty && (this.Bt = a.linkFromPortIdProperty);
		a.linkToPortIdProperty && (this.Dt = a.linkToPortIdProperty);
		a.linkCategoryProperty && (this.At = a.linkCategoryProperty);
		a.linkLabelKeysProperty && (this.Ct = a.linkLabelKeysProperty);
		a.nodeIsGroupProperty && (this.Jt = a.nodeIsGroupProperty);
		a.nodeGroupKeyProperty &&
		(this.tp = a.nodeGroupKeyProperty)
	};
	g.BA = function()
	{
		var a = F.prototype.BA.call( this ), b = ',\n  "linkDataArray": ' + Mf( this, this.zg, !0 );
		return a + b
	};
	g.Zz = function( a )
	{
		F.prototype.Zz.call( this, a );
		a = a.linkDataArray;
		v.isArray( a ) && (this.Pt( a ), this.zg = a)
	};
	g.CA = function( a )
	{
		a instanceof Q || v.k( "Model.computeJsonDifference: newmodel must be a GraphLinksModel" );
		"" === this.Yi && v.k( "GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed." );
		var b = F.prototype.CA.call( this, a );
		Of( this, a, "linkKeyProperty" );
		Of( this, a, "linkFromKeyProperty" );
		Of( this, a, "linkToKeyProperty" );
		Of( this, a, "linkLabelKeysProperty" );
		Of( this, a, "nodeIsGroupProperty" );
		Of( this, a, "nodeGroupKeyProperty" );
		for( var c = new J, d = new J, e = (new J).Tc( this.Yc.jE ),
					 f = new na, h = a.zg, k = 0; k < h.length; k++ )
		{
			var l = h[k], m = a.bf( l );
			if( void 0 !== m )
			{
				e.remove( m );
				var n = this.dt( m );
				null === n ? (c.add( m ), d.add( l )) : Nf( this, n, l, f ) || d.add( l )
			}
			else this.Iz( l ), m = this.bf( l ), c.add( m ), d.add( l )
		}
		a = b;
		0 < c.count && (a += this.Cx + Mf( this, c.dc(), !0 ));
		0 < d.count && (a += this.JA + Mf( this, d.dc(), !0 ));
		0 < e.count && (a += this.Ex + Mf( this, e.dc(), !0 ));
		return a
	};
	g.Cx = ',\n  "insertedLinkKeys": ';
	g.JA = ',\n  "modifiedLinkData": ';
	g.Ex = ',\n  "removedLinkKeys": ';
	g.AA = function( a, b )
	{
		"" === this.Yi && v.k( "GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed." );
		var c = F.prototype.AA.call( this, a, b ), d = this, e = new J, f = new J, h = new J;
		a.Pf.each( function( a )
		{
			a.ba === d && ("linkDataArray" === a.hf ? a.wc === Cf ? e.add( a.newValue ) : a.wc === Df && h.add( a.oldValue ) : d.bh( a.object ) && f.add( a.object ))
		} );
		var k = new J;
		e.each( function( a )
		{
			k.add( d.bf( a ) );
			b || f.add( a )
		} );
		var l = new J;
		h.each( function( a )
		{
			l.add( d.bf( a ) );
			b && f.add( a )
		} );
		0 < k.count && (c += (b ? this.Ex : this.Cx) +
			Mf( this, k.dc(), !0 ));
		0 < f.count && (c += this.JA + Mf( this, f.dc(), !0 ));
		0 < l.count && (c += (b ? this.Cx : this.Ex) + Mf( this, l.dc(), !0 ));
		return c
	};
	g.Yz = function( a )
	{
		F.prototype.Yz.call( this, a );
		var b = a.insertedLinkKeys;
		if( v.isArray( b ) )for( var c = v.Va( b ), d = 0; d < c; d++ )
		{
			var e = v.Pa( b, d ), f = this.dt( e );
			null === f && (f = this.qw( {} ), this.TE( f, e ), this.Ns( f ))
		}
		b = a.modifiedLinkData;
		if( v.isArray( b ) )for( c = v.Va( b ), d = 0; d < c; d++ )
		{
			var h = v.Pa( b, d ), e = this.bf( h ), f = this.dt( e );
			if( null !== f )for( var k in h )"__gohashid" !== k && k !== this.Yi && this.setDataProperty( f, k, h[k] )
		}
		a = a.removedLinkKeys;
		if( v.isArray( a ) )for( c = v.Va( a ), d = 0; d < c; d++ )e = v.Pa( a, d ), f = this.dt( e ), null !== f && this.ax( f )
	};
	g.Cm = function( a, b )
	{
		var c = null;
		if( a.wc === Cf )
		{
			if( "linkDataArray" === a.hf ? c = this.Hf : "linkLabelKeys" === a.hf && (c = this.Zj( a.object )), v.isArray( c ) )
			{
				if( b )v.Vh( c, a.Ag ), c === this.Hf && (c = this.bf( a.newValue ), void 0 !== c && this.Yc.remove( c ));
				else if( v.Oi( c, a.Ag, a.newValue ), c === this.Hf )
				{
					var d = a.newValue, c = this.bf( d );
					void 0 !== c && this.Yc.add( c, d )
				}
				return
			}
		}
		else if( a.wc === Df && ("linkDataArray" === a.hf ? c = this.Hf : "linkLabelKeys" === a.hf && (c = this.Zj( a.object )), v.isArray( c )) )
		{
			b ? (v.Oi( c, a.Cg, a.oldValue ), c === this.Hf && (d = a.newValue,
				c = this.bf( d ), void 0 !== c && this.Yc.add( c, d ))) : (v.Vh( c, a.Cg ), c === this.Hf && (c = this.bf( a.newValue ), void 0 !== c && this.Yc.remove( c )));
			return
		}
		F.prototype.Cm.call( this, a, b )
	};
	v.defineProperty( Q, {Yy: "archetypeNodeData"}, function()
	{
		return this.Ll
	}, function( a )
	{
		var b = this.Ll;
		b !== a && (null !== a && v.A( a, Object, Q, "archetypeNodeData" ), this.Ll = a, this.h( "archetypeNodeData", b, a ))
	} );
	Q.prototype.Wm = function( a )
	{
		if( void 0 !== a )
		{
			var b = this.Ll;
			if( null !== b )
			{
				var c = this.ce( a );
				null === c && (c = this.copyNodeData( b ), v.Ja( c, this.Cj, a ), this.Xk( c ))
			}
			return a
		}
	};
	v.defineProperty( Q, {ip: "linkFromKeyProperty"}, function()
	{
		return this.Gh
	}, function( a )
	{
		var b = this.Gh;
		b !== a && (lg( a, Q, "linkFromKeyProperty" ), this.Gh = a, this.h( "linkFromKeyProperty", b, a ))
	} );
	Q.prototype.getFromKeyForLinkData = Q.prototype.ol = function( a )
	{
		if( null !== a )
		{
			var b = this.Gh;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "FromKey value for link data " + a + " is not a number or a string: " + b )
			}
		}
	};
	Q.prototype.setFromKeyForLinkData = Q.prototype.jx = function( a, b )
	{
		null === b && (b = void 0);
		void 0 === b || mg( b ) || v.Gd( b, "number or string", Q, "setFromKeyForLinkData:key" );
		if( null !== a )
		{
			var c = this.Gh;
			if( "" !== c )if( b = this.Wm( b ), this.bh( a ) )
			{
				var d = v.qb( a, c );
				d !== b && (rg( this, d, a ), v.Ja( a, c, b ), null === this.ce( b ) && qg( this, b, a ), $f( this, "linkFromKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Q, {kp: "linkToKeyProperty"}, function()
	{
		return this.Hh
	}, function( a )
	{
		var b = this.Hh;
		b !== a && (lg( a, Q, "linkToKeyProperty" ), this.Hh = a, this.h( "linkToKeyProperty", b, a ))
	} );
	Q.prototype.getToKeyForLinkData = Q.prototype.pl = function( a )
	{
		if( null !== a )
		{
			var b = this.Hh;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "ToKey value for link data " + a + " is not a number or a string: " + b )
			}
		}
	};
	Q.prototype.setToKeyForLinkData = Q.prototype.nx = function( a, b )
	{
		null === b && (b = void 0);
		void 0 === b || mg( b ) || v.Gd( b, "number or string", Q, "setToKeyForLinkData:key" );
		if( null !== a )
		{
			var c = this.Hh;
			if( "" !== c )if( b = this.Wm( b ), this.bh( a ) )
			{
				var d = v.qb( a, c );
				d !== b && (rg( this, d, a ), v.Ja( a, c, b ), null === this.ce( b ) && qg( this, b, a ), $f( this, "linkToKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Q, {Bt: "linkFromPortIdProperty"}, function()
	{
		return this.bm
	}, function( a )
	{
		var b = this.bm;
		b !== a && (lg( a, Q, "linkFromPortIdProperty" ), this.bm = a, this.h( "linkFromPortIdProperty", b, a ))
	} );
	Q.prototype.getFromPortIdForLinkData = Q.prototype.TG = function( a )
	{
		if( null === a )return"";
		var b = this.bm;
		if( "" === b )return"";
		a = v.qb( a, b );
		return void 0 === a ? "" : a
	};
	Q.prototype.setFromPortIdForLinkData = Q.prototype.jA = function( a, b )
	{
		v.j( b, "string", Q, "setFromPortIdForLinkData:portname" );
		if( null !== a )
		{
			var c = this.bm;
			if( "" !== c )if( this.bh( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = "");
				d !== b && (v.Ja( a, c, b ), $f( this, "linkFromPortId", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Q, {Dt: "linkToPortIdProperty"}, function()
	{
		return this.cm
	}, function( a )
	{
		var b = this.cm;
		b !== a && (lg( a, Q, "linkToPortIdProperty" ), this.cm = a, this.h( "linkToPortIdProperty", b, a ))
	} );
	Q.prototype.getToPortIdForLinkData = Q.prototype.WG = function( a )
	{
		if( null === a )return"";
		var b = this.cm;
		if( "" === b )return"";
		a = v.qb( a, b );
		return void 0 === a ? "" : a
	};
	Q.prototype.setToPortIdForLinkData = Q.prototype.mA = function( a, b )
	{
		v.j( b, "string", Q, "setToPortIdForLinkData:portname" );
		if( null !== a )
		{
			var c = this.cm;
			if( "" !== c )if( this.bh( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = "");
				d !== b && (v.Ja( a, c, b ), $f( this, "linkToPortId", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Q, {Ct: "linkLabelKeysProperty"}, function()
	{
		return this.kg
	}, function( a )
	{
		var b = this.kg;
		b !== a && (lg( a, Q, "linkLabelKeysProperty" ), this.kg = a, this.h( "linkLabelKeysProperty", b, a ))
	} );
	Q.prototype.getLabelKeysForLinkData = Q.prototype.Zj = function( a )
	{
		if( null === a )return v.th;
		var b = this.kg;
		if( "" === b )return v.th;
		a = v.qb( a, b );
		return void 0 === a ? v.th : a
	};
	Q.prototype.setLabelKeysForLinkData = Q.prototype.UE = function( a, b )
	{
		v.$y( b, Q, "setLabelKeysForLinkData:arr" );
		if( null !== a )
		{
			var c = this.kg;
			if( "" !== c )if( this.bh( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = v.th);
				if( d !== b )
				{
					for( var e = v.Va( d ), f = 0; f < e; f++ )
					{
						var h = v.Pa( d, f );
						rg( this, h, a )
					}
					v.Ja( a, c, b );
					e = v.Va( b );
					for( f = 0; f < e; f++ )h = v.Pa( b, f ), null === this.ce( h ) && qg( this, h, a );
					$f( this, "linkLabelKeys", Af, c, a, d, b );
					"string" === typeof c && this.Hb( a, c )
				}
			}
			else v.Ja( a, c, b )
		}
	};
	Q.prototype.addLabelKeyForLinkData = Q.prototype.Vy = function( a, b )
	{
		if( null !== b && void 0 !== b && (mg( b ) || v.Gd( b, "number or string", Q, "addLabelKeyForLinkData:key" ), null !== a) )
		{
			var c = this.kg;
			if( "" !== c )
			{
				var d = v.qb( a, c );
				void 0 === d ? (c = [], c.push( b ), this.UE( a, c )) : v.isArray( d ) ? 0 <= v.Zy( d, b ) || (v.Oi( d, Infinity, b ), this.bh( a ) && (null === this.ce( b ) && qg( this, b, a ), $f( this, "linkLabelKeys", Cf, c, a, null, b ))) : v.k( c + " property is not an Array; cannot addLabelKeyForLinkData: " + a )
			}
		}
	};
	Q.prototype.removeLabelKeyForLinkData = Q.prototype.BE = function( a, b )
	{
		if( null !== b && void 0 !== b && (mg( b ) || v.Gd( b, "number or string", Q, "removeLabelKeyForLinkData:key" ), null !== a) )
		{
			var c = this.kg;
			if( "" !== c )
			{
				var d = v.qb( a, c );
				if( v.isArray( d ) )
				{
					var e = v.Zy( d, b );
					0 > e || (v.Vh( d, e ), this.bh( a ) && (rg( this, b, a ), $f( this, "linkLabelKeys", Df, c, a, b, null )))
				}
				else void 0 !== d && v.k( c + " property is not an Array; cannot removeLabelKeyforLinkData: " + a )
			}
		}
	};
	v.defineProperty( Q, {zg: "linkDataArray"}, function()
	{
		return this.Hf
	}, function( a )
	{
		var b = this.Hf;
		if( b !== a )
		{
			v.$y( a, Q, "linkDataArray" );
			this.Yc.clear();
			for( var c = v.Va( a ), d = 0; d < c; d++ )
			{
				var e = v.Pa( a, d );
				if( !v.Ta( e ) )
				{
					v.k( "GraphLinksModel.linkDataArray must only contain Objects, not: " + e );
					return
				}
				v.nt( e )
			}
			this.Hf = a;
			if( "" !== this.Yi )
			{
				for( var f = new I( Object ), d = 0; d < c; d++ )
				{
					var e = v.Pa( a, d ), h = this.bf( e );
					void 0 === h ? f.add( e ) : null !== this.Yc.ja( h ) ? f.add( e ) : this.Yc.add( h, e )
				}
				for( d = f.i; d.next(); )e = d.value, this.Iz( e ), f = this.bf( e ),
					void 0 !== f && this.Yc.add( f, e )
			}
			f = new J( Object );
			for( d = 0; d < c; d++ )e = v.Pa( a, d ), f.add( e );
			this.bo = f;
			$f( this, "linkDataArray", Af, "linkDataArray", this, b, a );
			for( d = 0; d < c; d++ )e = v.Pa( a, d ), wg( this, e )
		}
	} );
	v.defineProperty( Q, {Yi: "linkKeyProperty"}, function()
	{
		return this.Kk
	}, function( a )
	{
		var b = this.Kk;
		if( b !== a )
		{
			lg( a, Q, "linkKeyProperty" );
			this.Kk = a;
			this.Yc.clear();
			for( var c = v.Va( this.zg ), d = 0; d < c; d++ )
			{
				var e = v.Pa( this.zg, d ), f = this.bf( e );
				void 0 !== f && this.Yc.add( f, e )
			}
			this.h( "linkKeyProperty", b, a )
		}
	} );
	Q.prototype.getKeyForLinkData = Q.prototype.bf = function( a )
	{
		if( null !== a )
		{
			var b = this.Kk;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "Key value for link data " + a + " is not a number or a string: " + b )
			}
		}
	};
	Q.prototype.setKeyForLinkData = Q.prototype.TE = function( a, b )
	{
		void 0 !== b && null !== b && mg( b ) || v.Gd( b, "number or string", Q, "setKeyForLinkData:key" );
		if( null !== a )
		{
			var c = this.Kk;
			if( "" !== c )if( this.bh( a ) )
			{
				var d = v.qb( a, c );
				d !== b && null === this.dt( b ) && (v.Ja( a, c, b ), this.Yc.remove( d ), this.Yc.add( b, a ), $f( this, "linkKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Q, {aK: "makeUniqueLinkKeyFunction"}, function()
	{
		return this.fo
	}, function( a )
	{
		var b = this.fo;
		b !== a && (null !== a && v.j( a, "function", Q, "makeUniqueLinkKeyFunction" ), this.fo = a, this.h( "makeUniqueLinkKeyFunction", b, a ))
	} );
	Q.prototype.findLinkDataForKey = Q.prototype.dt = function( a )
	{
		null === a && v.k( "GraphLinksModel.findLinkDataForKey:key must not be null" );
		return void 0 !== a && mg( a ) ? this.Yc.ja( a ) : null
	};
	Q.prototype.makeLinkDataKeyUnique = Q.prototype.Iz = function( a )
	{
		if( null !== a )
		{
			var b = this.Kk;
			if( "" !== b )
			{
				var c = this.bf( a );
				if( void 0 === c || this.Yc.contains( c ) )
				{
					var d = this.fo;
					if( null !== d && (c = d( this, a ), void 0 !== c && null !== c && !this.Yc.contains( c )) )
					{
						v.Ja( a, b, c );
						return
					}
					if( "string" === typeof c )
					{
						for( d = 2; this.Yc.contains( c + d ); )d++;
						v.Ja( a, b, c + d )
					}
					else if( void 0 === c || "number" === typeof c )
					{
						for( d = -this.Yc.count - 1; this.Yc.contains( d ); )d--;
						v.Ja( a, b, d )
					}
					else v.k( "GraphLinksModel.getKeyForLinkData returned something other than a string or a number: " +
							c )
				}
			}
		}
	};
	Q.prototype.containsLinkData = Q.prototype.bh = function( a )
	{
		return null === a ? !1 : this.bo.contains( a )
	};
	Q.prototype.addLinkData = Q.prototype.Ns = function( a )
	{
		if( null !== a )
		{
			if( void 0 === v.md( a ) )v.ec( a );
			else if( this.bh( a ) )return;
			xg( this, a, !0 )
		}
	};
	function xg( a, b, c )
	{
		if( "" !== a.Yi )
		{
			var d = a.bf( b );
			if( void 0 !== d && a.Yc.ja( d ) === b )return;
			a.Iz( b );
			d = a.bf( b );
			if( void 0 === d )
			{
				v.k( "GraphLinksModel.makeLinkDataKeyUnique failed on " + b + ". Data not added to model." );
				return
			}
			a.Yc.add( d, b )
		}
		a.bo.add( b );
		if( c )
		{
			var e = v.Va( a.Hf );
			v.Oi( a.Hf, e, b )
		}
		$f( a, "linkDataArray", Cf, "linkDataArray", a, null, b, null, e );
		wg( a, b )
	}

	Q.prototype.addLinkDataCollection = function( a )
	{
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.Ns( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.Ns( a.value )
	};
	Q.prototype.removeLinkData = Q.prototype.ax = function( a )
	{
		null !== a && yg( this, a, !0 )
	};
	function yg( a, b, c )
	{
		a.bo.remove( b );
		var d = a.bf( b );
		void 0 !== d && a.Yc.remove( d );
		if( c )
		{
			var e = a.Hf.indexOf( b );
			if( 0 > e )return;
			v.Vh( a.Hf, e )
		}
		$f( a, "linkDataArray", Df, "linkDataArray", a, b, null, e, null );
		c = a.ol( b );
		rg( a, c, b );
		c = a.pl( b );
		rg( a, c, b );
		d = a.Zj( b );
		if( v.isArray( d ) )for( var e = v.Va( d ), f = 0; f < e; f++ )c = v.Pa( d, f ), rg( a, c, b )
	}

	Q.prototype.removeLinkDataCollection = function( a )
	{
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )this.ax( v.Pa( a, c ) );
		else for( a = a.i; a.next(); )this.ax( a.value )
	};
	function wg( a, b )
	{
		var c = a.ol( b ), c = a.Wm( c );
		null === a.ce( c ) && qg( a, c, b );
		c = a.pl( b );
		c = a.Wm( c );
		null === a.ce( c ) && qg( a, c, b );
		var d = a.Zj( b );
		if( v.isArray( d ) )for( var e = v.Va( d ), f = 0; f < e; f++ )c = v.Pa( d, f ), null === a.ce( c ) && qg( a, c, b )
	}

	v.defineProperty( Q, {uJ: "copyLinkDataFunction"}, function()
	{
		return this.wn
	}, function( a )
	{
		var b = this.wn;
		b !== a && (null !== a && v.j( a, "function", Q, "copyLinkDataFunction" ), this.wn = a, this.h( "copyLinkDataFunction", b, a ))
	} );
	Q.prototype.copyLinkData = Q.prototype.qw = function( a )
	{
		if( null === a )return null;
		var b = null, b = this.wn, b = null !== b ? b( a, this ) : sg( this, a, !0 );
		v.Ta( b ) && (v.ec( b ), "" !== this.Gh && v.Ja( b, this.Gh, void 0 ), "" !== this.Hh && v.Ja( b, this.Hh, void 0 ), "" !== this.kg && v.Ja( b, this.kg, [] ));
		return b
	};
	v.defineProperty( Q, {Jt: "nodeIsGroupProperty"}, function()
	{
		return this.ko
	}, function( a )
	{
		var b = this.ko;
		b !== a && (lg( a, Q, "nodeIsGroupProperty" ), this.ko = a, this.h( "nodeIsGroupProperty", b, a ))
	} );
	Q.prototype.isGroupForNodeData = Q.prototype.Bz = function( a )
	{
		if( null === a )return!1;
		var b = this.ko;
		return"" === b ? !1 : v.qb( a, b ) ? !0 : !1
	};
	v.defineProperty( Q, {tp: "nodeGroupKeyProperty"}, function()
	{
		return this.Vg
	}, function( a )
	{
		var b = this.Vg;
		b !== a && (lg( a, Q, "nodeGroupKeyProperty" ), this.Vg = a, this.h( "nodeGroupKeyProperty", b, a ))
	} );
	v.defineProperty( Q, {Gm: "copiesGroupKeyOfNodeData"}, function()
	{
		return this.jq
	}, function( a )
	{
		this.jq !== a && (v.j( a, "boolean", Q, "copiesGroupKeyOfNodeData" ), this.jq = a)
	} );
	Q.prototype.getGroupKeyForNodeData = Q.prototype.Nm = function( a )
	{
		if( null !== a )
		{
			var b = this.Vg;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "GroupKey value for node data " + a + " is not a number or a string: " + b )
			}
		}
	};
	Q.prototype.setGroupKeyForNodeData = Q.prototype.kx = function( a, b )
	{
		null === b && (b = void 0);
		void 0 === b || mg( b ) || v.Gd( b, "number or string", Q, "setGroupKeyForNodeData:key" );
		if( null !== a )
		{
			var c = this.Vg;
			if( "" !== c )if( this.Ie( a ) )
			{
				var d = v.qb( a, c );
				d !== b && (rg( this, d, a ), v.Ja( a, c, b ), null === this.ce( b ) && qg( this, b, a ), $f( this, "nodeGroupKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	Q.prototype.copyNodeData = function( a )
	{
		if( null === a )return null;
		a = F.prototype.copyNodeData.call( this, a );
		this.Gm || "" === this.Vg || void 0 === v.qb( a, this.Vg ) || v.Ja( a, this.Vg, void 0 );
		return a
	};
	Q.prototype.setDataProperty = function( a, b, c )
	{
		if( this.Ie( a ) )if( b === this.yl )this.lx( a, c );
		else
		{
			if( b === this.Xm )
			{
				this.ix( a, c );
				return
			}
			if( b === this.tp )
			{
				this.kx( a, c );
				return
			}
			b === this.Jt && v.k( "GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: " + b )
		}
		else if( this.bh( a ) )
		{
			if( b === this.ip )
			{
				this.jx( a, c );
				return
			}
			if( b === this.kp )
			{
				this.nx( a, c );
				return
			}
			if( b === this.Bt )
			{
				this.jA( a, c );
				return
			}
			if( b === this.Dt )
			{
				this.mA( a, c );
				return
			}
			if( b === this.Yi )
			{
				this.TE( a, c );
				return
			}
			if( b === this.At )
			{
				this.SE( a, c );
				return
			}
			if( b ===
				this.Ct )
			{
				this.UE( a, c );
				return
			}
		}
		else!vg && a instanceof G && (vg = !0, v.trace( 'GraphLinksModel.setDataProperty is modifying a GraphObject, "' + a.toString() + '"' ), v.trace( "  Is that really your intent?" ));
		var d = v.qb( a, b );
		d !== c && (v.Ja( a, b, c ), this.Xz( a, b, d, c ))
	};
	g = Q.prototype;
	g.Ot = function( a, b )
	{
		F.prototype.Ot.call( this, a, b );
		for( var c = this.tc.i; c.next(); )this.dA( c.value, a, b );
		for( c = this.bo.i; c.next(); )
		{
			var d = c.value, e = a, f = b;
			if( this.ol( d ) === e )
			{
				var h = this.Gh;
				v.Ja( d, h, f );
				$f( this, "linkFromKey", Af, h, d, e, f );
				"string" === typeof h && this.Hb( d, h )
			}
			this.pl( d ) === e && (h = this.Hh, v.Ja( d, h, f ), $f( this, "linkToKey", Af, h, d, e, f ), "string" === typeof h && this.Hb( d, h ));
			var k = this.Zj( d );
			if( v.isArray( k ) )for( var l = v.Va( k ), h = this.kg, m = 0; m < l; m++ )v.Pa( k, m ) === e && (v.hD( k, m, f ), $f( this, "linkLabelKeys", Cf, h, d, e,
				f ))
		}
	};
	g.dA = function( a, b, c )
	{
		if( this.Nm( a ) === b )
		{
			var d = this.Vg;
			v.Ja( a, d, c );
			$f( this, "nodeGroupKey", Af, d, a, b, c );
			"string" === typeof d && this.Hb( a, d )
		}
	};
	g.wA = function()
	{
		F.prototype.wA.call( this );
		for( var a = this.zg, b = v.Va( a ), c = 0; c < b; c++ )
		{
			var d = v.Pa( a, c );
			wg( this, d )
		}
	};
	g.yp = function( a )
	{
		F.prototype.yp.call( this, a );
		a = this.gb( a );
		var b = pg( this, a );
		if( null !== b )
		{
			for( var c = new I( Object ), b = b.i; b.next(); )
			{
				var d = b.value;
				if( this.Ie( d ) )
				{
					if( this.Nm( d ) === a )
					{
						var e = this.Vg;
						$f( this, "nodeGroupKey", Af, e, d, a, a );
						"string" === typeof e && this.Hb( d, e );
						c.add( d )
					}
				}
				else
				{
					this.ol( d ) === a && (e = this.Gh, $f( this, "linkFromKey", Af, e, d, a, a ), "string" === typeof e && this.Hb( d, e ), c.add( d ));
					this.pl( d ) === a && (e = this.Hh, $f( this, "linkToKey", Af, e, d, a, a ), "string" === typeof e && this.Hb( d, e ), c.add( d ));
					var f = this.Zj( d );
					if( v.isArray( f ) )for( var h =
						v.Va( f ), e = this.kg, k = 0; k < h; k++ )v.Pa( f, k ) === a && ($f( this, "linkLabelKeys", Cf, e, d, a, a ), c.add( d ))
				}
			}
			for( c = c.i; c.next(); )rg( this, a, c.value )
		}
	};
	g.xp = function( a )
	{
		F.prototype.xp.call( this, a );
		var b = this.Nm( a );
		null === this.ce( b ) && qg( this, b, a )
	};
	g.fu = function( a )
	{
		F.prototype.fu.call( this, a );
		var b = this.Nm( a );
		rg( this, b, a )
	};
	v.defineProperty( Q, {At: "linkCategoryProperty"}, function()
	{
		return this.am
	}, function( a )
	{
		var b = this.am;
		b !== a && (lg( a, Q, "linkCategoryProperty" ), this.am = a, this.h( "linkCategoryProperty", b, a ))
	} );
	Q.prototype.getCategoryForLinkData = Q.prototype.Cw = function( a )
	{
		if( null === a )return"";
		var b = this.am;
		if( "" === b )return"";
		b = v.qb( a, b );
		if( void 0 === b )return"";
		if( "string" === typeof b )return b;
		v.k( "getCategoryForLinkData found a non-string category for " + a + ": " + b );
		return""
	};
	Q.prototype.setCategoryForLinkData = Q.prototype.SE = function( a, b )
	{
		v.j( b, "string", Q, "setCategoryForLinkData:cat" );
		if( null !== a )
		{
			var c = this.am;
			if( "" !== c )if( this.bh( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = "");
				d !== b && (v.Ja( a, c, b ), $f( this, "linkCategory", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	function Pf( a )
	{
		1 < arguments.length && v.k( "TreeModel constructor can only take one optional argument, the Array of node data." );
		F.call( this );
		this.Wg = "parent";
		this.kq = !1;
		this.im = "parentLinkCategory";
		void 0 !== a && (this.Zf = a)
	}

	v.Ia( Pf, F );
	v.ea( "TreeModel", Pf );
	Pf.prototype.cloneProtected = function( a )
	{
		F.prototype.cloneProtected.call( this, a );
		a.Wg = this.Wg;
		a.kq = this.kq;
		a.im = this.im
	};
	Pf.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		if( 2 <= a )return this.tA();
		var b = ("" !== this.name ? this.name : "") + " TreeModel";
		if( 0 < a )
		{
			b += "\n node data:";
			a = this.Zf;
			for( var c = v.Va( a ), d = 0; d < c; d++ )var e = v.Pa( a, d ), b = b + (" " + this.gb( e ) + ":" + Ef( e ))
		}
		return b
	};
	Pf.prototype.hn = function()
	{
		var a = F.prototype.hn.call( this ), b = "";
		"parent" !== this.vp && "string" === typeof this.vp && (b += ',\n  "nodeParentKeyProperty": ' + this.quote( this.vp ));
		return a + b
	};
	Pf.prototype.Mt = function( a )
	{
		F.prototype.Mt.call( this, a );
		a.nodeParentKeyProperty && (this.vp = a.nodeParentKeyProperty)
	};
	Pf.prototype.Wm = function( a )
	{
		return a
	};
	v.defineProperty( Pf, {vp: "nodeParentKeyProperty"}, function()
	{
		return this.Wg
	}, function( a )
	{
		var b = this.Wg;
		b !== a && (lg( a, Pf, "nodeParentKeyProperty" ), this.Wg = a, this.h( "nodeParentKeyProperty", b, a ))
	} );
	v.defineProperty( Pf, {Hm: "copiesParentKeyOfNodeData"}, function()
	{
		return this.kq
	}, function( a )
	{
		this.kq !== a && (v.j( a, "boolean", Pf, "copiesParentKeyOfNodeData" ), this.kq = a)
	} );
	Pf.prototype.getParentKeyForNodeData = Pf.prototype.Om = function( a )
	{
		if( null !== a )
		{
			var b = this.Wg;
			if( "" !== b && (b = v.qb( a, b ), void 0 !== b) )
			{
				if( mg( b ) )return b;
				v.k( "ParentKey value for node data " + a + " is not a number or a string: " + b )
			}
		}
	};
	Pf.prototype.setParentKeyForNodeData = Pf.prototype.ph = function( a, b )
	{
		null === b && (b = void 0);
		void 0 === b || mg( b ) || v.Gd( b, "number or string", Pf, "setParentKeyForNodeData:key" );
		if( null !== a )
		{
			var c = this.Wg;
			if( "" !== c )if( b = this.Wm( b ), this.Ie( a ) )
			{
				var d = v.qb( a, c );
				d !== b && (rg( this, d, a ), v.Ja( a, c, b ), null === this.ce( b ) && qg( this, b, a ), $f( this, "nodeParentKey", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	v.defineProperty( Pf, {uK: "parentLinkCategoryProperty"}, function()
	{
		return this.im
	}, function( a )
	{
		var b = this.im;
		b !== a && (lg( a, Pf, "parentLinkCategoryProperty" ), this.im = a, this.h( "parentLinkCategoryProperty", b, a ))
	} );
	Pf.prototype.getParentLinkCategoryForNodeData = Pf.prototype.VG = function( a )
	{
		if( null === a )return"";
		var b = this.im;
		if( "" === b )return"";
		b = v.qb( a, b );
		if( void 0 === b )return"";
		if( "string" === typeof b )return b;
		v.k( "getParentLinkCategoryForNodeData found a non-string category for " + a + ": " + b );
		return""
	};
	Pf.prototype.setParentLinkCategoryForNodeData = Pf.prototype.wI = function( a, b )
	{
		v.j( b, "string", Pf, "setParentLinkCategoryForNodeData:cat" );
		if( null !== a )
		{
			var c = this.im;
			if( "" !== c )if( this.Ie( a ) )
			{
				var d = v.qb( a, c );
				void 0 === d && (d = "");
				d !== b && (v.Ja( a, c, b ), $f( this, "parentLinkCategory", Af, c, a, d, b ), "string" === typeof c && this.Hb( a, c ))
			}
			else v.Ja( a, c, b )
		}
	};
	Pf.prototype.copyNodeData = function( a )
	{
		if( null === a )return null;
		a = F.prototype.copyNodeData.call( this, a );
		this.Hm || "" === this.Wg || void 0 === v.qb( a, this.Wg ) || v.Ja( a, this.Wg, void 0 );
		return a
	};
	Pf.prototype.setDataProperty = function( a, b, c )
	{
		if( this.Ie( a ) )if( b === this.yl )this.lx( a, c );
		else
		{
			if( b === this.Xm )
			{
				this.ix( a, c );
				return
			}
			if( b === this.vp )
			{
				this.ph( a, c );
				return
			}
		}
		else!vg && a instanceof G && (vg = !0, v.trace( 'TreeModel.setDataProperty is modifying a GraphObject, "' + a.toString() + '"' ), v.trace( "  Is that really your intent?" ));
		var d = v.qb( a, b );
		d !== c && (v.Ja( a, b, c ), this.Xz( a, b, d, c ))
	};
	g = Pf.prototype;
	g.Ot = function( a, b )
	{
		F.prototype.Ot.call( this, a, b );
		for( var c = this.tc.i; c.next(); )this.dA( c.value, a, b )
	};
	g.dA = function( a, b, c )
	{
		if( this.Om( a ) === b )
		{
			var d = this.Wg;
			v.Ja( a, d, c );
			$f( this, "nodeParentKey", Af, d, a, b, c );
			"string" === typeof d && this.Hb( a, d )
		}
	};
	g.yp = function( a )
	{
		F.prototype.yp.call( this, a );
		a = this.gb( a );
		var b = pg( this, a );
		if( null !== b )
		{
			for( var c = new I( Object ), b = b.i; b.next(); )
			{
				var d = b.value;
				if( this.Ie( d ) && this.Om( d ) === a )
				{
					var e = this.Wg;
					$f( this, "nodeParentKey", Af, e, d, a, a );
					"string" === typeof e && this.Hb( d, e );
					c.add( d )
				}
			}
			for( c = c.i; c.next(); )rg( this, a, c.value )
		}
	};
	g.xp = function( a )
	{
		F.prototype.xp.call( this, a );
		var b = this.Om( a ), b = this.Wm( b );
		null === this.ce( b ) && qg( this, b, a )
	};
	g.fu = function( a )
	{
		F.prototype.fu.call( this, a );
		var b = this.Om( a );
		rg( this, b, a )
	};
	function zg( a, b, c )
	{
		v.ec( this );
		this.D = !1;
		void 0 === a ? a = "" : v.j( a, "string", zg, "constructor:targetprop" );
		void 0 === b ? b = a : v.j( b, "string", zg, "constructor:sourceprop" );
		void 0 === c ? c = null : null !== c && v.j( c, "function", zg, "constructor:conv" );
		this.DC = -1;
		this.qg = null;
		this.Do = a;
		this.Co = this.ys = 0;
		this.Sv = null;
		this.Xq = !1;
		this.to = b;
		this.hq = c;
		this.tr = Ag;
		this.aq = null
	}

	v.ea( "Binding", zg );
	zg.prototype.copy = function()
	{
		var a = new zg;
		a.Do = this.Do;
		a.ys = this.ys;
		a.Co = this.Co;
		a.Sv = this.Sv;
		a.Xq = this.Xq;
		a.to = this.to;
		a.hq = this.hq;
		a.tr = this.tr;
		a.aq = this.aq;
		return a
	};
	var Ag;
	zg.OneWay = Ag = v.p( zg, "OneWay", 1 );
	var Bg;
	zg.TwoWay = Bg = v.p( zg, "TwoWay", 2 );
	zg.parseEnum = function( a, b )
	{
		v.j( a, "function", zg, "parseEnum:ctor" );
		v.pb( b, a, zg, "parseEnum:defval" );
		return function( c )
		{
			c = ra( a, c );
			return null === c ? b : c
		}
	};
	var Ef;
	zg.toString = Ef = function( a )
	{
		var b = a;
		v.Ta( a ) && (a.text ? b = a.text : a.name ? b = a.name : void 0 !== a.key ? b = a.key : void 0 !== a.id ? b = a.id : a.constructor === Object && (a.Text ? b = a.Text : a.Name ? b = a.Name : void 0 !== a.Key ? b = a.Key : void 0 !== a.Id ? b = a.Id : void 0 !== a.ID && (b = a.ID)));
		return void 0 === b ? "undefined" : null === b ? "null" : b.toString()
	};
	zg.prototype.toString = function()
	{
		return"Binding(" + this.qx + ":" + this.YE + (-1 !== this.El ? " " + this.El : "") + " " + this.mode.name + ")"
	};
	zg.prototype.freeze = function()
	{
		this.D = !0;
		return this
	};
	zg.prototype.Oa = function()
	{
		this.D = !1;
		return this
	};
	v.defineProperty( zg, {El: null}, function()
	{
		return this.DC
	}, function( a )
	{
		this.D && v.ka( this );
		v.j( a, "number", zg, "targetId" );
		this.DC = a
	} );
	v.defineProperty( zg, {qx: "targetProperty"}, function()
	{
		return this.Do
	}, function( a )
	{
		this.D && v.ka( this );
		v.j( a, "string", zg, "targetProperty" );
		this.Do = a
	} );
	v.defineProperty( zg, {dn: "sourceName"}, function()
	{
		return this.Sv
	}, function( a )
	{
		this.D && v.ka( this );
		null !== a && v.j( a, "string", zg, "sourceName" );
		this.Sv = a;
		null !== a && (this.Xq = !1)
	} );
	v.defineProperty( zg, {xt: "isToModel"}, function()
	{
		return this.Xq
	}, function( a )
	{
		this.D && v.ka( this );
		v.j( a, "boolean", zg, "isToModel" );
		this.Xq = a
	} );
	v.defineProperty( zg, {YE: "sourceProperty"}, function()
	{
		return this.to
	}, function( a )
	{
		this.D && v.ka( this );
		v.j( a, "string", zg, "sourceProperty" );
		this.to = a
	} );
	v.defineProperty( zg, {sG: "converter"}, function()
	{
		return this.hq
	}, function( a )
	{
		this.D && v.ka( this );
		null !== a && v.j( a, "function", zg, "converter" );
		this.hq = a
	} );
	v.defineProperty( zg, {hG: "backConverter"}, function()
	{
		return this.aq
	}, function( a )
	{
		this.D && v.ka( this );
		null !== a && v.j( a, "function", zg, "backConverter" );
		this.aq = a
	} );
	v.defineProperty( zg, {mode: "mode"}, function()
	{
		return this.tr
	}, function( a )
	{
		this.D && v.ka( this );
		v.pb( a, zg, zg, "mode" );
		this.tr = a
	} );
	zg.prototype.makeTwoWay = zg.prototype.HH = function( a )
	{
		void 0 === a && (a = null);
		null !== a && v.j( a, "function", zg, "makeTwoWay" );
		this.mode = Bg;
		this.hG = a;
		return this
	};
	zg.prototype.ofObject = zg.prototype.Rw = function( a )
	{
		void 0 === a && (a = "");
		this.dn = a;
		this.xt = !1;
		return this
	};
	zg.prototype.ofModel = function()
	{
		this.dn = null;
		this.xt = !0;
		return this
	};
	zg.prototype.ofData = function()
	{
		this.dn = null;
		this.xt = !1;
		return this
	};
	function Cg( a, b, c )
	{
		a = a.dn;
		var d = null;
		return d = null === a || "" === a ? b : "." === a ? c : ".." === a ? c.U : b.de( a )
	}

	zg.prototype.updateTarget = zg.prototype.oF = function( a, b, c )
	{
		var d = this.to;
		if( void 0 === c || "" === d || d === c )
		{
			c = this.Do;
			var e = this.hq;
			if( null === e && "" === c )v.trace( "Binding error: target property is the empty string: " + this.toString() );
			else
			{
				var f = b;
				"" !== d && (f = v.qb( b, d ));
				if( void 0 !== f )if( null === e )"" !== c && v.Ja( a, c, f );
				else try
					{
						if( "" !== c )
						{
							var h = e( f, a );
							v.Ja( a, c, h )
						}
						else e( f, a )
					} catch( k )
					{
					}
			}
		}
	};
	zg.prototype.updateSource = zg.prototype.sx = function( a, b, c, d )
	{
		void 0 === d && (d = null);
		if( this.tr === Bg )
		{
			var e = this.Do;
			if( void 0 === c || e === c )
			{
				c = this.to;
				var f = this.aq;
				if( null !== f || "" !== c )
				{
					var h = a;
					"" !== e && (h = v.qb( a, e ));
					if( void 0 !== h )if( a = null !== d ? d.ba : null, null === f )null !== a ? a.setDataProperty( b, c, h ) : v.Ja( b, c, h );
					else try
						{
							if( "" !== c )
							{
								var k = f( h, b, a );
								null !== a ? a.setDataProperty( b, c, k ) : v.Ja( b, c, k )
							}
							else f( h, b, a )
						} catch( l )
						{
						}
				}
			}
		}
	};
	function Qf()
	{
		this.vF = (new I( zf )).freeze();
		this.Ob = "";
		this.JB = !1
	}

	v.ea( "Transaction", Qf );
	Qf.prototype.toString = function( a )
	{
		var b = "Transaction: " + this.name + " " + this.Pf.count.toString() + (this.st ? "" : ", incomplete");
		if( void 0 !== a && 0 < a )
		{
			a = this.Pf.count;
			for( var c = 0; c < a; c++ )
			{
				var d = this.Pf.da( c );
				null !== d && (b += "\n  " + d.toString())
			}
		}
		return b
	};
	Qf.prototype.clear = Qf.prototype.clear = function()
	{
		var a = this.Pf;
		a.Oa();
		for( var b = a.count - 1; 0 <= b; b-- )
		{
			var c = a.da( b );
			null !== c && c.clear()
		}
		a.clear();
		a.freeze()
	};
	Qf.prototype.canUndo = Qf.prototype.canUndo = function()
	{
		return this.st
	};
	Qf.prototype.undo = Qf.prototype.undo = function()
	{
		if( this.canUndo() )for( var a = this.Pf.count - 1; 0 <= a; a-- )
		{
			var b = this.Pf.da( a );
			null !== b && b.undo()
		}
	};
	Qf.prototype.canRedo = Qf.prototype.canRedo = function()
	{
		return this.st
	};
	Qf.prototype.redo = Qf.prototype.redo = function()
	{
		if( this.canRedo() )for( var a = this.Pf.count, b = 0; b < a; b++ )
		{
			var c = this.Pf.da( b );
			null !== c && c.redo()
		}
	};
	v.u( Qf, {Pf: "changes"}, function()
	{
		return this.vF
	} );
	v.defineProperty( Qf, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		this.Ob = a
	} );
	v.defineProperty( Qf, {st: "isComplete"}, function()
	{
		return this.JB
	}, function( a )
	{
		this.JB = a
	} );
	function Ff()
	{
		this.zy = new J( F );
		this.Re = !1;
		this.zF = (new I( Qf )).freeze();
		this.Pg = -1;
		this.ZB = 999;
		this.vi = !1;
		this.Ju = null;
		this.Vk = 0;
		this.UA = !1;
		this.Ug = (new I( "string" )).freeze();
		this.jo = new I( "number" );
		this.gy = !0;
		this.ty = !1
	}

	v.ea( "UndoManager", Ff );
	Ff.prototype.toString = function( a )
	{
		for( var b = "UndoManager " + this.Ui + "<" + this.history.count + "<=" + this.oE, b = b + "[", c = this.tE.count, d = 0; d < c; d++ )0 < d && (b += " "), b += this.tE.da( d );
		b += "]";
		if( void 0 !== a && 0 < a )for( c = this.history.count, d = 0; d < c; d++ )b += "\n " + this.history.da( d ).toString( a - 1 );
		return b
	};
	Ff.prototype.clear = Ff.prototype.clear = function()
	{
		var a = this.history;
		a.Oa();
		for( var b = a.count - 1; 0 <= b; b-- )
		{
			var c = a.da( b );
			null !== c && c.clear()
		}
		a.clear();
		this.Pg = -1;
		a.freeze();
		this.vi = !1;
		this.Ju = null;
		this.Vk = 0;
		this.Ug.Oa();
		this.Ug.clear();
		this.Ug.freeze();
		this.jo.clear()
	};
	Ff.prototype.addModel = Ff.prototype.$F = function( a )
	{
		this.zy.add( a )
	};
	Ff.prototype.removeModel = Ff.prototype.gI = function( a )
	{
		this.zy.remove( a )
	};
	Ff.prototype.startTransaction = Ff.prototype.Qb = function( a )
	{
		void 0 === a && (a = "");
		null === a && (a = "");
		if( this.ib )return!1;
		!0 === this.gy && (this.gy = !1, this.Vk++, this.$c( "StartingFirstTransaction", a, this.Qi ), 0 < this.Vk && this.Vk--);
		this.isEnabled && (this.Ug.Oa(), this.Ug.add( a ), this.Ug.freeze(), null === this.Qi ? this.jo.add( 0 ) : this.jo.add( this.Qi.Pf.count ));
		this.Vk++;
		var b = 1 === this.sh;
		b && this.$c( "StartedTransaction", a, this.Qi );
		return b
	};
	Ff.prototype.commitTransaction = Ff.prototype.yd = function( a )
	{
		void 0 === a && (a = "");
		return Dg( this, !0, a )
	};
	Ff.prototype.rollbackTransaction = Ff.prototype.zp = function()
	{
		return Dg( this, !1, "" )
	};
	function Dg( a, b, c )
	{
		if( a.ib )return!1;
		a.az && 1 > a.sh && v.trace( "Ending transaction without having started a transaction: " + c );
		var d = 1 === a.sh;
		d && b && a.isEnabled && a.$c( "CommittingTransaction", c, a.Qi );
		var e = 0;
		if( 0 < a.sh && (a.Vk--, a.isEnabled) )
		{
			var f = a.Ug.count;
			0 < f && ("" === c && (c = a.Ug.da( 0 )), a.Ug.Oa(), a.Ug.Vc( f - 1 ), a.Ug.freeze());
			f = a.jo.count;
			0 < f && (e = a.jo.da( f - 1 ), a.jo.Vc( f - 1 ))
		}
		f = a.Qi;
		if( d )
		{
			if( b )
			{
				a.ty = !1;
				if( a.isEnabled && null !== f )
				{
					b = f;
					b.st = !0;
					b.name = c;
					d = a.history;
					d.Oa();
					for( e = d.count - 1; e > a.Ui; e-- )f = d.da( e ), null !==
						f && f.clear(), d.Vc( e ), a.ty = !0;
					e = a.oE;
					0 === e && (e = 1);
					0 < e && d.count >= e && (f = d.da( 0 ), null !== f && f.clear(), d.Vc( 0 ), a.Pg--);
					d.add( b );
					a.Pg++;
					d.freeze();
					f = b
				}
				a.$c( "CommittedTransaction", c, f )
			}
			else
			{
				a.vi = !0;
				try
				{
					a.isEnabled && null !== f && (f.st = !0, f.undo())
				} finally
				{
					a.$c( "RolledBackTransaction", c, f ), a.vi = !1
				}
				null !== f && f.clear()
			}
			a.Ju = null;
			return!0
		}
		if( a.isEnabled && !b && null !== f )
		{
			a = e;
			c = f.Pf;
			for( b = c.count - 1; b >= a; b-- )d = c.da( b ), null !== d && d.undo(), c.Oa(), c.Vc( b );
			c.freeze()
		}
		return!1
	}

	Ff.prototype.canUndo = Ff.prototype.canUndo = function()
	{
		if( !this.isEnabled || 0 < this.sh || this.ib )return!1;
		var a = this.iF;
		return null !== a && a.canUndo() ? !0 : !1
	};
	Ff.prototype.undo = Ff.prototype.undo = function()
	{
		if( this.canUndo() )
		{
			var a = this.iF;
			try
			{
				this.$c( "StartingUndo", "Undo", a ), this.vi = !0, this.Pg--, a.undo()
			} catch( b )
			{
				v.trace( "undo error: " + b.toString() )
			} finally
			{
				this.vi = !1, this.$c( "FinishedUndo", "Undo", a )
			}
		}
	};
	Ff.prototype.canRedo = Ff.prototype.canRedo = function()
	{
		if( !this.isEnabled || 0 < this.sh || this.ib )return!1;
		var a = this.hF;
		return null !== a && a.canRedo() ? !0 : !1
	};
	Ff.prototype.redo = Ff.prototype.redo = function()
	{
		if( this.canRedo() )
		{
			var a = this.hF;
			try
			{
				this.$c( "StartingRedo", "Redo", a ), this.vi = !0, this.Pg++, a.redo()
			} catch( b )
			{
				v.trace( "redo error: " + b.toString() )
			} finally
			{
				this.vi = !1, this.$c( "FinishedRedo", "Redo", a )
			}
		}
	};
	Ff.prototype.$c = function( a, b, c )
	{
		void 0 === c && (c = null);
		var d = new zf;
		d.wc = Bf;
		d.propertyName = a;
		d.object = c;
		d.oldValue = b;
		for( a = this.QH; a.next(); )b = a.value, d.ba = b, b.mw( d )
	};
	Ff.prototype.handleChanged = Ff.prototype.TD = function( a )
	{
		if( this.isEnabled && !this.ib && !this.skipsEvent( a ) )
		{
			var b = this.Qi;
			null === b && (this.Ju = b = new Qf);
			var c = a.copy(), b = b.Pf;
			b.Oa();
			b.add( c );
			b.freeze();
			this.az && 0 >= this.sh && !this.gy && (a = a.g, null !== a && !1 === a.Sm || v.trace( "Change not within a transaction: " + c.toString() ))
		}
	};
	Ff.prototype.skipsEvent = function( a )
	{
		if( null === a || 0 > a.wc.value )return!0;
		a = a.object;
		if( a instanceof G )
		{
			if( a = a.layer, null !== a && a.Gc )return!0
		}
		else if( a instanceof Vf && a.Gc )return!0;
		return!1
	};
	v.u( Ff, {QH: "models"}, function()
	{
		return this.zy.i
	} );
	v.defineProperty( Ff, {isEnabled: "isEnabled"}, function()
	{
		return this.Re
	}, function( a )
	{
		this.Re = a
	} );
	v.u( Ff, {iF: "transactionToUndo"}, function()
	{
		return 0 <= this.Ui && this.Ui <= this.history.count - 1 ? this.history.da( this.Ui ) : null
	} );
	v.u( Ff, {hF: "transactionToRedo"}, function()
	{
		return this.Ui < this.history.count - 1 ? this.history.da( this.Ui + 1 ) : null
	} );
	v.u( Ff, {ib: "isUndoingRedoing"}, function()
	{
		return this.vi
	} );
	v.u( Ff, {history: "history"}, function()
	{
		return this.zF
	} );
	v.defineProperty( Ff, {oE: "maxHistoryLength"}, function()
	{
		return this.ZB
	}, function( a )
	{
		this.ZB = a
	} );
	v.u( Ff, {Ui: "historyIndex"}, function()
	{
		return this.Pg
	} );
	v.u( Ff, {Qi: "currentTransaction"}, function()
	{
		return this.Ju
	} );
	v.u( Ff, {sh: "transactionLevel"}, function()
	{
		return this.Vk
	} );
	v.u( Ff, {dE: "isInTransaction"}, function()
	{
		return 0 < this.Vk
	} );
	v.defineProperty( Ff, {az: "checksTransactionLevel"}, function()
	{
		return this.UA
	}, function( a )
	{
		this.UA = a
	} );
	v.u( Ff, {tE: "nestedTransactionNames"}, function()
	{
		return this.Ug
	} );
	function Xf()
	{
		0 < arguments.length && v.dd( Xf );
		v.ec( this );
		this.S = null;
		this.XA = !1;
		this.qB = this.YA = !0;
		this.$A = this.aB = this.rB = this.bB = !1;
		this.Ok = this.NA = null;
		this.WC = 1.05;
		this.oB = 1;
		this.uy = NaN;
		this.WB = null;
		this.Ty = NaN;
		this.Sy = Yc;
		this.Fj = null
	}

	v.ea( "CommandHandler", Xf );
	var Eg = null, Fg = "";
	Xf.prototype.toString = function()
	{
		return"CommandHandler"
	};
	v.u( Xf, {g: "diagram"}, function()
	{
		return this.S
	} );
	Xf.prototype.Mc = function( a )
	{
		this.S = a
	};
	Xf.prototype.doKeyDown = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N, c = v.ak ? b.Et : b.control, d = b.shift, e = b.alt, f = b.key;
			!c || "C" !== f && "Insert" !== f ? c && "X" === f || d && "Del" === f ? this.canCutSelection() && this.cutSelection() : c && "V" === f || d && "Insert" === f ? this.canPasteSelection() && this.pasteSelection() : c && "Y" === f || e && d && "Backspace" === f ? this.canRedo() && this.redo() : c && "Z" === f || e && "Backspace" === f ? this.canUndo() && this.undo() : "Del" === f || "Backspace" === f ? this.canDeleteSelection() && this.deleteSelection() : c && "A" === f ? this.canSelectAll() &&
				this.selectAll() : "Esc" === f ? this.canStopCommand() && this.stopCommand() : "Up" === f ? a.pe && (c ? a.scroll( "pixel", "up" ) : a.scroll( "line", "up" )) : "Down" === f ? a.pe && (c ? a.scroll( "pixel", "down" ) : a.scroll( "line", "down" )) : "Left" === f ? a.oe && (c ? a.scroll( "pixel", "left" ) : a.scroll( "line", "left" )) : "Right" === f ? a.oe && (c ? a.scroll( "pixel", "right" ) : a.scroll( "line", "right" )) : "PageUp" === f ? d && a.oe ? a.scroll( "page", "left" ) : a.pe && a.scroll( "page", "up" ) : "PageDown" === f ? d && a.oe ? a.scroll( "page", "right" ) : a.pe && a.scroll( "page", "down" ) : "Home" ===
				f ? c && a.pe ? a.scroll( "document", "up" ) : !c && a.oe && a.scroll( "document", "left" ) : "End" === f ? c && a.pe ? a.scroll( "document", "down" ) : !c && a.oe && a.scroll( "document", "right" ) : " " === f ? this.canScrollToPart() && this.scrollToPart() : "Subtract" === f ? this.canDecreaseZoom() && this.decreaseZoom() : "Add" === f ? this.canIncreaseZoom() && this.increaseZoom() : c && "0" === f ? this.canResetZoom() && this.resetZoom() : d && "Z" === f ? this.canZoomToFit() && this.zoomToFit() : c && !d && "G" === f ? this.canGroupSelection() && this.groupSelection() : c && d && "G" === f ? this.canUngroupSelection() &&
				this.ungroupSelection() : b.event && 113 === b.event.which ? this.canEditTextBlock() && this.editTextBlock() : b.event && 93 === b.event.which ? this.canShowContextMenu() && this.showContextMenu() : b.bubbles = !0 : this.canCopySelection() && this.copySelection()
		}
	};
	Xf.prototype.doKeyUp = function()
	{
		var a = this.g;
		null !== a && (a.N.bubbles = !0)
	};
	Xf.prototype.stopCommand = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.Wa;
			b instanceof Rg && a.of && a.nw();
			null !== b && b.doCancel()
		}
	};
	Xf.prototype.canStopCommand = function()
	{
		return!0
	};
	Xf.prototype.selectAll = function()
	{
		var a = this.g;
		if( null !== a )
		{
			a.pa();
			try
			{
				a.Zb = "wait";
				a.Ba( "ChangingSelection" );
				for( var b = a.dk; b.next(); )b.value.hb = !0;
				for( var c = a.Bg; c.next(); )c.value.hb = !0;
				for( var d = a.links; d.next(); )d.value.hb = !0
			} finally
			{
				a.Ba( "ChangedSelection" ), a.Zb = ""
			}
		}
	};
	Xf.prototype.canSelectAll = function()
	{
		var a = this.g;
		return null !== a && a.of
	};
	Xf.prototype.deleteSelection = function()
	{
		var a = this.g;
		if( null !== a && !a.Ba( "SelectionDeleting", a.selection ) )try
		{
			a.Zb = "wait";
			a.Qb( "Delete" );
			a.Ba( "ChangingSelection" );
			for( var b = new J( R ), c = a.selection.i; c.next(); )Sg( b, c.value, !0, this.DG ? Infinity : 0, this.BD, function( a )
			{
				return a.canDelete()
			} );
			a.cA( b, !0 );
			a.Ba( "SelectionDeleted", b )
		} finally
		{
			a.Ba( "ChangedSelection" ), a.yd( "Delete" ), a.Zb = ""
		}
	};
	Xf.prototype.canDeleteSelection = function()
	{
		var a = this.g;
		return null === a || a.ab || a.wf || !a.ym || 0 === a.selection.count ? !1 : !0
	};
	function Sg( a, b, c, d, e, f )
	{
		void 0 === f && (f = null);
		if( !(a.contains( b ) || null !== f && !f( b ) || b instanceof Tg) )if( a.add( b ), b instanceof S )
		{
			if( c && b instanceof V )for( var h = b.Ic; h.next(); )Sg( a, h.value, c, d, e, f );
			if( e )for( h = b.ue; h.next(); )
			{
				var k = h.value;
				if( !a.contains( k ) )
				{
					var l = k.T, m = k.Z;
					null !== l && a.contains( l ) && null !== m && a.contains( m ) ? Sg( a, k, c, d, e, f ) : null !== l && null !== m || Sg( a, k, c, d, e, f )
				}
			}
			if( 1 < d )for( b = b.KD(); b.next(); )Sg( a, b.value, c, d - 1, e, f )
		}
		else if( b instanceof W )for( h = b.Tf; h.next(); )Sg( a, h.value, c, d, e, f )
	}

	Xf.prototype.Qo = function( a, b, c )
	{
		var d = new na( R, R );
		for( a = a.i; a.next(); )Ug( this, a.value, b, d, c );
		if( null !== b )
		{
			c = b.ba;
			a = !1;
			null !== b.Za.be && (a = b.Za.be.Si);
			for( var e = new J( W ), f = new na( W, W ), h = d.i; h.next(); )
			{
				var k = h.value;
				if( k instanceof W )
				{
					var l = k;
					a || null !== l.T && null !== l.Z || e.add( l )
				}
				else if( c instanceof Pf && k instanceof S && null !== k.data )
				{
					var l = c, m = k, k = h.key, n = k.kl();
					null !== n && (n = d.ja( n ), null !== n ? (l.ph( m.data, l.gb( n.data ) ), l = b.Qf( m.data ), k = k.Xo(), null !== k && null !== l && f.add( k, l )) : l.ph( m.data, void 0 ))
				}
			}
			0 < e.count &&
			b.cA( e, !1 );
			if( 0 < f.count )for( c = f.i; c.next(); )d.add( c.key, c.value )
		}
		if( null !== b && (b = b.ba, c = b.bG, null !== c) )
		{
			var p = new na;
			d.each( function( a )
			{
				null !== a.key.data && p.add( a.key.data, a.value.data )
			} );
			c( p, b, this.g.ba )
		}
		for( b = d.i; b.next(); )b.value.Hb();
		return d
	};
	function Ug( a, b, c, d, e )
	{
		if( null === b || e && !b.canCopy() )return null;
		if( d.contains( b ) )return d.ja( b );
		var f = null, h = b.data;
		if( null !== h && null !== c )
		{
			var k = c.ba;
			b instanceof W ? k instanceof Q && (h = k.qw( h ), v.Ta( h ) && (k.Ns( h ), f = c.Qf( h ))) : (h = k.copyNodeData( h ), v.Ta( h ) && (k.Xk( h ), f = c.eh( h )))
		}
		else Vg( b ), f = b.copy(), null !== f && (null !== c ? c.add( f ) : null !== h && a.tG && (k = a.g.ba, h = f instanceof W && k instanceof Q ? k.qw( h ) : k.copyNodeData( h ), v.Ta( h ) && (f.data = h)));
		if( !(f instanceof R) )return null;
		f.hb = !1;
		f.gh = !1;
		d.add( b, f );
		if( b instanceof
			S )
		{
			for( h = b.ue; h.next(); )
			{
				k = h.value;
				if( k.T === b )
				{
					var l = d.ja( k );
					null !== l && (l.T = f)
				}
				k.Z === b && (l = d.ja( k ), null !== l && (l.Z = f))
			}
			if( b instanceof V && f instanceof V )for( h = f, b = b.Ic; b.next(); )k = Ug( a, b.value, c, d, e ), k instanceof W || null === k || (k.Sa = h)
		}
		else if( b instanceof W )for( h = b.T, null !== h && (h = d.ja( h ), null !== h && (f.T = h)), h = b.Z, null !== h && (h = d.ja( h ), null !== h && (f.Z = h)), b = b.Tf; b.next(); )h = Ug( a, b.value, c, d, e ), null !== h && (h.ge = f);
		return f
	}

	Xf.prototype.copySelection = function()
	{
		var a = this.g;
		if( null !== a )
		{
			for( var b = new J( R ), a = a.selection.i; a.next(); )Sg( b, a.value, !0, this.wG ? Infinity : 0, this.uG, function( a )
			{
				return a.canCopy()
			} );
			this.copyToClipboard( b )
		}
	};
	Xf.prototype.canCopySelection = function()
	{
		var a = this.g;
		return null !== a && a.Tj && a.Wy && 0 !== a.selection.count ? !0 : !1
	};
	Xf.prototype.cutSelection = function()
	{
		this.copySelection();
		this.deleteSelection()
	};
	Xf.prototype.canCutSelection = function()
	{
		var a = this.g;
		return null !== a && !a.ab && !a.wf && a.Tj && a.ym && a.Wy && 0 !== a.selection.count ? !0 : !1
	};
	Xf.prototype.copyToClipboard = function( a )
	{
		var b = this.g;
		if( null !== b )
		{
			var c = null;
			if( null === a )Eg = null, Fg = "";
			else
			{
				var c = b.ba, d = !1, e = !1, f = null;
				try
				{
					if( c instanceof Pf )
					{
						var h = c, d = h.Hm;
						h.Hm = this.uD
					}
					c instanceof Q && (h = c, e = h.Gm, h.Gm = this.tD);
					f = b.Qo( a, null, !0 )
				} finally
				{
					c instanceof Pf && (c.Hm = d), c instanceof Q && (c.Gm = e), c = new I( R ), c.Tc( f ), Eg = c, Fg = b.ba.el
				}
			}
			b.Ba( "ClipboardChanged", c )
		}
	};
	Xf.prototype.pasteFromClipboard = function()
	{
		var a = new J( R ), b = Eg;
		if( null === b )return a;
		var c = this.g;
		if( null === c || Fg !== c.ba.el )return a;
		var d = c.ba, e = !1, f = !1, h = null;
		try
		{
			if( d instanceof Pf )
			{
				var k = d, e = k.Hm;
				k.Hm = this.uD
			}
			d instanceof Q && (k = d, f = k.Gm, k.Gm = this.tD);
			h = c.Qo( b, c, !1 )
		} finally
		{
			for( d instanceof Pf && (d.Hm = e), d instanceof Q && (d.Gm = f), b = h.i; b.next(); )c = b.value, d = b.key, c.location.G() || (d.location.G() ? c.location = d.location : !c.position.G() && d.position.G() && (c.position = d.position)), a.add( c )
		}
		return a
	};
	Xf.prototype.pasteSelection = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )try
		{
			b.Zb = "wait";
			b.Qb( "Paste" );
			b.Ba( "ChangingSelection" );
			var c = this.pasteFromClipboard();
			0 < c.count && Wg( b );
			for( var d = c.i; d.next(); )d.value.hb = !0;
			b.Ba( "ChangedSelection" );
			if( null !== a )
			{
				var e = b.computePartsBounds( b.selection );
				if( e )
				{
					var f = b.Za.be;
					null === f && (f = new Xg, f.Mc( b ));
					var h = f.computeEffectiveCollection( b.selection );
					f.moveParts( h, new y( a.x - e.na, a.y - e.ua ), !1 )
				}
			}
			b.Ba( "ClipboardPasted", c )
		} finally
		{
			b.yd( "Paste" ), b.Zb =
				""
		}
	};
	Xf.prototype.canPasteSelection = function()
	{
		var a = this.g;
		return null === a || a.ab || a.wf || !a.Jo || !a.Wy || null === Eg || Fg !== a.ba.el ? !1 : !0
	};
	Xf.prototype.undo = function()
	{
		var a = this.g;
		null !== a && a.la.undo()
	};
	Xf.prototype.canUndo = function()
	{
		var a = this.g;
		return null === a || a.ab || a.wf ? !1 : a.dD && a.la.canUndo()
	};
	Xf.prototype.redo = function()
	{
		var a = this.g;
		null !== a && a.la.redo()
	};
	Xf.prototype.canRedo = function()
	{
		var a = this.g;
		return null === a || a.ab || a.wf ? !1 : a.dD && a.la.canRedo()
	};
	Xf.prototype.decreaseZoom = function( a )
	{
		void 0 === a && (a = 1 / this.ux);
		v.Ve( a, Xf, "decreaseZoom:factor" );
		var b = this.g;
		null !== b && b.al === Yg && (a *= b.scale, a < b.ih || a > b.hh || (b.scale = a))
	};
	Xf.prototype.canDecreaseZoom = function( a )
	{
		void 0 === a && (a = 1 / this.ux);
		v.Ve( a, Xf, "canDecreaseZoom:factor" );
		var b = this.g;
		if( null === b || b.al !== Yg )return!1;
		a *= b.scale;
		return a < b.ih || a > b.hh ? !1 : b.lw
	};
	Xf.prototype.increaseZoom = function( a )
	{
		void 0 === a && (a = this.ux);
		v.Ve( a, Xf, "increaseZoom:factor" );
		var b = this.g;
		null !== b && b.al === Yg && (a *= b.scale, a < b.ih || a > b.hh || (b.scale = a))
	};
	Xf.prototype.canIncreaseZoom = function( a )
	{
		void 0 === a && (a = this.ux);
		v.Ve( a, Xf, "canIncreaseZoom:factor" );
		var b = this.g;
		if( null === b || b.al !== Yg )return!1;
		a *= b.scale;
		return a < b.ih || a > b.hh ? !1 : b.lw
	};
	Xf.prototype.resetZoom = function( a )
	{
		void 0 === a && (a = this.sw);
		v.Ve( a, Xf, "resetZoom:newscale" );
		var b = this.g;
		null === b || a < b.ih || a > b.hh || (b.scale = a)
	};
	Xf.prototype.canResetZoom = function( a )
	{
		void 0 === a && (a = this.sw);
		v.Ve( a, Xf, "canResetZoom:newscale" );
		var b = this.g;
		return null === b || a < b.ih || a > b.hh ? !1 : b.lw
	};
	Xf.prototype.zoomToFit = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.scale, c = a.position;
			b === this.Ty && !isNaN( this.uy ) && a.ae.K( this.Sy ) ? (a.scale = this.uy, a.position = this.WB, this.Ty = NaN, this.Sy = Yc) : (this.uy = b, this.WB = c.copy(), a.zoomToFit(), this.Ty = a.scale, this.Sy = a.ae.copy())
		}
	};
	Xf.prototype.canZoomToFit = function()
	{
		var a = this.g;
		return null === a ? !1 : a.lw
	};
	Xf.prototype.scrollToPart = function( a )
	{
		void 0 === a && (a = null);
		null !== a && v.A( a, R, Xf, "part" );
		var b = this.g;
		if( null !== b )
		{
			if( null === a )
			{
				try
				{
					null !== this.Fj && (this.Fj.next() ? a = this.Fj.value : this.Fj = null)
				} catch( c )
				{
				}
				null === a && (0 < b.Pm.count ? this.Fj = b.Pm.i : 0 < b.selection.count && (this.Fj = b.selection.i), null !== this.Fj && this.Fj.next() && (a = this.Fj.value))
			}
			if( null !== a )
			{
				var d = b.Na;
				d.Zm( "Scroll To Part" );
				var e = b.position.copy();
				b.iG( a.V );
				e.Fc( b.position ) && d.ai()
			}
		}
	};
	Xf.prototype.canScrollToPart = function( a )
	{
		void 0 === a && (a = null);
		null !== a && v.A( a, R, Xf, "part" );
		a = this.g;
		return null === a || 0 === a.selection.count && 0 === a.Pm.count ? !1 : a.oe && a.pe
	};
	Xf.prototype.collapseTree = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )try
		{
			b.Qb( "Collapse Tree" );
			b.Na.Zm( "Collapse Tree" );
			var c = new I( S );
			if( null !== a && a.nd )a.collapseTree(), c.add( a );
			else for( var d = b.selection.i; d.next(); )
			{
				var e = d.value;
				e instanceof S && (a = e, a.nd && (a.collapseTree(), c.add( a )))
			}
			b.Ba( "TreeCollapsed", c )
		} finally
		{
			b.yd( "Collapse Tree" )
		}
	};
	Xf.prototype.canCollapseTree = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b || b.ab )return!1;
		if( null !== a )
		{
			if( !a.nd )return!1;
			if( 0 < a.Bw().count )return!0
		}
		else for( a = b.selection.i; a.next(); )if( b = a.value, b instanceof S && b.nd && 0 < b.Bw().count )return!0;
		return!1
	};
	Xf.prototype.expandTree = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )try
		{
			b.Qb( "Expand Tree" );
			b.Na.Zm( "Expand Tree" );
			var c = new I( S );
			if( null === a || a.nd )for( var d = b.selection.i; d.next(); )
			{
				var e = d.value;
				e instanceof S && (a = e, a.nd || (a.expandTree(), c.add( a )))
			}
			else a.expandTree(), c.add( a );
			b.Ba( "TreeExpanded", c )
		} finally
		{
			b.yd( "Expand Tree" )
		}
	};
	Xf.prototype.canExpandTree = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b || b.ab )return!1;
		if( null !== a )
		{
			if( a.nd )return!1;
			if( 0 < a.Bw().count )return!0
		}
		else for( a = b.selection.i; a.next(); )if( b = a.value, b instanceof S && !b.nd && 0 < b.Bw().count )return!0;
		return!1
	};
	Xf.prototype.groupSelection = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.ba;
			if( b instanceof Q )
			{
				var c = this.eD;
				if( null !== c )
				{
					var d = null;
					try
					{
						a.Zb = "wait";
						a.Qb( "Group" );
						a.Ba( "ChangingSelection" );
						for( var e = new I( R ), f = a.selection.i; f.next(); )
						{
							var h = f.value;
							h.Rd() && h.canGroup() && e.add( h )
						}
						for( var k = new I( R ), l = e.i; l.next(); )
						{
							for( var m = l.value, f = !1, n = e.i; n.next(); )if( m.Zh( n.value ) )
							{
								f = !0;
								break
							}
							f || k.add( m )
						}
						if( 0 < k.count )
						{
							var p = k.first().Sa;
							if( null !== p )for( ; null !== p; )
							{
								for( var e = !1, q = k.i; q.next(); )if( !q.value.Zh( p ) )
								{
									e = !0;
									break
								}
								if( e )p = p.Sa;
								else break
							}
							if( c instanceof V )Vg( c ), d = c.copy(), null !== d && a.add( d );
							else if( b.Bz( c ) )
							{
								var r = b.copyNodeData( c );
								v.Ta( r ) && (b.Xk( r ), d = a.Aw( r ))
							}
							if( null !== d )
							{
								null !== p && this.isValidMember( p, d ) && (d.Sa = p);
								for( var s = k.i; s.next(); )
								{
									var t = s.value;
									this.isValidMember( d, t ) && (t.Sa = d)
								}
								a.select( d )
							}
						}
						a.Ba( "ChangedSelection" );
						a.Ba( "SelectionGrouped", d )
					} finally
					{
						a.yd( "Group" ), a.Zb = ""
					}
				}
			}
		}
	};
	Xf.prototype.canGroupSelection = function()
	{
		var a = this.g;
		if( null === a || a.ab || a.wf || !a.Jo || !a.gw || !(a.ba instanceof Q) || null === this.eD )return!1;
		for( a = a.selection.i; a.next(); )
		{
			var b = a.value;
			if( b.Rd() && b.canGroup() )return!0
		}
		return!1
	};
	function Zg( a )
	{
		var b = v.jb();
		for( a = a.i; a.next(); )
		{
			var c = a.value;
			c instanceof W || b.push( c )
		}
		a = new J( R );
		for( var c = b.length, d = 0; d < c; d++ )
		{
			for( var e = b[d], f = !0, h = 0; h < c; h++ )if( e.Zh( b[h] ) )
			{
				f = !1;
				break
			}
			f && a.add( e )
		}
		v.sa( b );
		return a
	}

	Xf.prototype.isValidMember = function( a, b )
	{
		if( null === b || a === b || b instanceof W )return!1;
		if( null !== a )
		{
			if( a === b || a.Zh( b ) )return!1;
			var c = a.Lz;
			if( null !== c && !c( a, b ) || null === a.data && null !== b.data || null !== a.data && null === b.data )return!1
		}
		c = this.Lz;
		return null !== c ? c( a, b ) : !0
	};
	Xf.prototype.ungroupSelection = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )
		{
			var c = b.ba;
			if( c instanceof Q )try
			{
				b.Zb = "wait";
				b.Qb( "Ungroup" );
				b.Ba( "ChangingSelection" );
				var d = new I( V );
				if( null !== a )d.add( a );
				else for( var e = b.selection.i; e.next(); )
				{
					var f = e.value;
					f instanceof V && (a = f, a.canUngroup() && d.add( a ))
				}
				if( 0 < d.count )
				{
					b.nw();
					for( var h = d.i; h.next(); )
					{
						var k = h.value;
						k.expandSubGraph();
						var l = k.Sa, m = null !== l && null !== l.data ? c.gb( l.data ) : void 0, n = new I( R );
						n.Tc( k.Ic );
						for( var p = n.i; p.next(); )
						{
							var q =
								p.value;
							q.hb = !0;
							if( !(q instanceof W) )
							{
								var r = q.data;
								null !== r ? c.kx( r, m ) : q.Sa = l
							}
						}
						b.remove( k )
					}
				}
				b.Ba( "ChangedSelection" );
				b.Ba( "SelectionUngrouped", d, n )
			} finally
			{
				b.yd( "Ungroup" ), b.Zb = ""
			}
		}
	};
	Xf.prototype.canUngroupSelection = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b || b.ab || b.wf || !b.ym || !b.kw || !(b.ba instanceof Q) )return!1;
		if( null !== a )
		{
			if( a.canUngroup() )return!0
		}
		else for( a = b.selection.i; a.next(); )if( b = a.value, b instanceof V && b.canUngroup() )return!0;
		return!1
	};
	Xf.prototype.addTopLevelParts = function( a, b )
	{
		for( var c = !0, d = Zg( a ).i; d.next(); )
		{
			var e = d.value;
			null !== e.Sa && (!b || this.isValidMember( null, e ) ? e.Sa = null : c = !1)
		}
		return c
	};
	Xf.prototype.collapseSubGraph = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )try
		{
			b.Qb( "Collapse SubGraph" );
			b.Na.Zm( "Collapse SubGraph" );
			var c = new I( V );
			if( null !== a && a.fe )a.collapseSubGraph(), c.add( a );
			else for( var d = b.selection.i; d.next(); )
			{
				var e = d.value;
				e instanceof V && (a = e, a.fe && (a.collapseSubGraph(), c.add( a )))
			}
			b.Ba( "SubGraphCollapsed", c )
		} finally
		{
			b.yd( "Collapse SubGraph" )
		}
	};
	Xf.prototype.canCollapseSubGraph = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b || b.ab )return!1;
		if( null !== a )return a.fe ? !0 : !1;
		for( a = b.selection.i; a.next(); )if( b = a.value, b instanceof V && b.fe )return!0;
		return!1
	};
	Xf.prototype.expandSubGraph = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null !== b )try
		{
			b.Qb( "Expand SubGraph" );
			b.Na.Zm( "Expand SubGraph" );
			var c = new I( V );
			if( null === a || a.fe )for( var d = b.selection.i; d.next(); )
			{
				var e = d.value;
				e instanceof V && (a = e, a.fe || (a.expandSubGraph(), c.add( a )))
			}
			else a.expandSubGraph(), c.add( a );
			b.Ba( "SubGraphExpanded", c )
		} finally
		{
			b.yd( "Expand SubGraph" )
		}
	};
	Xf.prototype.canExpandSubGraph = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b || b.ab )return!1;
		if( null !== a )return a.fe ? !1 : !0;
		for( a = b.selection.i; a.next(); )if( b = a.value, b instanceof V && !b.fe )return!0;
		return!1
	};
	Xf.prototype.editTextBlock = function( a )
	{
		void 0 === a && (a = null);
		null !== a && v.A( a, $g, Xf, "editTextBlock" );
		var b = this.g;
		if( null !== b )
		{
			var c = b.Za.rA;
			if( null !== c )
			{
				if( null === a )
				{
					a = null;
					for( var d = b.selection.i; d.next(); )
					{
						var e = d.value;
						if( e.canEdit() )
						{
							a = e;
							break
						}
					}
					if( null === a )return;
					a = a.bt( function( a )
					{
						return a instanceof $g && a.lz
					} )
				}
				null !== a && (b.Wa = null, c.Ae = a, b.Wa = c)
			}
		}
	};
	Xf.prototype.canEditTextBlock = function( a )
	{
		void 0 === a && (a = null);
		null !== a && v.A( a, $g, Xf, "canEditTextBlock" );
		var b = this.g;
		if( null === b || b.ab || b.wf || !b.jw || null === b.Za.rA )return!1;
		if( null !== a )
		{
			if( a = a.Y, null !== a && a.canEdit() )return!0
		}
		else for( b = b.selection.i; b.next(); )if( a = b.value, a.canEdit() && (a = a.bt( function( a )
		{
			return a instanceof $g && a.lz
		} ), null !== a) )return!0;
		return!1
	};
	Xf.prototype.showContextMenu = function( a )
	{
		var b = this.g;
		if( null !== b )
		{
			var c = b.Za.dz;
			if( null !== c && (void 0 === a && (a = 0 < b.selection.count ? b.selection.first() : b), a = c.findObjectWithContextMenu( a ), null !== a) )
			{
				var d = new xf, e = null;
				a instanceof G ? e = a.Xa( Ab ) : b.rH || (e = b.rb, e = new y( e.x + e.width / 2, e.y + e.height / 2 ));
				null !== e && (d.g = b, d.jf = b.jF( e ), d.ca = e, d.left = !1, d.right = !0, d.up = !0, b.N = d);
				b.Wa = c;
				ah( c, !1, a )
			}
		}
	};
	Xf.prototype.canShowContextMenu = function( a )
	{
		var b = this.g;
		if( null === b )return!1;
		var c = b.Za.dz;
		if( null === c )return!1;
		void 0 === a && (a = 0 < b.selection.count ? b.selection.first() : b);
		return null === c.findObjectWithContextMenu( a ) ? !1 : !0
	};
	v.defineProperty( Xf, {tG: "copiesClipboardData"}, function()
	{
		return this.XA
	}, function( a )
	{
		v.j( a, "boolean", Xf, "copiesClipboardData" );
		this.XA = a
	} );
	v.defineProperty( Xf, {uG: "copiesConnectedLinks"}, function()
	{
		return this.YA
	}, function( a )
	{
		v.j( a, "boolean", Xf, "copiesConnectedLinks" );
		this.YA = a
	} );
	v.defineProperty( Xf, {BD: "deletesConnectedLinks"}, function()
	{
		return this.qB
	}, function( a )
	{
		v.j( a, "boolean", Xf, "deletesConnectedLinks" );
		this.qB = a
	} );
	v.defineProperty( Xf, {wG: "copiesTree"}, function()
	{
		return this.bB
	}, function( a )
	{
		v.j( a, "boolean", Xf, "copiesTree" );
		this.bB = a
	} );
	v.defineProperty( Xf, {DG: "deletesTree"}, function()
	{
		return this.rB
	}, function( a )
	{
		v.j( a, "boolean", Xf, "deletesTree" );
		this.rB = a
	} );
	v.defineProperty( Xf, {uD: "copiesParentKey"}, function()
	{
		return this.aB
	}, function( a )
	{
		v.j( a, "boolean", Xf, "copiesParentKey" );
		this.aB = a
	} );
	v.defineProperty( Xf, {tD: "copiesGroupKey"}, function()
	{
		return this.$A
	}, function( a )
	{
		v.j( a, "boolean", Xf, "copiesGroupKey" );
		this.$A = a
	} );
	v.defineProperty( Xf, {eD: "archetypeGroupData"}, function()
	{
		return this.NA
	}, function( a )
	{
		null !== a && v.A( a, Object, Xf, "archetypeGroupData" );
		var b = this.g;
		null !== b && (b = b.ba, b instanceof Q && (a instanceof V || b.Bz( a ) || v.k( "CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: " + a )));
		this.NA = a
	} );
	v.defineProperty( Xf, {Lz: "memberValidation"}, function()
	{
		return this.Ok
	}, function( a )
	{
		null !== a && v.j( a, "function", Xf, "memberValidation" );
		this.Ok = a
	} );
	v.defineProperty( Xf, {sw: "defaultScale"}, function()
	{
		return this.oB
	}, function( a )
	{
		v.Ve( a, Xf, "defaultScale" );
		0 < a || v.k( "defaultScale must be larger than zero, not: " + a );
		this.oB = a
	} );
	v.defineProperty( Xf, {ux: "zoomFactor"}, function()
	{
		return this.WC
	}, function( a )
	{
		v.Ve( a, Xf, "zoomFactor" );
		1 < a || v.k( "zoomFactor must be larger than 1.0, not: " + a );
		this.WC = a
	} );
	function Wf()
	{
		0 < arguments.length && v.dd( Wf );
		v.ec( this );
		this.S = null;
		this.Ob = "";
		this.Re = !0;
		this.HB = !1;
		this.SC = null;
		this.cw = -1
	}

	v.ea( "Tool", Wf );
	Wf.prototype.Mc = function( a )
	{
		this.S = a
	};
	Wf.prototype.toString = function()
	{
		return"" !== this.name ? this.name + " Tool" : v.af( Object.getPrototypeOf( this ) )
	};
	Wf.prototype.updateAdornments = function()
	{
	};
	Wf.prototype.canStart = function()
	{
		return this.isEnabled
	};
	Wf.prototype.doStart = function()
	{
	};
	Wf.prototype.doActivate = function()
	{
		this.qa = !0
	};
	Wf.prototype.doDeactivate = function()
	{
		this.qa = !1
	};
	Wf.prototype.doStop = function()
	{
	};
	Wf.prototype.doCancel = function()
	{
		this.stopTool()
	};
	Wf.prototype.stopTool = function()
	{
		var a = this.g;
		null !== a && a.Wa === this && (a.Wa = null, a.Zb = "")
	};
	Wf.prototype.doMouseDown = function()
	{
		!this.qa && this.canStart() && this.doActivate()
	};
	Wf.prototype.doMouseMove = function()
	{
	};
	Wf.prototype.doMouseUp = function()
	{
		this.stopTool()
	};
	Wf.prototype.doMouseWheel = function()
	{
	};
	Wf.prototype.canStartMultiTouch = function()
	{
		return!0
	};
	Wf.prototype.standardPinchZoomStart = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N.event, c = null, d = null;
			if( void 0 !== b.targetTouches )
			{
				if( 2 > b.targetTouches.length )return;
				c = b.targetTouches[0];
				d = b.targetTouches[1]
			}
			else if( null !== a.Kf[0] )c = a.Kf[0], d = a.Kf[1];
			else return;
			this.doCancel();
			if( a.$o( "hasGestureZoom" ) )
			{
				a.hy = !0;
				a.hC = a.scale;
				var e = bh( a ), f = c, h = f.clientX - e.x, c = f.clientY - e.y, f = d, d = f.clientX - e.x, f = f.clientY - e.y;
				v.v( e );
				e = d - h;
				c = f - c;
				a.AC = Math.sqrt( e * e + c * c );
				b.preventDefault();
				b.cancelBubble = !0
			}
		}
	};
	Wf.prototype.standardPinchZoomMove = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N.event;
			this.doCancel();
			var c = null, d = null;
			if( void 0 !== b.targetTouches )
			{
				if( 2 > b.targetTouches.length )return;
				c = b.targetTouches[0];
				d = b.targetTouches[1]
			}
			else if( null !== a.Kf[0] )c = a.Kf[0], d = a.Kf[1];
			else return;
			if( a.$o( "hasGestureZoom" ) && a.hy )
			{
				var e = bh( a ), f = c, c = f.clientX - e.x, h = f.clientY - e.y, f = d, d = f.clientX - e.x, f = f.clientY - e.y;
				v.v( e );
				var e = d - c, k = f - h, e = Math.sqrt( e * e + k * k ) / a.AC, c = new y( (Math.min( d, c ) + Math.max( d, c )) / 2, (Math.min( f,
					h ) + Math.max( f, h )) / 2 ), h = a.hC * e, d = a.nb;
				h !== a.scale && d.canResetZoom( h ) && (e = a.Il, a.Il = c, d.resetZoom( h ), a.Il = e);
				b.preventDefault();
				b.cancelBubble = !0
			}
		}
	};
	Wf.prototype.doKeyDown = function()
	{
		var a = this.g;
		null !== a && "Esc" === a.N.key && this.doCancel()
	};
	Wf.prototype.doKeyUp = function()
	{
	};
	Wf.prototype.startTransaction = Wf.prototype.Qb = function( a )
	{
		void 0 === a && (a = this.name);
		this.Cf = null;
		var b = this.g;
		return null === b ? !1 : b.Qb( a )
	};
	Wf.prototype.stopTransaction = Wf.prototype.fk = function()
	{
		var a = this.g;
		return null === a ? !1 : null === this.Cf ? a.zp() : a.yd( this.Cf )
	};
	Wf.prototype.standardMouseSelect = function()
	{
		var a = this.g;
		if( null !== a && a.of )
		{
			var b = a.N, c = a.ft( b.ca, !1 );
			if( null !== c )if( v.ak ? b.Et : b.control )
			{
				a.Ba( "ChangingSelection" );
				for( b = c; null !== b && !b.canSelect(); )b = b.Sa;
				null !== b && (b.hb = !b.hb);
				a.Ba( "ChangedSelection" )
			}
			else if( b.shift )
			{
				if( !c.hb )
				{
					a.Ba( "ChangingSelection" );
					for( b = c; null !== b && !b.canSelect(); )b = b.Sa;
					null !== b && (b.hb = !0);
					a.Ba( "ChangedSelection" )
				}
			}
			else
			{
				if( !c.hb )
				{
					for( b = c; null !== b && !b.canSelect(); )b = b.Sa;
					null !== b && a.select( b )
				}
			}
			else!b.left || (v.ak ? b.Et : b.control) ||
			b.shift || a.nw()
		}
	};
	Wf.prototype.standardMouseClick = function( a, b )
	{
		void 0 === a && (a = null);
		void 0 === b && (b = function( a )
		{
			return!a.layer.Gc
		});
		var c = this.g;
		if( null === c )return!1;
		var d = c.N, e = c.re( d.ca, a, b );
		d.ze = e;
		ch( e, d, c );
		return d.zc
	};
	function ch( a, b, c )
	{
		b.zc = !1;
		var d = 0;
		b.left ? d = 1 === b.We ? 1 : 2 === b.We ? 2 : 1 : b.right && 1 === b.We && (d = 3);
		var e = "";
		if( null !== a )
		{
			switch( d )
			{
			case 1:
				e = "ObjectSingleClicked";
				break;
			case 2:
				e = "ObjectDoubleClicked";
				break;
			case 3:
				e = "ObjectContextClicked"
			}
			0 !== d && c.Ba( e, a )
		}
		else
		{
			switch( d )
			{
			case 1:
				e = "BackgroundSingleClicked";
				break;
			case 2:
				e = "BackgroundDoubleClicked";
				break;
			case 3:
				e = "BackgroundContextClicked"
			}
			0 !== d && c.Ba( e )
		}
		if( null !== a )for( ; null !== a; )
		{
			c = null;
			switch( d )
			{
			case 1:
				c = a.click;
				break;
			case 2:
				c = a.$s ? a.$s : a.click;
				break;
			case 3:
				c =
					a.cz
			}
			if( null !== c && (c( b, a ), b.zc) )break;
			a = a.U
		}
		else
		{
			a = null;
			switch( d )
			{
			case 1:
				a = c.click;
				break;
			case 2:
				a = c.$s ? c.$s : c.click;
				break;
			case 3:
				a = c.cz
			}
			null !== a && a( b )
		}
	}

	Wf.prototype.standardMouseOver = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N;
			if( null !== b.g && !0 !== a.Na.uc )
			{
				var c = a.tb;
				a.tb = !0;
				var d = a.re( b.ca, null, null );
				b.ze = d;
				var e = !1;
				if( d !== a.yn )
				{
					var f = a.yn, h = f;
					a.yn = d;
					this.doCurrentObjectChanged( f, d );
					for( b.zc = !1; null !== f; )
					{
						var k = f.Gt;
						if( null !== k )
						{
							if( d === f )break;
							if( null !== d && d.tl( f ) )break;
							k( b, f, d );
							e = !0;
							if( b.zc )break
						}
						f = f.U
					}
					f = h;
					for( b.zc = !1; null !== d; )
					{
						k = d.Ft;
						if( null !== k )
						{
							if( f === d )break;
							if( null !== f && f.tl( d ) )break;
							k( b, d, f );
							e = !0;
							if( b.zc )break
						}
						d = d.U
					}
					d = a.yn
				}
				if( null !== d )
				{
					f =
						d;
					for( k = ""; null !== f; )
					{
						k = f.cursor;
						if( "" !== k )break;
						f = f.U
					}
					a.Zb = k;
					b.zc = !1;
					for( f = d; null !== f; )
					{
						k = f.Pz;
						if( null !== k && (k( b, f ), e = !0, b.zc) )break;
						f = f.U
					}
				}
				else a.Zb = "", k = a.Pz, null !== k && (k( b ), e = !0);
				e && a.ve();
				a.tb = c
			}
		}
	};
	Wf.prototype.doCurrentObjectChanged = function()
	{
	};
	Wf.prototype.standardMouseWheel = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N, c = b.gl;
			if( 0 !== c && a.ae.G() )
			{
				var d = a.nb, e = a.Za.Ht;
				if( (e === dh && !b.shift || e === eh && b.control) && (0 < c ? d.canIncreaseZoom() : d.canDecreaseZoom()) )e = a.Il, a.Il = b.jf, 0 < c ? d.increaseZoom() : d.decreaseZoom(), a.Il = e, b.bubbles = !1;
				else if( e === dh && b.shift || e === eh && !b.control )
				{
					var d = a.position.copy(), e = 0 < c ? c : -c, f = b.event.deltaX, h = b.event.deltaY;
					void 0 === f || void 0 === h || 0 === f && 0 === h ? !b.shift && a.pe ? (f = a.Tt, e = e / 40 * f, 0 < c ? a.scroll( "pixel", "up", e ) :
						a.scroll( "pixel", "down", e )) : b.shift && a.oe && (f = a.St, e = e / 40 * f, 0 < c ? a.scroll( "pixel", "left", e ) : a.scroll( "pixel", "right", e )) : (0 !== f && a.oe && (0 < f ? a.scroll( "pixel", "left", -f ) : a.scroll( "pixel", "right", f )), 0 !== h && a.pe && (0 < h ? a.scroll( "pixel", "up", -h ) : a.scroll( "pixel", "down", h )));
					a.position.K( d ) || (b.bubbles = !1)
				}
			}
		}
	};
	Wf.prototype.standardWaitAfter = function( a, b )
	{
		v.j( a, "number", Wf, "standardWaitAfter:delay" );
		this.cancelWaitAfter();
		var c = this, d = b.copy();
		this.cw = v.setTimeout( function()
		{
			c.doWaitAfter( d )
		}, a )
	};
	Wf.prototype.cancelWaitAfter = function()
	{
		-1 !== this.cw && v.clearTimeout( this.cw );
		this.cw = -1
	};
	Wf.prototype.doWaitAfter = function()
	{
	};
	Wf.prototype.findToolHandleAt = function( a, b )
	{
		var c = this.g;
		if( null === c )return null;
		c = c.re( a, function( a )
		{
			for( ; null !== a && !(a.U instanceof Tg); )a = a.U;
			return a
		} );
		return null === c ? null : c.U.gc === b ? c : null
	};
	Wf.prototype.isBeyondDragSize = function( a, b )
	{
		var c = this.g;
		if( null === c )return!1;
		void 0 === a && (a = c.yc.jf);
		void 0 === b && (b = c.N.jf);
		var d = c.Za.HG, e = d.width, d = d.height;
		c.yc.Wi && (e += 6, d += 6);
		return Math.abs( b.x - a.x ) > e || Math.abs( b.y - a.y ) > d
	};
	v.u( Wf, {g: "diagram"}, function()
	{
		return this.S
	} );
	v.defineProperty( Wf, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		v.j( a, "string", Wf, "name" );
		this.Ob = a
	} );
	v.defineProperty( Wf, {isEnabled: "isEnabled"}, function()
	{
		return this.Re
	}, function( a )
	{
		v.j( a, "boolean", Wf, "isEnabled" );
		this.Re = a
	} );
	v.defineProperty( Wf, {qa: "isActive"}, function()
	{
		return this.HB
	}, function( a )
	{
		v.j( a, "boolean", Wf, "isActive" );
		this.HB = a
	} );
	v.defineProperty( Wf, {Cf: "transactionResult"}, function()
	{
		return this.SC
	}, function( a )
	{
		null !== a && v.j( a, "string", Wf, "transactionResult" );
		this.SC = a
	} );
	function Xg()
	{
		0 < arguments.length && v.dd( Xg );
		Wf.call( this );
		this.name = "Dragging";
		this.ZA = this.LB = !0;
		this.Rq = this.xB = !1;
		this.QB = !0;
		this.iy = (new ia( NaN, NaN )).freeze();
		this.jy = tb;
		this.ky = (new y( NaN, NaN )).freeze();
		this.wB = !1;
		this.uB = this.WA = this.vB = this.gB = this.Gi = null;
		this.Aq = this.OB = !1;
		this.wo = new y( NaN, NaN );
		this.Tv = new y;
		this.Wv = !1;
		this.KB = !0;
		this.Hn = 100;
		this.ij = [];
		this.yF = (new J( R )).freeze()
	}

	v.Ia( Xg, Wf );
	v.ea( "DraggingTool", Xg );
	v.defineProperty( Xg, {aE: "isCopyEnabled"}, function()
	{
		return this.LB
	}, function( a )
	{
		v.j( a, "boolean", Xg, "isCopyEnabled" );
		this.LB = a
	} );
	v.defineProperty( Xg, {vG: "copiesEffectiveCollection"}, function()
	{
		return this.ZA
	}, function( a )
	{
		v.j( a, "boolean", Xg, "copiesEffectiveCollection" );
		this.ZA = a
	} );
	v.defineProperty( Xg, {IG: "dragsTree"}, function()
	{
		return this.xB
	}, function( a )
	{
		v.j( a, "boolean", Xg, "dragsTree" );
		this.xB = a
	} );
	v.defineProperty( Xg, {Hw: "isGridSnapEnabled"}, function()
	{
		return this.Rq
	}, function( a )
	{
		v.j( a, "boolean", Xg, "isGridSnapEnabled" );
		this.Rq = a
	} );
	v.defineProperty( Xg, {lH: "isComplexRoutingRealtime"}, function()
	{
		return this.KB
	}, function( a )
	{
		v.j( a, "boolean", Xg, "isComplexRoutingRealtime" );
		this.KB = a
	} );
	v.defineProperty( Xg, {nH: "isGridSnapRealtime"}, function()
	{
		return this.QB
	}, function( a )
	{
		v.j( a, "boolean", Xg, "isGridSnapRealtime" );
		this.QB = a
	} );
	v.defineProperty( Xg, {SD: "gridSnapCellSize"}, function()
	{
		return this.iy
	}, function( a )
	{
		v.A( a, ia, Xg, "gridSnapCellSize" );
		this.iy.K( a ) || (this.iy = a = a.R())
	} );
	v.defineProperty( Xg, {XG: "gridSnapCellSpot"}, function()
	{
		return this.jy
	}, function( a )
	{
		v.A( a, L, Xg, "gridSnapCellSpot" );
		this.jy.K( a ) || (this.jy = a = a.R())
	} );
	v.defineProperty( Xg, {YG: "gridSnapOrigin"}, function()
	{
		return this.ky
	}, function( a )
	{
		v.A( a, y, Xg, "gridSnapOrigin" );
		this.ky.K( a ) || (this.ky = a = a.R())
	} );
	v.defineProperty( Xg, {Si: "dragsLink"}, function()
	{
		return this.wB
	}, function( a )
	{
		v.j( a, "boolean", Xg, "dragsLink" );
		this.wB = a
	} );
	v.defineProperty( Xg, {Jm: "currentPart"}, function()
	{
		return this.gB
	}, function( a )
	{
		null !== a && v.A( a, R, Xg, "currentPart" );
		this.gB = a
	} );
	v.defineProperty( Xg, {hc: "copiedParts"}, function()
	{
		return this.WA
	}, function( a )
	{
		this.WA = a
	} );
	v.defineProperty( Xg, {ac: "draggedParts"}, function()
	{
		return this.vB
	}, function( a )
	{
		this.vB = a
	} );
	v.u( Xg, {JJ: "draggingParts"}, function()
	{
		return null !== this.hc ? this.hc.cj() : null !== this.ac ? this.ac.cj() : this.yF
	} );
	v.defineProperty( Xg, {ad: "draggedLink"}, function()
	{
		return this.uB
	}, function( a )
	{
		null !== a && v.A( a, W, Xg, "draggedLink" );
		this.uB = a
	} );
	v.defineProperty( Xg, {Gw: "isDragOutStarted"}, function()
	{
		return this.OB
	}, function( a )
	{
		this.OB = a
	} );
	v.defineProperty( Xg, {ek: "startPoint"}, function()
	{
		return this.Tv
	}, function( a )
	{
		v.A( a, y, Xg, "startPoint" );
		this.Tv.K( a ) || (this.Tv = a = a.R())
	} );
	v.defineProperty( Xg, {xD: "delay"}, function()
	{
		return this.Hn
	}, function( a )
	{
		v.j( a, "number", Xg, "delay" );
		this.Hn = a
	} );
	Xg.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || a.ab && !a.Rs || !a.$k && !a.Tj && !a.Rs || !a.of )return!1;
		var b = a.N;
		return!b.left || a.Wa !== this && (!this.isBeyondDragSize() || b.Wi && b.timestamp - a.yc.timestamp < this.Hn) ? !1 : null !== this.findDraggablePart()
	};
	Xg.prototype.findDraggablePart = function()
	{
		var a = this.g;
		if( null === a )return null;
		a = a.ft( a.yc.ca, !1 );
		if( null === a )return null;
		for( ; null !== a && !a.canSelect(); )a = a.Sa;
		return null !== a && (a.canMove() || a.canCopy()) ? a : null
	};
	Xg.prototype.standardMouseSelect = function()
	{
		var a = this.g;
		if( null !== a && a.of )
		{
			var b = a.ft( a.yc.ca, !1 );
			if( null !== b )
			{
				for( ; null !== b && !b.canSelect(); )b = b.Sa;
				this.Jm = b;
				this.Jm.hb || (a.Ba( "ChangingSelection" ), b = a.N, (v.ak ? b.Et : b.control) || b.shift || Wg( a ), this.Jm.hb = !0, a.Ba( "ChangedSelection" ))
			}
		}
	};
	Xg.prototype.doActivate = function()
	{
		var a = this.g;
		if( null !== a )
		{
			null === this.Jm && this.standardMouseSelect();
			var b = this.Jm;
			null !== b && (b.canMove() || b.canCopy()) && (this.qa = !0, this.wo.set( a.position ), fh( this, a.selection ), this.ij.length = 0, this.ac = this.computeEffectiveCollection( a.selection ), a.au = !0, gh( this, this.ac ), this.Qb( "Drag" ), this.ek = a.yc.ca, a.Ne = !0, a.Rs && (this.Gw = !0, this.Aq = !1, hh = this, ih = this.g, this.doSimulatedDragOut()))
		}
	};
	function fh( a, b )
	{
		if( a.Si )
		{
			var c = a.g;
			null !== c && c.zm && (c.ba instanceof Q && 1 === b.count && b.first()instanceof W ? (a.ad = b.first(), a.ad.canRelinkFrom() && a.ad.canRelinkTo() && a.ad.Us(), a.Gi = c.Za.yE, null === a.Gi && (a.Gi = new qh, a.Gi.Mc( c ))) : (a.ad = null, a.Gi = null))
		}
	}

	Xg.prototype.computeEffectiveCollection = function( a )
	{
		var b = null !== this.g && this.g.Wa === this, c = new na( R );
		if( null === a )return c;
		for( var d = a.i; d.next(); )uh( this, c, d.value, b );
		if( null !== this.ad && this.Si )return c;
		for( d = a.i; d.next(); )a = d.value, a instanceof W && (b = a.T, null === b || c.contains( b ) ? (b = a.Z, null === b || c.contains( b ) || c.remove( a )) : c.remove( a ));
		return c
	};
	function vh( a )
	{
		return void 0 === a ? new wh( Xc ) : new wh( a.copy() )
	}

	function uh( a, b, c, d )
	{
		if( !b.contains( c ) && (!d || c.canMove() || c.canCopy()) )if( c instanceof S )
		{
			b.add( c, vh( c.location ) );
			if( c instanceof V )for( var e = c.Ic; e.next(); )uh( a, b, e.value, d );
			for( e = c.ue; e.next(); )
			{
				var f = e.value;
				if( !b.contains( f ) )
				{
					var h = f.T, k = f.Z;
					null !== h && b.contains( h ) && null !== k && b.contains( k ) && uh( a, b, f, d )
				}
			}
			if( a.IG )for( c = c.KD(); c.next(); )uh( a, b, c.value, d )
		}
		else if( c instanceof W )for( f = c, b.add( f, vh() ), e = f.Tf; e.next(); )uh( a, b, e.value, d );
		else c instanceof Tg || b.add( c, vh( c.location ) )
	}

	Xg.prototype.doDeactivate = function()
	{
		this.qa = !1;
		var a = this.g;
		null !== a && xh( a );
		yh( this );
		zh( this, this.ac );
		this.ac = this.Jm = null;
		this.Aq = this.Gw = !1;
		if( 0 < Ah.count )
		{
			for( var b = Ah.length, c = 0; c < b; c++ )
			{
				var d = Ah.da( c );
				Bh( d );
				Ch( d );
				yh( d );
				null !== d.g && xh( d.g )
			}
			Ah.clear()
		}
		Bh( this );
		this.wo.m( NaN, NaN );
		hh = ih = null;
		Ch( this );
		a.Ne = !1;
		a.Zb = "";
		a.au = !1;
		this.fk()
	};
	function yh( a )
	{
		var b = a.g;
		if( null !== b )
		{
			var c = b.tb;
			b.tb = !0;
			Dh( a, b.N, null );
			b.tb = c
		}
		a.ij.length = 0
	}

	function Eh()
	{
		var a = hh;
		Ch( a );
		Fh( a );
		var b = a.g;
		null !== b && a.wo.G() && (b.position = a.wo);
		null !== b && xh( b )
	}

	Xg.prototype.doCancel = function()
	{
		Ch( this );
		Fh( this );
		var a = this.g;
		null !== a && this.wo.G() && (a.position = this.wo);
		this.stopTool()
	};
	function gh( a, b )
	{
		if( null !== b )
		{
			a.Wv = !0;
			for( var c = b.i; c.next(); )
			{
				var d = c.key;
				d instanceof W && (d.Jp = !0)
			}
		}
	}

	function zh( a, b )
	{
		if( null !== b )
		{
			for( var c = b.i; c.next(); )
			{
				var d = c.key;
				d instanceof W && (d.Jp = !1, d.rl && Gh( d ) && d.ic())
			}
			a.Wv = !1
		}
	}

	Xg.prototype.doKeyDown = function()
	{
		var a = this.g;
		null !== a && (a = a.N, null !== a && this.qa && ("Esc" === a.key ? this.doCancel() : this.doMouseMove()))
	};
	Xg.prototype.doKeyUp = function()
	{
		var a = this.g;
		null !== a && null !== a.N && this.qa && this.doMouseMove()
	};
	function Hh( a, b )
	{
		for( var c = Infinity, d = Infinity, e = -Infinity, f = -Infinity, h = a.i; h.next(); )
		{
			var k = h.value;
			if( k.Rd() && k.isVisible() )
			{
				var l = k.location, k = l.x, l = l.y;
				isNaN( k ) || isNaN( l ) || (k < c && (c = k), l < d && (d = l), k > e && (e = k), l > f && (f = l))
			}
		}
		Infinity === c ? b.m( 0, 0, 0, 0 ) : b.m( c, d, e - c, f - d )
	}

	function Ih( a, b )
	{
		if( null === a.hc )
		{
			var c = a.g;
			if( !(null === c || b && (c.ab || c.wf)) && null !== a.ac )
			{
				var d = c.la;
				d.isEnabled && d.dE ? null !== d.Qi && 0 < d.Qi.Pf.count && (c.la.zp(), c.Qb( "Drag" )) : Fh( a );
				c.tb = !b;
				c.Qp = !b;
				a.ek = c.yc.ca;
				d = a.vG ? a.ac.cj() : c.selection;
				d = c.Qo( d, c, !0 );
				for( c = d.i; c.next(); )c.value.location = c.key.location;
				c = v.bg();
				Hh( d, c );
				v.Vb( c );
				for( var c = new na( R ), e = a.ac.i; e.next(); )
				{
					var f = e.key;
					f.Rd() && f.canCopy() && (f = d.ja( f ), null !== f && (f.tf(), c.add( f, vh( f.location ) )))
				}
				for( d = d.i; d.next(); )e = d.value, e instanceof W &&
					e.canCopy() && c.add( e, vh() );
				a.hc = c;
				fh( a, c.cj() );
				null !== a.ad && (c = a.ad, d = c.an, c.xl( a.ek.x - (d.x + d.width / 2), a.ek.y - (d.y + d.height / 2) ))
			}
		}
	}

	function Ch( a )
	{
		var b = a.g;
		if( null !== b )
		{
			if( null !== a.hc && (b.cA( a.hc.cj(), !1 ), a.hc = null, null !== a.ac) )for( var c = a.ac.i; c.next(); )c.key instanceof W && (c.value.point = new y( 0, 0 ));
			b.tb = !1;
			b.Qp = !1;
			a.ek = b.yc.ca
		}
	}

	function Bh( a )
	{
		if( null !== a.ad )
		{
			if( a.Si && null !== a.Gi )
			{
				var b = a.Gi;
				b.g.remove( b.Ed );
				b.g.remove( b.Fd )
			}
			a.ad = null;
			a.Gi = null
		}
	}

	function Jh( a, b, c )
	{
		var d = a.g;
		if( null !== d )
		{
			var e = a.ek, f = v.L();
			f.assign( d.N.ca );
			a.moveParts( b, f.cu( e ), c );
			v.v( f )
		}
	}

	Xg.prototype.moveParts = function( a, b, c )
	{
		if( null !== a && (v.A( a, na, Xg, "moveParts:parts" ), 0 !== a.count) )
		{
			var d = v.L(), e = v.L();
			e.assign( b );
			isNaN( e.x ) && (e.x = 0);
			isNaN( e.y ) && (e.y = 0);
			(b = this.Wv) || gh( this, a );
			for( var f = new I( Kh ), h = new I( Ea ), k = a.i; k.next(); )
			{
				var l = k.key;
				if( l.Rd() )
				{
					var m = Lh( this, l, a );
					if( null !== m )f.add( new Kh( l, k.value, m ) );
					else if( !c || l.canMove() )
					{
						m = k.value.point;
						d.assign( m );
						var n = v.L(), p = this.computeMove( l, d.add( e ), a, n );
						l.location = p;
						k.value.VE = n.cu( m );
						v.v( n )
					}
				}
				else k.key instanceof W && h.add( k.cb )
			}
			for( c =
						 f.i; c.next(); )f = c.value, m = f.info.point, d.assign( m ), f.Jc.location = d.add( f.ZG.VE );
			c = v.L();
			m = v.L();
			for( h = h.i; h.next(); )if( k = h.value, f = k.key, f instanceof W )if( f.Jp )l = f.T, n = f.Z, null !== this.ad && this.Si ? (k = k.value.point, a.add( f, vh( e ) ), l = e.x - k.x, k = e.y - k.y, f.xl( l, k )) : (null !== l && (c.assign( l.location ), p = a.ja( l ), null !== p && c.cu( p.point )), null !== n && (m.assign( n.location ), p = a.ja( n ), null !== p && m.cu( p.point )), null !== l && null !== n ? c.Fc( m ) ? (k = k.value.point, l = d, l.assign( c ), l.cu( k ), a.add( f, vh( c ) ), f.xl( l.x, l.y )) : (f.Jp = !1,
				f.ic()) : (k = k.value.point, n = null !== l ? c : null !== n ? m : e, a.add( f, vh( n ) ), l = n.x - k.x, k = n.y - k.y, f.xl( l, k )));
			else if( null === f.T || null === f.Z )k = k.value.point, a.add( f, vh( e ) ), l = e.x - k.x, k = e.y - k.y, f.xl( l, k );
			v.v( d );
			v.v( e );
			v.v( c );
			v.v( m );
			b || zh( this, a )
		}
	};
	function Lh( a, b, c )
	{
		b = b.Sa;
		if( null !== b )
		{
			a = Lh( a, b, c );
			if( null !== a )return a;
			a = c.ja( b );
			if( null !== a )return a
		}
		return null
	}

	function Fh( a )
	{
		if( null !== a.ac )
		{
			for( var b = a.g, c = a.ac.i; c.next(); )
			{
				var d = c.key;
				d.Rd() && (d.location = c.value.point)
			}
			for( c = a.ac.i; c.next(); )if( d = c.key, d instanceof W && d.Jp )
			{
				var e = c.value.point;
				a.ac.add( d, vh() );
				d.xl( -e.x, -e.y )
			}
			b.Vf()
		}
	}

	Xg.prototype.computeMove = function( a, b, c, d )
	{
		void 0 === d && (d = new y);
		d.assign( b );
		if( null === a )return d;
		void 0 === c && (c = null);
		var e = b;
		if( this.Hw && (this.nH || null === c || this.g.N.up) && (e = v.L(), c = e, c.assign( b ), null !== a) )
		{
			var f = this.g;
			if( null !== f )
			{
				var h = f.lt, k = this.SD, f = k.width, k = k.height, l = this.YG, m = l.x, l = l.y, n = this.XG;
				if( null !== h )
				{
					var p = h.Dw;
					isNaN( f ) && (f = p.width);
					isNaN( k ) && (k = p.height);
					h = h.RD;
					isNaN( m ) && (m = h.x);
					isNaN( l ) && (l = h.y)
				}
				h = v.Mb( 0, 0 );
				h.Zt( 0, 0, f, k, n );
				Pa( b.x, b.y, m + h.x, l + h.y, f, k, c );
				v.v( h )
			}
		}
		c = null !== a.CD ?
			a.CD( a, b, e ) : e;
		k = a.PH;
		f = k.x;
		isNaN( f ) && (f = a.location.x);
		k = k.y;
		isNaN( k ) && (k = a.location.y);
		h = a.KH;
		m = h.x;
		isNaN( m ) && (m = a.location.x);
		h = h.y;
		isNaN( h ) && (h = a.location.y);
		d.m( Math.max( f, Math.min( c.x, m ) ), Math.max( k, Math.min( c.y, h ) ) );
		e !== b && v.v( e );
		return d
	};
	function Mh( a, b )
	{
		if( null === b )return!0;
		var c = b.Y;
		return null === c || c instanceof Tg || c.layer.Gc || a.ac && a.ac.contains( c ) || a.hc && a.hc.contains( c ) ? !0 : !1
	}

	function Nh( a, b, c, d )
	{
		var e = a.g;
		if( null !== e )
		{
			a.Si && (null !== a.ad && (a.ad.T = null, a.ad.Z = null), Oh( a, !1 ));
			var f = Ph( e, b, null, function( b )
			{
				return!Mh( a, b )
			} ), h = e.N;
			h.ze = f;
			var k = e.tb, l = !1;
			try
			{
				e.tb = !0;
				l = Dh( a, h, f );
				if( !a.qa && null === hh )return;
				if( null === f )
				{
					var m = e.TH;
					null !== m && (m( h ), l = !0)
				}
				if( !a.qa && null === hh )return;
				a.doDragOver( b, f );
				if( !a.qa && null === hh )return
			} finally
			{
				e.tb = k, l && e.Vf()
			}
			(e.oe || e.pe) && (c || d) && Qh( e, h.jf )
		}
	}

	function Dh( a, b, c )
	{
		var d = !1, e = a.ij.length, f = 0 < e ? a.ij[0] : null;
		if( c === f )return!1;
		b.zc = !1;
		for( var h = 0; h < e; h++ )
		{
			var k = a.ij[h], l = k.SH;
			if( null !== l && (l( b, k, c ), d = !0, b.zc) )break
		}
		a.ij.length = 0;
		if( !a.qa && null === hh || null === c )return d;
		for( b.zc = !1; null !== c; )a.ij.push( c ), c = Rh( c );
		e = a.ij.length;
		for( h = 0; h < e && (k = a.ij[h], l = k.RH, null === l || (l( b, k, f ), d = !0, !b.zc)); h++ );
		return d
	}

	function Rh( a )
	{
		var b = a.U;
		return null !== b ? b : a instanceof R && !(a instanceof V) && (a = a.Sa, null !== a && a.bH) ? a : null
	}

	function Sh( a, b, c )
	{
		var d = a.Gi;
		if( null === d )return null;
		var e = a.g.Lm( b, d.wE, function( a )
		{
			return d.findValidLinkablePort( a, c )
		} );
		a = v.L();
		for( var f = Infinity, h = null, e = e.i; e.next(); )
		{
			var k = e.value;
			if( null !== k.Y )
			{
				var l = k.Xa( Ab, a ), l = b.sf( l );
				l < f && (h = k, f = l)
			}
		}
		v.v( a );
		return h
	}

	function Oh( a, b )
	{
		var c = a.ad;
		if( null !== c && !(2 > c.oa) )
		{
			var d = a.g;
			if( null !== d && !d.ab && (d = a.Gi, null !== d) )
			{
				var e = null, f = null;
				null === c.T && (e = Sh( a, c.l( 0 ), !1 ), null !== e && (f = e.Y));
				var h = null, k = null;
				null === c.Z && (h = Sh( a, c.l( c.oa - 1 ), !0 ), null !== h && (k = h.Y));
				d.isValidLink( f, e, k, h ) ? b ? (c.Bn = c.l( 0 ).copy(), c.Fn = c.l( c.oa - 1 ).copy(), c.Jp = !1, c.T = f, null !== e && (c.xg = e.Ud), c.Z = k, null !== h && (c.rh = h.Ud)) : Th( d, f, e, k, h ) : Th( d, null, null, null, null )
			}
		}
	}

	Xg.prototype.doDragOver = function()
	{
	};
	function Uh( a, b )
	{
		var c = a.g;
		if( null !== c )
		{
			a.Si && Oh( a, !0 );
			yh( a );
			var d = Ph( c, b, null, function( b )
			{
				return!Mh( a, b )
			} ), e = c.N;
			e.ze = d;
			if( null !== d )
			{
				e.zc = !1;
				for( var f = d; null !== f; )
				{
					var h = f.Mz;
					if( null !== h && (h( e, f ), e.zc) )break;
					f = Rh( f )
				}
			}
			else h = c.Mz, null !== h && h( e );
			if( a.qa || null !== hh )if( a.doDropOnto( b, d ), a.qa || null !== hh )for( d = c.selection.i; d.next(); )e = d.value, e instanceof S && Vh( c, e.V )
		}
	}

	Xg.prototype.doDropOnto = function()
	{
	};
	Xg.prototype.doMouseMove = function()
	{
		if( this.qa )
		{
			var a = this.g;
			if( null !== a && null !== this.Jm && null !== this.ac )
			{
				var b = !1, c = !1;
				this.mayCopy() ? (b = !0, a.Zb = "copy", Ih( this, !1 ), gh( this, this.hc ), Jh( this, this.hc, !1 ), zh( this, this.hc )) : this.mayMove() ? (c = !0, a.Zb = "default", Ch( this ), Jh( this, this.ac, !0 )) : this.mayDragOut() ? (a.Zb = "no-drop", Ih( this, !1 ), Jh( this, this.hc, !1 )) : Ch( this );
				Nh( this, a.N.ca, c, b )
			}
		}
	};
	Xg.prototype.doMouseUp = function()
	{
		if( this.qa )
		{
			var a = this.g;
			if( null !== a )
			{
				var b = !1, c = this.mayCopy();
				c && null !== this.hc ? (Ch( this ), Ih( this, !0 ), gh( this, this.hc ), Jh( this, this.hc, !1 ), zh( this, this.hc ), null !== this.hc && a.QE( this.hc.cj() )) : (b = !0, Ch( this ), this.mayMove() && (Jh( this, this.ac, !0 ), Nh( this, a.N.ca, !0, !1 )));
				this.Aq = !0;
				Uh( this, a.N.ca );
				if( this.qa )
				{
					this.hc = null;
					if( b && null !== this.ac )for( b = this.ac.i; b.next(); )
					{
						var d = b.key;
						d instanceof S && (d = d.Sa, null === d || null === d.placeholder || this.ac.contains( d ) || d.qD && d.P())
					}
					a.pc();
					zh( this, this.ac );
					this.Cf = c ? "Copy" : "Move";
					a.Ba( c ? "SelectionCopied" : "SelectionMoved", a.selection )
				}
				this.stopTool()
			}
		}
	};
	Xg.prototype.mayCopy = function()
	{
		if( !this.aE )return!1;
		var a = this.g;
		if( null === a || a.ab || a.wf || !a.Jo || !a.Tj || (v.ak ? !a.N.alt : !a.N.control) )return!1;
		for( a = a.selection.i; a.next(); )
		{
			var b = a.value;
			if( b.Rd() && b.canCopy() )return!0
		}
		return null !== this.ad && this.Si && this.ad.canCopy() ? !0 : !1
	};
	Xg.prototype.mayDragOut = function()
	{
		if( !this.aE )return!1;
		var a = this.g;
		if( null === a || !a.Rs || !a.Tj || a.$k )return!1;
		for( a = a.selection.i; a.next(); )
		{
			var b = a.value;
			if( b.Rd() && b.canCopy() )return!0
		}
		return null !== this.ad && this.Si && this.ad.canCopy() ? !0 : !1
	};
	Xg.prototype.mayMove = function()
	{
		var a = this.g;
		if( null === a || a.ab || !a.$k )return!1;
		for( a = a.selection.i; a.next(); )
		{
			var b = a.value;
			if( b.Rd() && b.canMove() )return!0
		}
		return null !== this.ad && this.Si && this.ad.canMove() ? !0 : !1
	};
	var Ah = new I( Xg ), hh = null, ih = null;
	Xg.prototype.mayDragIn = function()
	{
		var a = this.g;
		if( null === a || !a.cD || a.ab || a.wf || !a.Jo )return!1;
		var b = hh;
		return null === b || b.g.ba.el !== a.ba.el ? !1 : !0
	};
	Xg.prototype.doSimulatedDragEnter = function()
	{
		if( this.mayDragIn() )
		{
			var a = this.g;
			a.Na.ai();
			Wh( a );
			a = hh;
			null !== a && (a.g.Zb = "copy")
		}
	};
	Xg.prototype.doSimulatedDragLeave = function()
	{
		var a = hh;
		null !== a && a.doSimulatedDragOut();
		this.doCancel()
	};
	Xg.prototype.doSimulatedDragOver = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = hh;
			null !== b && null !== b.ac && this.mayDragIn() && (a.Zb = "copy", Xh( this, b.ac.cj(), !1 ), Jh( this, this.hc, !1 ), Nh( this, a.N.ca, !1, !0 ))
		}
	};
	Xg.prototype.doSimulatedDrop = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = hh;
			if( null !== b )
			{
				var c = b.g;
				b.Aq = !0;
				Ch( this );
				this.mayDragIn() && (this.Qb( "Drop" ), Xh( this, b.ac.cj(), !0 ), Jh( this, this.hc, !1 ), null !== this.hc && a.QE( this.hc.cj() ), Uh( this, a.N.ca ), a.pc(), b = a.selection, null !== this.hc ? this.Cf = "ExternalCopy" : b = new J( R ), this.hc = null, a.focus(), a.Ba( "ExternalObjectsDropped", b, c ), this.fk())
			}
		}
	};
	function Xh( a, b, c )
	{
		if( null === a.hc )
		{
			var d = a.g;
			if( null !== d && !d.ab && !d.wf )
			{
				d.tb = !c;
				d.Qp = !c;
				a.ek = d.N.ca;
				d = d.Qo( b, d, !0 );
				c = v.bg();
				Hh( b, c );
				var e = c.x + c.width / 2, f = c.y + c.height / 2;
				v.Vb( c );
				var h = a.Tv;
				c = new na( R );
				var k = v.L();
				for( b = b.i; b.next(); )
				{
					var l = b.value;
					if( l.Rd() && l.canCopy() )
					{
						var m = l.location, l = d.ja( l );
						k.m( h.x - (e - m.x), h.y - (f - m.y) );
						l.location = k;
						l.tf();
						c.add( l, vh( k ) )
					}
				}
				v.v( k );
				for( d = d.i; d.next(); )e = d.value, e instanceof W && e.canCopy() && c.add( e, vh() );
				a.hc = c;
				fh( a, c.cj() );
				null !== a.ad && (c = a.ad, d = c.an, c.xl( a.ek.x -
					(d.x + d.width / 2), a.ek.y - (d.y + d.height / 2) ))
			}
		}
	}

	Xg.prototype.doSimulatedDragOut = function()
	{
		var a = this.g;
		null !== a && (this.mayCopy() || this.mayMove() ? a.Zb = "" : a.Zb = "no-drop")
	};
	function wh( a )
	{
		this.point = a;
		this.VE = Xc
	}

	v.ea( "DraggingInfo", wh );
	function Kh( a, b, c )
	{
		this.Jc = a;
		this.info = b;
		this.ZG = c
	}

	function Yh()
	{
		0 < arguments.length && v.dd( Yh );
		Wf.call( this );
		this.rC = 100;
		this.UB = !1;
		var a = new W, b = new X;
		b.Sf = !0;
		b.stroke = "blue";
		a.add( b );
		b = new X;
		b.Kp = "Standard";
		b.fill = "blue";
		b.stroke = "blue";
		a.add( b );
		a.Uf = "Tool";
		this.KC = a;
		a = new S;
		b = new X;
		b.Ud = "";
		b.Ab = "Rectangle";
		b.fill = null;
		b.stroke = "magenta";
		b.lb = 2;
		b.ya = kd;
		a.add( b );
		a.Al = !1;
		a.Uf = "Tool";
		this.IC = a;
		this.JC = b;
		a = new S;
		b = new X;
		b.Ud = "";
		b.Ab = "Rectangle";
		b.fill = null;
		b.stroke = "magenta";
		b.lb = 2;
		b.ya = kd;
		a.add( b );
		a.Al = !1;
		a.Uf = "Tool";
		this.LC = a;
		this.MC = b;
		this.oC = this.nC =
			this.jC = this.iC = this.kC = null;
		this.PB = !0;
		this.QF = new na( G, "boolean" );
		this.sC = this.Lk = this.EC = null
	}

	v.Ia( Yh, Wf );
	v.ea( "LinkingBaseTool", Yh );
	Yh.prototype.doStop = function()
	{
		var a = this.g;
		null !== a && xh( a );
		this.Gg = this.Fg = this.Eg = this.Dg = this.kc = null;
		this.tx.clear();
		this.ag = null
	};
	v.defineProperty( Yh, {wE: "portGravity"}, function()
	{
		return this.rC
	}, function( a )
	{
		v.j( a, "number", Yh, "portGravity" );
		0 <= a && (this.rC = a)
	} );
	v.defineProperty( Yh, {gp: "isUnconnectedLinkValid"}, function()
	{
		return this.UB
	}, function( a )
	{
		v.j( a, "boolean", Yh, "isUnconnectedLinkValid" );
		this.UB = a
	} );
	v.defineProperty( Yh, {Kg: "temporaryLink"}, function()
	{
		return this.KC
	}, function( a )
	{
		v.A( a, W, Yh, "temporaryLink" );
		this.KC = a
	} );
	v.defineProperty( Yh, {Ed: "temporaryFromNode"}, function()
	{
		return this.IC
	}, function( a )
	{
		v.A( a, S, Yh, "temporaryFromNode" );
		this.IC = a
	} );
	v.defineProperty( Yh, {en: "temporaryFromPort"}, function()
	{
		return this.JC
	}, function( a )
	{
		v.A( a, G, Yh, "temporaryFromPort" );
		this.JC = a
	} );
	v.defineProperty( Yh, {Fd: "temporaryToNode"}, function()
	{
		return this.LC
	}, function( a )
	{
		v.A( a, S, Yh, "temporaryToNode" );
		this.LC = a
	} );
	v.defineProperty( Yh, {fn: "temporaryToPort"}, function()
	{
		return this.MC
	}, function( a )
	{
		v.A( a, G, Yh, "temporaryToPort" );
		this.MC = a
	} );
	v.defineProperty( Yh, {kc: "originalLink"}, function()
	{
		return this.kC
	}, function( a )
	{
		null !== a && v.A( a, W, Yh, "originalLink" );
		this.kC = a
	} );
	v.defineProperty( Yh, {Dg: "originalFromNode"}, function()
	{
		return this.iC
	}, function( a )
	{
		null !== a && v.A( a, S, Yh, "originalFromNode" );
		this.iC = a
	} );
	v.defineProperty( Yh, {Eg: "originalFromPort"}, function()
	{
		return this.jC
	}, function( a )
	{
		null !== a && v.A( a, G, Yh, "originalFromPort" );
		this.jC = a
	} );
	v.defineProperty( Yh, {Fg: "originalToNode"}, function()
	{
		return this.nC
	}, function( a )
	{
		null !== a && v.A( a, S, Yh, "originalToNode" );
		this.nC = a
	} );
	v.defineProperty( Yh, {Gg: "originalToPort"}, function()
	{
		return this.oC
	}, function( a )
	{
		null !== a && v.A( a, G, Yh, "originalToPort" );
		this.oC = a
	} );
	v.defineProperty( Yh, {Dd: "isForwards"}, function()
	{
		return this.PB
	}, function( a )
	{
		v.j( a, "boolean", Yh, "isForwards" );
		this.PB = a
	} );
	v.u( Yh, {tx: "validPortsCache"}, function()
	{
		return this.QF
	} );
	v.defineProperty( Yh, {ag: "targetPort"}, function()
	{
		return this.EC
	}, function( a )
	{
		null !== a && v.A( a, G, Yh, "targetPort" );
		this.EC = a
	} );
	Yh.prototype.copyPortProperties = function( a, b, c, d, e )
	{
		if( null !== a && null !== b && null !== c && null !== d )
		{
			d.ya = b.V.size;
			e ? (d.yb = b.yb, d.Gl = b.Gl) : (d.xb = b.xb, d.ll = b.ll);
			c.ef = Ab;
			var f = v.L();
			c.location = b.Xa( Ab, f );
			v.v( f );
			d.angle = b.nl();
			null !== this.Xw && this.Xw( a, b, c, d, e )
		}
	};
	Yh.prototype.setNoTargetPortProperties = function( a, b, c )
	{
		null !== b && (b.ya = kd, b.xb = sb, b.yb = sb);
		null !== a && (a.location = this.g.N.ca);
		null !== this.Xw && this.Xw( null, null, a, b, c )
	};
	Yh.prototype.doMouseDown = function()
	{
		this.qa && this.doMouseMove()
	};
	Yh.prototype.doMouseMove = function()
	{
		if( this.qa )
		{
			var a = this.g;
			if( null !== a )
			{
				this.ag = this.findTargetPort( this.Dd );
				if( null !== this.ag )
				{
					var b = this.ag.Y;
					if( b instanceof S )
					{
						this.Dd ? this.copyPortProperties( b, this.ag, this.Fd, this.fn, !0 ) : this.copyPortProperties( b, this.ag, this.Ed, this.en, !1 );
						return
					}
				}
				this.Dd ? this.setNoTargetPortProperties( this.Fd, this.fn, !0 ) : this.setNoTargetPortProperties( this.Ed, this.en, !1 );
				(a.oe || a.pe) && Qh( a, a.N.jf )
			}
		}
	};
	Yh.prototype.findValidLinkablePort = function( a, b )
	{
		if( null === a )return null;
		var c = a.Y;
		if( !(c instanceof S) )return null;
		for( ; null !== a; )
		{
			var d = b ? a.bF : a.MD;
			if( !0 === d && (null !== a.Ud || a instanceof S) && (b ? this.isValidTo( c, a ) : this.isValidFrom( c, a )) )return a;
			if( !1 === d )break;
			a = a.U
		}
		return null
	};
	Yh.prototype.findTargetPort = function( a )
	{
		var b = this.g, c = b.N.ca, d = this.wE;
		0 >= d && (d = .1);
		for( var e = this, f = b.Lm( c, d, function( b )
		{
			return e.findValidLinkablePort( b, a )
		}, null, !0 ), d = Infinity, b = null, f = f.i; f.next(); )
		{
			var h = f.value, k = h.Y;
			if( k instanceof S )
			{
				var l = h.Xa( Ab, v.L() ), m = c.x - l.x, n = c.y - l.y;
				v.v( l );
				l = m * m + n * n;
				l < d && (m = this.tx.ja( h ), null !== m ? m && (b = h, d = l) : a && this.isValidLink( this.Dg, this.Eg, k, h ) || !a && this.isValidLink( k, h, this.Fg, this.Gg ) ? (this.tx.add( h, !0 ), b = h, d = l) : this.tx.add( h, !1 ))
			}
		}
		return null !== b && (c = b.Y,
			c instanceof S && (null === c.layer || c.layer.Ss)) ? b : null
	};
	Yh.prototype.isValidFrom = function( a, b )
	{
		if( null === a || null === b )return this.gp;
		if( this.g.Wa === this && (null !== a.layer && !a.layer.Ss || !0 !== b.MD) )return!1;
		var c = b.qz;
		if( Infinity > c )
		{
			if( null !== this.kc && a === this.Dg && b === this.Eg )return!0;
			var d = b.Ud;
			null === d && (d = "");
			if( a.zw( d ).count >= c )return!1
		}
		return!0
	};
	Yh.prototype.isValidTo = function( a, b )
	{
		if( null === a || null === b )return this.gp;
		if( this.g.Wa === this && (null !== a.layer && !a.layer.Ss || !0 !== b.bF) )return!1;
		var c = b.KI;
		if( Infinity > c )
		{
			if( null !== this.kc && a === this.Fg && b === this.Gg )return!0;
			var d = b.Ud;
			null === d && (d = "");
			if( a.wg( d ).count >= c )return!1
		}
		return!0
	};
	Yh.prototype.isInSameNode = function( a, b )
	{
		if( null === a || null === b )return!1;
		if( a === b )return!0;
		var c = a.Y, d = b.Y;
		return null !== c && c === d
	};
	Yh.prototype.isLinked = function( a, b )
	{
		if( null === a || null === b )return!1;
		var c = a.Y;
		if( !(c instanceof S) )return!1;
		var d = a.Ud;
		null === d && (d = "");
		var e = b.Y;
		if( !(e instanceof S) )return!1;
		var f = b.Ud;
		null === f && (f = "");
		for( e = e.wg( f ); e.next(); )if( f = e.value, f.T === c && f.xg === d )return!0;
		return!1
	};
	Yh.prototype.isValidLink = function( a, b, c, d )
	{
		if( !this.isValidFrom( a, b ) || !this.isValidTo( c, d ) || !(null === b || null === d || (b.RG && d.JI || !this.isInSameNode( b, d )) && (b.QG && d.II || !this.isLinked( b, d ))) || null !== this.kc && (null !== a && this.isLabelDependentOnLink( a, this.kc ) || null !== c && this.isLabelDependentOnLink( c, this.kc )) || null !== a && null !== c && (null === a.data && null !== c.data || null !== a.data && null === c.data) || !this.isValidCycle( a, c, this.kc ) )return!1;
		if( null !== a )
		{
			var e = a.Ow;
			if( null !== e && !e( a, b, c, d, this.kc ) )return!1
		}
		if( null !==
			c && (e = c.Ow, null !== e && !e( a, b, c, d, this.kc )) )return!1;
		e = this.Ow;
		return null !== e ? e( a, b, c, d, this.kc ) : !0
	};
	Yh.prototype.isLabelDependentOnLink = function( a, b )
	{
		if( null === a )return!1;
		var c = a.ge;
		if( null === c )return!1;
		if( c === b )return!0;
		var d = new J( S );
		d.add( a );
		return Zh( this, c, b, d )
	};
	function Zh( a, b, c, d )
	{
		if( b === c )return!0;
		var e = b.T;
		if( null !== e && e.vf && (d.add( e ), Zh( a, e.ge, c, d )) )return!0;
		b = b.Z;
		return null !== b && b.vf && (d.add( b ), Zh( a, b.ge, c, d )) ? !0 : !1
	}

	Yh.prototype.isValidCycle = function( a, b, c )
	{
		void 0 === c && (c = null);
		if( null === a || null === b )return this.gp;
		var d = this.g.RI;
		if( d !== $h )
		{
			if( d === ai )
			{
				if( null !== c && !c.Hc )return!0;
				for( d = b.ue; d.next(); )
				{
					var e = d.value;
					if( e !== c && e.Hc && e.Z === b )return!1
				}
				return!bi( this, a, b, c, !0 )
			}
			if( d === ci )
			{
				if( null !== c && !c.Hc )return!0;
				for( d = a.ue; d.next(); )if( e = d.value, e !== c && e.Hc && e.T === a )return!1;
				return!bi( this, a, b, c, !0 )
			}
			if( d === di )return a === b ? a = !0 : (d = new J( S ), d.add( b ), a = ei( this, d, a, b, c )), !a;
			if( d === fi )return!bi( this, a, b, c, !1 );
			if( d ===
				ri )return a === b ? a = !0 : (d = new J( S ), d.add( b ), a = si( this, d, a, b, c )), !a
		}
		return!0
	};
	function bi( a, b, c, d, e )
	{
		if( b === c )return!0;
		if( null === b || null === c )return!1;
		for( var f = b.ue; f.next(); )
		{
			var h = f.value;
			if( h !== d && (!e || h.Hc) && h.Z === b && (h = h.T, h !== b && bi( a, h, c, d, e )) )return!0
		}
		return!1
	}

	function ei( a, b, c, d, e )
	{
		if( c === d )return!0;
		if( null === c || null === d || b.contains( c ) )return!1;
		b.add( c );
		for( var f = c.ue; f.next(); )
		{
			var h = f.value;
			if( h !== e && h.Z === c && (h = h.T, h !== c && ei( a, b, h, d, e )) )return!0
		}
		return!1
	}

	function si( a, b, c, d, e )
	{
		if( c === d )return!0;
		if( null === c || null === d || b.contains( c ) )return!1;
		b.add( c );
		for( var f = c.ue; f.next(); )
		{
			var h = f.value;
			if( h !== e )
			{
				var k = h.T, h = h.Z, k = k === c ? h : k;
				if( k !== c && si( a, b, k, d, e ) )return!0
			}
		}
		return!1
	}

	v.defineProperty( Yh, {Ow: "linkValidation"}, function()
	{
		return this.Lk
	}, function( a )
	{
		null !== a && v.j( a, "function", Yh, "linkValidation" );
		this.Lk = a
	} );
	v.defineProperty( Yh, {Xw: "portTargeted"}, function()
	{
		return this.sC
	}, function( a )
	{
		null !== a && v.j( a, "function", Yh, "portTargeted" );
		this.sC = a
	} );
	function ti()
	{
		0 < arguments.length && v.dd( ti );
		Yh.call( this );
		this.name = "Linking";
		this.PA = {};
		this.OA = null;
		this.aa = ui;
		this.BC = null
	}

	v.Ia( ti, Yh );
	v.ea( "LinkingTool", ti );
	var ui;
	ti.Either = ui = v.p( ti, "Either", 0 );
	var vi;
	ti.ForwardsOnly = vi = v.p( ti, "ForwardsOnly", 0 );
	var wi;
	ti.BackwardsOnly = wi = v.p( ti, "BackwardsOnly", 0 );
	v.defineProperty( ti, {dG: "archetypeLinkData"}, function()
	{
		return this.PA
	}, function( a )
	{
		null !== a && v.A( a, Object, ti, "archetypeLinkData" );
		a instanceof G && v.A( a, W, ti, "archetypeLinkData" );
		this.PA = a
	} );
	v.defineProperty( ti, {fD: "archetypeLabelNodeData"}, function()
	{
		return this.OA
	}, function( a )
	{
		null !== a && v.A( a, Object, ti, "archetypeLabelNodeData" );
		a instanceof G && v.A( a, S, ti, "archetypeLabelNodeData" );
		this.OA = a
	} );
	v.defineProperty( ti, {direction: "direction"}, function()
	{
		return this.aa
	}, function( a )
	{
		v.pb( a, ti, ti, "direction" );
		this.aa = a
	} );
	v.defineProperty( ti, {ZE: "startObject"}, function()
	{
		return this.BC
	}, function( a )
	{
		null !== a && v.A( a, G, ti, "startObject" );
		this.BC = a
	} );
	ti.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || a.ab || a.wf || !a.Ss )return!1;
		var b = a.ba;
		return(b instanceof Q || b instanceof Pf) && a.N.left && (a.Wa === this || this.isBeyondDragSize()) ? null !== this.findLinkablePort() : !1
	};
	ti.prototype.findLinkablePort = function()
	{
		var a = this.g;
		if( null === a )return null;
		var b = this.ZE;
		null === b && (b = a.re( a.yc.ca, null, null ));
		if( null === b || !(b.Y instanceof S) )return null;
		a = this.direction;
		if( a === ui || a === vi )
		{
			var c = this.findValidLinkablePort( b, !1 );
			if( null !== c )return this.Dd = !0, c
		}
		if( a === ui || a === wi )if( c = this.findValidLinkablePort( b, !0 ), null !== c )return this.Dd = !1, c;
		return null
	};
	ti.prototype.doActivate = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = this.findLinkablePort();
			null !== b && (this.Qb( this.name ), a.Ne = !0, a.Zb = "pointer", this.Dd ? (null === this.Fd || this.Fd.location.G() || (this.Fd.location = a.N.ca), this.Eg = b, b = this.Eg.Y, b instanceof S && (this.Dg = b), this.copyPortProperties( this.Dg, this.Eg, this.Ed, this.en, !1 )) : (null === this.Ed || this.Ed.location.G() || (this.Ed.location = a.N.ca), this.Gg = b, b = this.Gg.Y, b instanceof S && (this.Fg = b), this.copyPortProperties( this.Fg, this.Gg, this.Fd, this.fn, !0 )),
				a.add( this.Ed ), a.add( this.Fd ), null !== this.Kg && (null !== this.Ed && (this.Kg.T = this.Ed), null !== this.Fd && (this.Kg.Z = this.Fd), this.Kg.ic(), a.add( this.Kg )), this.qa = !0)
		}
	};
	ti.prototype.doDeactivate = function()
	{
		this.qa = !1;
		var a = this.g;
		null !== a && (a.remove( this.Kg ), a.remove( this.Ed ), a.remove( this.Fd ), a.Ne = !1, a.Zb = "", this.fk())
	};
	ti.prototype.doStop = function()
	{
		Yh.prototype.doStop.call( this );
		this.ZE = null
	};
	ti.prototype.doMouseUp = function()
	{
		if( this.qa )
		{
			var a = this.g;
			if( null === a )return;
			var b = this.Cf = null, c = null, d = null, e = null, f = this.ag = this.findTargetPort( this.Dd );
			if( null !== f )
			{
				var h = f.Y;
				h instanceof S && (this.Dd ? (null !== this.Dg && (b = this.Dg, c = this.Eg), d = h, e = f) : (b = h, c = f, null !== this.Fg && (d = this.Fg, e = this.Gg)))
			}
			else this.Dd ? null !== this.Dg && this.gp && (b = this.Dg, c = this.Eg) : null !== this.Fg && this.gp && (d = this.Fg, e = this.Gg);
			null !== b || null !== d ? (h = this.insertLink( b, c, d, e ), null !== h ? (null === f && (this.Dd ? h.Fn = a.N.ca.copy() :
				h.Bn = a.N.ca.copy()), a.of && a.select( h ), this.Cf = this.name, a.Ba( "LinkDrawn", h )) : (a.ba.lD(), this.doNoLink( b, c, d, e ))) : this.Dd ? this.doNoLink( this.Dg, this.Eg, null, null ) : this.doNoLink( null, null, this.Fg, this.Gg )
		}
		this.stopTool()
	};
	ti.prototype.insertLink = function( a, b, c, d )
	{
		var e = this.g;
		if( null === e )return null;
		var f = e.ba;
		if( f instanceof Pf )
		{
			var h = a;
			b = c;
			e.Sd || (h = c, b = a);
			if( null !== h && null !== b )return f.ph( b.data, f.gb( h.data ) ), b.Xo()
		}
		else if( f instanceof Q )if( h = "", null !== a && (null === b && (b = a), h = b.Ud, null === h && (h = "")), b = "", null !== c && (null === d && (d = c), b = d.Ud, null === b && (b = "")), d = this.dG, d instanceof W )
		{
			if( Vg( d ), f = d.copy(), null !== f )return f.T = a, f.xg = h, f.Z = c, f.rh = b, e.add( f ), a = this.fD, a instanceof S && (Vg( a ), a = a.copy(), null !== a && (a.ge = f, e.add( a ))),
				f
		}
		else if( null !== d && (d = f.qw( d ), v.Ta( d )) )return null !== a && f.jx( d, f.gb( a.data ) ), f.jA( d, h ), null !== c && f.nx( d, f.gb( c.data ) ), f.mA( d, b ), f.Ns( d ), a = this.fD, null === a || a instanceof S || (a = f.copyNodeData( a ), v.Ta( a ) && (f.Xk( a ), a = f.gb( a ), void 0 !== a && f.Vy( d, a ))), f = e.Qf( d );
		return null
	};
	ti.prototype.doNoLink = function()
	{
	};
	function qh()
	{
		0 < arguments.length && v.dd( qh );
		Yh.call( this );
		this.name = "Relinking";
		var a = new X;
		a.Ab = "Diamond";
		a.ya = md;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		a.cursor = "pointer";
		a.we = 0;
		this.BB = a;
		a = new X;
		a.Ab = "Diamond";
		a.ya = md;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		a.cursor = "pointer";
		a.we = -1;
		this.NC = a;
		this.Sb = null;
		this.lC = new B
	}

	v.Ia( qh, Yh );
	v.ea( "RelinkingTool", qh );
	qh.prototype.updateAdornments = function( a )
	{
		if( null !== a && a instanceof W )
		{
			var b = "RelinkFrom", c = null;
			if( a.hb && !this.g.ab )
			{
				var d = a.Vt;
				null !== d && a.canRelinkFrom() && a.V.G() && a.isVisible() && d.V.G() && d.wl() && (c = a.Uo( b ), null === c && (c = this.makeAdornment( d, !1 ), null !== c && (c.gc = b), a.Wk( b, c )))
			}
			null === c && a.$i( b );
			b = "RelinkTo";
			c = null;
			a.hb && !this.g.ab && (d = a.Vt, null !== d && a.canRelinkTo() && a.V.G() && a.isVisible() && d.V.G() && d.wl() && (c = a.Uo( b ), null === c && (c = this.makeAdornment( d, !0 ), null !== c && (c.gc = b), a.Wk( b, c ))));
			null === c &&
			a.$i( b )
		}
	};
	qh.prototype.makeAdornment = function( a, b )
	{
		var c = new Tg;
		c.type = xi;
		var d = b ? this.HI : this.PG;
		null !== d && c.add( d.copy() );
		c.Yb = a;
		return c
	};
	v.defineProperty( qh, {PG: "fromHandleArchetype"}, function()
	{
		return this.BB
	}, function( a )
	{
		null !== a && v.A( a, G, qh, "fromHandleArchetype" );
		this.BB = a
	} );
	v.defineProperty( qh, {HI: "toHandleArchetype"}, function()
	{
		return this.NC
	}, function( a )
	{
		null !== a && v.A( a, G, qh, "toHandleArchetype" );
		this.NC = a
	} );
	v.u( qh, {handle: "handle"}, function()
	{
		return this.Sb
	} );
	qh.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || a.ab || a.wf || !a.zm )return!1;
		var b = a.ba;
		if( !(b instanceof Q || b instanceof Pf) || !a.N.left )return!1;
		b = this.findToolHandleAt( a.yc.ca, "RelinkFrom" );
		null === b && (b = this.findToolHandleAt( a.yc.ca, "RelinkTo" ));
		return null !== b
	};
	qh.prototype.doActivate = function()
	{
		var a = this.g;
		if( null !== a )
		{
			if( null === this.kc )
			{
				var b = this.findToolHandleAt( a.yc.ca, "RelinkFrom" );
				null === b && (b = this.findToolHandleAt( a.yc.ca, "RelinkTo" ));
				if( null === b )return;
				var c = b.Y;
				if( !(c instanceof Tg && c.Nf instanceof W) )return;
				this.Sb = b;
				this.Dd = null === c || "RelinkTo" === c.gc;
				this.kc = c.Nf
			}
			this.Qb( this.name );
			a.Ne = !0;
			a.Zb = "pointer";
			this.Eg = this.kc.bd;
			this.Dg = this.kc.T;
			this.Gg = this.kc.Hd;
			this.Fg = this.kc.Z;
			this.lC.set( this.kc.V );
			null !== this.kc && 0 < this.kc.oa && (null === this.kc.T &&
				(null !== this.en && (this.en.ya = jd), null !== this.Ed && (this.Ed.location = this.kc.l( 0 ))), null === this.kc.Z && (null !== this.fn && (this.fn.ya = jd), null !== this.Fd && (this.Fd.location = this.kc.l( this.kc.oa - 1 ))));
			this.copyPortProperties( this.Dg, this.Eg, this.Ed, this.en, !1 );
			this.copyPortProperties( this.Fg, this.Gg, this.Fd, this.fn, !0 );
			a.add( this.Ed );
			a.add( this.Fd );
			null !== this.Kg && (null !== this.Ed && (this.Kg.T = this.Ed), null !== this.Fd && (this.Kg.Z = this.Fd), this.copyLinkProperties( this.kc, this.Kg ), this.Kg.ic(), a.add( this.Kg ));
			this.qa = !0
		}
	};
	qh.prototype.copyLinkProperties = function( a, b )
	{
		if( null !== a && null !== b )
		{
			b.Ps = a.Ps;
			b.gz = a.gz;
			var c = a.Je;
			if( c === yi || c === zi )c = Ai;
			b.Je = c;
			b.rw = a.rw;
			b.gx = a.gx;
			b.Hp = a.Hp;
			b.xb = a.xb;
			b.ll = a.ll;
			b.jt = a.jt;
			b.kt = a.kt;
			b.yb = a.yb;
			b.Gl = a.Gl;
			b.du = a.du;
			b.eu = a.eu
		}
	};
	qh.prototype.doDeactivate = function()
	{
		this.qa = !1;
		var a = this.g;
		null !== a && (a.remove( this.Kg ), a.remove( this.Ed ), a.remove( this.Fd ), a.Ne = !1, a.Zb = "", this.fk())
	};
	qh.prototype.doStop = function()
	{
		Yh.prototype.doStop.call( this );
		this.Sb = null
	};
	qh.prototype.doMouseUp = function()
	{
		if( this.qa )
		{
			var a = this.g;
			if( null === a )return;
			this.Cf = null;
			var b = this.Dg, c = this.Eg, d = this.Fg, e = this.Gg, f = this.kc;
			this.ag = this.findTargetPort( this.Dd );
			if( null !== this.ag )
			{
				var h = this.ag.Y;
				h instanceof S && (this.Dd ? (d = h, e = this.ag) : (b = h, c = this.ag))
			}
			else this.gp ? this.Dd ? e = d = null : c = b = null : f = null;
			null !== f ? (this.reconnectLink( f, this.Dd ? d : b, this.Dd ? e : c, this.Dd ), null === this.ag && (this.Dd ? f.Fn = a.N.ca.copy() : f.Bn = a.N.ca.copy(), f.ic()), a.of && (f.hb = !0), this.Cf = this.name, a.Ba( "LinkRelinked",
				f, this.Dd ? this.Gg : this.Eg )) : this.doNoRelink( this.kc, this.Dd );
			Bi( this.kc, this.lC )
		}
		this.stopTool()
	};
	qh.prototype.reconnectLink = function( a, b, c, d )
	{
		if( null === this.g )return!1;
		c = null !== c && null !== c.Ud ? c.Ud : "";
		d ? (a.Z = b, a.rh = c) : (a.T = b, a.xg = c);
		return!0
	};
	qh.prototype.doNoRelink = function()
	{
	};
	function Th( a, b, c, d, e )
	{
		null !== b ? (a.copyPortProperties( b, c, a.Ed, a.en, !1 ), a.g.add( a.Ed )) : a.g.remove( a.Ed );
		null !== d ? (a.copyPortProperties( d, e, a.Fd, a.fn, !0 ), a.g.add( a.Fd )) : a.g.remove( a.Fd )
	}

	function Ci()
	{
		0 < arguments.length && v.dd( Ci );
		Wf.call( this );
		this.name = "LinkReshaping";
		var a = new X;
		a.Ab = "Rectangle";
		a.ya = ld;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		this.Ak = a;
		a = new X;
		a.Ab = "Diamond";
		a.ya = ld;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		this.$B = a;
		this.tC = 3;
		this.Gx = this.Sb = null;
		this.mC = new y;
		this.zv = null
	}

	v.Ia( Ci, Wf );
	v.ea( "LinkReshapingTool", Ci );
	var Di;
	Ci.None = Di = v.p( Ci, "None", 0 );
	var Ei;
	Ci.Horizontal = Ei = v.p( Ci, "Horizontal", 1 );
	var Fi;
	Ci.Vertical = Fi = v.p( Ci, "Vertical", 2 );
	var Gi;
	Ci.All = Gi = v.p( Ci, "All", 3 );
	Ci.prototype.getReshapingBehavior = Ci.prototype.QD = function( a )
	{
		return a && a.uC ? a.uC : Di
	};
	Ci.prototype.setReshapingBehavior = Ci.prototype.Yt = function( a, b )
	{
		v.A( a, G, Ci, "setReshapingBehavior:obj" );
		v.pb( b, Ci, Ci, "setReshapingBehavior:behavior" );
		a.uC = b
	};
	Ci.prototype.updateAdornments = function( a )
	{
		if( null !== a && a instanceof W )
		{
			if( a.hb && !this.g.ab )
			{
				var b = a.path;
				if( null !== b && a.canReshape() && a.V.G() && a.isVisible() && b.V.G() && b.wl() )
				{
					var c = a.Uo( this.name );
					if( null === c || c.FF !== a.oa || c.TF !== a.Qt )c = this.makeAdornment( b ), null !== c && (c.FF = a.oa, c.TF = a.Qt, a.Wk( this.name, c ));
					if( null !== c )
					{
						c.location = a.position;
						return
					}
				}
			}
			a.$i( this.name )
		}
	};
	Ci.prototype.makeAdornment = function( a )
	{
		var b = a.Y, c = b.oa, d = b.jc, e = null;
		if( null !== b.points && 1 < c )
		{
			e = new Tg;
			e.type = xi;
			var c = b.gt, f = b.Mw, h = d ? 1 : 0;
			if( b.Qt && b.Je !== Hi )for( var k = c + h; k < f - h; k++ )
			{
				var l = this.makeResegmentHandle( a, k );
				null !== l && (l.we = k, l.gA = .5, l.qz = 999, e.add( l ))
			}
			for( k = c + 1; k < f; k++ )if( l = this.makeHandle( a, k ), null !== l )
			{
				l.we = k;
				if( k !== c )if( k === c + 1 && d )
				{
					var h = b.l( c ), m = b.l( c + 1 );
					K( h.x, m.x ) && K( h.y, m.y ) && (m = b.l( c - 1 ));
					K( h.x, m.x ) ? (this.Yt( l, Fi ), l.cursor = "n-resize") : K( h.y, m.y ) && (this.Yt( l, Ei ), l.cursor = "w-resize")
				}
				else k ===
						f - 1 && d ? (h = b.l( f - 1 ), m = b.l( f ), K( h.x, m.x ) && K( h.y, m.y ) && (h = b.l( f + 1 )), K( h.x, m.x ) ? (this.Yt( l, Fi ), l.cursor = "n-resize") : K( h.y, m.y ) && (this.Yt( l, Ei ), l.cursor = "w-resize")) : k !== f && (this.Yt( l, Gi ), l.cursor = "move");
				e.add( l )
			}
			e.gc = this.name;
			e.Yb = a
		}
		return e
	};
	Ci.prototype.makeHandle = function()
	{
		var a = this.mt;
		return null === a ? null : a.copy()
	};
	v.defineProperty( Ci, {mt: "handleArchetype"}, function()
	{
		return this.Ak
	}, function( a )
	{
		null !== a && v.A( a, G, Ci, "handleArchetype" );
		this.Ak = a
	} );
	Ci.prototype.makeResegmentHandle = function()
	{
		var a = this.OH;
		return null === a ? null : a.copy()
	};
	v.defineProperty( Ci, {OH: "midHandleArchetype"}, function()
	{
		return this.$B
	}, function( a )
	{
		null !== a && v.A( a, G, Ci, "midHandleArchetype" );
		this.$B = a
	} );
	v.u( Ci, {handle: "handle"}, function()
	{
		return this.Sb
	} );
	v.u( Ci, {Qs: "adornedLink"}, function()
	{
		return this.Gx
	} );
	Ci.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		return null !== a && !a.ab && a.hw && a.N.left ? null !== this.findToolHandleAt( a.yc.ca, this.name ) : !1
	};
	Ci.prototype.doActivate = function()
	{
		var a = this.g;
		if( null !== a && (this.Sb = this.findToolHandleAt( a.yc.ca, this.name ), null !== this.Sb) )
		{
			var b = this.Sb.Y.Nf;
			if( b instanceof W )
			{
				this.Gx = b;
				a.Ne = !0;
				this.Qb( this.name );
				if( b.Qt && 999 === this.Sb.qz )
				{
					var c = b.points.copy(), d = this.Sb.Xa( Ab );
					c.Cd( this.Sb.we + 1, d );
					b.jc && c.Cd( this.Sb.we + 1, d );
					b.points = c;
					b.Qd();
					this.Sb = this.findToolHandleAt( a.yc.ca, this.name );
					if( null === this.Sb )
					{
						this.doDeactivate();
						return
					}
				}
				this.mC = b.l( this.Sb.we );
				this.zv = b.points.copy();
				this.qa = !0
			}
		}
	};
	Ci.prototype.doDeactivate = function()
	{
		this.fk();
		this.Gx = this.Sb = null;
		var a = this.g;
		null !== a && (a.Ne = !1);
		this.qa = !1
	};
	Ci.prototype.doCancel = function()
	{
		var a = this.Qs;
		null !== a && (a.points = this.zv);
		this.stopTool()
	};
	Ci.prototype.doMouseMove = function()
	{
		var a = this.g;
		this.qa && null !== a && (a = this.computeReshape( a.N.ca ), this.reshape( a ))
	};
	Ci.prototype.doMouseUp = function()
	{
		var a = this.g;
		if( this.qa && null !== a )
		{
			var b = this.computeReshape( a.N.ca );
			this.reshape( b );
			b = this.Qs;
			if( null !== b && b.Qt )
			{
				var c = this.handle.we, d = b.l( c - 1 ), e = b.l( c ), f = b.l( c + 1 );
				if( b.jc )
				{
					if( c > b.gt + 1 && c < b.Mw - 1 )
					{
						var h = b.l( c - 2 );
						if( Math.abs( d.x - e.x ) < this.nh && Math.abs( d.y - e.y ) < this.nh && (Ii( this, h, d, e, f, !0 ) || Ii( this, h, d, e, f, !1 )) )
						{
							var k = b.points.copy();
							Ii( this, h, d, e, f, !0 ) ? (k.Ig( c - 2, new y( h.x, (f.y + h.y) / 2 ) ), k.Ig( c + 1, new y( f.x, (f.y + h.y) / 2 ) )) : (k.Ig( c - 2, new y( (f.x + h.x) / 2, h.y ) ), k.Ig( c + 1,
								new y( (f.x + h.x) / 2, f.y ) ));
							k.Vc( c );
							k.Vc( c - 1 );
							b.points = k;
							b.Qd()
						}
						else h = b.l( c + 2 ), Math.abs( e.x - f.x ) < this.nh && Math.abs( e.y - f.y ) < this.nh && (Ii( this, d, e, f, h, !0 ) || Ii( this, d, e, f, h, !1 )) && (k = b.points.copy(), Ii( this, d, e, f, h, !0 ) ? (k.Ig( c - 1, new y( d.x, (d.y + h.y) / 2 ) ), k.Ig( c + 2, new y( h.x, (d.y + h.y) / 2 ) )) : (k.Ig( c - 1, new y( (d.x + h.x) / 2, d.y ) ), k.Ig( c + 2, new y( (d.x + h.x) / 2, h.y ) )), k.Vc( c + 1 ), k.Vc( c ), b.points = k, b.Qd())
					}
				}
				else h = v.L(), Oa( d.x, d.y, f.x, f.y, e.x, e.y, h ) && h.sf( e ) < this.nh * this.nh && (k = b.points.copy(), k.Vc( c ), b.points = k, b.Qd()),
					v.v( h )
			}
			a.pc();
			this.Cf = this.name;
			a.Ba( "LinkReshaped", this.Qs, this.zv )
		}
		this.stopTool()
	};
	function Ii( a, b, c, d, e, f )
	{
		return f ? Math.abs( b.y - c.y ) < a.nh && Math.abs( c.y - d.y ) < a.nh && Math.abs( d.y - e.y ) < a.nh : Math.abs( b.x - c.x ) < a.nh && Math.abs( c.x - d.x ) < a.nh && Math.abs( d.x - e.x ) < a.nh
	}

	v.defineProperty( Ci, {nh: "resegmentingDistance"}, function()
	{
		return this.tC
	}, function( a )
	{
		v.j( a, "number", Ci, "resegmentingDistance" );
		this.tC = a
	} );
	Ci.prototype.reshape = function( a )
	{
		var b = this.Qs;
		b.Cl();
		var c = this.handle.we, d = this.QD( this.handle );
		if( b.jc )if( c === b.gt + 1 )c = b.gt + 1, d === Fi ? (b.W( c, b.l( c - 1 ).x, a.y ), b.W( c + 1, b.l( c + 2 ).x, a.y )) : d === Ei && (b.W( c, a.x, b.l( c - 1 ).y ), b.W( c + 1, a.x, b.l( c + 2 ).y ));
		else if( c === b.Mw - 1 )c = b.Mw - 1, d === Fi ? (b.W( c - 1, b.l( c - 2 ).x, a.y ), b.W( c, b.l( c + 1 ).x, a.y )) : d === Ei && (b.W( c - 1, a.x, b.l( c - 2 ).y ), b.W( c, a.x, b.l( c + 1 ).y ));
		else
		{
			var d = c, e = b.l( d ), f = b.l( d - 1 ), h = b.l( d + 1 );
			K( f.x, e.x ) && K( e.y, h.y ) ? (K( f.x, b.l( d - 2 ).x ) && !K( f.y, b.l( d - 2 ).y ) ? (b.w( d, a.x, f.y ),
				c++, d++) : b.W( d - 1, a.x, f.y ), K( h.y, b.l( d + 2 ).y ) && !K( h.x, b.l( d + 2 ).x ) ? b.w( d + 1, h.x, a.y ) : b.W( d + 1, h.x, a.y )) : K( f.y, e.y ) && K( e.x, h.x ) ? (K( f.y, b.l( d - 2 ).y ) && !K( f.x, b.l( d - 2 ).x ) ? (b.w( d, f.x, a.y ), c++, d++) : b.W( d - 1, f.x, a.y ), K( h.x, b.l( d + 2 ).x ) && !K( h.y, b.l( d + 2 ).y ) ? b.w( d + 1, a.x, h.y ) : b.W( d + 1, a.x, h.y )) : K( f.x, e.x ) && K( e.x, h.x ) ? (K( f.x, b.l( d - 2 ).x ) && !K( f.y, b.l( d - 2 ).y ) ? (b.w( d, a.x, f.y ), c++, d++) : b.W( d - 1, a.x, f.y ), K( h.x, b.l( d + 2 ).x ) && !K( h.y, b.l( d + 2 ).y ) ? b.w( d + 1, a.x, h.y ) : b.W( d + 1, a.x, h.y )) : K( f.y, e.y ) && K( e.y, h.y ) && (K( f.y, b.l( d - 2 ).y ) && !K( f.x,
				b.l( d - 2 ).x ) ? (b.w( d, f.x, a.y ), c++, d++) : b.W( d - 1, f.x, a.y ), K( h.y, b.l( d + 2 ).y ) && !K( h.x, b.l( d + 2 ).x ) ? b.w( d + 1, h.x, a.y ) : b.W( d + 1, h.x, a.y ));
			b.W( c, a.x, a.y )
		}
		else b.W( c, a.x, a.y ), 1 === c && b.computeSpot( !0 ).te() && (e = b.T, f = b.bd, null === e || e.isVisible() || (e = e.findVisibleNode(), e !== b.T && (f = e.jl( "" ))), d = f.Xa( Ab, v.L() ), e = b.getLinkPointFromPoint( e, f, d, a, !0, v.L() ), b.W( 0, e.x, e.y ), v.v( d ), v.v( e )), c === b.oa - 2 && b.computeSpot( !1 ).te() && (c = b.Z, e = b.Hd, null === c || c.isVisible() || (c = c.findVisibleNode(), c !== b.Z && (e = c.jl( "" ))), d = e.Xa( Ab, v.L() ),
			e = b.getLinkPointFromPoint( c, e, d, a, !1, v.L() ), b.W( b.oa - 1, e.x, e.y ), v.v( d ), v.v( e ));
		b.Pi()
	};
	Ci.prototype.computeReshape = function( a )
	{
		var b = this.Qs, c = this.handle.we;
		switch( this.QD( this.handle ) )
		{
		case Gi:
			return a;
		case Fi:
			return b = b.l( c ), new y( b.x, a.y );
		case Ei:
			return b = b.l( c ), new y( a.x, b.y );
		default:
		case Di:
			return b.l( c )
		}
	};
	v.u( Ci, {qK: "originalPoint"}, function()
	{
		return this.mC
	} );
	v.u( Ci, {rK: "originalPoints"}, function()
	{
		return this.zv
	} );
	function Ji()
	{
		0 < arguments.length && v.dd( Ji );
		Wf.call( this );
		this.name = "Resizing";
		this.Aj = (new ia( 1, 1 )).freeze();
		this.yj = (new ia( 9999, 9999 )).freeze();
		this.gj = (new ia( NaN, NaN )).freeze();
		this.Rq = !1;
		this.Db = null;
		var a = new X;
		a.Sj = Ab;
		a.Ab = "Rectangle";
		a.ya = ld;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		a.lb = 1;
		a.cursor = "pointer";
		this.Ak = a;
		this.Sb = null;
		this.yv = new ia;
		this.Dy = new y;
		this.ey = new ia( 0, 0 );
		this.by = new ia( Infinity, Infinity );
		this.ay = new ia( 1, 1 );
		this.fC = !0
	}

	v.Ia( Ji, Wf );
	v.ea( "ResizingTool", Ji );
	Ji.prototype.updateAdornments = function( a )
	{
		if( !(null === a || a instanceof W) )
		{
			if( a.hb && !this.g.ab )
			{
				var b = a.HE;
				if( null !== b && a.canResize() && a.V.G() && a.isVisible() && b.V.G() && b.wl() )
				{
					var c = a.Uo( this.name );
					if( null === c || c.Yb !== b )c = this.makeAdornment( b );
					if( null !== c )
					{
						var d = b.nl();
						c.angle = d;
						var e = b.Xa( c.ef, v.L() ), f = b.Ti();
						c.location = e;
						v.v( e );
						e = c.placeholder;
						if( null !== e )
						{
							var b = b.Ha, h = v.Fl();
							h.m( b.width * f, b.height * f );
							e.ya = h;
							v.Yj( h )
						}
						Ki( this, c, d );
						a.Wk( this.name, c );
						return
					}
				}
			}
			a.$i( this.name )
		}
	};
	Ji.prototype.makeAdornment = function( a )
	{
		var b = null, b = a.Y.GE;
		if( null === b )
		{
			b = new Tg;
			b.type = Li;
			b.ef = Ab;
			var c = new Mi;
			c.Sf = !0;
			b.add( c );
			b.add( this.makeHandle( a, tb ) );
			b.add( this.makeHandle( a, vb ) );
			b.add( this.makeHandle( a, Fb ) );
			b.add( this.makeHandle( a, Db ) );
			b.add( this.makeHandle( a, pc ) );
			b.add( this.makeHandle( a, rc ) );
			b.add( this.makeHandle( a, sc ) );
			b.add( this.makeHandle( a, qc ) )
		}
		else if( Vg( b ), b = b.copy(), null === b )return null;
		b.gc = this.name;
		b.Yb = a;
		return b
	};
	Ji.prototype.makeHandle = function( a, b )
	{
		var c = this.mt;
		if( null === c )return null;
		c = c.copy();
		c.alignment = b;
		return c
	};
	function Ki( a, b, c )
	{
		if( null !== b )if( !b.alignment.Uc() && "" !== b.cursor )a:{
			a = b.alignment;
			a.te() && (a = Ab);
			if( 0 >= a.x )c = 0 >= a.y ? c + 225 : 1 <= a.y ? c + 135 : c + 180;
			else if( 1 <= a.x )0 >= a.y ? c += 315 : 1 <= a.y && (c += 45);
			else if( 0 >= a.y )c += 270;
			else if( 1 <= a.y )c += 90;
			else break a;
			0 > c ? c += 360 : 360 <= c && (c -= 360);
			b.cursor = 22.5 > c ? "e-resize" : 67.5 > c ? "se-resize" : 112.5 > c ? "s-resize" : 157.5 > c ? "sw-resize" : 202.5 > c ? "w-resize" : 247.5 > c ? "nw-resize" : 292.5 > c ? "n-resize" : 337.5 > c ? "ne-resize" : "e-resize"
		}
		else if( b instanceof D )for( b = b.elements; b.next(); )Ki( a,
			b.value, c )
	}

	v.defineProperty( Ji, {mt: "handleArchetype"}, function()
	{
		return this.Ak
	}, function( a )
	{
		null !== a && v.A( a, G, Ji, "handleArchetype" );
		this.Ak = a
	} );
	v.u( Ji, {handle: "handle"}, function()
	{
		return this.Sb
	} );
	v.defineProperty( Ji, {Yb: "adornedObject"}, function()
	{
		return this.Db
	}, function( a )
	{
		null !== a && v.A( a, G, Ji, "adornedObject" );
		this.Db = a
	} );
	Ji.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		return null !== a && !a.ab && a.Ts && a.N.left ? null !== this.findToolHandleAt( a.yc.ca, this.name ) ? !0 : !1 : !1
	};
	Ji.prototype.doActivate = function()
	{
		var a = this.g;
		null !== a && (this.Sb = this.findToolHandleAt( a.yc.ca, this.name ), null !== this.Sb && (this.Db = this.Sb.Y.Yb, this.Dy.set( this.Db.Y.location ), this.yv.set( this.Db.ya ), this.ay = this.computeCellSize(), this.ey = this.computeMinSize(), this.by = this.computeMaxSize(), a.Ne = !0, this.fC = a.Na.isEnabled, a.Na.isEnabled = !1, this.Qb( this.name ), this.qa = !0))
	};
	Ji.prototype.doDeactivate = function()
	{
		var a = this.g;
		null !== a && (this.fk(), this.Db = this.Sb = null, this.qa = a.Ne = !1, a.Na.isEnabled = this.fC)
	};
	Ji.prototype.doCancel = function()
	{
		this.Db.ya = this.yv;
		this.Db.Y.location = this.Dy;
		this.stopTool()
	};
	Ji.prototype.doMouseMove = function()
	{
		var a = this.g;
		if( this.qa && null !== a )
		{
			var b = this.ey, c = this.by, d = this.ay, e = this.Db.OD( a.N.ca, v.L() ), f = Ni;
			this.Db instanceof X && (f = Oi( this.Db ));
			b = this.computeResize( e, this.Sb.alignment, b, c, d, !(f === Pi || f === Qi || a.N.shift) );
			this.resize( b );
			a.Vf();
			v.v( e )
		}
	};
	Ji.prototype.doMouseUp = function()
	{
		var a = this.g;
		if( this.qa && null !== a )
		{
			var b = this.ey, c = this.by, d = this.ay, e = this.Db.OD( a.N.ca, v.L() ), f = Ni;
			this.Db instanceof X && (f = Oi( this.Db ));
			b = this.computeResize( e, this.Sb.alignment, b, c, d, !(f === Pi || f === Qi || a.N.shift) );
			this.resize( b );
			v.v( e );
			a.pc();
			this.Cf = this.name;
			a.Ba( "PartResized", this.Db, this.yv )
		}
		this.stopTool()
	};
	Ji.prototype.resize = function( a )
	{
		if( null !== this.g )
		{
			var b = this.Yb, c = b.Y, d = b.nl(), e = b.Ti(), f = Math.PI * d / 180, h = Math.cos( f ), f = Math.sin( f ), k = 0 < d && 180 > d ? 1 : 0, l = 90 < d && 270 > d ? 1 : 0, d = 180 < d && 360 > d ? 1 : 0, m = b.Ha.width, n = b.Ha.height;
			b.ya = a.size;
			var p = c.position.copy();
			c.tf();
			m = b.Ha.width - m;
			n = b.Ha.height - n;
			if( 0 !== m || 0 !== n )0 !== m && (p.x += e * ((a.x + m * l) * h - (a.y + n * k) * f)), 0 !== n && (p.y += e * ((a.x + m * d) * f + (a.y + n * l) * h)), c.move( p ), c instanceof S && c.cf()
		}
	};
	Ji.prototype.computeResize = function( a, b, c, d, e, f )
	{
		b.te() && (b = Ab);
		var h = this.Yb.Ha, k = h.x, l = h.y, m = h.x + h.width, n = h.y + h.height, p = 1;
		if( !f )
		{
			var p = h.width, q = h.height;
			0 >= p && (p = 1);
			0 >= q && (q = 1);
			p = q / p
		}
		q = v.L();
		Pa( a.x, a.y, k, l, e.width, e.height, q );
		a = h.copy();
		0 >= b.x ? 0 >= b.y ? (a.x = Math.max( q.x, m - d.width ), a.x = Math.min( a.x, m - c.width ), a.width = Math.max( m - a.x, c.width ), a.y = Math.max( q.y, n - d.height ), a.y = Math.min( a.y, n - c.height ), a.height = Math.max( n - a.y, c.height ), f || (b = a.height / a.width, p < b ? (a.height = p * a.width, a.y = n - a.height) : (a.width =
			a.height / p, a.x = m - a.width))) : 1 <= b.y ? (a.x = Math.max( q.x, m - d.width ), a.x = Math.min( a.x, m - c.width ), a.width = Math.max( m - a.x, c.width ), a.height = Math.max( Math.min( q.y - l, d.height ), c.height ), f || (b = a.height / a.width, p < b ? a.height = p * a.width : (a.width = a.height / p, a.x = m - a.width))) : (a.x = Math.max( q.x, m - d.width ), a.x = Math.min( a.x, m - c.width ), a.width = m - a.x, f || (a.height = p * a.width, a.y = l + .5 * (n - l - a.height))) : 1 <= b.x ? 0 >= b.y ? (a.width = Math.max( Math.min( q.x - k, d.width ), c.width ), a.y = Math.max( q.y, n - d.height ), a.y = Math.min( a.y, n - c.height ),
			a.height = Math.max( n - a.y, c.height ), f || (b = a.height / a.width, p < b ? (a.height = p * a.width, a.y = n - a.height) : a.width = a.height / p)) : 1 <= b.y ? (a.width = Math.max( Math.min( q.x - k, d.width ), c.width ), a.height = Math.max( Math.min( q.y - l, d.height ), c.height ), f || (b = a.height / a.width, p < b ? a.height = p * a.width : a.width = a.height / p)) : (a.width = Math.max( Math.min( q.x - k, d.width ), c.width ), f || (a.height = p * a.width, a.y = l + .5 * (n - l - a.height))) : 0 >= b.y ? (a.y = Math.max( q.y, n - d.height ), a.y = Math.min( a.y, n - c.height ), a.height = n - a.y, f || (a.width = a.height / p, a.x =
			k + .5 * (m - k - a.width))) : 1 <= b.y && (a.height = Math.max( Math.min( q.y - l, d.height ), c.height ), f || (a.width = a.height / p, a.x = k + .5 * (m - k - a.width)));
		v.v( q );
		return a
	};
	Ji.prototype.computeMinSize = function()
	{
		var a = this.Yb.jh.copy(), b = this.jh;
		!isNaN( b.width ) && b.width > a.width && (a.width = b.width);
		!isNaN( b.height ) && b.height > a.height && (a.height = b.height);
		return a
	};
	Ji.prototype.computeMaxSize = function()
	{
		var a = this.Yb.yf.copy(), b = this.yf;
		!isNaN( b.width ) && b.width < a.width && (a.width = b.width);
		!isNaN( b.height ) && b.height < a.height && (a.height = b.height);
		return a
	};
	Ji.prototype.computeCellSize = function()
	{
		var a = new ia( NaN, NaN ), b = this.Yb.Y;
		if( null !== b )
		{
			var c = b.jI;
			!isNaN( c.width ) && 0 < c.width && (a.width = c.width);
			!isNaN( c.height ) && 0 < c.height && (a.height = c.height)
		}
		c = this.Mo;
		isNaN( a.width ) && !isNaN( c.width ) && 0 < c.width && (a.width = c.width);
		isNaN( a.height ) && !isNaN( c.height ) && 0 < c.height && (a.height = c.height);
		b = this.g;
		(isNaN( a.width ) || isNaN( a.height )) && b && (c = b.Za.be, null !== c && c.Hw && (c = c.SD, isNaN( a.width ) && !isNaN( c.width ) && 0 < c.width && (a.width = c.width), isNaN( a.height ) && !isNaN( c.height ) &&
			0 < c.height && (a.height = c.height)), b = b.lt, null !== b && b.visible && this.Hw && (c = b.Dw, isNaN( a.width ) && !isNaN( c.width ) && 0 < c.width && (a.width = c.width), isNaN( a.height ) && !isNaN( c.height ) && 0 < c.height && (a.height = c.height)));
		if( isNaN( a.width ) || 0 === a.width || Infinity === a.width )a.width = 1;
		if( isNaN( a.height ) || 0 === a.height || Infinity === a.height )a.height = 1;
		return a
	};
	v.defineProperty( Ji, {jh: "minSize"}, function()
	{
		return this.Aj
	}, function( a )
	{
		v.A( a, ia, Ji, "minSize" );
		if( !this.Aj.K( a ) )
		{
			var b = a.width;
			isNaN( b ) && (b = 0);
			a = a.height;
			isNaN( a ) && (a = 0);
			this.Aj.m( b, a )
		}
	} );
	v.defineProperty( Ji, {yf: "maxSize"}, function()
	{
		return this.yj
	}, function( a )
	{
		v.A( a, ia, Ji, "maxSize" );
		if( !this.yj.K( a ) )
		{
			var b = a.width;
			isNaN( b ) && (b = Infinity);
			a = a.height;
			isNaN( a ) && (a = Infinity);
			this.yj.m( b, a )
		}
	} );
	v.defineProperty( Ji, {Mo: "cellSize"}, function()
	{
		return this.gj
	}, function( a )
	{
		v.A( a, ia, Ji, "cellSize" );
		this.gj.K( a ) || this.gj.assign( a )
	} );
	v.defineProperty( Ji, {Hw: "isGridSnapEnabled"}, function()
	{
		return this.Rq
	}, function( a )
	{
		v.j( a, "boolean", Ji, "isGridSnapEnabled" );
		this.Rq = a
	} );
	v.u( Ji, {oK: "originalDesiredSize"}, function()
	{
		return this.yv
	} );
	v.u( Ji, {pK: "originalLocation"}, function()
	{
		return this.Dy
	} );
	function Ri()
	{
		0 < arguments.length && v.dd( Ri );
		Wf.call( this );
		this.name = "Rotating";
		this.zC = 45;
		this.yC = 2;
		this.Db = null;
		var a = new X;
		a.Ab = "Ellipse";
		a.ya = md;
		a.fill = "lightblue";
		a.stroke = "dodgerblue";
		a.lb = 1;
		a.cursor = "pointer";
		this.Ak = a;
		this.Sb = null;
		this.xv = 0;
		this.vC = new y
	}

	v.Ia( Ri, Wf );
	v.ea( "RotatingTool", Ri );
	Ri.prototype.updateAdornments = function( a )
	{
		if( !(null === a || a instanceof W) )
		{
			if( a.hb && !this.g.ab )
			{
				var b = a.KE;
				if( null !== b && a.canRotate() && a.V.G() && a.isVisible() && b.V.G() && b.wl() )
				{
					var c = a.Uo( this.name );
					if( null === c || c.Yb !== b )c = this.makeAdornment( b );
					if( null !== c )
					{
						c.angle = b.nl();
						var d = null, e = null;
						b === a || b === a.bc ? (d = a.bc, e = a.ef) : (d = b, e = Ab);
						for( var f = d.Ha, e = v.Mb( f.width * e.x + e.offsetX, f.height * e.y + e.offsetY ); null !== d && d !== b; )d.transform.ub( e ), d = d.U;
						var d = e.y, f = Math.max( e.x - b.Ha.width, 0 ), h = v.L();
						c.location = b.Xa( new L( 1,
							0, 50 + f, d ), h );
						v.v( h );
						v.v( e );
						a.Wk( this.name, c );
						return
					}
				}
			}
			a.$i( this.name )
		}
	};
	Ri.prototype.makeAdornment = function( a )
	{
		var b = null, b = a.Y.mI;
		if( null === b )
		{
			b = new Tg;
			b.type = Si;
			b.ef = Ab;
			var c = this.mt;
			null !== c && b.add( c.copy() )
		}
		else if( Vg( b ), b = b.copy(), null === b )return null;
		b.gc = this.name;
		b.Yb = a;
		return b
	};
	v.defineProperty( Ri, {mt: "handleArchetype"}, function()
	{
		return this.Ak
	}, function( a )
	{
		null !== a && v.A( a, G, Ri, "handleArchetype" );
		this.Ak = a
	} );
	v.u( Ri, {handle: "handle"}, function()
	{
		return this.Sb
	} );
	v.defineProperty( Ri, {Yb: "adornedObject"}, function()
	{
		return this.Db
	}, function( a )
	{
		null !== a && v.A( a, G, Ri, "adornedObject" );
		this.Db = a
	} );
	Ri.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		return null !== a && !a.ab && a.iw && a.N.left ? null !== this.findToolHandleAt( a.yc.ca, this.name ) ? !0 : !1 : !1
	};
	Ri.prototype.doActivate = function()
	{
		var a = this.g;
		if( null !== a && (this.Sb = this.findToolHandleAt( a.yc.ca, this.name ), null !== this.Sb) )
		{
			this.Db = this.Sb.Y.Yb;
			var b = this.Db.Y, c = b.bc;
			this.vC = this.Db === b || this.Db === c ? c.Xa( b.ef ) : this.Db.Xa( Ab );
			this.xv = this.Db.angle;
			a.Ne = !0;
			a.kz = !0;
			this.Qb( this.name );
			this.qa = !0
		}
	};
	Ri.prototype.doDeactivate = function()
	{
		var a = this.g;
		null !== a && (this.fk(), this.Db = this.Sb = null, this.qa = a.Ne = !1)
	};
	Ri.prototype.doCancel = function()
	{
		var a = this.g;
		null !== a && (a.kz = !1);
		this.rotate( this.xv );
		this.stopTool()
	};
	Ri.prototype.doMouseMove = function()
	{
		var a = this.g;
		this.qa && null !== a && (a = this.computeRotate( a.N.ca ), this.rotate( a ))
	};
	Ri.prototype.doMouseUp = function()
	{
		var a = this.g;
		if( this.qa && null !== a )
		{
			a.kz = !1;
			var b = this.computeRotate( a.N.ca );
			this.rotate( b );
			a.pc();
			this.Cf = this.name;
			a.Ba( "PartRotated", this.Db, this.xv )
		}
		this.stopTool()
	};
	Ri.prototype.rotate = function( a )
	{
		null !== this.Db && (this.Db.angle = a)
	};
	Ri.prototype.computeRotate = function( a )
	{
		a = this.vC.xc( a );
		var b = this.Db.U;
		null !== b && (a -= b.nl(), 360 <= a ? a -= 360 : 0 > a && (a += 360));
		var b = Math.min( Math.abs( this.AI ), 180 ), c = Math.min( Math.abs( this.zI ), b / 2 );
		!this.g.N.shift && 0 < b && 0 < c && (a % b < c ? a = Math.floor( a / b ) * b : a % b > b - c && (a = (Math.floor( a / b ) + 1) * b));
		360 <= a ? a -= 360 : 0 > a && (a += 360);
		return a
	};
	v.defineProperty( Ri, {AI: "snapAngleMultiple"}, function()
	{
		return this.zC
	}, function( a )
	{
		v.j( a, "number", Ri, "snapAngleMultiple" );
		this.zC = a
	} );
	v.defineProperty( Ri, {zI: "snapAngleEpsilon"}, function()
	{
		return this.yC
	}, function( a )
	{
		v.j( a, "number", Ri, "snapAngleEpsilon" );
		this.yC = a
	} );
	v.u( Ri, {nK: "originalAngle"}, function()
	{
		return this.xv
	} );
	function Ti()
	{
		0 < arguments.length && v.dd( Ti );
		Wf.call( this );
		this.name = "ClickSelecting"
	}

	v.Ia( Ti, Wf );
	v.ea( "ClickSelectingTool", Ti );
	Ti.prototype.canStart = function()
	{
		return!this.isEnabled || null === this.g || this.isBeyondDragSize() ? !1 : !0
	};
	Ti.prototype.doMouseUp = function()
	{
		this.qa && (this.standardMouseSelect(), !this.standardMouseClick() && this.g.N.Wi && this.g.Za.doToolTip());
		this.stopTool()
	};
	function Ui()
	{
		0 < arguments.length && v.dd( Ui );
		Wf.call( this );
		this.name = "Action";
		this.ln = null
	}

	v.Ia( Ui, Wf );
	v.ea( "ActionTool", Ui );
	Ui.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a )return!1;
		var b = a.N, c = a.re( b.ca, function( a )
		{
			for( ; null !== a.U && !a.Ew; )a = a.U;
			return a
		} );
		if( null !== c )
		{
			if( !c.Ew )return!1;
			this.ln = c;
			a.yn = a.re( b.ca, null, null );
			return!0
		}
		return!1
	};
	Ui.prototype.doMouseDown = function()
	{
		if( this.qa )
		{
			var a = this.g.N, b = this.ln;
			null !== b && (a.ze = b, null !== b.YC && b.YC( a, b ))
		}
		else this.canStart() && this.doActivate()
	};
	Ui.prototype.doMouseMove = function()
	{
		if( this.qa )
		{
			var a = this.g.N, b = this.ln;
			null !== b && (a.ze = b, null !== b.ZC && b.ZC( a, b ))
		}
	};
	Ui.prototype.doMouseUp = function()
	{
		if( this.qa )
		{
			var a = this.g, b = a.N, c = this.ln;
			if( null === c )return;
			b.ze = c;
			null !== c.$C && c.$C( b, c );
			this.isBeyondDragSize() || ch( c, b, a )
		}
		this.stopTool()
	};
	Ui.prototype.doCancel = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var a = a.N, b = this.ln;
			if( null === b )return;
			a.ze = b;
			null !== b.XC && b.XC( a, b )
		}
		this.stopTool()
	};
	Ui.prototype.doStop = function()
	{
		this.ln = null
	};
	function Vi()
	{
		0 < arguments.length && v.dd( Vi );
		Wf.call( this );
		this.name = "ClickCreating";
		this.Ll = null;
		this.NB = !0;
		this.AB = new y( 0, 0 )
	}

	v.Ia( Vi, Wf );
	v.ea( "ClickCreatingTool", Vi );
	Vi.prototype.canStart = function()
	{
		if( !this.isEnabled || null === this.Yy )return!1;
		var a = this.g;
		if( null === a || a.ab || a.wf || !a.Jo || !a.N.left || this.isBeyondDragSize() )return!1;
		if( this.mH )
		{
			if( 1 === a.N.We && (this.AB = a.N.jf.copy()), 2 !== a.N.We || this.isBeyondDragSize( this.AB ) )return!1
		}
		else if( 1 !== a.N.We )return!1;
		return a.Wa !== this && null !== a.ft( a.N.ca, !0 ) ? !1 : !0
	};
	Vi.prototype.doMouseUp = function()
	{
		var a = this.g;
		this.qa && null !== a && this.insertPart( a.N.ca );
		this.stopTool()
	};
	Vi.prototype.insertPart = function( a )
	{
		var b = this.g;
		if( null === b )return null;
		var c = this.Yy;
		if( null === c )return null;
		this.Qb( this.name );
		var d = null;
		c instanceof R ? c.Rd() && (Vg( c ), d = c.copy(), null !== d && b.add( d )) : null !== c && (c = b.ba.copyNodeData( c ), v.Ta( c ) && (b.ba.Xk( c ), d = b.eh( c )));
		null !== d && (d.location = a, b.of && b.select( d ));
		b.pc();
		this.Cf = this.name;
		b.Ba( "PartCreated", d );
		this.fk();
		return d
	};
	v.defineProperty( Vi, {Yy: "archetypeNodeData"}, function()
	{
		return this.Ll
	}, function( a )
	{
		null !== a && v.A( a, Object, Vi, "archetypeNodeData" );
		this.Ll = a
	} );
	v.defineProperty( Vi, {mH: "isDoubleClick"}, function()
	{
		return this.NB
	}, function( a )
	{
		v.j( a, "boolean", Vi, "isDoubleClick" );
		this.NB = a
	} );
	function Wi( a, b, c )
	{
		this.text = a;
		this.oD = b;
		this.visible = c
	}

	function Xi()
	{
		0 < arguments.length && v.dd( Xi );
		Wf.call( this );
		this.name = "ContextMenu";
		this.fB = this.Ox = this.cB = null;
		this.dC = new y;
		this.Qx = this.Gn = null;
		Yi( this )
	}

	v.Ia( Xi, Wf );
	v.ea( "ContextMenuTool", Xi );
	v.wD = !1;
	v.Vs = null;
	v.Ws = null;
	function Yi( a )
	{
		a.Gn = new Tg;
		a.OC = function()
		{
			a.stopTool()
		};
		if( !1 === v.wD )
		{
			var b = v.createElement( "div" ), c = v.createElement( "div" );
			b.style.cssText = "top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";
			c.style.cssText = "z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
			var d =
				v.createElement( "style" );
			window.document.getElementsByTagName( "head" )[0].appendChild( d );
			d.sheet.insertRule( ".defaultCXul { list-style: none; }", 0 );
			d.sheet.insertRule( ".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }", 0 );
			d.sheet.insertRule( ".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }", 0 );
			b.addEventListener( "contextmenu", function( a )
				{
					a.preventDefault();
					return!1
				},
				!1 );
			b.addEventListener( "selectstart", function( a )
			{
				a.preventDefault();
				return!1
			}, !1 );
			c.addEventListener( "contextmenu", function( a )
			{
				a.preventDefault();
				return!1
			}, !1 );
			window.document.body && (window.document.body.appendChild( b ), window.document.body.appendChild( c ));
			v.Ws = b;
			v.Vs = c;
			v.wD = !0
		}
	}

	Xi.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		return null === a || this.isBeyondDragSize() || !a.N.right ? !1 : null !== this.Gn && a.N.Wi || null !== this.findObjectWithContextMenu() ? !0 : !1
	};
	Xi.prototype.doStart = function()
	{
		var a = this.g;
		null !== a && this.dC.set( a.yc.ca )
	};
	Xi.prototype.doStop = function()
	{
		this.hideDefaultContextMenu();
		this.hideContextMenu();
		this.jz = null
	};
	Xi.prototype.findObjectWithContextMenu = function( a )
	{
		void 0 === a && (a = null);
		var b = this.g;
		if( null === b )return null;
		var c = b.N, d = null;
		a instanceof E || (d = a instanceof G ? a : b.re( c.ca, null, function( a )
		{
			return!a.layer.Gc
		} ));
		if( null !== d )
		{
			for( a = d; null !== a; )
			{
				if( null !== a.contextMenu )return a;
				a = a.U
			}
			if( null !== this.Gn && b.N.Wi )return d.Y
		}
		else if( null !== b.contextMenu )return b;
		return null
	};
	Xi.prototype.doActivate = function()
	{
	};
	Xi.prototype.doMouseDown = function()
	{
		Wf.prototype.doMouseDown.call( this );
		null !== this.g && this.g.Za.Oe.contains( this ) && Zi( this )
	};
	Xi.prototype.doMouseUp = function()
	{
		Zi( this )
	};
	function Zi( a )
	{
		var b = a.g;
		if( null !== b )if( !a.qa )a.canStart() && (ah( a, !0 ), a.qa || a.stopTool());
		else if( null !== a.qf )
		{
			var c = b.re( b.N.ca, null, null );
			null !== c && c.tl( a.qf ) && a.standardMouseClick( null, null );
			a.stopTool();
			a.canStart() && (b.Wa = a, a.doMouseUp())
		}
	}

	function ah( a, b, c )
	{
		void 0 === c && (c = null);
		b && a.standardMouseSelect();
		a.standardMouseClick() || (a.qa = !0, null === c && (c = a.findObjectWithContextMenu()), null !== c ? (b = c.contextMenu, null !== b ? (a.jz = c instanceof G ? c : null, a.showContextMenu( b, a.jz )) : a.showDefaultContextMenu()) : a.showDefaultContextMenu())
	}

	Xi.prototype.doMouseMove = function()
	{
		this.qa && this.g.Za.doMouseMove()
	};
	Xi.prototype.showContextMenu = function( a, b )
	{
		v.A( a, Tg, Xi, "showContextMenu:contextmenu" );
		null !== b && v.A( b, G, Xi, "showContextMenu:obj" );
		var c = this.g;
		if( null !== c )
		{
			a !== this.qf && this.hideContextMenu();
			a.Uf = "Tool";
			a.Al = !1;
			a.scale = 1 / c.scale;
			a.gc = this.name;
			c.add( a );
			if( null !== b )
			{
				var c = null, d = b.Wo();
				null !== d && (c = d.data);
				a.Yb = b;
				a.data = c
			}
			else a.data = c.ba;
			a.tf();
			this.positionContextMenu( a, b );
			this.qf = a
		}
	};
	Xi.prototype.positionContextMenu = function( a )
	{
		if( null === a.placeholder )
		{
			var b = this.g;
			if( null !== b )
			{
				var c = b.N.ca.copy(), d = a.Ca, e = b.rb;
				b.N.Wi && (c.x -= d.width);
				c.x + d.width > e.right && (c.x -= d.width + 5);
				c.x < e.x && (c.x = e.x);
				c.y + d.height > e.bottom && (c.y -= d.height + 5);
				c.y < e.y && (c.y = e.y);
				a.position = c
			}
		}
	};
	Xi.prototype.hideContextMenu = function()
	{
		var a = this.g;
		null !== a && null !== this.qf && (a.remove( this.qf ), null !== this.Ox && this.Ox.$i( this.qf.gc ), this.qf.data = null, this.qf = this.qf.Yb = null, this.standardMouseOver())
	};
	function $i( a )
	{
		if( null === a.g )return null;
		a = new I( Wi );
		a.add( new Wi( "Copy", function( a )
		{
			a.nb.copySelection()
		}, function( a )
		{
			return a.nb.canCopySelection()
		} ) );
		a.add( new Wi( "Cut", function( a )
		{
			a.nb.cutSelection()
		}, function( a )
		{
			return a.nb.canCutSelection()
		} ) );
		a.add( new Wi( "Delete", function( a )
		{
			a.nb.deleteSelection()
		}, function( a )
		{
			return a.nb.canDeleteSelection()
		} ) );
		a.add( new Wi( "Paste", function( a )
		{
			a.nb.pasteSelection( a.N.ca )
		}, function( a )
		{
			return a.nb.canPasteSelection()
		} ) );
		a.add( new Wi( "Select All", function( a )
			{
				a.nb.selectAll()
			},
			function( a )
			{
				return a.nb.canSelectAll()
			} ) );
		a.add( new Wi( "Undo", function( a )
		{
			a.nb.undo()
		}, function( a )
		{
			return a.nb.canUndo()
		} ) );
		a.add( new Wi( "Redo", function( a )
		{
			a.nb.redo()
		}, function( a )
		{
			return a.nb.canRedo()
		} ) );
		a.add( new Wi( "Scroll To Part", function( a )
		{
			a.nb.scrollToPart()
		}, function( a )
		{
			return a.nb.canScrollToPart()
		} ) );
		a.add( new Wi( "Zoom To Fit", function( a )
		{
			a.nb.zoomToFit()
		}, function( a )
		{
			return a.nb.canZoomToFit()
		} ) );
		a.add( new Wi( "Reset Zoom", function( a )
		{
			a.nb.resetZoom()
		}, function( a )
		{
			return a.nb.canResetZoom()
		} ) );
		a.add( new Wi( "Group Selection", function( a )
		{
			a.nb.groupSelection()
		}, function( a )
		{
			return a.nb.canGroupSelection()
		} ) );
		a.add( new Wi( "Ungroup Selection", function( a )
		{
			a.nb.ungroupSelection()
		}, function( a )
		{
			return a.nb.canUngroupSelection()
		} ) );
		a.add( new Wi( "Edit Text", function( a )
		{
			a.nb.editTextBlock()
		}, function( a )
		{
			return a.nb.canEditTextBlock()
		} ) );
		return a
	}

	Xi.prototype.showDefaultContextMenu = function()
	{
		var a = this.g;
		if( null !== a )
		{
			null === this.Qx && (this.Qx = $i( this ));
			this.Gn !== this.qf && this.hideContextMenu();
			v.Ws.innerHTML = "";
			v.Vs.addEventListener( "click", this.OC, !1 );
			var b = this, c = v.createElement( "ul" );
			c.className = "defaultCXul";
			v.Ws.appendChild( c );
			c.innerHTML = "";
			for( var d = this.Qx.i; d.next(); )
			{
				var e = d.value, f = e.text, h = e.visible;
				if( "function" === typeof e.oD && ("function" !== typeof h || h( a )) )
				{
					h = v.createElement( "li" );
					h.className = "defaultCXli";
					var k = v.createElement( "a" );
					k.className = "defaultCXa";
					k.href = "#";
					k.wF = e.oD;
					k.addEventListener( "click", function( c )
					{
						this.wF( a );
						b.stopTool();
						c.preventDefault();
						return!1
					}, !1 );
					k.textContent = f;
					h.appendChild( k );
					c.appendChild( h )
				}
			}
			v.Ws.style.display = "block";
			v.Vs.style.display = "block";
			this.qf = this.Gn
		}
	};
	Xi.prototype.hideDefaultContextMenu = function()
	{
		null !== this.qf && this.qf === this.Gn && (v.Ws.style.display = "none", v.Vs.style.display = "none", v.Vs.removeEventListener( "click", this.OC, !1 ), this.qf = null)
	};
	v.defineProperty( Xi, {qf: "currentContextMenu"}, function()
	{
		return this.cB
	}, function( a )
	{
		null !== a && v.A( a, Tg, Xi, "currentContextMenu" );
		this.cB = a;
		this.Ox = null !== a ? a.Nf : null
	} );
	v.defineProperty( Xi, {jz: "currentObject"}, function()
	{
		return this.fB
	}, function( a )
	{
		null !== a && v.A( a, G, Xi, "currentObject" );
		this.fB = a
	} );
	v.u( Xi, {iK: "mouseDownPoint"}, function()
	{
		return this.dC
	} );
	function aj()
	{
		0 < arguments.length && v.dd( aj );
		Wf.call( this );
		this.name = "DragSelecting";
		this.Hn = 175;
		this.SB = !1;
		var a = new R;
		a.Uf = "Tool";
		a.Al = !1;
		var b = new X;
		b.name = "SHAPE";
		b.Ab = "Rectangle";
		b.fill = null;
		b.stroke = "magenta";
		a.add( b );
		this.Nl = a
	}

	v.Ia( aj, Wf );
	v.ea( "DragSelectingTool", aj );
	aj.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || !a.of )return!1;
		var b = a.N;
		return!b.left || a.Wa !== this && (!this.isBeyondDragSize() || b.timestamp - a.yc.timestamp < this.xD || null !== a.ft( b.ca, !0 )) ? !1 : !0
	};
	aj.prototype.doActivate = function()
	{
		var a = this.g;
		null !== a && (this.qa = !0, a.Ne = !0, a.tb = !0, a.add( this.$g ), this.doMouseMove())
	};
	aj.prototype.doDeactivate = function()
	{
		var a = this.g;
		null !== a && (a.remove( this.$g ), a.tb = !1, this.qa = a.Ne = !1)
	};
	aj.prototype.doMouseMove = function()
	{
		if( null !== this.g && this.qa && null !== this.$g )
		{
			var a = this.computeBoxBounds(), b = this.$g.de( "SHAPE" );
			null === b && (b = this.$g.Ye());
			b.ya = a.size;
			this.$g.position = a.position
		}
	};
	aj.prototype.doMouseUp = function()
	{
		if( this.qa )
		{
			var a = this.g;
			a.remove( this.$g );
			try
			{
				a.Zb = "wait", this.selectInRect( this.computeBoxBounds() )
			} finally
			{
				a.Zb = ""
			}
		}
		this.stopTool()
	};
	aj.prototype.computeBoxBounds = function()
	{
		var a = this.g;
		return null === a ? new B( 0, 0, 0, 0 ) : new B( a.yc.ca, a.N.ca )
	};
	aj.prototype.selectInRect = function( a )
	{
		var b = this.g;
		if( null !== b )
		{
			var c = b.N;
			b.Ba( "ChangingSelection" );
			a = b.Xj( a, null, function( a )
			{
				return a instanceof R ? a.canSelect() : !1
			}, this.tH );
			if( v.ak ? c.Et : c.control )if( c.shift )for( a = a.i; a.next(); )c = a.value, c.hb && (c.hb = !1);
			else for( a = a.i; a.next(); )c = a.value, c.hb = !c.hb;
			else
			{
				if( !c.shift )
				{
					for( var c = new I( R ), d = b.selection.i; d.next(); )
					{
						var e = d.value;
						a.contains( e ) || c.add( e )
					}
					for( c = c.i; c.next(); )c.value.hb = !1
				}
				for( a = a.i; a.next(); )c = a.value, c.hb || (c.hb = !0)
			}
			b.Ba( "ChangedSelection" )
		}
	};
	v.defineProperty( aj, {xD: "delay"}, function()
	{
		return this.Hn
	}, function( a )
	{
		v.j( a, "number", aj, "delay" );
		this.Hn = a
	} );
	v.defineProperty( aj, {tH: "isPartialInclusion"}, function()
	{
		return this.SB
	}, function( a )
	{
		v.j( a, "boolean", aj, "isPartialInclusion" );
		this.SB = a
	} );
	v.defineProperty( aj, {$g: "box"}, function()
	{
		return this.Nl
	}, function( a )
	{
		null !== a && v.A( a, R, aj, "box" );
		this.Nl = a
	} );
	function bj()
	{
		0 < arguments.length && v.dd( bj );
		Wf.call( this );
		this.name = "Panning";
		this.Ey = new y;
		this.fj = !1;
		var a = this;
		this.CC = function()
		{
			window.document.removeEventListener( "scroll", a.CC, !1 );
			a.stopTool()
		}
	}

	v.Ia( bj, Wf );
	v.ea( "PanningTool", bj );
	bj.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		return null === a || !a.oe && !a.pe || !a.N.left || a.Wa !== this && !this.isBeyondDragSize() ? !1 : !0
	};
	bj.prototype.doActivate = function()
	{
		var a = this.g;
		null !== a && (this.fj ? (a.N.bubbles = !0, window.document.addEventListener( "scroll", this.CC, !1 )) : (a.Zb = "move", a.Ne = !0, this.Ey = a.position.copy()), this.qa = !0)
	};
	bj.prototype.doDeactivate = function()
	{
		var a = this.g;
		null !== a && (a.Zb = "", this.qa = a.Ne = !1)
	};
	bj.prototype.doCancel = function()
	{
		var a = this.g;
		null !== a && (a.position = this.Ey, a.Ne = !1);
		this.stopTool()
	};
	bj.prototype.doMouseMove = function()
	{
		this.move()
	};
	bj.prototype.doMouseUp = function()
	{
		this.move();
		this.stopTool()
	};
	bj.prototype.move = function()
	{
		var a = this.g;
		if( this.qa && a )if( this.fj )a.N.bubbles = !0;
		else
		{
			var b = a.position, c = a.yc.ca, d = a.N.ca, e = b.x + c.x - d.x, c = b.y + c.y - d.y;
			a.oe || (e = b.x);
			a.pe || (c = b.y);
			a.position = new y( e, c )
		}
	};
	v.defineProperty( bj, {bubbles: "bubbles"}, function()
	{
		return this.fj
	}, function( a )
	{
		v.j( a, "boolean", bj, "bubbles" );
		this.fj = a
	} );
	v.u( bj, {sK: "originalPosition"}, function()
	{
		return this.Ey
	} );
	function cj()
	{
		0 < arguments.length && v.dd( cj );
		Wf.call( this );
		this.name = "TextEditing";
		this.iB = this.Ny = this.GC = null;
		this.xo = dj;
		this.Tk = null;
		this.eb = ej;
		this.Qk = null;
		this.aC = 1;
		this.wC = !0;
		var a = v.createElement( "textarea" );
		a.MB = !0;
		this.pB = a;
		a.addEventListener( "input", function()
		{
			var a = this.textEditingTool;
			if( null !== a && void 0 !== a && null !== a.Ae )
			{
				var c = a.GC;
				c.text = this.value;
				var d = this.GI;
				fj( c, a.Ae.jv, Infinity );
				this.style.width = 20 + c.Ca.width * d + "px";
				this.style.height = 10 + c.Ca.height * d + "px";
				this.rows = c.BH
			}
		}, !1 );
		a.addEventListener( "keydown",
			function( a )
			{
				var c = a.which, d = this.textEditingTool;
				null !== d && void 0 !== d && null !== d.Ae && (13 === c ? (!1 === d.Ae.Jw && a.preventDefault(), d.acceptText( gj )) : 9 === c ? (d.acceptText( hj ), a.preventDefault()) : 27 === c && (d.doCancel(), null !== d.g && d.g.focus()))
			}, !1 );
		a.addEventListener( "focus", function( a )
		{
			var c = this.textEditingTool;
			null !== c && void 0 !== c && c.doFocus( a )
		}, !1 );
		a.addEventListener( "blur", function( a )
		{
			var c = this.textEditingTool;
			null !== c && void 0 !== c && c.doBlur( a )
		}, !1 )
	}

	v.ea( "TextEditingTool", cj );
	v.Ia( cj, Wf );
	var ij;
	cj.LostFocus = ij = v.p( cj, "LostFocus", 0 );
	var jj;
	cj.MouseDown = jj = v.p( cj, "MouseDown", 1 );
	var hj;
	cj.Tab = hj = v.p( cj, "Tab", 2 );
	var gj;
	cj.Enter = gj = v.p( cj, "Enter", 3 );
	cj.SingleClick = v.p( cj, "SingleClick", 0 );
	var dj;
	cj.SingleClickSelected = dj = v.p( cj, "SingleClickSelected", 1 );
	var ej = v.p( cj, "StateNone", 0 ), kj = v.p( cj, "StateActive", 1 ), lj = v.p( cj, "StateEditing", 2 ), mj = v.p( cj, "StateEditing2", 3 ), nj = v.p( cj, "StateValidating", 4 ), oj = v.p( cj, "StateValidated", 5 );
	v.defineProperty( cj, {Ae: "textBlock"}, function()
	{
		return this.Ny
	}, function( a )
	{
		null !== a && v.A( a, $g, cj, "textBlock" );
		this.Ny = a
	} );
	v.defineProperty( cj, {rf: "currentTextEditor"}, function()
	{
		return this.iB
	}, function( a )
	{
		this.iB = a
	} );
	v.defineProperty( cj, {BG: "defaultTextEditor"}, function()
	{
		return this.pB
	}, function( a )
	{
		v.A( a, Element, cj, "defaultTextEditor" );
		this.pB = a
	} );
	v.defineProperty( cj, {pA: "starting"}, function()
	{
		return this.xo
	}, function( a )
	{
		v.pb( a, cj, cj, "starting" );
		this.xo = a
	} );
	cj.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || a.ab || !a.N.left || this.isBeyondDragSize() )return!1;
		a = a.re( a.N.ca, null, function( a )
		{
			return a instanceof $g
		} );
		if( null === a || !a.lz || !a.Y.canEdit() )return!1;
		a = a.Y;
		return null === a || this.pA === dj && !a.hb ? !1 : !0
	};
	cj.prototype.doStart = function()
	{
		this.qa || null === this.Ae || this.doActivate()
	};
	cj.prototype.doActivate = function()
	{
		if( !this.qa )
		{
			var a = this.g;
			if( null !== a )
			{
				var b = this.Ae;
				null === b && (b = a.re( a.N.ca, function( a )
				{
					return a instanceof $g ? a : null
				} ));
				if( null !== b && (this.Ae = b, null !== b.Y) )
				{
					this.qa = !0;
					this.eb = kj;
					var c = this.BG, d = !1;
					null !== b.aF && (c = b.aF);
					null === c || c.MB || (d = !0);
					this.GC = this.Ae.copy();
					var e = new B( this.Ae.Xa( tb ), this.Ae.Xa( Fb ) );
					a.rI( e );
					if( c.MB )
					{
						var f = b.Xa( Ab ), h = a.position, k = a.scale, l = b.Ti() * k;
						l < this.rE && (l = this.rE);
						var e = b.Ha.width * l, m = b.Ha.height * l, n = (f.x - h.x) * k, f = (f.y - h.y) * k;
						c.value =
							b.text;
						a.hl.style.font = b.font;
						c.style.font = "inherit";
						c.style.fontSize = 100 * l + "%";
						c.style.lineHeight = "normal";
						c.style.width = e + 6 + "px";
						c.style.height = m + 2 + "px";
						c.style.left = (n - e / 2 | 0) - 1 + "px";
						c.style.top = (f - m / 2 | 0) - 1 + "px";
						c.style.textAlign = b.textAlign;
						c.style.margin = "0";
						c.style.padding = "1px";
						c.style.border = "0";
						c.style.outline = "none";
						c.style["white-space"] = "pre-wrap";
						c.style.overflow = "hidden"
					}
					a.hl.appendChild( c );
					c.style.position = "absolute";
					c.style.zIndex = 100;
					c.className = "start";
					c.textEditingTool = this;
					c.GI =
						l;
					if( d && "function" === typeof c.onActivate )c.onActivate();
					this.rf = c;
					"function" === typeof c.focus && c.focus();
					"function" === typeof c.select && this.iA && (c.select(), c.setSelectionRange( 0, 9999 ))
				}
			}
		}
	};
	cj.prototype.doCancel = function()
	{
		null !== this.Qk && (this.rf.style.border = this.Qk, this.Qk = null);
		this.stopTool()
	};
	cj.prototype.doMouseUp = function()
	{
		!this.qa && this.canStart() && this.doActivate()
	};
	cj.prototype.doMouseDown = function()
	{
		this.qa && this.acceptText( jj )
	};
	cj.prototype.acceptText = function( a )
	{
		switch( a )
		{
		case jj:
			if( this.eb === oj || this.eb === mj )"function" === typeof this.rf.focus && this.rf.focus();
			else if( this.eb === kj || this.eb === lj )this.eb = nj, zj( this );
			break;
		case ij:
		case gj:
		case hj:
			if( gj === a && !0 === this.Ny.Jw )break;
			if( this.eb === kj || this.eb === lj )this.eb = nj, zj( this )
		}
	};
	function zj( a )
	{
		if( null !== a.Ae && null !== a.rf )
		{
			var b = a.Ae, c = a.Ae.text, d = a.rf.value, e = "", e = "function" === typeof d ? d() : d;
			if( !a.isValidText( a.Ae, c, e ) )
			{
				a.eb = lj;
				null !== b.mz && b.mz( a, c, e );
				null === a.Qk && (a.Qk = a.rf.style.border, a.rf.style.border = "3px solid red");
				"function" === typeof a.rf.focus && a.rf.focus();
				return
			}
			a.Qb( a.name );
			a.eb = oj;
			c !== e && (a.Ae.text = e);
			a.Cf = a.name;
			b = a.g;
			null !== b && b.Ba( "TextEdited", a.Ae, c );
			a.fk();
			a.stopTool();
			null !== b && b.focus()
		}
		null !== a.Qk && (a.rf.style.border = a.Qk, a.Qk = null)
	}

	cj.prototype.doDeactivate = function()
	{
		var a = this.g;
		if( null !== a )
		{
			this.eb = ej;
			this.Ae = null;
			if( null !== this.rf )
			{
				var b = this.rf;
				if( "function" === typeof b.onDeactivate )b.onDeactivate();
				null !== b && a.hl.removeChild( b )
			}
			this.qa = !1
		}
	};
	cj.prototype.doFocus = function()
	{
		var a = this.rf;
		null !== a && (this.eb === kj ? this.eb = lj : this.eb === oj ? this.eb = mj : this.eb === mj && (this.eb = lj), "function" === typeof a.select && this.iA && (a.select(), a.setSelectionRange( 0, 9999 )))
	};
	cj.prototype.doBlur = function()
	{
		var a = this.rf;
		null !== a && ("function" === typeof a.focus && a.focus(), "function" === typeof a.select && this.iA && (a.select(), a.setSelectionRange( 0, 9999 )))
	};
	cj.prototype.isValidText = function( a, b, c )
	{
		v.A( a, $g, cj, "isValidText:textblock" );
		var d = this.sA;
		if( null !== d && !d( a, b, c ) )return!1;
		d = a.sA;
		return null === d || d( a, b, c ) ? !0 : !1
	};
	v.defineProperty( cj, {sA: "textValidation"}, function()
	{
		return this.Tk
	}, function( a )
	{
		null !== a && v.j( a, "function", cj, "textValidation" );
		this.Tk = a
	} );
	v.defineProperty( cj, {rE: "minimumEditorScale"}, function()
	{
		return this.aC
	}, function( a )
	{
		null !== a && v.j( a, "number", cj, "minimumEditorScale" );
		this.aC = a
	} );
	v.defineProperty( cj, {iA: "selectsTextOnActivate"}, function()
	{
		return this.wC
	}, function( a )
	{
		null !== a && v.j( a, "boolean", cj, "selectsTextOnActivate" );
		this.wC = a
	} );
	function Rg()
	{
		Wf.call( this );
		this.name = "ToolManager";
		this.BF = new I( Wf );
		this.CF = new I( Wf );
		this.DF = new I( Wf );
		this.EB = this.FB = 850;
		this.tB = (new ia( 2, 2 )).Ea();
		this.PC = 5E3;
		this.eC = eh;
		this.CB = Aj;
		this.Iu = this.jB = null;
		this.vm = -1
	}

	v.Ia( Rg, Wf );
	v.ea( "ToolManager", Rg );
	var eh;
	Rg.WheelScroll = eh = v.p( Rg, "WheelScroll", 0 );
	var dh;
	Rg.WheelZoom = dh = v.p( Rg, "WheelZoom", 1 );
	Rg.WheelNone = v.p( Rg, "WheelNone", 2 );
	var Aj;
	Rg.GestureZoom = Aj = v.p( Rg, "GestureZoom", 3 );
	var Bj;
	Rg.GestureCancel = Bj = v.p( Rg, "GestureCancel", 4 );
	var Cj;
	Rg.GestureNone = Cj = v.p( Rg, "GestureNone", 5 );
	v.defineProperty( Rg, {Ht: "mouseWheelBehavior"}, function()
	{
		return this.eC
	}, function( a )
	{
		v.pb( a, Rg, Rg, "mouseWheelBehavior" );
		this.eC = a
	} );
	v.defineProperty( Rg, {Zo: "gestureBehavior"}, function()
	{
		return this.CB
	}, function( a )
	{
		v.pb( a, Rg, Rg, "gestureBehavior" );
		this.CB = a
	} );
	Rg.prototype.initializeStandardTools = function()
	{
		this.UF = new Ui;
		this.yE = new qh;
		this.EH = new Ci;
		this.JE = new Ji;
		this.oI = new Ri;
		this.nE = new ti;
		this.be = new Xg;
		this.GG = new aj;
		this.YH = new bj;
		this.dz = new Xi;
		this.rA = new cj;
		this.jG = new Vi;
		this.kG = new Ti
	};
	Rg.prototype.updateAdornments = function( a )
	{
		var b = this.dh;
		if( null !== b && this.Iu === a )
		{
			var c = b.Yb;
			(null !== a ? c.Y === a : null === c) ? this.showToolTip( b, c ) : this.hideToolTip()
		}
	};
	Rg.prototype.doMouseDown = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N;
			b.Wi && this.Zo === Bj && (b.bubbles = !1);
			if( b.vt )
			{
				if( this.Zo === Cj )
				{
					b.bubbles = !0;
					return
				}
				if( this.Zo === Bj )return;
				if( a.Wa.canStartMultiTouch() )
				{
					a.Wa.standardPinchZoomStart();
					return
				}
			}
			var c = a.la;
			c.az && 0 !== c.sh && v.trace( "WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero" );
			for( var c = this.Oe.length, d = 0; d < c; d++ )
			{
				var e = this.Oe.da( d );
				null === e.g && e.Mc( this.g );
				if( e.canStart() )
				{
					a.Wa = e;
					a.Wa === e && (e.qa || e.doActivate(), e.doMouseDown(),
						a.doFocus());
					return
				}
			}
			1 === a.N.button && (this.Ht === eh ? this.Ht = dh : this.Ht === dh && (this.Ht = eh));
			this.doActivate();
			this.standardWaitAfter( this.VD, b )
		}
	};
	Rg.prototype.doMouseMove = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N;
			if( b.vt )
			{
				if( this.Zo === Cj )
				{
					b.bubbles = !0;
					return
				}
				if( this.Zo === Bj )return;
				if( a.Wa.canStartMultiTouch() )
				{
					a.Wa.standardPinchZoomMove();
					return
				}
			}
			if( this.qa )for( var c = this.Wf.length, d = 0; d < c; d++ )
			{
				var e = this.Wf.da( d );
				null === e.g && e.Mc( this.g );
				if( e.canStart() )
				{
					a.Wa = e;
					a.Wa === e && (e.qa || e.doActivate(), e.doMouseMove(), a.doFocus());
					return
				}
			}
			Dj( this, a );
			null === b.event || b.event.cancelable || (b.bubbles = !0)
		}
	};
	function Dj( a, b )
	{
		a.standardMouseOver();
		a.isBeyondDragSize() && a.standardWaitAfter( a.qa ? a.VD : a.dH, b.N )
	}

	Rg.prototype.doCurrentObjectChanged = function( a, b )
	{
		var c = this.dh;
		null === c || null !== b && (b === c || b.tl( c )) || this.hideToolTip()
	};
	Rg.prototype.doWaitAfter = function( a )
	{
		var b = this.g;
		null !== b && b.zb && (this.doMouseHover(), this.qa || this.doToolTip(), a.Wi && !b.N.zc && (a = a.copy(), a.button = 2, a.buttons = 2, b.N = a, b.xs = !0, b.doMouseUp()))
	};
	Rg.prototype.doMouseHover = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N;
			null === b.ze && (b.ze = a.re( b.ca, null, null ));
			var c = b.ze;
			if( null !== c )for( b.zc = !1; null !== c; )
			{
				a = this.qa ? c.Nz : c.Oz;
				if( null !== a && (a( b, c ), b.zc) )break;
				c = c.U
			}
			else a = this.qa ? a.Nz : a.Oz, null !== a && a( b )
		}
	};
	Rg.prototype.doToolTip = function()
	{
		var a = this.g;
		if( null !== a )
		{
			var b = a.N;
			null === b.ze && (b.ze = a.re( b.ca, null, null ));
			b = b.ze;
			if( null !== b )
			{
				if( b !== this.dh && !b.tl( this.dh ) )
				{
					for( ; null !== b; )
					{
						a = b.uA;
						if( null !== a )
						{
							this.showToolTip( a, b );
							return
						}
						b = b.U
					}
					this.hideToolTip()
				}
			}
			else a = a.uA, null !== a ? this.showToolTip( a, null ) : this.hideToolTip()
		}
	};
	Rg.prototype.showToolTip = function( a, b )
	{
		v.A( a, Tg, Rg, "showToolTip:tooltip" );
		null !== b && v.A( b, G, Rg, "showToolTip:obj" );
		var c = this.g;
		if( null !== c )
		{
			a !== this.dh && this.hideToolTip();
			a.Uf = "Tool";
			a.Al = !1;
			a.scale = 1 / c.scale;
			a.gc = "ToolTip";
			c.add( a );
			if( null !== b )
			{
				var c = null, d = b.Wo();
				null !== d && (c = d.data);
				a.Yb = b;
				a.data = c
			}
			else a.data = c.ba;
			a.tf();
			this.positionToolTip( a, b );
			this.dh = a;
			-1 !== this.vm && (v.clearTimeout( this.vm ), this.vm = -1);
			c = this.LI;
			if( 0 < c && Infinity !== c )
			{
				var e = this;
				this.vm = v.setTimeout( function()
					{
						e.hideToolTip()
					},
					c )
			}
		}
	};
	Rg.prototype.positionToolTip = function( a )
	{
		if( null === a.placeholder )
		{
			var b = this.g;
			if( null !== b )
			{
				var c = b.N.ca.copy(), d = a.Ca, e = b.rb;
				b.N.Wi && (c.x -= d.width);
				c.x + d.width > e.right && (c.x -= d.width + 5);
				c.x < e.x && (c.x = e.x);
				c.y = c.y + 20 + d.height > e.bottom ? c.y - (d.height + 5) : c.y + 20;
				c.y < e.y && (c.y = e.y);
				a.position = c
			}
		}
	};
	Rg.prototype.hideToolTip = function()
	{
		-1 !== this.vm && (v.clearTimeout( this.vm ), this.vm = -1);
		var a = this.g;
		null !== a && null !== this.dh && (a.remove( this.dh ), null !== this.Iu && this.Iu.$i( this.dh.gc ), this.dh.data = null, this.dh = this.dh.Yb = null)
	};
	v.defineProperty( Rg, {dh: "currentToolTip"}, function()
	{
		return this.jB
	}, function( a )
	{
		null !== a && v.A( a, Tg, Rg, "currentToolTip" );
		this.jB = a;
		this.Iu = null !== a ? a.Nf : null
	} );
	Rg.prototype.doMouseUp = function()
	{
		this.cancelWaitAfter();
		var a = this.g;
		if( null !== a )
		{
			if( this.qa )for( var b = this.Xf.length, c = 0; c < b; c++ )
			{
				var d = this.Xf.da( c );
				null === d.g && d.Mc( this.g );
				if( d.canStart() )
				{
					a.Wa = d;
					a.Wa === d && (d.qa || d.doActivate(), d.doMouseUp());
					a.Wa === this && a.doFocus();
					return
				}
			}
			a.doFocus();
			this.doDeactivate()
		}
	};
	Rg.prototype.doMouseWheel = function()
	{
		this.standardMouseWheel()
	};
	Rg.prototype.doKeyDown = function()
	{
		var a = this.g;
		null !== a && a.nb.doKeyDown()
	};
	Rg.prototype.doKeyUp = function()
	{
		var a = this.g;
		null !== a && a.nb.doKeyUp()
	};
	Rg.prototype.doCancel = function()
	{
		null !== hh && hh.doCancel();
		Wf.prototype.doCancel.call( this )
	};
	Rg.prototype.findTool = function( a )
	{
		v.j( a, "string", Rg, "findTool:name" );
		for( var b = this.Oe.length, c = 0; c < b; c++ )
		{
			var d = this.Oe.da( c );
			if( d.name === a )return d
		}
		b = this.Wf.length;
		for( c = 0; c < b; c++ )if( d = this.Wf.da( c ), d.name === a )return d;
		b = this.Xf.length;
		for( c = 0; c < b; c++ )if( d = this.Xf.da( c ), d.name === a )return d;
		return null
	};
	Rg.prototype.replaceTool = function( a, b )
	{
		v.j( a, "string", Rg, "replaceTool:name" );
		null !== b && (v.A( b, Wf, Rg, "replaceTool:newtool" ), b.g && b.g !== this.g && v.k( "Cannot share tools between Diagrams: " + b.toString() ), b.Mc( this.g ));
		for( var c = this.Oe.length, d = 0; d < c; d++ )
		{
			var e = this.Oe.da( d );
			if( e.name === a )return null !== b ? this.Oe.Ig( d, b ) : this.Oe.Vc( d ), e
		}
		c = this.Wf.length;
		for( d = 0; d < c; d++ )if( e = this.Wf.da( d ), e.name === a )return null !== b ? this.Wf.Ig( d, b ) : this.Wf.Vc( d ), e;
		c = this.Xf.length;
		for( d = 0; d < c; d++ )if( e = this.Xf.da( d ), e.name ===
			a )return null !== b ? this.Xf.Ig( d, b ) : this.Xf.Vc( d ), e;
		return null
	};
	function Ej( a, b, c, d )
	{
		v.j( b, "string", Rg, "replaceStandardTool:name" );
		v.A( d, I, Rg, "replaceStandardTool:list" );
		null !== c && (v.A( c, Wf, Rg, "replaceStandardTool:newtool" ), c.g && c.g !== a.g && v.k( "Cannot share tools between Diagrams: " + c.toString() ), c.name = b, c.Mc( a.g ));
		a.findTool( b ) ? a.replaceTool( b, c ) : null !== c && d.add( c )
	}

	v.u( Rg, {Oe: "mouseDownTools"}, function()
	{
		return this.BF
	} );
	v.u( Rg, {Wf: "mouseMoveTools"}, function()
	{
		return this.CF
	} );
	v.u( Rg, {Xf: "mouseUpTools"}, function()
	{
		return this.DF
	} );
	v.defineProperty( Rg, {dH: "hoverDelay"}, function()
	{
		return this.FB
	}, function( a )
	{
		v.j( a, "number", Rg, "hoverDelay" );
		this.FB = a
	} );
	v.defineProperty( Rg, {VD: "holdDelay"}, function()
	{
		return this.EB
	}, function( a )
	{
		v.j( a, "number", Rg, "holdDelay" );
		this.EB = a
	} );
	v.defineProperty( Rg, {HG: "dragSize"}, function()
	{
		return this.tB
	}, function( a )
	{
		v.A( a, ia, Rg, "dragSize" );
		this.tB = a.R()
	} );
	v.defineProperty( Rg, {LI: "toolTipDuration"}, function()
	{
		return this.PC
	}, function( a )
	{
		v.j( a, "number", Rg, "toolTipDuration" );
		this.PC = a
	} );
	v.defineProperty( Rg, {UF: "actionTool"}, function()
	{
		return this.findTool( "Action" )
	}, function( a )
	{
		Ej( this, "Action", a, this.Oe )
	} );
	v.defineProperty( Rg, {yE: "relinkingTool"}, function()
	{
		return this.findTool( "Relinking" )
	}, function( a )
	{
		Ej( this, "Relinking", a, this.Oe )
	} );
	v.defineProperty( Rg, {EH: "linkReshapingTool"}, function()
	{
		return this.findTool( "LinkReshaping" )
	}, function( a )
	{
		Ej( this, "LinkReshaping", a, this.Oe )
	} );
	v.defineProperty( Rg, {JE: "resizingTool"}, function()
	{
		return this.findTool( "Resizing" )
	}, function( a )
	{
		Ej( this, "Resizing", a, this.Oe )
	} );
	v.defineProperty( Rg, {oI: "rotatingTool"}, function()
	{
		return this.findTool( "Rotating" )
	}, function( a )
	{
		Ej( this, "Rotating", a, this.Oe )
	} );
	v.defineProperty( Rg, {nE: "linkingTool"}, function()
	{
		return this.findTool( "Linking" )
	}, function( a )
	{
		Ej( this, "Linking", a, this.Wf )
	} );
	v.defineProperty( Rg, {be: "draggingTool"}, function()
	{
		return this.findTool( "Dragging" )
	}, function( a )
	{
		Ej( this, "Dragging", a, this.Wf )
	} );
	v.defineProperty( Rg, {GG: "dragSelectingTool"}, function()
	{
		return this.findTool( "DragSelecting" )
	}, function( a )
	{
		Ej( this, "DragSelecting", a, this.Wf )
	} );
	v.defineProperty( Rg, {YH: "panningTool"}, function()
	{
		return this.findTool( "Panning" )
	}, function( a )
	{
		Ej( this, "Panning", a, this.Wf )
	} );
	v.defineProperty( Rg, {dz: "contextMenuTool"}, function()
	{
		return this.findTool( "ContextMenu" )
	}, function( a )
	{
		Ej( this, "ContextMenu", a, this.Xf )
	} );
	v.defineProperty( Rg, {rA: "textEditingTool"}, function()
	{
		return this.findTool( "TextEditing" )
	}, function( a )
	{
		Ej( this, "TextEditing", a, this.Xf )
	} );
	v.defineProperty( Rg, {jG: "clickCreatingTool"}, function()
	{
		return this.findTool( "ClickCreating" )
	}, function( a )
	{
		Ej( this, "ClickCreating", a, this.Xf )
	} );
	v.defineProperty( Rg, {kG: "clickSelectingTool"}, function()
	{
		return this.findTool( "ClickSelecting" )
	}, function( a )
	{
		Ej( this, "ClickSelecting", a, this.Xf )
	} );
	function ug()
	{
		this.kB = Fj;
		this.vq = this.wq = this.S = null;
		this.nn = this.xq = this.yq = 0;
		this.Vp = this.uc = this.Wn = this.qj = !1;
		this.rj = this.Re = !0;
		this.Hu = this.Gu = this.eB = null;
		this.dB = 0;
		this.xo = null;
		this.tu = new J( "string" );
		this.Yx = 600;
		this.HF = new y( 0, 0 );
		this.SA = this.RA = this.TC = !1;
		this.gm = new na( G, Gj )
	}

	v.ea( "AnimationManager", ug );
	ug.prototype.Mc = function( a )
	{
		this.S = a
	};
	function Fj( a, b, c, d )
	{
		a /= d / 2;
		return 1 > a ? c / 2 * a * a + b : -c / 2 * (--a * (a - 2) - 1) + b
	}

	v.defineProperty( ug, {pA: "starting"}, function()
	{
		return this.xo
	}, function( a )
	{
		this.xo !== a && (null !== a && v.j( a, "function", ug, "starting" ), this.xo = a)
	} );
	v.u( ug, {qJ: "animationReasons"}, function()
	{
		return this.tu
	} );
	ug.prototype.prepareAutomaticAnimation = ug.prototype.Zm = function( a )
	{
		if( this.Re && (this.rj || this.S.Sm) )
		{
			this.tu.add( a );
			var b = this.pA;
			if( null === b || b( this, a ) )this.qj && this.ai(), this.uc = !0, this.Vp = !1
		}
	};
	function Hj( a )
	{
		if( a.Re && (a.tu.clear(), a.uc && 0 === a.nn) )
		{
			var b = +new Date;
			a.nn = b;
			requestAnimationFrame( function()
			{
				!1 === a.uc || a.qj || a.nn !== b || (a.S.Lj = 1, Ij( a.S ), a.uc = !1, a.S.Ba( "AnimationStarting" ), Jj( a, b ))
			} )
		}
	}

	function Kj( a, b, c, d, e, f )
	{
		if( !(!a.uc || "position" === c && d.K( e ) || b instanceof R && !b.YD) )
		{
			var h = a.gm;
			if( h.contains( b ) )
			{
				a = h.ja( b );
				var k = a.start, l = a.end;
				void 0 === k[c] && (k[c] = Lj( d ));
				a.hz && void 0 !== l[c] ? a.nz[c] = Lj( e ) : (f || (a.nz[c] = Lj( e )), l[c] = Lj( e ))
			}
			else k = new ta, l = new ta, k[c] = Lj( d ), l[c] = Lj( e ), c = l, d = k.position, d instanceof y && !d.G() && a.tu.contains( "Expand SubGraph" ) && d.assign( c.position ), h.add( b, new Gj( k, l, f ) )
		}
	}

	function Lj( a )
	{
		return a instanceof y ? a.copy() : a instanceof ia ? a.copy() : a
	}

	function Jj( a, b )
	{
		var c;

		function d()
		{
			if( !1 !== f.qj && f.nn === b )
			{
				var a = +new Date, c = a > s ? m : a - r;
				Mj( f );
				Nj( f, e, q, h, c, m );
				f.Gu && f.Gu();
				Wh( e );
				Oj( f );
				a > s ? Pj( f ) : requestAnimationFrame( d )
			}
		}

		void 0 === c && (c = new ta);
		var e = a.S;
		if( null !== e )
		{
			a.qj = !0;
			var f = a, h = c.LJ || a.kB, k = c.lK || null, l = c.mK || null, m = c.duration || a.Yx, n = a.HF;
			for( c = a.gm.i; c.next(); )
			{
				var p = c.value.start.position;
				p instanceof y && (p.G() || p.assign( n ))
			}
			a.eB = h;
			a.Gu = k;
			a.Hu = l;
			a.dB = m;
			a.hB = a.gm;
			var q = a.hB;
			for( c = q.i; c.next(); )k = c.value.end, k["position:placeholder"] && (l =
				k["position:placeholder"], n = l.Xa( tb ), n.x += l.padding.left, n.y += l.padding.top, k["position:placeholder"] = n);
			Mj( a );
			Nj( a, e, q, h, 0, m );
			Wh( a.S );
			Oj( a );
			var r = +new Date, s = r + m;
			f.nn === b && requestAnimationFrame( function()
			{
				d()
			} )
		}
	}

	var Qj = {opacity: function( a, b, c, d, e, f )
	{
		a.opacity = d( e, b, c - b, f )
	}, position: function( a, b, c, d, e, f )
	{
		e !== f ? a.mx( d( e, b.x, c.x - b.x, f ), d( e, b.y, c.y - b.y, f ) ) : a.position = new y( d( e, b.x, c.x - b.x, f ), d( e, b.y, c.y - b.y, f ) )
	}, "position:node": function( a, b, c, d, e, f )
	{
		var h = a.V, k = c.V;
		c = k.x + k.width / 2 - h.width / 2;
		h = k.y + k.height / 2 - h.height / 2;
		e !== f ? a.mx( d( e, b.x, c - b.x, f ), d( e, b.y, h - b.y, f ) ) : a.position = new y( d( e, b.x, c - b.x, f ), d( e, b.y, h - b.y, f ) )
	}, "position:placeholder": function( a, b, c, d, e, f )
	{
		e !== f ? a.mx( d( e, b.x, c.x - b.x, f ), d( e, b.y, c.y - b.y, f ) ) :
			a.position = new y( d( e, b.x, c.x - b.x, f ), d( e, b.y, c.y - b.y, f ) )
	}, scale: function( a, b, c, d, e, f )
	{
		a.scale = d( e, b, c - b, f )
	}, visible: function( a, b, c, d, e, f )
	{
		a.visible = e !== f ? b : c
	}};

	function Mj( a )
	{
		if( !a.Wn )
		{
			var b = a.S;
			a.TC = b.tb;
			a.RA = b.xe;
			a.SA = b.au;
			b.tb = !0;
			b.xe = !0;
			b.au = !0;
			a.Wn = !0
		}
	}

	function Oj( a )
	{
		var b = a.S;
		b.tb = a.TC;
		b.xe = a.RA;
		b.au = a.SA;
		a.Wn = !1
	}

	function Nj( a, b, c, d, e, f )
	{
		for( c = c.i; c.next(); )
		{
			var h = c.key, k = c.value, l = k.start, k = k.end, m;
			for( m in k )if( ("position" !== m || !k["position:placeholder"] && !k["position:node"]) && void 0 !== Qj[m] )Qj[m]( h, l[m], k[m], d, e, f )
		}
		d = b.Az;
		b.Az = !0;
		m = a.kB;
		0 !== a.yq && 0 !== a.xq && (c = a.yq, b.Tb = m( e, c, a.xq - c, f ));
		null !== a.wq && null !== a.vq && (c = a.wq, a = a.vq, b.kb = new y( m( e, c.x, a.x - c.x, f ), m( e, c.y, a.y - c.y, f ) ));
		b.Az = d
	}

	ug.prototype.stopAnimation = ug.prototype.ai = function()
	{
		!0 === this.uc && (this.uc = !1, this.Vp && this.S.ve());
		this.qj && this.Re && Pj( this )
	};
	function Pj( a )
	{
		a.qj = !1;
		a.nn = 0;
		a.Vp = !1;
		a.wq = null;
		a.vq = null;
		a.yq = 0;
		a.xq = 0;
		Mj( a );
		for( var b = a.S, c = a.eB, d = a.dB, e = a.hB.i; e.next(); )
		{
			var f = e.key, h = e.value, k = h.start, l = h.end, m = h.nz, n;
			for( n in l )if( void 0 !== Qj[n] )
			{
				var p = n;
				!h.hz || "position:node" !== p && "position:placeholder" !== p || (p = "position");
				Qj[p]( f, k[n], void 0 !== m[n] ? m[n] : h.hz ? k[n] : l[n], c, d, d )
			}
			h.$w && f.od( !1 )
		}
		for( c = a.S.links; c.next(); )d = c.value, null !== d.qo && (d.points = d.qo, d.qo = null);
		b.Pw.clear();
		b.Lj = null;
		b.pc();
		b.Vf();
		Rj( b );
		Oj( a );
		a.gm = new na( G, Gj );
		a.Hu &&
		a.Hu();
		a.Hu = null;
		a.Gu = null;
		b.Ba( "AnimationFinished" );
		b.ve()
	}

	function Sj( a, b, c )
	{
		var d = b.V, e = c.V, f = null;
		c instanceof V && (f = c.placeholder);
		null !== f ? (d = f.Xa( tb ), d.x += f.padding.left, d.y += f.padding.top, Kj( a, b, "position", d, b.position, !1 )) : Kj( a, b, "position", new y( e.x + e.width / 2 - d.width / 2, e.y + e.height / 2 - d.height / 2 ), b.position, !1 );
		Kj( a, b, "scale", .01, b.scale, !1 );
		if( b instanceof V )for( b = b.Ic; b.next(); )f = b.value, f instanceof S && Sj( a, f, c )
	}

	function Tj( a, b, c )
	{
		if( b.isVisible() )
		{
			var d = null;
			c instanceof V && (d = c.placeholder);
			null !== d ? Kj( a, b, "position:placeholder", b.position, d, !0 ) : Kj( a, b, "position:node", b.position, c, !0 );
			Kj( a, b, "scale", b.scale, .01, !0 );
			a.uc && (d = a.gm, d.contains( b ) && (d.ja( b ).$w = !0));
			if( b instanceof V )for( b = b.Ic; b.next(); )d = b.value, d instanceof S && Tj( a, d, c )
		}
	}

	function Uj( a, b, c )
	{
		a.uc && (null === a.wq && b.G() && null === a.vq && (a.wq = b.copy()), a.vq = c.copy(), a.Vp = !0)
	}

	function Vj( a, b, c )
	{
		a.uc && a.S.Sm && (0 === a.yq && 0 === a.xq && (a.yq = b), a.xq = c, a.Vp = !0)
	}

	v.defineProperty( ug, {isEnabled: "isEnabled"}, function()
	{
		return this.Re
	}, function( a )
	{
		v.j( a, "boolean", ug, "isEnabled" );
		this.Re = a
	} );
	v.defineProperty( ug, {duration: "duration"}, function()
	{
		return this.Yx
	}, function( a )
	{
		v.j( a, "number", ug, "duration" );
		1 > a && v.va( a, ">= 1", ug, "duration" );
		this.Yx = a
	} );
	v.u( ug, {df: "isAnimating"}, function()
	{
		return this.qj
	} );
	v.u( ug, {uH: "isTicking"}, function()
	{
		return this.Wn
	} );
	v.defineProperty( ug, {eE: "isInitial"}, function()
	{
		return this.rj
	}, function( a )
	{
		v.j( a, "boolean", ug, "isInitial" );
		this.rj = a
	} );
	function Gj( a, b, c )
	{
		this.start = a;
		this.end = b;
		this.nz = new ta;
		this.hz = c;
		this.$w = !1
	}

	function Vf()
	{
		0 < arguments.length && v.dd( Vf );
		v.ec( this );
		this.S = null;
		this.wb = new I( R );
		this.Ob = "";
		this.Rc = 1;
		this.sy = !1;
		this.Sk = this.Ry = this.qk = this.pk = this.ok = this.nk = this.lk = this.mk = this.kk = this.sk = this.jk = this.rk = this.ik = this.hk = !0;
		this.my = !1;
		this.Av = []
	}

	v.ea( "Layer", Vf );
	Vf.prototype.Mc = function( a )
	{
		this.S = a
	};
	Vf.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		var b = 'Layer "' + this.name + '"';
		if( 0 >= a )return b;
		for( var c = 0, d = 0, e = 0, f = 0, h = 0, k = this.wb.i; k.next(); )
		{
			var l = k.value;
			l instanceof V ? e++ : l instanceof S ? d++ : l instanceof W ? f++ : l instanceof Tg ? h++ : c++
		}
		k = "";
		0 < c && (k += c + " Parts ");
		0 < d && (k += d + " Nodes ");
		0 < e && (k += e + " Groups ");
		0 < f && (k += f + " Links ");
		0 < h && (k += h + " Adornments ");
		if( 1 < a )for( a = this.wb.i; a.next(); )c = a.value, k += "\n    " + c.toString(), d = c.data, null !== d && v.md( d ) && (k += " #" + v.md( d )), c instanceof S ? k += " " +
			Ef( d ) : c instanceof W && (k += " " + Ef( c.T ) + " " + Ef( c.Z ));
		return b + " " + this.wb.count + ": " + k
	};
	Vf.prototype.findObjectAt = Vf.prototype.re = function( a, b, c )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		if( !1 === this.Sk )return null;
		var d = !1;
		this.g.rb.Fa( a ) && (d = !0);
		for( var e = v.L(), f = this.wb.n, h = f.length; h--; )
		{
			var k = f[h];
			if( (!0 !== d || !1 !== Wj( k )) && k.isVisible() && (e.assign( a ), Qa( e, k.Zg ), k = k.re( e, b, c ), null !== k && (null !== b && (k = b( k )), null !== k && (null === c || c( k )))) )return v.v( e ), k
		}
		v.v( e );
		return null
	};
	Vf.prototype.findObjectsAt = Vf.prototype.et = function( a, b, c, d )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		d instanceof I || d instanceof J || (d = new J( G ));
		if( !1 === this.Sk )return d;
		var e = !1;
		this.g.rb.Fa( a ) && (e = !0);
		for( var f = v.L(), h = this.wb.n, k = h.length; k--; )
		{
			var l = h[k];
			!0 === e && !1 === Wj( l ) || !l.isVisible() || (f.assign( a ), Qa( f, l.Zg ), l.et( f, b, c, d ) && (null !== b && (l = b( l )), null === l || null !== c && !c( l ) || d.add( l )))
		}
		v.v( f );
		return d
	};
	Vf.prototype.findObjectsIn = Vf.prototype.Xj = function( a, b, c, d, e )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		void 0 === d && (d = !1);
		e instanceof I || e instanceof J || (e = new J( G ));
		if( !1 === this.Sk )return e;
		var f = !1;
		this.g.rb.Vj( a ) && (f = !0);
		for( var h = this.wb.n, k = h.length; k--; )
		{
			var l = h[k];
			(!0 !== f || !1 !== Wj( l )) && l.isVisible() && l.Xj( a, b, c, d, e ) && (null !== b && (l = b( l )), null === l || null !== c && !c( l ) || e.add( l ))
		}
		return e
	};
	Vf.prototype.oz = function( a, b, c, d, e, f, h )
	{
		if( !1 === this.Sk )return e;
		for( var k = this.wb.n, l = k.length; l--; )
		{
			var m = k[l];
			(!0 !== h || !1 !== Wj( m )) && f( m ) && m.isVisible() && m.Xj( a, b, c, d, e ) && (null !== b && (m = b( m )), null === m || null !== c && !c( m ) || e.add( m ))
		}
		return e
	};
	Vf.prototype.findObjectsNear = Vf.prototype.Lm = function( a, b, c, d, e, f )
	{
		void 0 === c && (c = null);
		void 0 === d && (d = null);
		void 0 === e && (e = !0);
		if( !1 !== e && !0 !== e )
		{
			if( e instanceof I || e instanceof J )f = e;
			e = !0
		}
		f instanceof I || f instanceof J || (f = new J( G ));
		if( !1 === this.Sk )return f;
		var h = !1;
		this.g.rb.Fa( a ) && (h = !0);
		for( var k = v.L(), l = v.L(), m = this.wb.n, n = m.length; n--; )
		{
			var p = m[n];
			!0 === h && !1 === Wj( p ) || !p.isVisible() || (k.assign( a ), Qa( k, p.Zg ), l.m( a.x + b, a.y ), Qa( l, p.Zg ), p.Lm( k, l, c, d, e, f ) && (null !== c && (p = c( p )), null === p || null !== d && !d( p ) || f.add( p )))
		}
		v.v( k );
		v.v( l );
		return f
	};
	g = Vf.prototype;
	g.zf = function( a, b )
	{
		if( this.visible )
		{
			var c;
			c = void 0 === b ? a.rb : b;
			for( var d = this.wb.n, e = d.length, f = 0; f < e; f++ )
			{
				var h = d[f];
				h.YB = f;
				if( !(h instanceof W && !1 === h.Mf) )
				{
					if( h instanceof Tg )
					{
						var k = h;
						if( null !== k.Nf )continue
					}
					if( $a( h.V, c ) )for( h.zf( !0 ), Xj( h ), h = h.fw; h.next(); )k = h.value, fj( k, Infinity, Infinity ), k.Ec(), k.zf( !0 );
					else h.zf( !1 ), null !== h.fw && 0 < h.fw.count && Xj( h )
				}
			}
		}
	};
	g.Xe = function( a, b, c )
	{
		if( this.visible && 0 !== this.Rc && (void 0 === c && (c = !0), c || !this.Gc) )
		{
			c = this.wb.n;
			var d = c.length;
			if( 0 !== d )
			{
				1 !== this.Rc && (a.globalAlpha = this.Rc);
				var e = this.Av;
				e.length = 0;
				for( var f = b.scale, h = 0; h < d; h++ )
				{
					var k = c[h];
					if( Wj( k ) )
					{
						if( k instanceof W )
						{
							var l = k;
							l.jc && e.push( l );
							if( !1 === l.Mf )continue
						}
						l = k.V;
						1 < l.width * f || 1 < l.height * f ? k.Xe( a, b ) : Yj( k, a )
					}
				}
				a.globalAlpha = 1
			}
		}
	};
	function Zj( a, b, c, d )
	{
		if( a.visible && 0 !== a.Rc )
		{
			1 !== a.Rc && (b.globalAlpha = a.Rc);
			var e = a.Av;
			e.length = 0;
			var f = c.scale;
			a = a.wb.n;
			for( var h = a.length, k = d.length, l = 0; l < h; l++ )
			{
				var m = a[l];
				if( Wj( m ) )
				{
					if( m instanceof W )
					{
						var n = m;
						n.jc && e.push( n );
						if( !1 === n.Mf )continue
					}
					var n = ak( m, m.V ), p;
					a:{
						p = n;
						for( var q = d, r = k, s = 2 / f, t = 4 / f, u = 0; u < r; u++ )
						{
							var w = q[u];
							if( 0 !== w.width && 0 !== w.height && p.WD( w.x - s, w.y - s, w.width + t, w.height + t ) )
							{
								p = !0;
								break a
							}
						}
						p = !1
					}
					p && (1 < n.width * f || 1 < n.height * f ? m.Xe( b, c ) : Yj( m, b ))
				}
			}
			b.globalAlpha = 1
		}
	}

	g.h = function( a, b, c, d, e )
	{
		var f = this.g;
		null !== f && f.Lc( Af, a, this, b, c, d, e )
	};
	g.dp = function( a, b, c )
	{
		var d = this.wb;
		b.kv = this;
		if( a >= d.count )a = d.count;
		else if( d.da( a ) === b )return-1;
		d.Cd( a, b );
		b.pt( c );
		d = this.g;
		null !== d && (c ? d.pa() : d.dp( b ));
		bk( this, a, b );
		return a
	};
	g.Me = function( a, b, c )
	{
		if( !c && b.layer !== this && null !== b.layer )return b.layer.Me( a, b, c );
		var d = this.wb;
		if( 0 > a || a >= d.length )
		{
			if( a = d.indexOf( b ), 0 > a )return-1
		}
		else if( d.da( a ) !== b && (a = d.indexOf( b ), 0 > a) )return-1;
		b.qt( c );
		d.Vc( a );
		d = this.g;
		null !== d && (c ? d.pa() : d.Me( b ));
		b.kv = null;
		return a
	};
	function bk( a, b, c )
	{
		b = ck( a, b, c );
		if( c instanceof V && null !== c && isNaN( c.kn ) )
		{
			if( 0 !== c.Ic.count )
			{
				for( var d = -1, e = a.wb.n, f = e.length, h = 0; h < f; h++ )
				{
					var k = e[h];
					if( k === c && (b = h, 0 <= d) )break;
					if( 0 > d && k.Sa === c && (d = h, 0 <= b) )break
				}
				!(0 > d) && d < b && (e = a.wb, e.Vc( b ), e.Cd( d, c ))
			}
			c = c.Sa;
			null !== c && bk( a, -1, c )
		}
	}

	function ck( a, b, c )
	{
		var d = c.kn;
		if( isNaN( d ) )return b;
		a = a.wb;
		var e = a.count;
		if( 1 >= e )return b;
		0 > b && (b = a.indexOf( c ));
		if( 0 > b )return-1;
		for( var f = b - 1, h = NaN; 0 <= f; )
		{
			h = a.da( f ).kn;
			if( !isNaN( h ) )break;
			f--
		}
		for( var k = b + 1, l = NaN; k < e; )
		{
			l = a.da( k ).kn;
			if( !isNaN( l ) )break;
			k++
		}
		if( !isNaN( h ) && h > d )for( ; ; )
		{
			if( -1 === f || h <= d )
			{
				f++;
				if( f === b )break;
				a.Vc( b );
				a.Cd( f, c );
				return f
			}
			for( h = NaN; 0 <= --f && (h = a.da( f ).kn, isNaN( h )); );
		}
		else if( !isNaN( l ) && l < d )for( ; ; )
		{
			if( k === e || l >= d )
			{
				k--;
				if( k === b )break;
				a.Vc( b );
				a.Cd( k, c );
				return k
			}
			for( l = NaN; ++k < e && (l = a.da( k ).kn,
				isNaN( l )); );
		}
		return b
	}

	g.clear = function()
	{
		for( var a = this.wb.dc(), b = a.length, c = 0; c < b; c++ )a[c].zf( !1 ), this.Me( -1, a[c], !1 )
	};
	v.u( Vf, {dk: "parts"}, function()
	{
		return this.wb.i
	} );
	v.u( Vf, {vK: "partsBackwards"}, function()
	{
		return this.wb.Tm
	} );
	v.u( Vf, {g: "diagram"}, function()
	{
		return this.S
	} );
	v.defineProperty( Vf, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		v.j( a, "string", Vf, "name" );
		var b = this.Ob;
		if( b !== a )
		{
			var c = this.g;
			if( null !== c )for( "" === b && v.k( "Cannot rename default Layer to: " + a ), c = c.Nw; c.next(); )c.value.name === a && v.k( "Layer.name is already present in this diagram: " + a );
			this.Ob = a;
			this.h( "name", b, a );
			for( a = this.wb.i; a.next(); )a.value.Uf = this.Ob
		}
	} );
	v.defineProperty( Vf, {opacity: "opacity"}, function()
	{
		return this.Rc
	}, function( a )
	{
		var b = this.Rc;
		b !== a && (v.j( a, "number", Vf, "opacity" ), (0 > a || 1 < a) && v.va( a, "0 <= value <= 1", Vf, "opacity" ), this.Rc = a, this.h( "opacity", b, a ), a = this.g, null !== a && a.pa())
	} );
	v.defineProperty( Vf, {Gc: "isTemporary"}, function()
	{
		return this.sy
	}, function( a )
	{
		var b = this.sy;
		b !== a && (v.j( a, "boolean", Vf, "isTemporary" ), this.sy = a, this.h( "isTemporary", b, a ))
	} );
	v.defineProperty( Vf, {visible: "visible"}, function()
	{
		return this.Ry
	}, function( a )
	{
		var b = this.Ry;
		if( b !== a )
		{
			v.j( a, "boolean", Vf, "visible" );
			this.Ry = a;
			this.h( "visible", b, a );
			for( b = this.wb.i; b.next(); )b.value.od( a );
			a = this.g;
			null !== a && a.pa()
		}
	} );
	v.defineProperty( Vf, {Hg: "pickable"}, function()
	{
		return this.Sk
	}, function( a )
	{
		var b = this.Sk;
		b !== a && (v.j( a, "boolean", Vf, "pickable" ), this.Sk = a, this.h( "pickable", b, a ))
	} );
	v.defineProperty( Vf, {ZD: "isBoundsIncluded"}, function()
	{
		return this.my
	}, function( a )
	{
		this.my !== a && (this.my = a, null !== this.g && this.g.pc())
	} );
	v.defineProperty( Vf, {Tj: "allowCopy"}, function()
	{
		return this.hk
	}, function( a )
	{
		var b = this.hk;
		b !== a && (v.j( a, "boolean", Vf, "allowCopy" ), this.hk = a, this.h( "allowCopy", b, a ))
	} );
	v.defineProperty( Vf, {ym: "allowDelete"}, function()
	{
		return this.ik
	}, function( a )
	{
		var b = this.ik;
		b !== a && (v.j( a, "boolean", Vf, "allowDelete" ), this.ik = a, this.h( "allowDelete", b, a ))
	} );
	v.defineProperty( Vf, {jw: "allowTextEdit"}, function()
	{
		return this.rk
	}, function( a )
	{
		var b = this.rk;
		b !== a && (v.j( a, "boolean", Vf, "allowTextEdit" ), this.rk = a, this.h( "allowTextEdit", b, a ))
	} );
	v.defineProperty( Vf, {gw: "allowGroup"}, function()
	{
		return this.jk
	}, function( a )
	{
		var b = this.jk;
		b !== a && (v.j( a, "boolean", Vf, "allowGroup" ), this.jk = a, this.h( "allowGroup", b, a ))
	} );
	v.defineProperty( Vf, {kw: "allowUngroup"}, function()
	{
		return this.sk
	}, function( a )
	{
		var b = this.sk;
		b !== a && (v.j( a, "boolean", Vf, "allowUngroup" ), this.sk = a, this.h( "allowUngroup", b, a ))
	} );
	v.defineProperty( Vf, {Ss: "allowLink"}, function()
	{
		return this.kk
	}, function( a )
	{
		var b = this.kk;
		b !== a && (v.j( a, "boolean", Vf, "allowLink" ), this.kk = a, this.h( "allowLink", b, a ))
	} );
	v.defineProperty( Vf, {zm: "allowRelink"}, function()
	{
		return this.mk
	}, function( a )
	{
		var b = this.mk;
		b !== a && (v.j( a, "boolean", Vf, "allowRelink" ), this.mk = a, this.h( "allowRelink", b, a ))
	} );
	v.defineProperty( Vf, {$k: "allowMove"}, function()
	{
		return this.lk
	}, function( a )
	{
		var b = this.lk;
		b !== a && (v.j( a, "boolean", Vf, "allowMove" ), this.lk = a, this.h( "allowMove", b, a ))
	} );
	v.defineProperty( Vf, {hw: "allowReshape"}, function()
	{
		return this.nk
	}, function( a )
	{
		var b = this.nk;
		b !== a && (v.j( a, "boolean", Vf, "allowReshape" ), this.nk = a, this.h( "allowReshape", b, a ))
	} );
	v.defineProperty( Vf, {Ts: "allowResize"}, function()
	{
		return this.ok
	}, function( a )
	{
		var b = this.ok;
		b !== a && (v.j( a, "boolean", Vf, "allowResize" ), this.ok = a, this.h( "allowResize", b, a ))
	} );
	v.defineProperty( Vf, {iw: "allowRotate"}, function()
	{
		return this.pk
	}, function( a )
	{
		var b = this.pk;
		b !== a && (v.j( a, "boolean", Vf, "allowRotate" ), this.pk = a, this.h( "allowRotate", b, a ))
	} );
	v.defineProperty( Vf, {of: "allowSelect"}, function()
	{
		return this.qk
	}, function( a )
	{
		var b = this.qk;
		b !== a && (v.j( a, "boolean", Vf, "allowSelect" ), this.qk = a, this.h( "allowSelect", b, a ))
	} );
	function E( a )
	{
		function b()
		{
			window.document.removeEventListener( "DOMContentLoaded", b, !1 );
			dk( c )
		}

		1 < arguments.length && v.k( "Diagram constructor can only take one optional argument, the DIV HTML element or its id." );
		v.ec( this );
		ek = [];
		this.Pc = !0;
		this.MA = new ug;
		this.MA.Mc( this );
		this.wd = 17;
		var c = this;
		null !== window.document.body ? dk( this ) : window.document.addEventListener( "DOMContentLoaded", b, !1 );
		this.TB = !1;
		this.Xb = new I( Vf );
		this.Jb = this.Eb = 0;
		this.Ej = this.Kb = this.lf = this.zb = null;
		this.FE();
		this.Tn = null;
		this.EE();
		this.kb = (new y( NaN, NaN )).freeze();
		this.Tb = 1;
		this.bv = (new y( NaN, NaN )).freeze();
		this.cv = NaN;
		this.rv = 1E-4;
		this.pv = 100;
		this.ne = new ja;
		this.dw = (new y( NaN, NaN )).freeze();
		this.Tu = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.Mv = (new eb( 0, 0, 0, 0 )).freeze();
		this.Nv = fk;
		this.Jv = this.Fv = null;
		this.Ml = Yg;
		this.vn = kc;
		this.Dk = Yg;
		this.Qn = kc;
		this.dv = this.av = tb;
		this.le = !0;
		this.Oq = !1;
		this.gg = new J( G );
		this.xk = new na( W, B );
		this.In = !0;
		this.QA = 250;
		this.on = -1;
		this.wu = (new eb( 16, 16, 16, 16 )).freeze();
		this.Lu = this.Lf = !1;
		this.Mn = !0;
		this.si =
			new xf;
		this.Sc = new xf;
		this.Nb = new xf;
		this.Sg = this.gi = null;
		this.xs = !1;
		this.Tx = this.Ux = null;
		gk( this );
		this.lo = new J( S );
		this.Uk = new J( V );
		this.co = new J( W );
		this.wb = new J( R );
		this.hv = !0;
		this.Zv = hk;
		this.IB = !1;
		this.aw = $h;
		this.Px = this.Rx = this.Oy = null;
		this.Fu = "";
		this.uq = "auto";
		this.li = this.Ji = this.Ai = this.uv = this.Bi = this.Ci = this.Di = this.ki = this.qi = this.hi = null;
		this.Ay = !1;
		this.qC = {};
		this.Ev = 0;
		this.Kf = [null, null];
		this.Lx = null;
		this.Qp = this.Sx = this.Iy = this.xC = this.Ii = !1;
		this.VB = !0;
		this.oy = this.Md = !1;
		this.Xd = null;
		var d = this;
		this.bC = function( a )
		{
			if( a.ba === d.ba && d.Qa )
			{
				d.Qa = !1;
				try
				{
					var b = a.wc;
					"" === a.hf && b === Af && ik( d, a.object, a.propertyName )
				} finally
				{
					d.Qa = !0
				}
			}
		};
		this.cC = function( a )
		{
			jk( d, a )
		};
		this.VC = !0;
		this.Pg = -2;
		this.mi = new na( Object, R );
		this.wk = new na( Object, W );
		this.Wl = new na( Object, Array );
		this.mo = new na( "string", Array );
		this.pC = new I( kk );
		this.ui = !1;
		this.ik = this.hk = this.lu = this.Re = !0;
		this.nu = this.mu = !1;
		this.su = this.qu = this.qk = this.pk = this.ok = this.nk = this.lk = this.mk = this.kk = this.pu = this.sk = this.jk = this.rk = !0;
		this.Tl =
			this.RB = !1;
		this.ru = this.ou = this.Zu = this.Yu = !0;
		this.Pv = this.Lv = 16;
		this.Fy = this.Kv = !1;
		this.bs = this.Ov = null;
		this.Gy = this.Hy = 0;
		this.Te = (new eb( 5 )).freeze();
		this.Rv = (new J( R )).freeze();
		this.qv = 999999999;
		this.$u = (new J( R )).freeze();
		this.Ek = this.Rl = this.pj = !0;
		this.Bk = this.oj = !1;
		this.Wd = null;
		this.uu = !0;
		this.Rg = !1;
		this.AF = new J( W );
		this.GB = new J( lk );
		this.ud = null;
		this.hC = 1;
		this.hy = !1;
		this.AC = 0;
		this.UC = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.Mu = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.Bv = new J( mk );
		nk( this );
		this.mv =
			this.Vu = this.vv = this.mB = this.lB = this.nB = this.vj = this.zk = this.Ei = null;
		ok( this );
		this.jd = null;
		this.Uu = !1;
		this.yn = null;
		this.Za = new Rg;
		this.Za.initializeStandardTools();
		this.Wa = this.Zs = this.Za;
		this.nb = new Xf;
		this.ba = new Q;
		this.Ii = !0;
		this.Pb = new Yf;
		this.Ii = !1;
		this.yB = this.Wx = null;
		this.sd = 1;
		this.Lj = null;
		this.Ck = new pk;
		void 0 !== a && qk( this, a );
		this.Yl = 1;
		this.Zl = 0;
		this.XB = new y;
		this.RC = 500;
		this.vu = new y;
		this.ps = null;
		this.Pc = this.Fk = !1
	}

	v.ea( "Diagram", E );
	function ok( a )
	{
		a.Ei = new na( "string", R );
		var b = new S, c = new $g;
		c.bind( new zg( "text", "", Ef ) );
		b.add( c );
		a.nB = b;
		a.Ei.add( "", b );
		b = new S;
		c = new $g;
		c.stroke = "brown";
		c.bind( new zg( "text", "", Ef ) );
		b.add( c );
		a.Ei.add( "Comment", b );
		b = new S;
		b.Al = !1;
		b.jD = !1;
		c = new X;
		c.Ab = "Ellipse";
		c.fill = "black";
		c.stroke = null;
		c.ya = (new ia( 3, 3 )).Ea();
		b.add( c );
		a.Ei.add( "LinkLabel", b );
		a.zk = new na( "string", V );
		b = new V;
		b.hA = "GROUPPANEL";
		b.type = rk;
		c = new $g;
		c.font = "bold 12pt sans-serif";
		c.bind( new zg( "text", "", Ef ) );
		b.add( c );
		c = new D( sk );
		c.name =
			"GROUPPANEL";
		var d = new X;
		d.Ab = "Rectangle";
		d.fill = "rgba(128,128,128,0.2)";
		d.stroke = "black";
		c.add( d );
		d = new Mi;
		d.padding = (new eb( 5, 5, 5, 5 )).Ea();
		c.add( d );
		b.add( c );
		a.lB = b;
		a.zk.add( "", b );
		a.vj = new na( "string", W );
		b = new W;
		c = new X;
		c.Sf = !0;
		b.add( c );
		c = new X;
		c.Kp = "Standard";
		c.fill = "black";
		c.stroke = null;
		c.lb = 0;
		b.add( c );
		a.mB = b;
		a.vj.add( "", b );
		b = new W;
		c = new X;
		c.Sf = !0;
		c.stroke = "brown";
		b.add( c );
		a.vj.add( "Comment", b );
		b = new Tg;
		b.type = sk;
		c = new X;
		c.fill = null;
		c.stroke = "dodgerblue";
		c.lb = 3;
		b.add( c );
		c = new Mi;
		c.margin = (new eb( 1.5,
			1.5, 1.5, 1.5 )).Ea();
		b.add( c );
		a.vv = b;
		a.Vu = b;
		b = new Tg;
		b.type = xi;
		c = new X;
		c.Sf = !0;
		c.fill = null;
		c.stroke = "dodgerblue";
		c.lb = 3;
		b.add( c );
		a.mv = b
	}

	function dk( a )
	{
		var b = v.createElement( "p" );
		b.style.width = "100%";
		b.style.height = "200px";
		b.style.boxSizing = "content-box";
		var c = v.createElement( "div" );
		c.style.position = "absolute";
		c.style.visibility = "hidden";
		c.style.width = "200px";
		c.style.height = "150px";
		c.style.overflow = "hidden";
		c.style.boxSizing = "content-box";
		c.appendChild( b );
		window.document.body.appendChild( c );
		var d = b.offsetWidth;
		c.style.overflow = "scroll";
		b = b.offsetWidth;
		d === b && (b = c.clientWidth);
		window.document.body.removeChild( c );
		c = d - b;
		0 !== c || v.cE ||
		(c = 11);
		a.wd = c
	}

	E.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		var b = "";
		this.id && (b = this.id);
		this.hl && this.hl.id && (b = this.hl.id);
		b = 'Diagram "' + b + '"';
		if( 0 >= a )return b;
		for( var c = this.Xb.i; c.next(); )b += "\n  " + c.value.toString( a - 1 );
		return b
	};
	E.fromDiv = function( a )
	{
		var b = a;
		"string" === typeof a && (b = window.document.getElementById( a ));
		return b instanceof HTMLDivElement && b.S instanceof E ? b.S : null
	};
	v.defineProperty( E, {hl: "div"}, function()
	{
		return this.Kb
	}, function( a )
	{
		null !== a && v.A( a, HTMLDivElement, E, "div" );
		if( this.Kb !== a )
		{
			ek = [];
			var b = this.Kb;
			null !== b ? (b.S = void 0, b.innerHTML = "", null !== this.zb && (this.zb.removeEventListener( "touchstart", this.gF, !1 ), this.zb.removeEventListener( "touchmove", this.fF, !1 ), this.zb.removeEventListener( "touchend", this.eF, !1 ), this.zb.zd.S = null), b = this.Za, null !== b && (b.Oe.each( function( a )
			{
				a.cancelWaitAfter()
			} ), b.Wf.each( function( a )
			{
				a.cancelWaitAfter()
			} ), b.Xf.each( function( a )
			{
				a.cancelWaitAfter()
			} )),
				b.cancelWaitAfter(), this.Wa.doCancel(), this.lf = this.zb = null, window.removeEventListener( "resize", this.qF, !1 ), window.removeEventListener( "mousemove", this.op, !0 ), window.removeEventListener( "mousedown", this.np, !0 ), window.removeEventListener( "mouseup", this.qp, !0 ), window.removeEventListener( "mousewheel", this.kh, !0 ), window.removeEventListener( "DOMMouseScroll", this.kh, !0 ), window.removeEventListener( "mouseout", this.pp, !0 )) : this.Rg = !1;
			this.Kb = null;
			if( null !== a )
			{
				if( b = a.S )b.hl = null;
				qk( this, a );
				this.Zw()
			}
		}
	} );
	function tk( a )
	{
		var b = a.zb;
		b.addEventListener( "touchstart", a.gF, !1 );
		b.addEventListener( "touchmove", a.fF, !1 );
		b.addEventListener( "touchend", a.eF, !1 );
		b.addEventListener( "mousemove", a.op, !1 );
		b.addEventListener( "mousedown", a.np, !1 );
		b.addEventListener( "mouseup", a.qp, !1 );
		b.addEventListener( "mousewheel", a.kh, !1 );
		b.addEventListener( "DOMMouseScroll", a.kh, !1 );
		b.addEventListener( "mouseout", a.pp, !1 );
		b.addEventListener( "keydown", a.xH, !1 );
		b.addEventListener( "keyup", a.yH, !1 );
		b.addEventListener( "selectstart", function( a )
		{
			a.preventDefault();
			return!1
		}, !1 );
		b.addEventListener( "contextmenu", function( a )
		{
			a.preventDefault();
			return!1
		}, !1 );
		b.addEventListener( "gesturechange", function( b )
		{
			a.Za.Zo === Bj && b.preventDefault()
		}, !1 );
		b.addEventListener( "pointerdown", a.ZH, !1 );
		b.addEventListener( "pointermove", a.aI, !1 );
		b.addEventListener( "pointerleave", a.$H, !1 );
		window.addEventListener( "resize", a.qF, !1 )
	}

	E.prototype.computePixelRatio = function()
	{
		return null !== this.Lj ? this.Lj : this.EF
	};
	E.prototype.doMouseMove = function()
	{
		this.Wa.doMouseMove()
	};
	E.prototype.doMouseDown = function()
	{
		this.Wa.doMouseDown()
	};
	E.prototype.doMouseUp = function()
	{
		this.Wa.doMouseUp()
	};
	E.prototype.doMouseWheel = function()
	{
		this.Wa.doMouseWheel()
	};
	E.prototype.doKeyDown = function()
	{
		this.Wa.doKeyDown()
	};
	E.prototype.doKeyUp = function()
	{
		this.Wa.doKeyUp()
	};
	E.prototype.doFocus = function()
	{
		this.focus()
	};
	E.prototype.focus = E.prototype.focus = function()
	{
		this.zb && this.zb.focus()
	};
	function Ij( a )
	{
		if( null !== a.zb )
		{
			var b = a.Kb;
			if( 0 !== b.clientWidth && 0 !== b.clientHeight )
			{
				var c = a.Bk ? a.wd : 0, d = a.oj ? a.wd : 0, e = a.sd;
				a.sd = a.computePixelRatio();
				a.sd !== e && (a.Oq = !0, a.ve());
				if( b.clientWidth !== a.Eb + c || b.clientHeight !== a.Jb + d )a.Rl = !0, a.le = !0, b = a.Pb, null !== b && b.Kw && a.al === Yg && b.H(), a.Md || a.ve()
			}
		}
	}

	function nk( a )
	{
		var b = new Vf;
		b.name = "Background";
		a.Ms( b );
		b = new Vf;
		b.name = "";
		a.Ms( b );
		b = new Vf;
		b.name = "Foreground";
		a.Ms( b );
		b = new Vf;
		b.name = "Adornment";
		b.Gc = !0;
		a.Ms( b );
		b = new Vf;
		b.name = "Tool";
		b.Gc = !0;
		b.ZD = !0;
		a.Ms( b );
		b = new Vf;
		b.name = "Grid";
		b.of = !1;
		b.Hg = !1;
		b.Gc = !0;
		a.ZF( b, a.ct( "Background" ) )
	}

	function uk( a )
	{
		a.jd = new D( vk );
		a.jd.name = "GRID";
		var b = new X;
		b.Ab = "LineH";
		b.stroke = "lightgray";
		b.lb = .5;
		b.interval = 1;
		a.jd.add( b );
		b = new X;
		b.Ab = "LineH";
		b.stroke = "gray";
		b.lb = .5;
		b.interval = 5;
		a.jd.add( b );
		b = new X;
		b.Ab = "LineH";
		b.stroke = "gray";
		b.lb = 1;
		b.interval = 10;
		a.jd.add( b );
		b = new X;
		b.Ab = "LineV";
		b.stroke = "lightgray";
		b.lb = .5;
		b.interval = 1;
		a.jd.add( b );
		b = new X;
		b.Ab = "LineV";
		b.stroke = "gray";
		b.lb = .5;
		b.interval = 5;
		a.jd.add( b );
		b = new X;
		b.Ab = "LineV";
		b.stroke = "gray";
		b.lb = 1;
		b.interval = 10;
		a.jd.add( b );
		b = new R;
		b.add( a.jd );
		b.Uf = "Grid";
		b.kn = 0;
		b.Cz = !1;
		b.YD = !1;
		b.Hg = !1;
		b.Hz = "GRID";
		a.add( b );
		a.wb.remove( b );
		a.jd.visible = !1
	}

	E.prototype.GF = function()
	{
		this.S.isEnabled ? this.S.FG( this ) : wk( this.S )
	};
	E.prototype.gC = function( a )
	{
		this.S.isEnabled ? (this.S.Fy = !0, this.S.Hy = a.target.scrollTop, this.S.Gy = a.target.scrollLeft) : wk( this.S )
	};
	E.prototype.diagramScroll = E.prototype.FG = function( a )
	{
		if( this.Fy && null !== this.zb )
		{
			this.Kv = !0;
			var b = this.ae, c = this.rb, d = b.width, e = c.width, f = b.height, h = c.height, k = b.right, l = c.right, m = b.bottom, n = c.bottom, p = b.x, q = c.x, b = b.y, c = c.y, r = this.scale, s;
			e < d || h < f ? (s = v.Mb( this.position.x, this.position.y ), this.oe && this.Gy !== a.scrollLeft && (s.x = a.scrollLeft / r + p, this.Gy = a.scrollLeft), this.pe && this.Hy !== a.scrollTop && (s.y = a.scrollTop / r + b, this.Hy = a.scrollTop), this.position = s, v.v( s ), this.Rl = this.Kv = !1) : (s = v.L(), a.KF && this.oe &&
				(p < q && (this.position = s.m( a.scrollLeft + p, this.position.y )), k > l && (this.position = s.m( -(this.Ov.scrollWidth - this.Eb) + a.scrollLeft - this.Eb / r + k, this.position.y ))), a.LF && this.pe && (b < c && (this.position = s.m( this.position.x, a.scrollTop + b )), m > n && (this.position = s.m( this.position.x, -(this.Ov.scrollHeight - this.Jb) + a.scrollTop - this.Jb / r + m ))), v.v( s ), xk( this ), this.Rl = this.Kv = !1, b = this.ae, c = this.rb, k = b.right, l = c.right, m = b.bottom, n = c.bottom, p = b.x, q = c.x, b = b.y, c = c.y, e >= d && p >= q && k <= l && (this.bs.style.width = "1px"), h >= f &&
				b >= c && m <= n && (this.bs.style.height = "1px"))
		}
	};
	E.prototype.computeBounds = E.prototype.ah = function()
	{
		0 < this.gg.count && yk( this );
		return zk( this )
	};
	function zk( a )
	{
		if( a.LD.G() )
		{
			var b = a.LD.copy();
			b.ew( a.padding );
			return b
		}
		for( var c = !0, d = a.Xb.n, e = d.length, f = 0; f < e; f++ )
		{
			var h = d[f];
			if( h.visible && (!h.Gc || h.ZD) )for( var h = h.wb.n, k = h.length, l = 0; l < k; l++ )
			{
				var m = h[l];
				m.Cz && m.isVisible() && (m = m.V, m.G() && (c ? (c = !1, b = m.copy()) : b.ci( m )))
			}
		}
		c && (b = new B( 0, 0, 0, 0 ));
		b.ew( a.padding );
		return b
	}

	E.prototype.computePartsBounds = function( a )
	{
		var b = null;
		for( a = a.i; a.next(); )
		{
			var c = a.value;
			c instanceof W || (c.tf(), null === b ? b = c.V.copy() : b.ci( c.V ))
		}
		return null === b ? new B( NaN, NaN, 0, 0 ) : b
	};
	function Ak( a, b )
	{
		if( (b || a.Rg) && !a.Pc && null !== a.zb && !a.Na.df && a.ae.G() )
		{
			a.Pc = !0;
			var c = a.Ml;
			b && a.Dk !== Yg && (c = a.Dk);
			var d = c !== Yg ? Bk( a, c ) : a.scale, c = a.rb.copy(), e = a.Eb / d, f = a.Jb / d, h = null, k = a.Na;
			k.uc && (h = a.kb.copy());
			a.position.Oa();
			var l = a.vn;
			b && !l.cd() && a.Qn.cd() && (l = a.Qn);
			Ck( a, a.kb, a.ae, e, f, l, b );
			a.position.freeze();
			null !== h && Uj( k, h, a.kb );
			a.scale = d;
			a.Pc = !1;
			d = a.rb;
			d.Fc( c ) || a.Kt( c, d )
		}
	}

	function Bk( a, b )
	{
		var c = a.nb.sw;
		if( null === a.zb )return c;
		a.pj && Dk( a, a.ah() );
		var d = a.ae;
		if( !d.G() )return c;
		var e = d.width, d = d.height, f = a.Eb, h = a.Jb, k = f / e, l = h / d;
		return b === Ek ? (e = Math.min( l, k ), e > c && (e = c), e < a.ih && (e = a.ih), e > a.hh && (e = a.hh), e) : b === Fk ? (e = l > k ? (h - a.wd) / d : (f - a.wd) / e, e > c && (e = c), e < a.ih && (e = a.ih), e > a.hh && (e = a.hh), e) : a.scale
	}

	E.prototype.zoomToFit = E.prototype.zoomToFit = function()
	{
		this.scale = Bk( this, Ek )
	};
	E.prototype.zoomToRect = function( a, b )
	{
		void 0 === b && (b = Ek);
		var c = a.width, d = a.height;
		if( !(0 === c || 0 === d || isNaN( c ) && isNaN( d )) )
		{
			var e = 1;
			if( b === Ek || b === Fk )if( isNaN( c ) )e = this.rb.height * this.scale / d;
			else if( isNaN( d ) )e = this.rb.width * this.scale / c;
			else var e = this.Eb, f = this.Jb, e = b === Fk ? f / d > e / c ? (f - (this.oj ? this.wd : 0)) / d : (e - (this.Bk ? this.wd : 0)) / c : Math.min( f / d, e / c );
			this.scale = e;
			this.position = new y( a.x, a.y )
		}
	};
	v.defineProperty( E, {Az: null}, function()
	{
		return this.Pc
	}, function( a )
	{
		this.Pc = a
	} );
	E.prototype.alignDocument = function( a, b )
	{
		this.pj && Dk( this, this.ah() );
		var c = this.ae, d = this.rb;
		this.position = new y( c.x + (a.x * c.width + a.offsetX) - (b.x * d.width - b.offsetX), c.y + (a.y * c.height + a.offsetY) - (b.y * d.height - b.offsetY) )
	};
	function Ck( a, b, c, d, e, f, h )
	{
		var k = b.x, l = b.y;
		if( h || a.fA === fk )f.cd() && (d > c.width && (k = c.x + (f.x * c.width + f.offsetX) - (f.x * d - f.offsetX)), e > c.height && (l = c.y + (f.y * c.height + f.offsetY) - (f.y * e - f.offsetY))), f = a.ME, h = d - c.width, d < c.width + f.left + f.right ? (k = Math.min( k + d / 2, c.right + Math.max( h, f.right ) - d / 2 ), k = Math.max( k, c.left - Math.max( h, f.left ) + d / 2 ), k -= d / 2) : k > c.left ? k = c.left : k < c.right - d && (k = c.right - d), d = e - c.height, e < c.height + f.top + f.bottom ? (l = Math.min( l + e / 2, c.bottom + Math.max( d, f.bottom ) - e / 2 ), l = Math.max( l, c.top - Math.max( d,
			f.top ) + e / 2 ), l -= e / 2) : l > c.top ? l = c.top : l < c.bottom - e && (l = c.bottom - e);
		b.x = isFinite( k ) ? k : -a.padding.left;
		b.y = isFinite( l ) ? l : -a.padding.top;
		null !== a.xE && (a = a.xE( a, b ), b.x = a.x, b.y = a.y)
	}

	E.prototype.findPartAt = E.prototype.ft = function( a, b )
	{
		var c = b ? Ph( this, a, function( a )
		{
			return a.Y
		}, function( a )
		{
			return a.canSelect()
		} ) : Ph( this, a, function( a )
		{
			return a.Y
		} );
		return c instanceof R ? c : null
	};
	E.prototype.findObjectAt = E.prototype.re = function( a, b, c )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		yk( this );
		for( var d = this.Xb.Tm; d.next(); )
		{
			var e = d.value;
			if( e.visible && (e = e.re( a, b, c ), null !== e) )return e
		}
		return null
	};
	function Ph( a, b, c, d )
	{
		void 0 === c && (c = null);
		void 0 === d && (d = null);
		yk( a );
		for( a = a.Xb.Tm; a.next(); )
		{
			var e = a.value;
			if( e.visible && !e.Gc && (e = e.re( b, c, d ), null !== e) )return e
		}
		return null
	}

	E.prototype.findObjectsAt = E.prototype.et = function( a, b, c, d )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		d instanceof I || d instanceof J || (d = new J( G ));
		yk( this );
		for( var e = this.Xb.Tm; e.next(); )
		{
			var f = e.value;
			f.visible && f.et( a, b, c, d )
		}
		return d
	};
	E.prototype.findObjectsIn = E.prototype.Xj = function( a, b, c, d, e )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		void 0 === d && (d = !1);
		e instanceof I || e instanceof J || (e = new J( G ));
		yk( this );
		for( var f = this.Xb.Tm; f.next(); )
		{
			var h = f.value;
			h.visible && h.Xj( a, b, c, d, e )
		}
		return e
	};
	E.prototype.oz = function( a, b, c, d, e, f )
	{
		var h = new J( G );
		yk( this );
		for( var k = this.Xb.Tm; k.next(); )
		{
			var l = k.value;
			l.visible && l.oz( a, b, c, d, h, e, f )
		}
		return h
	};
	E.prototype.findObjectsNear = E.prototype.Lm = function( a, b, c, d, e, f )
	{
		void 0 === c && (c = null);
		void 0 === d && (d = null);
		void 0 === e && (e = !0);
		if( !1 !== e && !0 !== e )
		{
			if( e instanceof I || e instanceof J )f = e;
			e = !0
		}
		f instanceof I || f instanceof J || (f = new J( G ));
		yk( this );
		for( var h = this.Xb.Tm; h.next(); )
		{
			var k = h.value;
			k.visible && k.Lm( a, b, c, d, e, f )
		}
		return f
	};
	E.prototype.acceptEvent = function( a )
	{
		var b = this.Sc;
		this.Sc = this.Nb;
		this.Nb = b;
		Gk( this, this, a, b, a instanceof MouseEvent );
		return b
	};
	function Gk( a, b, c, d, e )
	{
		d.g = b;
		d.event = c;
		e ? Hk( a, c, d ) : (d.jf = b.Nb.jf, d.ca = b.Nb.ca);
		a = 0;
		c.ctrlKey && (a += 1);
		c.altKey && (a += 2);
		c.shiftKey && (a += 4);
		c.metaKey && (a += 8);
		d.pd = a;
		d.button = c.button;
		c.buttons && (d.buttons = c.buttons);
		v.ak && 0 === c.button && c.ctrlKey && (d.button = 2);
		d.il = !1;
		d.up = !1;
		d.We = 1;
		d.gl = 0;
		d.zc = !1;
		d.bubbles = !1;
		d.timestamp = Date.now();
		d.vt = !1;
		d.Jg = c.target.S ? c.target.S : null;
		d.ze = null
	}

	function Ik( a, b, c, d, e )
	{
		d.g = a;
		Hk( a, c, d );
		d.pd = 0;
		d.button = 0;
		d.buttons = 1;
		d.il = !0;
		d.up = !1;
		d.We = 1;
		d.gl = 0;
		d.zc = !1;
		d.bubbles = !0;
		d.event = b;
		d.timestamp = Date.now();
		d.vt = e;
		d.Jg = b.target.S ? b.target.S : null;
		d.ze = null;
		a.si = d.copy();
		hh = null
	}

	function Jk( a, b, c, d, e )
	{
		var f = null;
		d.g = a;
		null !== c ? ((f = window.document.elementFromPoint( c.clientX, c.clientY )) && f.S ? f = f.S : (c = b.changedTouches[0], f = a), d.Jg = f, Hk( a, c, d )) : null !== a.Sc ? (d.ca = a.Sc.ca, d.jf = a.Sc.jf, d.Jg = a.Sc.Jg) : null !== a.si && (d.ca = a.si.ca, d.jf = a.si.jf, d.Jg = a.si.Jg);
		d.pd = 0;
		d.button = 0;
		d.buttons = 1;
		d.il = !1;
		d.up = !1;
		d.We = 1;
		d.gl = 0;
		d.zc = !1;
		d.bubbles = !1;
		d.event = b;
		d.timestamp = Date.now();
		d.vt = e;
		d.ze = null
	}

	function Kk( a, b )
	{
		if( a.bubbles )return!0;
		void 0 !== b.stopPropagation && b.stopPropagation();
		(void 0 === b.touches || 2 > b.touches.length) && b.preventDefault();
		b.cancelBubble = !0;
		return!1
	}

	E.prototype.xH = function( a )
	{
		if( !this.S.isEnabled )return!1;
		var b = this.S.Nb;
		Gk( this.S, this.S, a, b, !1 );
		b.key = String.fromCharCode( a.which );
		b.il = !0;
		switch( a.which )
		{
		case 8:
			b.key = "Backspace";
			break;
		case 33:
			b.key = "PageUp";
			break;
		case 34:
			b.key = "PageDown";
			break;
		case 35:
			b.key = "End";
			break;
		case 36:
			b.key = "Home";
			break;
		case 37:
			b.key = "Left";
			break;
		case 38:
			b.key = "Up";
			break;
		case 39:
			b.key = "Right";
			break;
		case 40:
			b.key = "Down";
			break;
		case 45:
			b.key = "Insert";
			break;
		case 46:
			b.key = "Del";
			break;
		case 48:
			b.key = "0";
			break;
		case 187:
		case 61:
		case 107:
			b.key =
				"Add";
			break;
		case 189:
		case 173:
		case 109:
			b.key = "Subtract";
			break;
		case 27:
			b.key = "Esc"
		}
		this.S.doKeyDown();
		return 187 !== a.which && 189 !== a.which && 48 !== a.which && 107 !== a.which && 109 !== a.which && 61 !== a.which && 173 !== a.which || !0 !== a.ctrlKey ? Kk( b, a ) : (a.cancelBubble = !0, a.preventDefault(), a.stopPropagation(), !1)
	};
	E.prototype.yH = function( a )
	{
		if( !this.S.isEnabled )return!1;
		var b = this.S.Nb;
		Gk( this.S, this.S, a, b, !1 );
		b.key = String.fromCharCode( a.which );
		b.up = !0;
		switch( a.which )
		{
		case 8:
			b.key = "Backspace";
			break;
		case 33:
			b.key = "PageUp";
			break;
		case 34:
			b.key = "PageDown";
			break;
		case 35:
			b.key = "End";
			break;
		case 36:
			b.key = "Home";
			break;
		case 37:
			b.key = "Left";
			break;
		case 38:
			b.key = "Up";
			break;
		case 39:
			b.key = "Right";
			break;
		case 40:
			b.key = "Down";
			break;
		case 45:
			b.key = "Insert";
			break;
		case 46:
			b.key = "Del";
			break;
		case 93:
			a.preventDefault()
		}
		this.S.doKeyUp();
		return Kk( b, a )
	};
	E.prototype.Jq = function( a )
	{
		var b = this.zb;
		if( null === b )return new y( 0, 0 );
		var c = this.Eb, d = this.Jb, b = b.getBoundingClientRect(), c = a.clientX - c / b.width * b.left;
		a = a.clientY - d / b.height * b.top;
		return null !== this.ne ? (a = new y( c, a ), Qa( a, this.ne ), a) : new y( c, a )
	};
	function Hk( a, b, c )
	{
		var d = a.zb, e = a.Eb, f = a.Jb, h = 0, k = 0;
		null !== d && (d = d.getBoundingClientRect(), h = b.clientX - e / d.width * d.left, k = b.clientY - f / d.height * d.top);
		c.jf.m( h, k );
		null !== a.ne ? (b = v.Mb( h, k ), a.ne.Yh( b ), c.ca.assign( b ), v.v( b )) : c.ca.m( h, k )
	}

	E.prototype.invalidateDocumentBounds = E.prototype.pc = function()
	{
		this.pj || (this.pj = !0, this.ve( !0 ))
	};
	function Rj( a )
	{
		a.Md || yk( a );
		a.pj && Dk( a, a.ah() )
	}

	E.prototype.redraw = E.prototype.Zw = function()
	{
		this.Pc || this.Md || (this.pa(), Lk( this ), xk( this ), this.pc(), this.Vf())
	};
	E.prototype.isUpdateRequested = function()
	{
		return this.Lf
	};
	E.prototype.delayInitialization = function( a )
	{
		void 0 === a && (a = null);
		var b = this.Na, c = b.isEnabled;
		b.ai();
		b.isEnabled = !1;
		Wh( this );
		this.Rg = !1;
		b.isEnabled = c;
		null !== a && v.setTimeout( a, 1 )
	};
	E.prototype.requestUpdate = E.prototype.ve = function( a )
	{
		void 0 === a && (a = !1);
		if( !0 !== this.Lf && !(this.Pc || !1 === a && this.Md) )
		{
			this.Lf = !0;
			var b = this;
			requestAnimationFrame( function()
			{
				b.Lf && b.Vf()
			} )
		}
	};
	E.prototype.maybeUpdate = E.prototype.Vf = function()
	{
		if( !this.Mn || this.Lf )this.Mn && (this.Mn = !1), Wh( this )
	};
	function Mk( a, b )
	{
		a.Na.df || a.Pc || !a.Rl || wk( a ) || (b && yk( a ), Ak( a, !1 ))
	}

	function Wh( a )
	{
		if( !a.Md && (a.Lf = !1, null !== a.Kb) )
		{
			a.Md = !0;
			var b = a.Na, c = a.pC;
			if( !b.Wn && 0 !== c.length )
			{
				for( var d = c.n, e = d.length, f = 0; f < e; f++ )
				{
					var h = d[f];
					Qk( h, !1 );
					h.P()
				}
				c.clear()
			}
			c = a.GB;
			0 < c.count && (c.each( function( a )
			{
				a.xA()
			} ), c.clear());
			d = c = !1;
			b.df && (d = !0, c = a.tb, a.tb = !0);
			b.uc || Ij( a );
			Mk( a, !1 );
			null !== a.jd && (a.jd.visible && !a.Uu && (Zk( a ), a.Uu = !0), !a.jd.visible && a.Uu && (a.Uu = !1));
			yk( a );
			e = !1;
			if( !a.Rg || a.uu )a.Rg ? $k( a, !a.Lu ) : (a.Qb( "Initial Layout" ), !1 === b.isEnabled && b.ai(), $k( a, !1 )), e = !0;
			a.Lu = !1;
			yk( a );
			a.Iy || b.df ||
			Rj( a );
			Mk( a, !0 );
			e && (a.Rg || al( a ), a.Ba( "LayoutCompleted" ));
			yk( a );
			e && !a.Rg && (a.Rg = !0, a.yd( "Initial Layout" ), a.tb || a.la.clear(), v.setTimeout( function()
			{
				a.$h = !1
			}, 1 ));
			bl( a );
			Hj( b );
			a.Xe();
			d && (a.tb = c);
			a.Md = !1
		}
	}

	v.u( E, {Sm: null}, function()
	{
		return this.Rg
	} );
	function al( a )
	{
		var b = a.Xb.n;
		a.zf( b, b.length, a );
		a.Dk !== Yg ? a.scale = Bk( a, a.Dk ) : a.Ml !== Yg ? a.scale = Bk( a, a.Ml ) : (b = a.hH, isFinite( b ) && 0 < b && (a.scale = b));
		b = a.gH;
		if( b.G() )a.position = b;
		else
		{
			b = v.L();
			b.Xt( a.ae, a.fH );
			var c = a.rb, c = v.gk( 0, 0, c.width, c.height ), d = v.L();
			d.Xt( c, a.iH );
			d.m( b.x - d.x, b.y - d.y );
			a.position = d;
			v.Vb( c );
			v.v( d );
			v.v( b );
			Mk( a, !0 );
			Ak( a, !0 )
		}
		a.Ba( "InitialLayoutCompleted" );
		Zk( a )
	}

	function yk( a )
	{
		if( (a.Md || !a.Na.df) && 0 !== a.gg.count )for( var b = 0; 23 > b; b++ )
		{
			var c = a.gg.i;
			if( null === c || 0 === a.gg.count )break;
			a.gg = new J( G );
			a.xA( c, a.gg )
		}
	}

	E.prototype.xA = function( a, b )
	{
		for( a.reset(); a.next(); )
		{
			var c = a.value;
			!c.Rd() || c instanceof V || !c.isVisible() || (c.ul() ? (fj( c, Infinity, Infinity ), c.Ec()) : b.add( c ))
		}
		for( a.reset(); a.next(); )c = a.value, c instanceof V && c.isVisible() && cl( this, c );
		for( a.reset(); a.next(); )c = a.value, c instanceof W && c.isVisible() && (c.ul() ? (fj( c, Infinity, Infinity ), c.Ec()) : b.add( c ));
		for( a.reset(); a.next(); )c = a.value, c instanceof Tg && c.isVisible() && (c.ul() ? (fj( c, Infinity, Infinity ), c.Ec()) : b.add( c ))
	};
	function cl( a, b )
	{
		for( var c = v.jb(), d = v.jb(), e = b.Ic; e.next(); )
		{
			var f = e.value;
			f.isVisible() && (f instanceof V ? (dl( f ) || el( f ) || fl( f )) && cl( a, f ) : f instanceof W ? f.T === b || f.Z === b ? d.push( f ) : c.push( f ) : (fj( f, Infinity, Infinity ), f.Ec()))
		}
		for( var e = c.length, h = 0; h < e; h++ )f = c[h], fj( f, Infinity, Infinity ), f.Ec();
		v.sa( c );
		fj( b, Infinity, Infinity );
		b.Ec();
		e = d.length;
		for( h = 0; h < e; h++ )f = d[h], fj( f, Infinity, Infinity ), f.Ec();
		v.sa( d )
	}

	E.prototype.zf = function( a, b, c, d )
	{
		var e = this.Na;
		if( this.Ek || e.df )for( e = 0; e < b; e++ )a[e].zf( c, d )
	};
	E.prototype.Xe = function( a, b )
	{
		void 0 === a && (a = this.lf);
		void 0 === b && (b = null);
		null === this.Kb && v.k( "No div specified" );
		var c = this.zb;
		null === c && v.k( "No canvas specified" );
		var d = this.Na;
		if( !d.uc && (gl( this ), "0" !== this.Kb.style.opacity) )
		{
			var e = a !== this.lf, f = this.Xb.n, h = f.length, k = this;
			this.zf( f, h, k );
			if( e )Vc( a, !0 ), xk( this );
			else if( !this.le && null === b && !d.qj )return;
			var h = this.kb, l = this.Tb, m = Math.round( h.x * l ) / l, n = Math.round( h.y * l ) / l, d = this.ne;
			d.reset();
			1 !== l && d.scale( l );
			0 === h.x && 0 === h.y || d.translate( -m, -n );
			l =
				this.sd;
			v.Rm ? (c.width = c.width, Vc( a, !0 ), a.scale( l, l )) : (a.setTransform( 1, 0, 0, 1, 0, 0 ), a.scale( l, l ), a.clearRect( 0, 0, this.Eb, this.Jb ));
			a.setTransform( 1, 0, 0, 1, 0, 0 );
			a.scale( l, l );
			a.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy );
			c = null !== b ? function( c )
			{
				var d = a, e = b;
				if( c.visible && 0 !== c.Rc )
				{
					var f = c.wb.n, h = f.length;
					if( 0 !== h )
					{
						1 !== c.Rc && (d.globalAlpha = c.Rc);
						c = c.Av;
						c.length = 0;
						for( var l = k.scale, m = 0; m < h; m++ )
						{
							var n = f[m];
							if( Wj( n ) && !e.contains( n ) )
							{
								if( n instanceof W )
								{
									var z = n;
									z.jc && c.push( z );
									if( !1 === z.Mf )continue
								}
								z = n.V;
								1 < z.width *
									l || 1 < z.height * l ? n.Xe( d, k ) : Yj( n, d )
							}
						}
						d.globalAlpha = 1
					}
				}
			} : function( b )
			{
				b.Xe( a, k )
			};
			hl( this, a );
			h = f.length;
			for( m = 0; m < h; m++ )a.setTransform( 1, 0, 0, 1, 0, 0 ), a.scale( l, l ), a.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy ), c( f[m] );
			this.Ck ? this.Ck.Hl( this ) && this.Xx() : this.Jq = function()
			{
				return new y( 0, 0 )
			};
			e ? (Vc( this.lf, !0 ), xk( this )) : this.le = this.Ek = !1
		}
	};
	function il( a, b, c, d, e )
	{
		null === a.Kb && v.k( "No div specified" );
		var f = a.zb;
		null === f && v.k( "No canvas specified" );
		if( !a.Na.uc )
		{
			var h = a.lf;
			if( a.le )
			{
				gl( a );
				var k = a.sd;
				v.Rm ? (f.width = f.width, Vc( h, !0 )) : (h.setTransform( 1, 0, 0, 1, 0, 0 ), h.clearRect( 0, 0, a.Eb * k, a.Jb * k ));
				h.ot = !1;
				h.drawImage( a.Wx.zd, 0 < d ? 0 : Math.round( -d ), 0 < e ? 0 : Math.round( -e ) );
				e = a.kb;
				var f = a.Tb, l = Math.round( e.x * f ) / f, m = Math.round( e.y * f ) / f;
				d = a.ne;
				d.reset();
				1 !== f && d.scale( f );
				0 === e.x && 0 === e.y || d.translate( -l, -m );
				h.save();
				h.beginPath();
				e = c.length;
				for( f = 0; f < e; f++ )l =
					c[f], 0 !== l.width && 0 !== l.height && h.rect( Math.floor( l.x ), Math.floor( l.y ), Math.ceil( l.width ), Math.ceil( l.height ) );
				h.clip();
				h.setTransform( 1, 0, 0, 1, 0, 0 );
				h.scale( k, k );
				h.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy );
				c = a.Xb.n;
				e = c.length;
				a.zf( c, e, a );
				hl( a, h );
				for( f = 0; f < e; f++ )Zj( c[f], h, a, b );
				h.restore();
				Vc( h, !0 );
				a.Ck ? a.Ck.Hl( a ) && a.Xx() : a.Jq = function()
				{
					return new y( 0, 0 )
				};
				a.Ek = !1;
				a.le = !1;
				a.aA()
			}
		}
	}

	function jl( a, b, c, d, e, f, h, k, l, m )
	{
		null === a.Kb && v.k( "No div specified" );
		null === a.zb && v.k( "No canvas specified" );
		void 0 === h && (h = null);
		void 0 === k && (k = null);
		void 0 === l && (l = !1);
		void 0 === m && (m = !1);
		gl( a );
		Vc( a.lf, !0 );
		xk( a );
		a.oy = !0;
		var n = new B( f.x, f.y, d.width / e, d.height / e ), p = n.copy();
		p.ew( c );
		Zk( a, p );
		yk( a );
		var p = a.Xb.n, q = p.length;
		a.zf( p, q, a, n );
		n = a.sd;
		b.setTransform( 1, 0, 0, 1, 0, 0 );
		b.scale( n, n );
		b.clearRect( 0, 0, d.width, d.height );
		null !== k && "" !== k && (b.fillStyle = k, b.fillRect( 0, 0, d.width, d.height ));
		d = v.qh();
		d.reset();
		d.translate( c.left, c.top );
		d.scale( e );
		0 === f.x && 0 === f.y || d.translate( -f.x, -f.y );
		b.setTransform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy );
		v.$e( d );
		hl( a, b );
		if( null !== h )
		{
			var r = new J( G );
			c = h.i;
			for( c.reset(); c.next(); )e = c.value, !1 === m && "Grid" === e.layer.name || null === e || r.add( e );
			c = function( c )
			{
				var d = l;
				if( c.visible && 0 !== c.Rc && (void 0 === d && (d = !0), d || !c.Gc) )
				{
					var d = c.wb.n, e = d.length;
					if( 0 !== e )
					{
						1 !== c.Rc && (b.globalAlpha = c.Rc);
						c = c.Av;
						c.length = 0;
						for( var f = a.scale, h = 0; h < e; h++ )
						{
							var k = d[h];
							if( Wj( k ) && r.contains( k ) )
							{
								if( k instanceof
									W )
								{
									var m = k;
									m.jc && c.push( m );
									if( !1 === m.Mf )continue
								}
								m = k.V;
								1 < m.width * f || 1 < m.height * f ? k.Xe( b, a ) : Yj( k, b )
							}
						}
						b.globalAlpha = 1
					}
				}
			}
		}
		else if( !l && m )
		{
			var s = a.lt.Y, t = s.layer;
			c = function( c )
			{
				c === t ? s.Xe( b, a ) : c.Xe( b, a, l, m )
			}
		}
		else c = function( c )
			{
				c.Xe( b, a, l, m )
			};
		for( e = 0; e < q; e++ )c( p[e] );
		a.oy = !1;
		a.Ck ? a.Ck.Hl( a ) && a.Xx() : a.Jq = function()
		{
			return new y( 0, 0 )
		};
		Vc( a.lf, !0 );
		xk( a );
		a.zf( p, q, a );
		Zk( a )
	}

	E.prototype.getRenderingHint = E.prototype.$j = function( a )
	{
		return this.Ej[a]
	};
	E.prototype.setRenderingHint = E.prototype.xI = function( a, b )
	{
		this.Ej[a] = b;
		this.Zw()
	};
	E.prototype.resetRenderingHints = E.prototype.FE = function()
	{
		this.Ej = new ta;
		this.Ej.drawShadows = !0;
		this.Ej.textGreeking = !0;
		this.Ej.viewportOptimizations = v.cE ? !1 : !0;
		this.Ej.temporaryPixelRatio = !0;
		this.Ej.pictureRatioOptimization = !0
	};
	function hl( a, b )
	{
		var c = a.Ej;
		if( null !== c )
		{
			if( void 0 !== c.imageSmoothingEnabled )
			{
				var d = !!c.imageSmoothingEnabled;
				b.ot = d;
				b.jK = d
			}
			c = c.defaultFont;
			void 0 !== c && null !== c && (b.font = c)
		}
	}

	E.prototype.getInputOption = E.prototype.$o = function( a )
	{
		return this.Tn[a]
	};
	E.prototype.setInputOption = function( a, b )
	{
		this.Tn[a] = b
	};
	E.prototype.resetInputOptions = E.prototype.EE = function()
	{
		this.Tn = new ta;
		this.Tn.extraTouchArea = 10;
		this.Tn.extraTouchThreshold = 10;
		this.Tn.hasGestureZoom = !0
	};
	E.prototype.setProperties = function( a )
	{
		v.Wt( this, a )
	};
	function bl( a )
	{
		if( 0 === a.la.sh && 0 !== a.xk.count )
		{
			for( ; 0 < a.xk.count; )
			{
				var b = a.xk;
				a.xk = new na( W, B );
				for( b = b.i; b.next(); )
				{
					var c = b.key;
					Bi( c, b.value );
					c.se()
				}
			}
			a.pa()
		}
	}

	E.prototype.pa = function( a )
	{
		void 0 === a && (a = null);
		if( null === a )this.le = !0, this.ve();
		else
		{
			var b = this.rb;
			null !== a && a.G() && b.yg( a ) && (this.le = !0, this.ve())
		}
		for( b = this.Bv.i; b.next(); )b.value.pa( a )
	};
	E.prototype.XD = function( a, b )
	{
		if( !0 !== this.le )
		{
			this.le = !0;
			var c = !0 === this.$j( "temporaryPixelRatio" );
			if( !0 === this.$j( "viewportOptimizations" ) && this.fA !== kl && this.ME.ww( 0, 0, 0, 0 ) && b.width === a.width && b.height === a.height )
			{
				var d = this.scale, e = v.bg(), f = Math.max( a.x, b.x ), h = Math.max( a.y, b.y ), k = Math.min( a.x + a.width, b.x + b.width ), l = Math.min( a.y + a.height, b.y + b.height );
				e.x = f;
				e.y = h;
				e.width = Math.max( 0, k - f ) * d;
				e.height = Math.max( 0, l - h ) * d;
				if( 0 < e.width && 0 < e.height )
				{
					if( !this.Md && (this.Lf = !1, null !== this.Kb) )
					{
						this.Md = !0;
						bl( this );
						this.ae.G() || Dk( this, this.ah() );
						var m = this.zb;
						if( null !== m )
						{
							var n = this.sd, h = this.Eb * n, k = this.Jb * n, f = this.scale * n, d = Math.round( Math.round( b.x * f ) - Math.round( a.x * f ) ), f = Math.round( Math.round( b.y * f ) - Math.round( a.y * f ) ), l = this.Wx, p = this.yB;
							l.width !== h && (l.width = h);
							l.height !== k && (l.height = k);
							p.clearRect( 0, 0, h, k );
							var l = 190 * this.sd, q = 70 * this.sd, r = Math.max( d, 0 ), s = Math.max( f, 0 ), t = Math.floor( h - r ), u = Math.floor( k - s );
							p.ot = !1;
							p.drawImage( m.zd, r, s, t, u, 0, 0, t, u );
							this.Ck.Hl( this ) && p.clearRect( 0, 0, l, q );
							var m = v.jb(), p = v.jb(),
								u = Math.abs( d ), t = Math.abs( f ), w = 0 === r ? 0 : h - u, r = v.Mb( w, 0 ), u = v.Mb( u + w, k );
							p.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x - u.x ), Math.abs( r.y - u.y ) ) );
							var x = this.ne;
							x.reset();
							x.scale( n, n );
							1 !== this.Tb && x.scale( this.Tb );
							n = this.kb;
							(0 !== n.x || 0 !== n.y) && isFinite( n.x ) && isFinite( n.y ) && x.translate( -n.x, -n.y );
							Qa( r, x );
							Qa( u, x );
							m.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x - u.x ), Math.abs( r.y - u.y ) ) );
							w = 0 === s ? 0 : k - t;
							r.m( 0, w );
							u.m( h, t + w );
							p.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x -
								u.x ), Math.abs( r.y - u.y ) ) );
							Qa( r, x );
							Qa( u, x );
							m.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x - u.x ), Math.abs( r.y - u.y ) ) );
							this.Ck.Hl( this ) && (h = 0 < d ? 0 : -d, k = 0 < f ? 0 : -f, r.m( h, k ), u.m( l + h, q + k ), p.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x - u.x ), Math.abs( r.y - u.y ) ) ), Qa( r, x ), Qa( u, x ), m.push( new B( Math.min( r.x, u.x ), Math.min( r.y, u.y ), Math.abs( r.x - u.x ), Math.abs( r.y - u.y ) ) ));
							v.v( r );
							v.v( u );
							Mk( this, !1 );
							il( this, m, p, d, f );
							v.sa( m );
							v.sa( p );
							this.Md = !1
						}
					}
				}
				else this.Vf();
				v.Vb( e );
				c && (this.Lj = 1, this.Vf(),
					this.Lj = null, this.aA())
			}
			else c ? (this.Lj = 1, this.Vf(), this.Lj = null, this.aA()) : this.Vf()
		}
	};
	function Lk( a )
	{
		!1 === a.Rl && (a.Rl = !0)
	}

	function xk( a )
	{
		!1 === a.Ek && (a.Ek = !0)
	}

	function gl( a )
	{
		!1 !== a.Oq && (a.Oq = !1, ll( a, a.Eb, a.Jb ))
	}

	function ll( a, b, c )
	{
		var d = a.zb, e = a.sd, f = b * e, e = c * e;
		if( d.width !== f || d.height !== e )d.width = f, d.height = e, d.style.width = b + "px", d.style.height = c + "px", a.le = !0, Vc( a.lf, !0 )
	}

	function bh( a )
	{
		var b = a.Eb, c = a.Jb;
		a = a.zb.getBoundingClientRect();
		return v.Mb( b / a.width * a.left, c / a.height * a.top )
	}

	function wk( a )
	{
		var b = a.zb;
		if( null === b )return!0;
		var c = a.Kb, d = a.Eb, e = a.Jb, f = a.UC.copy();
		if( !f.G() )return!0;
		var h = !1, k = a.Bk ? a.wd : 0, l = a.oj ? a.wd : 0, m = c.clientWidth || d + k, c = c.clientHeight || e + l;
		if( m !== d + k || c !== e + l )a.Bk = !1, a.oj = !1, l = k = 0, a.Eb = m, a.Jb = c, h = a.Oq = !0;
		a.Rl = !1;
		var n = a.rb, p = a.ae, m = p.width, c = p.height, q = n.width, r = n.height, s = p.x, t = n.x, u = p.right, w = n.right + k, x = p.y, z = n.y, p = p.bottom, n = n.bottom + l, A = "1px", H = "1px", C = a.scale;
		a.fA === fk && m < q + k && c < r + l || (a.wz && a.oe && (A = 1, s + 1 < t && (A = Math.max( (t - s) * C + a.Eb, A )), u > w + 1 &&
			(A = Math.max( (u - w) * C + a.Eb, A )), q + k + 1 < m && (A = Math.max( (m - q + k) * C + a.Eb, A )), A += "px"), a.xz && a.pe && (H = 1, x + 1 < z && (H = Math.max( (z - x) * C + a.Jb, H )), p > n + 1 && (H = Math.max( (p - n) * C + a.Jb, H )), r + l + 1 < c && (H = Math.max( (c - r + l) * C + a.Jb, H )), H += "px"));
		k = "1px" !== A;
		l = "1px" !== H;
		k && l || !k && !l || (l && (w -= a.wd), k && (n -= a.wd), a.wz && a.oe && (A = 1, s + 1 < t && (A = Math.max( (t - s) * C + a.Eb, A )), u > w + 1 && (A = Math.max( (u - w) * C + a.Eb, A )), q + 1 < m && (A = Math.max( (m - q) * C + a.Eb, A )), A += "px"), k = "1px" !== A, l = k !== a.oj ? a.Jb - a.wd : a.Jb, a.xz && a.pe && (H = 1, x + 1 < z && (H = Math.max( (z - x) * C + l, H )),
			p > n + 1 && (H = Math.max( (p - n) * C + l, H )), r + 1 < c && (H = Math.max( (c - r) * C + l, H )), H += "px"), l = "1px" !== H);
		if( a.Kv && k === a.oj && l === a.Bk )return d === a.Eb && e === a.Jb || a.Vf(), !1;
		k !== a.oj && (a.Jb = "1px" === A ? a.Jb + a.wd : Math.max( a.Jb - a.wd, 1 ), h = !0);
		a.oj = k;
		a.bs.style.width = A;
		l !== a.Bk && (a.Eb = "1px" === H ? a.Eb + a.wd : Math.max( a.Eb - a.wd, 1 ), h = !0, a.TB && (k = v.L(), l ? (b.style.left = a.wd + "px", a.position = k.m( a.kb.x + a.wd / a.scale, a.kb.y )) : (b.style.left = "0px", a.position = k.m( a.kb.x - a.wd / a.scale, a.kb.y )), v.v( k )));
		a.Bk = l;
		a.bs.style.height = H;
		b = a.Ov;
		a.wz &&
		a.oe && (q + 1 < m ? b.scrollLeft = (a.position.x - s) * C : s + 1 < t ? b.scrollLeft = b.scrollWidth - b.clientWidth : u > w + 1 && (b.scrollLeft = a.position.x * C));
		a.xz && a.pe && (r + 1 < c ? b.scrollTop = (a.position.y - x) * C : x + 1 < z ? b.scrollTop = b.scrollHeight - b.clientHeight : p > n + 1 && (b.scrollTop = a.position.y * C));
		h && (a.Oq = !0);
		m = a.Eb;
		c = a.Jb;
		b.style.width = m + (a.Bk ? a.wd : 0) + "px";
		b.style.height = c + (a.oj ? a.wd : 0) + "px";
		a.Fy = !1;
		return d !== m || e !== c || a.Na.uc ? (n = a.rb, a.Kt( f, n, h ), !1) : !0
	}

	E.prototype.add = E.prototype.add = function( a )
	{
		v.A( a, R, E, "add:part" );
		var b = a.g;
		if( b !== this )
		{
			null !== b && v.k( "Cannot add part " + a.toString() + " to " + this.toString() + ". It is already a part of " + b.toString() );
			this.Qp && (a.Ik = "Tool");
			var c = a.Uf, b = this.ct( c );
			null === b && (b = this.ct( "" ));
			null === b && v.k( 'Cannot add a Part when unable find a Layer named "' + c + '" and there is no default Layer' );
			a.layer !== b && (c = b.dp( 99999999, a, a.g === this ), 0 <= c && this.Lc( Cf, "parts", b, null, a, null, c ), b.Gc || this.pc(), a.H( ml ), c = a.yt, null !==
				c && c( a, null, b ))
		}
	};
	E.prototype.dp = function( a )
	{
		if( a instanceof S )
		{
			if( this.lo.add( a ), a instanceof V )
			{
				var b = a.Sa;
				null === b ? this.Uk.add( a ) : b.io.add( a );
				b = a.Pb;
				null !== b && (b.g = this)
			}
		}
		else a instanceof W ? this.co.add( a ) : a instanceof Tg || this.wb.add( a );
		var c = this;
		nl( a, function( a )
		{
			ol( c, a )
		} );
		a.Gb && a.P();
		b = a.data;
		null !== b && (a instanceof Tg || (a instanceof W ? this.wk.add( b, a ) : this.mi.add( b, a )), nl( a, function( a )
		{
			pl( c, a )
		} ));
		!0 !== el( a ) && !0 !== fl( a ) || this.gg.add( a );
		ql( a, !0, this );
		rl( a ) ? (a.V.G() && this.pa( ak( a, a.V ) ), this.pc()) : a.isVisible() &&
			a.V.G() && this.pa( ak( a, a.V ) );
		this.ve()
	};
	E.prototype.Me = function( a )
	{
		a.Us();
		if( a instanceof S )
		{
			if( this.lo.remove( a ), a instanceof V )
			{
				var b = a.Sa;
				null === b ? this.Uk.remove( a ) : b.io.remove( a );
				b = a.Pb;
				null !== b && (b.g = null)
			}
		}
		else a instanceof W ? this.co.remove( a ) : a instanceof Tg || this.wb.remove( a );
		var c = this;
		nl( a, function( a )
		{
			sl( c, a )
		} );
		b = a.data;
		null !== b && (a instanceof Tg || (a instanceof W ? this.wk.remove( b ) : this.mi.remove( b )), nl( a, function( a )
		{
			tl( c, a )
		} ));
		this.gg.remove( a );
		rl( a ) ? (a.V.G() && this.pa( ak( a, a.V ) ), this.pc()) : a.isVisible() && a.V.G() && this.pa( ak( a,
			a.V ) );
		this.ve()
	};
	E.prototype.remove = E.prototype.remove = function( a )
	{
		v.A( a, R, E, "remove:part" );
		a.hb = !1;
		a.gh = !1;
		var b = a.layer;
		if( null !== b && b.g === this )
		{
			a.H( ul );
			a.Km();
			var c = b.Me( -1, a, !1 );
			0 <= c && this.Lc( Df, "parts", b, a, null, c, null );
			c = a.yt;
			null !== c && c( a, b, null )
		}
	};
	E.prototype.removeParts = E.prototype.cA = function( a, b )
	{
		if( v.isArray( a ) )for( var c = v.Va( a ), d = 0; d < c; d++ )
		{
			var e = v.Pa( a, d );
			b && !e.canDelete() || this.remove( e )
		}
		else for( e = new J( R ), e.Tc( a ), c = e.i; c.next(); )e = c.value, b && !e.canDelete() || this.remove( e )
	};
	E.prototype.copyParts = E.prototype.Qo = function( a, b, c )
	{
		return this.nb.Qo( a, b, c )
	};
	E.prototype.moveParts = E.prototype.moveParts = function( a, b, c )
	{
		v.A( b, y, E, "moveParts:offset" );
		var d = this.Za;
		if( null !== d )
		{
			d = d.be;
			null === d && (d = new Xg, d.Mc( this ));
			var e = new na( R, Object );
			if( null !== a )a = a.i;
			else
			{
				for( a = this.dk; a.next(); )uh( d, e, a.value, c );
				for( a = this.Bg; a.next(); )uh( d, e, a.value, c );
				a = this.links
			}
			for( ; a.next(); )uh( d, e, a.value, c );
			d.moveParts( e, b, c )
		}
	};
	function vl( a, b, c )
	{
		v.A( b, Vf, E, "addLayer:layer" );
		null !== b.g && b.g !== a && v.k( "Cannot share a Layer with another Diagram: " + b + " of " + b.g );
		null === c ? null !== b.g && v.k( "Cannot add an existing Layer to this Diagram again: " + b ) : (v.A( c, Vf, E, "addLayer:existingLayer" ), c.g !== a && v.k( "Existing Layer must be in this Diagram: " + c + " not in " + c.g ), b === c && v.k( "Cannot move a Layer before or after itself: " + b ));
		if( b.g !== a )
		{
			b = b.name;
			a = a.Xb;
			c = a.count;
			for( var d = 0; d < c; d++ )a.da( d ).name === b && v.k( "Cannot add Layer with the name '" +
				b + "'; a Layer with the same name is already present in this Diagram." )
		}
	}

	E.prototype.addLayer = E.prototype.Ms = function( a )
	{
		vl( this, a, null );
		a.Mc( this );
		var b = this.Xb, c = b.count - 1;
		if( !a.Gc )for( ; 0 <= c && b.da( c ).Gc; )c--;
		b.Cd( c + 1, a );
		null !== this.Xd && this.Lc( Cf, "layers", this, null, a, null, c + 1 );
		this.pa();
		this.pc()
	};
	E.prototype.addLayerBefore = E.prototype.ZF = function( a, b )
	{
		vl( this, a, b );
		a.Mc( this );
		var c = this.Xb, d = c.indexOf( a );
		0 <= d && (c.remove( a ), null !== this.Xd && this.Lc( Df, "layers", this, a, null, d, null ));
		for( var e = c.count, f = 0; f < e; f++ )if( c.da( f ) === b )
		{
			c.Cd( f, a );
			break
		}
		null !== this.Xd && this.Lc( Cf, "layers", this, null, a, null, f );
		this.pa();
		0 > d && this.pc()
	};
	E.prototype.addLayerAfter = function( a, b )
	{
		vl( this, a, b );
		a.Mc( this );
		var c = this.Xb, d = c.indexOf( a );
		0 <= d && (c.remove( a ), null !== this.Xd && this.Lc( Df, "layers", this, a, null, d, null ));
		for( var e = c.count, f = 0; f < e; f++ )if( c.da( f ) === b )
		{
			c.Cd( f + 1, a );
			break
		}
		null !== this.Xd && this.Lc( Cf, "layers", this, null, a, null, f + 1 );
		this.pa();
		0 > d && this.pc()
	};
	E.prototype.removeLayer = function( a )
	{
		v.A( a, Vf, E, "removeLayer:layer" );
		a.g !== this && v.k( "Cannot remove a Layer from another Diagram: " + a + " of " + a.g );
		if( "" !== a.name )
		{
			var b = this.Xb, c = b.indexOf( a );
			if( b.remove( a ) )
			{
				for( b = a.wb.copy().i; b.next(); )
				{
					var d = b.value, e = d.Uf;
					d.Uf = e !== a.name ? e : ""
				}
				null !== this.Xd && this.Lc( Df, "layers", this, a, null, c, null );
				this.pa();
				this.pc()
			}
		}
	};
	E.prototype.findLayer = E.prototype.ct = function( a )
	{
		for( var b = this.Nw; b.next(); )
		{
			var c = b.value;
			if( c.name === a )return c
		}
		return null
	};
	E.prototype.addModelChangedListener = E.prototype.aG = function( a )
	{
		v.j( a, "function", E, "addModelChangedListener:listener" );
		null === this.Sg && (this.Sg = new I( "function" ));
		this.Sg.add( a );
		this.ba.xm( a )
	};
	E.prototype.removeModelChangedListener = function( a )
	{
		v.j( a, "function", E, "removeModelChangedListener:listener" );
		null !== this.Sg && (this.Sg.remove( a ), 0 === this.Sg.count && (this.Sg = null));
		this.ba.Nt( a )
	};
	E.prototype.addChangedListener = E.prototype.xm = function( a )
	{
		v.j( a, "function", E, "addChangedListener:listener" );
		null === this.gi && (this.gi = new I( "function" ));
		this.gi.add( a )
	};
	E.prototype.removeChangedListener = E.prototype.Nt = function( a )
	{
		v.j( a, "function", E, "removeChangedListener:listener" );
		null !== this.gi && (this.gi.remove( a ), 0 === this.gi.count && (this.gi = null))
	};
	E.prototype.mw = function( a )
	{
		this.tb || this.la.TD( a );
		a.wc !== Bf && (this.$h = !0);
		if( null !== this.gi )
		{
			var b = this.gi, c = b.length;
			if( 1 === c )b = b.da( 0 ), b( a );
			else if( 0 !== c )for( var d = b.dc(), e = 0; e < c; e++ )b = d[e], b( a )
		}
	};
	E.prototype.raiseChangedEvent = E.prototype.Lc = function( a, b, c, d, e, f, h )
	{
		void 0 === f && (f = null);
		void 0 === h && (h = null);
		var k = new zf;
		k.g = this;
		k.wc = a;
		k.propertyName = b;
		k.object = c;
		k.oldValue = d;
		k.Cg = f;
		k.newValue = e;
		k.Ag = h;
		this.mw( k )
	};
	E.prototype.raiseChanged = E.prototype.h = function( a, b, c, d, e )
	{
		this.Lc( Af, a, this, b, c, d, e )
	};
	v.u( E, {Na: "animationManager"}, function()
	{
		return this.MA
	} );
	v.u( E, {la: "undoManager"}, function()
	{
		return this.Xd.la
	} );
	v.defineProperty( E, {tb: "skipsUndoManager"}, function()
	{
		return this.Ii
	}, function( a )
	{
		v.j( a, "boolean", E, "skipsUndoManager" );
		this.Ii = a;
		this.Xd.Ii = a
	} );
	v.defineProperty( E, {kz: "delaysLayout"}, function()
	{
		return this.Sx
	}, function( a )
	{
		this.Sx = a
	} );
	E.prototype.Cm = function( a, b )
	{
		if( null !== a && a.g === this )
		{
			var c = this.xe;
			try
			{
				this.xe = !0;
				var d = a.wc, e;
				if( d === Af )
				{
					var f = a.object, h = a.propertyName, k = a.ja( b );
					v.Ja( f, h, k );
					if( f instanceof G )
					{
						var l, m = f.Y;
						null !== m && m.Qd()
					}
					this.$h = !0
				}
				else if( d === Cf )
				{
					var n = a.object, p = a.Ag, f = a.newValue;
					if( n instanceof D )if( "number" === typeof p && f instanceof G )
					{
						l = f;
						var q = n;
						b ? q.Me( p ) : q.Cd( p, l );
						m = n.Y;
						null !== m && m.Qd()
					}
					else
					{
						if( "number" === typeof p && f instanceof tg )
						{
							var r = f, q = n;
							b ? r.ee ? q.DE( p ) : q.zE( p ) : (e = r.ee ? q.Bd( r.index ) : q.Ad( r.index ),
								e.Ys( r ))
						}
					}
					else if( n instanceof Vf )
					{
						var s = !0 === a.Cg;
						if( "number" === typeof p && f instanceof R )
						{
							var m = f, t = n;
							b ? (m.Qd(), t.Me( s ? p : -1, m, s )) : t.dp( p, m, s )
						}
					}
					else if( n instanceof E )
					{
						if( "number" === typeof p && f instanceof Vf )
						{
							var u = f;
							b ? this.Xb.Vc( p ) : (d = u, d.Mc( this ), this.Xb.Cd( p, d ))
						}
					}
					else v.k( "unknown ChangedEvent.Insert object: " + a.toString() );
					this.$h = !0
				}
				else d === Df ? (n = a.object, p = a.Cg, f = a.oldValue, n instanceof D ? "number" === typeof p && f instanceof G ? (q = n, b ? q.Cd( p, f ) : q.Me( p )) : "number" === typeof p && f instanceof tg && (r =
						f, q = n, b ? (e = r.ee ? q.Bd( r.index ) : q.Ad( r.index ), e.Ys( r )) : r.ee ? q.DE( p ) : q.zE( p )) : n instanceof Vf ? (s = !0 === a.Ag, "number" === typeof p && f instanceof R && (m = f, t = n, b ? t.dp( p, m, s ) : (m.Qd(), t.Me( s ? p : -1, m, s )))) : n instanceof E ? "number" === typeof p && f instanceof Vf && (u = f, b ? (d = u, d.Mc( this ), this.Xb.Cd( p, d )) : this.Xb.Vc( p )) : v.k( "unknown ChangedEvent.Remove object: " + a.toString() ), this.$h = !0) : d !== Bf && v.k( "unknown ChangedEvent: " + a.toString() )
			} finally
			{
				this.xe = c
			}
		}
	};
	E.prototype.startTransaction = E.prototype.Qb = function( a )
	{
		return this.la.Qb( a )
	};
	E.prototype.commitTransaction = E.prototype.yd = function( a )
	{
		return this.la.yd( a )
	};
	E.prototype.rollbackTransaction = E.prototype.zp = function()
	{
		return this.la.zp()
	};
	E.prototype.updateAllTargetBindings = E.prototype.nF = function( a )
	{
		void 0 === a && (a = "");
		for( var b = this.dk; b.next(); )b.value.Hb( a );
		for( b = this.Bg; b.next(); )b.value.Hb( a );
		for( b = this.links; b.next(); )b.value.Hb( a )
	};
	E.prototype.updateAllRelationshipsFromData = E.prototype.QI = function()
	{
		if( 0 < arguments.length )
		{
			for( var a = this.ba, b = new J, c = a.Zf, d = 0; d < c.length; d++ )
			{
				var e = c[d];
				b.add( e )
			}
			var f = [];
			this.Bg.each( function( a )
			{
				null === a.data || b.contains( a.data ) || f.push( a.data )
			} );
			this.dk.each( function( a )
			{
				null === a.data || b.contains( a.data ) || f.push( a.data )
			} );
			f.forEach( function( b )
			{
				og( a, b, !1 )
			} );
			for( d = 0; d < c.length; d++ )
			{
				var e = c[d], h = this.eh( e );
				null === h && ng( a, e, !1 )
			}
			if( a instanceof Q )
			{
				for( var k = new J, c = a.zg, d = 0; d < c.length; d++ )e = c[d], k.add( e );
				var l = [];
				this.links.each( function( a )
				{
					null === a.data || k.contains( a.data ) || l.push( a.data )
				} );
				l.forEach( function( b )
				{
					yg( a, b, !1 )
				} );
				for( d = 0; d < c.length; d++ )e = c[d], h = this.Qf( e ), null === h && xg( a, e, !1 )
			}
		}
		for( d = this.dk; d.next(); )h = d.value, h.updateRelationshipsFromData();
		for( d = this.Bg; d.next(); )d.value.updateRelationshipsFromData();
		for( d = this.links; d.next(); )h = d.value, h.updateRelationshipsFromData()
	};
	function wl( a, b, c )
	{
		if( a.Pc || a.Md )a.Tb = c, c = a.Na, c.uc && Vj( c, b, a.Tb );
		else if( a.Pc = !0, null === a.zb )a.Tb = c;
		else
		{
			var d = a.rb.copy(), e = a.Eb, f = a.Jb;
			d.width = a.Eb / b;
			d.height = a.Jb / b;
			var h = a.Il.x, k = a.Il.y, l = a.sD;
			isNaN( h ) && (l.Vi() ? l.bp( Hb ) ? h = 0 : l.bp( Nb ) && (h = e - 1) : h = l.cd() ? l.x * (e - 1) : e / 2);
			isNaN( k ) && (l.Vi() ? l.bp( Gb ) ? k = 0 : l.bp( Ob ) && (k = f - 1) : k = l.cd() ? l.y * (f - 1) : f / 2);
			null !== a.LE && (c = a.LE( a, c ));
			c < a.ih && (c = a.ih);
			c > a.hh && (c = a.hh);
			e = v.Mb( a.kb.x + h / b - h / c, a.kb.y + k / b - k / c );
			a.position = e;
			v.v( e );
			a.Tb = c;
			a.Kt( d, a.rb );
			a.Pc = !1;
			Ak( a, !1 );
			c =
				a.Na;
			c.uc && Vj( c, b, a.Tb );
			a.pa();
			Lk( a )
		}
	}

	E.prototype.Kt = function( a, b, c )
	{
		if( !a.K( b ) )
		{
			void 0 === c && (c = !1);
			c || Lk( this );
			xk( this );
			var d = this.Pb;
			null === d || !d.Kw || this.al !== Yg || c || a.width === b.width && a.height === b.height || d.H();
			d = this.Wa;
			!0 === this.Tl && d instanceof Rg && (this.N.ca = this.lF( this.N.jf ), Dj( d, this ));
			this.Pc || this.XD( a, b );
			Zk( this );
			this.Ba( "ViewportBoundsChanged", c ? v.th : null, a )
		}
	};
	function Zk( a, b )
	{
		void 0 === b && (b = null);
		var c = a.jd;
		if( null !== c && c.visible )
		{
			for( var d = v.Fl(), e = 1, f = 1, h = c.xa.n, k = h.length, l = 0; l < k; l++ )
			{
				var m = h[l], n = m.interval;
				2 > n || (xl( m.Ab ) ? f = f * n / pe( f, n ) : e = e * n / pe( e, n ))
			}
			h = c.Dw;
			d.m( f * h.width, e * h.height );
			h = f = l = k = 0;
			if( null !== b )k = b.width, l = b.height, f = b.x, h = b.y;
			else
			{
				e = v.bg();
				f = a.rb;
				e.m( f.x, f.y, f.width, f.height );
				for( h = a.Bv.i; h.next(); )f = h.value.rb, f.G() && ab( e, f.x, f.y, f.width, f.height );
				if( !e.G() )
				{
					v.Vb( e );
					return
				}
				k = e.width;
				l = e.height;
				f = e.x;
				h = e.y;
				v.Vb( e )
			}
			c.width = k + 2 * d.width;
			c.height =
				l + 2 * d.height;
			e = v.L();
			Pa( f, h, 0, 0, d.width, d.height, e );
			e.offset( -d.width, -d.height );
			v.Yj( d );
			c.Y.location = e;
			v.v( e )
		}
	}

	E.prototype.clearSelection = E.prototype.nw = function()
	{
		var a = 0 < this.selection.count;
		a && this.Ba( "ChangingSelection" );
		Wg( this );
		a && this.Ba( "ChangedSelection" )
	};
	function Wg( a )
	{
		a = a.selection;
		if( 0 < a.count )
		{
			for( var b = a.dc(), c = b.length, d = 0; d < c; d++ )b[d].hb = !1;
			a.Oa();
			a.clear();
			a.freeze()
		}
	}

	E.prototype.select = E.prototype.select = function( a )
	{
		null !== a && (v.A( a, R, E, "select:part" ), a.layer.g === this && (!a.hb || 1 < this.selection.count) && (this.Ba( "ChangingSelection" ), Wg( this ), a.hb = !0, this.Ba( "ChangedSelection" )))
	};
	E.prototype.selectCollection = E.prototype.QE = function( a )
	{
		this.Ba( "ChangingSelection" );
		Wg( this );
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )
		{
			var d = v.Pa( a, c );
			d instanceof R || v.k( "Diagram.selectCollection given something that is not a Part: " + d );
			d.hb = !0
		}
		else for( a = a.i; a.next(); )d = a.value, d instanceof R || v.k( "Diagram.selectCollection given something that is not a Part: " + d ), d.hb = !0;
		this.Ba( "ChangedSelection" )
	};
	E.prototype.clearHighlighteds = E.prototype.kD = function()
	{
		var a = this.Pm;
		if( 0 < a.count )
		{
			for( var b = a.dc(), c = b.length, d = 0; d < c; d++ )b[d].gh = !1;
			a.Oa();
			a.clear();
			a.freeze()
		}
	};
	E.prototype.highlight = function( a )
	{
		null !== a && a.layer.g === this && (v.A( a, R, E, "highlight:part" ), !a.gh || 1 < this.Pm.count) && (this.kD(), a.gh = !0)
	};
	E.prototype.highlightCollection = function( a )
	{
		this.kD();
		if( v.isArray( a ) )for( var b = v.Va( a ), c = 0; c < b; c++ )
		{
			var d = v.Pa( a, c );
			d instanceof R || v.k( "Diagram.highlightCollection given something that is not a Part: " + d );
			d.gh = !0
		}
		else for( a = a.i; a.next(); )d = a.value, d instanceof R || v.k( "Diagram.highlightCollection given something that is not a Part: " + d ), d.gh = !0
	};
	E.prototype.scroll = E.prototype.scroll = function( a, b, c )
	{
		void 0 === c && (c = 1);
		var d = "up" === b || "down" === b, e = 0;
		if( "pixel" === a )e = c;
		else if( "line" === a )e = c * (d ? this.Tt : this.St);
		else if( "page" === a )a = d ? this.rb.height : this.rb.width, a *= this.scale, 0 !== a && (e = Math.max( a - (d ? this.Tt : this.St), 0 ), e *= c);
		else
		{
			if( "document" === a )
			{
				e = this.ae;
				d = this.rb;
				c = v.L();
				"up" === b ? this.position = c.m( d.x, e.y ) : "left" === b ? this.position = c.m( e.x, d.y ) : "down" === b ? this.position = c.m( d.x, e.bottom - d.height ) : "right" === b && (this.position = c.m( e.right - d.width,
					d.y ));
				v.v( c );
				return
			}
			v.k( "scrolling unit must be 'pixel', 'line', 'page', or 'document', not: " + a )
		}
		e /= this.scale;
		c = this.position.copy();
		"up" === b ? c.y = this.position.y - e : "down" === b ? c.y = this.position.y + e : "left" === b ? c.x = this.position.x - e : "right" === b ? c.x = this.position.x + e : v.k( "scrolling direction must be 'up', 'down', 'left', or 'right', not: " + b );
		this.position = c
	};
	E.prototype.scrollToRect = E.prototype.rI = function( a )
	{
		var b = this.rb;
		b.Vj( a ) || (a = a.bl, a.x -= b.width / 2, a.y -= b.height / 2, this.position = a)
	};
	E.prototype.centerRect = E.prototype.iG = function( a )
	{
		var b = this.rb;
		a = a.bl;
		a.x -= b.width / 2;
		a.y -= b.height / 2;
		this.position = a
	};
	E.prototype.transformDocToView = E.prototype.jF = function( a )
	{
		var b = this.ne;
		b.reset();
		1 !== this.Tb && b.scale( this.Tb );
		var c = this.kb;
		(0 !== c.x || 0 !== c.y) && isFinite( c.x ) && isFinite( c.y ) && b.translate( -c.x, -c.y );
		return a.copy().transform( this.ne )
	};
	E.prototype.transformViewToDoc = E.prototype.lF = function( a )
	{
		var b = this.ne;
		b.reset();
		1 !== this.Tb && b.scale( this.Tb );
		var c = this.kb;
		(0 !== c.x || 0 !== c.y) && isFinite( c.x ) && isFinite( c.y ) && b.translate( -c.x, -c.y );
		return Qa( a.copy(), this.ne )
	};
	var Yg;
	E.None = Yg = v.p( E, "None", 0 );
	var Ek;
	E.Uniform = Ek = v.p( E, "Uniform", 1 );
	var Fk;
	E.UniformToFill = Fk = v.p( E, "UniformToFill", 2 );
	var $h;
	E.CycleAll = $h = v.p( E, "CycleAll", 10 );
	var di;
	E.CycleNotDirected = di = v.p( E, "CycleNotDirected", 11 );
	var fi;
	E.CycleNotDirectedFast = fi = v.p( E, "CycleNotDirectedFast", 12 );
	var ri;
	E.CycleNotUndirected = ri = v.p( E, "CycleNotUndirected", 13 );
	var ai;
	E.CycleDestinationTree = ai = v.p( E, "CycleDestinationTree", 14 );
	var ci;
	E.CycleSourceTree = ci = v.p( E, "CycleSourceTree", 15 );
	var fk;
	E.DocumentScroll = fk = v.p( E, "DocumentScroll", 1 );
	var kl;
	E.InfiniteScroll = kl = v.p( E, "InfiniteScroll", 2 );
	var hk;
	E.TreeParentCollapsed = hk = v.p( E, "TreeParentCollapsed", 1 );
	E.AllParentsCollapsed = v.p( E, "AllParentsCollapsed", 2 );
	v.defineProperty( E, {RI: "validCycle"}, function()
	{
		return this.aw
	}, function( a )
	{
		var b = this.aw;
		b !== a && (v.pb( a, E, E, "validCycle" ), this.aw = a, this.h( "validCycle", b, a ))
	} );
	v.u( E, {Nw: "layers"}, function()
	{
		return this.Xb.i
	} );
	v.defineProperty( E, {wf: "isModelReadOnly"}, function()
	{
		var a = this.Xd;
		return null === a ? !1 : a.ab
	}, function( a )
	{
		var b = this.Xd;
		null !== b && (b.ab = a)
	} );
	v.defineProperty( E, {ab: "isReadOnly"}, function()
	{
		return this.ui
	}, function( a )
	{
		var b = this.ui;
		b !== a && (v.j( a, "boolean", E, "isReadOnly" ), this.ui = a, this.h( "isReadOnly", b, a ))
	} );
	v.defineProperty( E, {isEnabled: "isEnabled"}, function()
	{
		return this.Re
	}, function( a )
	{
		var b = this.Re;
		b !== a && (v.j( a, "boolean", E, "isEnabled" ), this.Re = a, this.h( "isEnabled", b, a ))
	} );
	v.defineProperty( E, {Wy: "allowClipboard"}, function()
	{
		return this.lu
	}, function( a )
	{
		var b = this.lu;
		b !== a && (v.j( a, "boolean", E, "allowClipboard" ), this.lu = a, this.h( "allowClipboard", b, a ))
	} );
	v.defineProperty( E, {Tj: "allowCopy"}, function()
	{
		return this.hk
	}, function( a )
	{
		var b = this.hk;
		b !== a && (v.j( a, "boolean", E, "allowCopy" ), this.hk = a, this.h( "allowCopy", b, a ))
	} );
	v.defineProperty( E, {ym: "allowDelete"}, function()
	{
		return this.ik
	}, function( a )
	{
		var b = this.ik;
		b !== a && (v.j( a, "boolean", E, "allowDelete" ), this.ik = a, this.h( "allowDelete", b, a ))
	} );
	v.defineProperty( E, {Rs: "allowDragOut"}, function()
	{
		return this.mu
	}, function( a )
	{
		var b = this.mu;
		b !== a && (v.j( a, "boolean", E, "allowDragOut" ), this.mu = a, this.h( "allowDragOut", b, a ))
	} );
	v.defineProperty( E, {cD: "allowDrop"}, function()
	{
		return this.nu
	}, function( a )
	{
		var b = this.nu;
		b !== a && (v.j( a, "boolean", E, "allowDrop" ), this.nu = a, this.h( "allowDrop", b, a ))
	} );
	v.defineProperty( E, {jw: "allowTextEdit"}, function()
	{
		return this.rk
	}, function( a )
	{
		var b = this.rk;
		b !== a && (v.j( a, "boolean", E, "allowTextEdit" ), this.rk = a, this.h( "allowTextEdit", b, a ))
	} );
	v.defineProperty( E, {gw: "allowGroup"}, function()
	{
		return this.jk
	}, function( a )
	{
		var b = this.jk;
		b !== a && (v.j( a, "boolean", E, "allowGroup" ), this.jk = a, this.h( "allowGroup", b, a ))
	} );
	v.defineProperty( E, {kw: "allowUngroup"}, function()
	{
		return this.sk
	}, function( a )
	{
		var b = this.sk;
		b !== a && (v.j( a, "boolean", E, "allowUngroup" ), this.sk = a, this.h( "allowUngroup", b, a ))
	} );
	v.defineProperty( E, {Jo: "allowInsert"}, function()
	{
		return this.pu
	}, function( a )
	{
		var b = this.pu;
		b !== a && (v.j( a, "boolean", E, "allowInsert" ), this.pu = a, this.h( "allowInsert", b, a ))
	} );
	v.defineProperty( E, {Ss: "allowLink"}, function()
	{
		return this.kk
	}, function( a )
	{
		var b = this.kk;
		b !== a && (v.j( a, "boolean", E, "allowLink" ), this.kk = a, this.h( "allowLink", b, a ))
	} );
	v.defineProperty( E, {zm: "allowRelink"}, function()
	{
		return this.mk
	}, function( a )
	{
		var b = this.mk;
		b !== a && (v.j( a, "boolean", E, "allowRelink" ), this.mk = a, this.h( "allowRelink", b, a ))
	} );
	v.defineProperty( E, {$k: "allowMove"}, function()
	{
		return this.lk
	}, function( a )
	{
		var b = this.lk;
		b !== a && (v.j( a, "boolean", E, "allowMove" ), this.lk = a, this.h( "allowMove", b, a ))
	} );
	v.defineProperty( E, {hw: "allowReshape"}, function()
	{
		return this.nk
	}, function( a )
	{
		var b = this.nk;
		b !== a && (v.j( a, "boolean", E, "allowReshape" ), this.nk = a, this.h( "allowReshape", b, a ))
	} );
	v.defineProperty( E, {Ts: "allowResize"}, function()
	{
		return this.ok
	}, function( a )
	{
		var b = this.ok;
		b !== a && (v.j( a, "boolean", E, "allowResize" ), this.ok = a, this.h( "allowResize", b, a ))
	} );
	v.defineProperty( E, {iw: "allowRotate"}, function()
	{
		return this.pk
	}, function( a )
	{
		var b = this.pk;
		b !== a && (v.j( a, "boolean", E, "allowRotate" ), this.pk = a, this.h( "allowRotate", b, a ))
	} );
	v.defineProperty( E, {of: "allowSelect"}, function()
	{
		return this.qk
	}, function( a )
	{
		var b = this.qk;
		b !== a && (v.j( a, "boolean", E, "allowSelect" ), this.qk = a, this.h( "allowSelect", b, a ))
	} );
	v.defineProperty( E, {dD: "allowUndo"}, function()
	{
		return this.qu
	}, function( a )
	{
		var b = this.qu;
		b !== a && (v.j( a, "boolean", E, "allowUndo" ), this.qu = a, this.h( "allowUndo", b, a ))
	} );
	v.defineProperty( E, {lw: "allowZoom"}, function()
	{
		return this.su
	}, function( a )
	{
		var b = this.su;
		b !== a && (v.j( a, "boolean", E, "allowZoom" ), this.su = a, this.h( "allowZoom", b, a ))
	} );
	v.defineProperty( E, {xz: "hasVerticalScrollbar"}, function()
	{
		return this.Zu
	}, function( a )
	{
		var b = this.Zu;
		b !== a && (v.j( a, "boolean", E, "hasVerticalScrollbar" ), this.Zu = a, Lk( this ), this.pa(), this.h( "hasVerticalScrollbar", b, a ), Ak( this, !1 ))
	} );
	v.defineProperty( E, {wz: "hasHorizontalScrollbar"}, function()
	{
		return this.Yu
	}, function( a )
	{
		var b = this.Yu;
		b !== a && (v.j( a, "boolean", E, "hasHorizontalScrollbar" ), this.Yu = a, Lk( this ), this.pa(), this.h( "hasHorizontalScrollbar", b, a ), Ak( this, !1 ))
	} );
	v.defineProperty( E, {oe: "allowHorizontalScroll"}, function()
	{
		return this.ou
	}, function( a )
	{
		var b = this.ou;
		b !== a && (v.j( a, "boolean", E, "allowHorizontalScroll" ), this.ou = a, this.h( "allowHorizontalScroll", b, a ), Ak( this, !1 ))
	} );
	v.defineProperty( E, {pe: "allowVerticalScroll"}, function()
	{
		return this.ru
	}, function( a )
	{
		var b = this.ru;
		b !== a && (v.j( a, "boolean", E, "allowVerticalScroll" ), this.ru = a, this.h( "allowVerticalScroll", b, a ), Ak( this, !1 ))
	} );
	v.defineProperty( E, {St: "scrollHorizontalLineChange"}, function()
	{
		return this.Lv
	}, function( a )
	{
		var b = this.Lv;
		b !== a && (v.j( a, "number", E, "scrollHorizontalLineChange" ), 0 > a && v.va( a, ">= 0", E, "scrollHorizontalLineChange" ), this.Lv = a, this.h( "scrollHorizontalLineChange", b, a ))
	} );
	v.defineProperty( E, {Tt: "scrollVerticalLineChange"}, function()
	{
		return this.Pv
	}, function( a )
	{
		var b = this.Pv;
		b !== a && (v.j( a, "number", E, "scrollVerticalLineChange" ), 0 > a && v.va( a, ">= 0", E, "scrollVerticalLineChange" ), this.Pv = a, this.h( "scrollVerticalLineChange", b, a ))
	} );
	v.defineProperty( E, {N: "lastInput"}, function()
	{
		return this.Nb
	}, function( a )
	{
		this.Nb = a
	} );
	v.defineProperty( E, {yc: "firstInput"}, function()
	{
		return this.si
	}, function( a )
	{
		this.si = a
	} );
	v.defineProperty( E, {Zb: "currentCursor"}, function()
	{
		return this.Fu
	}, function( a )
	{
		"" === a && (a = this.uq);
		this.Fu !== a && (v.j( a, "string", E, "currentCursor" ), null !== this.zb && (this.Fu = a, this.zb.style.cursor = a, this.Kb.style.cursor = a))
	} );
	v.defineProperty( E, {AJ: "defaultCursor"}, function()
	{
		return this.uq
	}, function( a )
	{
		"" === a && (a = "auto");
		var b = this.uq;
		b !== a && (v.j( a, "string", E, "defaultCursor" ), this.uq = a, this.h( "defaultCursor", b, a ))
	} );
	v.defineProperty( E, {click: "click"}, function()
	{
		return this.hi
	}, function( a )
	{
		var b = this.hi;
		b !== a && (null !== a && v.j( a, "function", E, "click" ), this.hi = a, this.h( "click", b, a ))
	} );
	v.defineProperty( E, {$s: "doubleClick"}, function()
	{
		return this.qi
	}, function( a )
	{
		var b = this.qi;
		b !== a && (null !== a && v.j( a, "function", E, "doubleClick" ), this.qi = a, this.h( "doubleClick", b, a ))
	} );
	v.defineProperty( E, {cz: "contextClick"}, function()
	{
		return this.ki
	}, function( a )
	{
		var b = this.ki;
		b !== a && (null !== a && v.j( a, "function", E, "contextClick" ), this.ki = a, this.h( "contextClick", b, a ))
	} );
	v.defineProperty( E, {Pz: "mouseOver"}, function()
	{
		return this.Di
	}, function( a )
	{
		var b = this.Di;
		b !== a && (null !== a && v.j( a, "function", E, "mouseOver" ), this.Di = a, this.h( "mouseOver", b, a ))
	} );
	v.defineProperty( E, {Oz: "mouseHover"}, function()
	{
		return this.Ci
	}, function( a )
	{
		var b = this.Ci;
		b !== a && (null !== a && v.j( a, "function", E, "mouseHover" ), this.Ci = a, this.h( "mouseHover", b, a ))
	} );
	v.defineProperty( E, {Nz: "mouseHold"}, function()
	{
		return this.Bi
	}, function( a )
	{
		var b = this.Bi;
		b !== a && (null !== a && v.j( a, "function", E, "mouseHold" ), this.Bi = a, this.h( "mouseHold", b, a ))
	} );
	v.defineProperty( E, {TH: "mouseDragOver"}, function()
	{
		return this.uv
	}, function( a )
	{
		var b = this.uv;
		b !== a && (null !== a && v.j( a, "function", E, "mouseDragOver" ), this.uv = a, this.h( "mouseDragOver", b, a ))
	} );
	v.defineProperty( E, {Mz: "mouseDrop"}, function()
	{
		return this.Ai
	}, function( a )
	{
		var b = this.Ai;
		b !== a && (null !== a && v.j( a, "function", E, "mouseDrop" ), this.Ai = a, this.h( "mouseDrop", b, a ))
	} );
	v.defineProperty( E, {uA: "toolTip"}, function()
	{
		return this.Ji
	}, function( a )
	{
		var b = this.Ji;
		b !== a && (null !== a && v.A( a, Tg, E, "toolTip" ), this.Ji = a, this.h( "toolTip", b, a ))
	} );
	v.defineProperty( E, {contextMenu: "contextMenu"}, function()
	{
		return this.li
	}, function( a )
	{
		var b = this.li;
		b !== a && (null !== a && v.A( a, Tg, E, "contextMenu" ), this.li = a, this.h( "contextMenu", b, a ))
	} );
	v.defineProperty( E, {nb: "commandHandler"}, function()
	{
		return this.Lx
	}, function( a )
	{
		var b = this.Lx;
		b !== a && (v.A( a, Xf, E, "commandHandler" ), null !== a.g && v.k( "Cannot share CommandHandlers between Diagrams: " + a.toString() ), null !== b && b.Mc( null ), this.Lx = a, a.Mc( this ))
	} );
	v.defineProperty( E, {Za: "toolManager"}, function()
	{
		return this.Oy
	}, function( a )
	{
		var b = this.Oy;
		b !== a && (v.A( a, Rg, E, "toolManager" ), null !== a.g && v.k( "Cannot share ToolManagers between Diagrams: " + a.toString() ), null !== b && b.Mc( null ), this.Oy = a, a.Mc( this ))
	} );
	v.defineProperty( E, {Zs: "defaultTool"}, function()
	{
		return this.Rx
	}, function( a )
	{
		var b = this.Rx;
		b !== a && (v.A( a, Wf, E, "defaultTool" ), this.Rx = a, this.Wa === b && (this.Wa = a))
	} );
	v.defineProperty( E, {Wa: "currentTool"}, function()
	{
		return this.Px
	}, function( a )
	{
		var b = this.Px;
		null !== b && (b.qa && b.doDeactivate(), b.cancelWaitAfter(), b.doStop());
		null === a && (a = this.Zs);
		null !== a && (v.A( a, Wf, E, "currentTool" ), this.Px = a, a.Mc( this ), a.doStart())
	} );
	v.u( E, {selection: "selection"}, function()
	{
		return this.Rv
	} );
	v.defineProperty( E, {LH: "maxSelectionCount"}, function()
	{
		return this.qv
	}, function( a )
	{
		var b = this.qv;
		if( b !== a )if( v.j( a, "number", E, "maxSelectionCount" ), 0 <= a && !isNaN( a ) )
		{
			if( this.qv = a, this.h( "maxSelectionCount", b, a ), !this.la.ib && (a = this.selection.count - a, 0 < a) )
			{
				this.Ba( "ChangingSelection" );
				for( var b = this.selection.dc(), c = 0; c < a; c++ )b[c].hb = !1;
				this.Ba( "ChangedSelection" )
			}
		}
		else v.va( a, ">= 0", E, "maxSelectionCount" )
	} );
	v.defineProperty( E, {WH: "nodeSelectionAdornmentTemplate"}, function()
	{
		return this.vv
	}, function( a )
	{
		var b = this.vv;
		b !== a && (v.A( a, Tg, E, "nodeSelectionAdornmentTemplate" ), this.vv = a, this.h( "nodeSelectionAdornmentTemplate", b, a ))
	} );
	v.defineProperty( E, {$G: "groupSelectionAdornmentTemplate"}, function()
	{
		return this.Vu
	}, function( a )
	{
		var b = this.Vu;
		b !== a && (v.A( a, Tg, E, "groupSelectionAdornmentTemplate" ), this.Vu = a, this.h( "groupSelectionAdornmentTemplate", b, a ))
	} );
	v.defineProperty( E, {FH: "linkSelectionAdornmentTemplate"}, function()
	{
		return this.mv
	}, function( a )
	{
		var b = this.mv;
		b !== a && (v.A( a, Tg, E, "linkSelectionAdornmentTemplate" ), this.mv = a, this.h( "linkSelectionAdornmentTemplate", b, a ))
	} );
	v.u( E, {Pm: "highlighteds"}, function()
	{
		return this.$u
	} );
	v.defineProperty( E, {$h: "isModified"}, function()
	{
		var a = this.la;
		return a.isEnabled ? null !== a.Qi ? !0 : this.qy && this.Pg !== a.Ui : this.qy
	}, function( a )
	{
		if( this.qy !== a )
		{
			v.j( a, "boolean", E, "isModified" );
			this.qy = a;
			var b = this.la;
			!a && b.isEnabled && (this.Pg = b.Ui);
			a || yl( this )
		}
	} );
	function yl( a )
	{
		var b = a.$h;
		a.VC !== b && (a.VC = b, a.Ba( "Modified" ))
	}

	v.defineProperty( E, {ba: "model"}, function()
	{
		return this.Xd
	}, function( a )
	{
		var b = this.Xd;
		if( b !== a )
		{
			v.A( a, F, E, "model" );
			this.Wa.doCancel();
			null !== b && b.la !== a.la && b.la.dE && v.k( "Do not replace a Diagram.model while a transaction is in progress." );
			this.Na.ai();
			this.nw();
			this.Rg = !1;
			this.Mn = !0;
			this.Pg = -2;
			this.Lf = !1;
			var c = this.Md;
			this.Md = !0;
			this.Na.Zm( "Model" );
			null !== b && (null !== this.Sg && this.Sg.each( function( a )
			{
				b.Nt( a )
			} ), b.Nt( this.cC ), b instanceof Q && zl( this, b.zg ), zl( this, b.Zf ));
			this.Xd = a;
			a.xm( this.bC );
			Al( this,
				a.Zf );
			a instanceof Q && Bl( this, a.zg );
			a.Nt( this.bC );
			a.xm( this.cC );
			null !== this.Sg && this.Sg.each( function( b )
			{
				a.xm( b )
			} );
			this.Md = c;
			this.Pc || this.pa();
			null !== b && (a.la.isEnabled = b.la.isEnabled)
		}
	} );
	v.defineProperty( E, {Qa: null}, function()
	{
		return this.VB
	}, function( a )
	{
		this.VB = a
	} );
	v.u( E, {Pw: null}, function()
	{
		return this.AF
	} );
	function jk( a, b )
	{
		if( b.ba === a.ba )
		{
			var c = b.wc, d = b.propertyName;
			if( c === Bf && "S" === d[0] )if( "StartingFirstTransaction" === d )c = a.Za, c.Oe.each( function( b )
			{
				b.Mc( a )
			} ), c.Wf.each( function( b )
			{
				b.Mc( a )
			} ), c.Xf.each( function( b )
			{
				b.Mc( a )
			} ), a.Md || a.Rg || (a.Lu = !0, a.Mn && (a.Lf = !0));
			else if( "StartingUndo" === d || "StartingRedo" === d )
			{
				var e = a.Na;
				e.df && !a.tb && e.ai();
				a.Ba( "ChangingSelection" )
			}
			else"StartedTransaction" === d && (e = a.Na, e.df && !a.tb && e.ai());
			else if( a.Qa )
			{
				a.Qa = !1;
				try
				{
					var f = b.hf;
					if( "" !== f )if( c === Af )
					{
						if( "linkFromKey" === f )
						{
							var h =
								b.object, k = a.Qf( h );
							if( null !== k )
							{
								var l = b.newValue, m = a.Ze( l );
								k.T = m
							}
						}
						else if( "linkToKey" === f )h = b.object, k = a.Qf( h ), null !== k && (l = b.newValue, m = a.Ze( l ), k.Z = m);
						else if( "linkFromPortId" === f )
						{
							if( h = b.object, k = a.Qf( h ), null !== k )
							{
								var n = b.newValue;
								"string" === typeof n && (k.xg = n)
							}
						}
						else if( "linkToPortId" === f )h = b.object, k = a.Qf( h ), null !== k && (n = b.newValue, "string" === typeof n && (k.rh = n));
						else if( "nodeGroupKey" === f )
						{
							var h = b.object, p = a.eh( h );
							if( null !== p )
							{
								var q = b.newValue;
								if( void 0 !== q )
								{
									var r = a.Ze( q );
									p.Sa = r instanceof V ? r :
										null
								}
								else p.Sa = null
							}
						}
						else if( "linkLabelKeys" === f )
						{
							if( h = b.object, k = a.Qf( h ), null !== k )
							{
								var s = b.oldValue, t = b.newValue;
								if( v.isArray( s ) )for( var u = v.Va( s ), w = 0; w < u; w++ )
								{
									var x = v.Pa( s, w ), m = a.Ze( x );
									null !== m && (m.ge = null)
								}
								if( v.isArray( t ) )for( u = v.Va( t ), w = 0; w < u; w++ )x = v.Pa( t, w ), m = a.Ze( x ), null !== m && (m.ge = k)
							}
						}
						else if( "nodeParentKey" === f )
						{
							var z = b.object, A = a.Ze( b.newValue ), H = a.Aw( z );
							if( null !== H )
							{
								var C = H.Xo();
								null !== C ? null === A ? a.remove( C ) : a.Sd ? C.T = A : C.Z = A : Cl( a, A, H )
							}
						}
						else if( "parentLinkCategory" === f )
						{
							var z = b.object, H =
								a.Aw( z ), T = b.newValue;
							null !== H && "string" === typeof T && (C = H.Xo(), null !== C && (C.gc = T))
						}
						else if( "nodeCategory" === f )
						{
							var h = b.object, ba = a.eh( h ), T = b.newValue;
							null !== ba && "string" === typeof T && (ba.gc = T)
						}
						else if( "linkCategory" === f )
						{
							var h = b.object, U = a.Qf( h ), T = b.newValue;
							null !== U && "string" === typeof T && (U.gc = T)
						}
						else if( "nodeDataArray" === f )
						{
							var M = b.oldValue;
							zl( a, M );
							var aa = b.newValue;
							Al( a, aa )
						}
						else"linkDataArray" === f && (M = b.oldValue, zl( a, M ), aa = b.newValue, Bl( a, aa ));
						a.$h = !0
					}
					else c === Cf ? (aa = b.newValue, "nodeDataArray" ===
							f && v.Ta( aa ) ? Dl( a, aa ) : "linkDataArray" === f && v.Ta( aa ) ? El( a, aa ) : "linkLabelKeys" === f && mg( aa ) && (k = a.Qf( b.object ), m = a.Ze( aa ), null !== k && null !== m && (m.ge = k)), a.$h = !0) : c === Df ? (M = b.oldValue, "nodeDataArray" === f && v.Ta( M ) ? Fl( a, M ) : "linkDataArray" === f && v.Ta( M ) ? Fl( a, M ) : "linkLabelKeys" === f && mg( M ) && (m = a.Ze( M ), null !== m && (m.ge = null)), a.$h = !0) : c === Bf && ("SourceChanged" === f ? null !== b.object ? ik( a, b.object, b.propertyName ) : (a.QI(), a.nF()) : "ModelDisplaced" === f && a.zl());
					else if( c === Af )
					{
						var Ia = b.propertyName, h = b.object;
						if( h === a.ba )
						{
							if( "nodeKeyProperty" ===
								Ia || "nodeCategoryProperty" === Ia || "linkFromKeyProperty" === Ia || "linkToKeyProperty" === Ia || "linkFromPortIdProperty" === Ia || "linkToPortIdProperty" === Ia || "linkLabelKeysProperty" === Ia || "nodeIsGroupProperty" === Ia || "nodeGroupKeyProperty" === Ia || "nodeParentKeyProperty" === Ia || "linkCategoryProperty" === Ia )a.la.ib || a.zl()
						}
						else ik( a, h, Ia );
						a.$h = !0
					}
					else if( c === Cf || c === Df )Gl( a, b ), a.$h = !0;
					else if( c === Bf )
					{
						if( "FinishedUndo" === d || "FinishedRedo" === d )a.la.vi = !0, a.Ba( "ChangedSelection" ), yk( a ), a.la.vi = !1;
						e = a.Na;
						"RolledBackTransaction" ===
						d && e.ai();
						a.Lu = !0;
						a.Vf();
						0 === a.la.sh && Hj( e );
						"CommittedTransaction" === d && a.la.ty && (a.Pg = Math.min( a.Pg, a.la.Ui - 1 ));
						var oa = b.hE;
						oa && (yl( a ), a.Pw.clear());
						!a.Ay && oa && (a.Ay = !0, v.setTimeout( function()
						{
							a.Wa.standardMouseOver();
							a.Ay = !1
						}, 10 ))
					}
				} finally
				{
					a.Qa = !0
				}
			}
		}
	}

	function ik( a, b, c )
	{
		if( "string" === typeof c )
		{
			var d = a.eh( b );
			if( null !== d )d.Hb( c ), a.ba instanceof Pf && (d = a.Qf( b ), null !== d && d.Hb( c ));
			else
			{
				for( var d = null, e = a.Wl.i; e.next(); )
				{
					for( var f = e.value, h = 0; h < f.length; h++ )
					{
						var k = f[h].LG( b );
						null !== k && (null === d && (d = v.jb()), d.push( k ))
					}
					if( null !== d )break
				}
				if( null !== d )
				{
					for( e = 0; e < d.length; e++ )d[e].Hb( c );
					v.sa( d )
				}
			}
			b === a.ba.bk && a.nF( c )
		}
	}

	v.defineProperty( E, {xe: "skipsModelSourceBindings"}, function()
	{
		return this.xC
	}, function( a )
	{
		this.xC = a
	} );
	v.defineProperty( E, {au: null}, function()
	{
		return this.Iy
	}, function( a )
	{
		this.Iy = a
	} );
	function Gl( a, b )
	{
		var c = b.wc === Cf, d = c ? b.Ag : b.Cg, e = c ? b.newValue : b.oldValue, f = a.Wl.ja( b.object );
		if( Array.isArray( f ) )for( var h = 0; h < f.length; h++ )
		{
			var k = f[h];
			if( c )Hl( k, e, d );
			else
			{
				var l = d;
				if( !(0 > l) )
				{
					var m = l;
					Il( k ) && m++;
					k.Me( m );
					Jl( k, m, l )
				}
			}
		}
	}

	function pl( a, b )
	{
		var c = b.sj;
		if( v.isArray( c ) )
		{
			var d = a.Wl.ja( c );
			if( null === d )d = [], d.push( b ), a.Wl.add( c, d );
			else
			{
				for( c = 0; c < d.length; c++ )if( d[c] === b )return;
				d.push( b )
			}
		}
	}

	function tl( a, b )
	{
		var c = b.sj;
		if( v.isArray( c ) )
		{
			var d = a.Wl.ja( c );
			if( null !== d )for( var e = 0; e < d.length; e++ )if( d[e] === b )
			{
				d.splice( e, 1 );
				0 === d.length && a.Wl.remove( c );
				break
			}
		}
	}

	function ol( a, b )
	{
		for( var c = b.xa.n, d = c.length, e = 0; e < d; e++ )
		{
			var f = c[e];
			f instanceof kk && Kl( a, f )
		}
	}

	function Kl( a, b )
	{
		var c = b.element;
		if( null !== c && c instanceof HTMLImageElement )
		{
			var c = c.src, d = a.mo.ja( c );
			if( null === d )d = [], d.push( b ), a.mo.add( c, d );
			else
			{
				for( c = 0; c < d.length; c++ )if( d[c] === b )return;
				d.push( b )
			}
		}
	}

	function sl( a, b )
	{
		for( var c = b.xa.n, d = c.length, e = 0; e < d; e++ )
		{
			var f = c[e];
			f instanceof kk && Ll( a, f )
		}
	}

	function Ll( a, b )
	{
		var c = b.element;
		if( null !== c && c instanceof HTMLImageElement )
		{
			var c = c.src, d = a.mo.ja( c );
			if( null !== d )for( var e = 0; e < d.length; e++ )if( d[e] === b )
			{
				d.splice( e, 1 );
				0 === d.length && a.mo.remove( c );
				break
			}
		}
	}

	E.prototype.clear = E.prototype.clear = function()
	{
		var a = null;
		null !== this.jd && (a = this.jd.Y);
		this.ba.clear();
		for( var b = this.Xb.length, c = 0; c < b; c++ )this.Xb.n[c].clear();
		this.gg.clear();
		this.xk.clear();
		this.lo.clear();
		this.Uk.clear();
		this.co.clear();
		this.wb.clear();
		this.mi.clear();
		this.wk.clear();
		this.Wl.clear();
		this.Rv.Oa();
		this.Rv.clear();
		this.Rv.freeze();
		this.$u.Oa();
		this.$u.clear();
		this.$u.freeze();
		Eg = this.yn = null;
		Fg = "";
		this.Mu = (new B( NaN, NaN, NaN, NaN )).freeze();
		null !== a && (this.add( a ), this.wb.remove( a ));
		this.pa()
	};
	E.prototype.reset = E.prototype.reset = function()
	{
		this.Pc = !0;
		this.clear();
		this.Xb = new I( Vf );
		this.FE();
		this.EE();
		this.kb = (new y( NaN, NaN )).freeze();
		this.Tb = 1;
		this.bv = (new y( NaN, NaN )).freeze();
		this.cv = NaN;
		this.rv = 1E-4;
		this.pv = 100;
		this.dw = (new y( NaN, NaN )).freeze();
		this.Tu = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.Mv = (new eb( 0, 0, 0, 0 )).freeze();
		this.Nv = fk;
		this.Jv = this.Fv = null;
		this.Ml = Yg;
		this.vn = kc;
		this.Dk = Yg;
		this.Qn = kc;
		this.dv = this.av = tb;
		this.QA = 250;
		this.wu = (new eb( 16, 16, 16, 16 )).freeze();
		this.hv = !0;
		this.Zv = hk;
		this.aw = $h;
		this.uq = "auto";
		this.li = this.Ji = this.Ai = this.uv = this.Bi = this.Ci = this.Di = this.ki = this.qi = this.hi = null;
		this.ui = !1;
		this.ik = this.hk = this.lu = this.Re = !0;
		this.nu = this.mu = !1;
		this.ru = this.ou = this.Zu = this.Yu = this.su = this.qu = this.qk = this.pk = this.ok = this.nk = this.lk = this.mk = this.kk = this.pu = this.sk = this.jk = this.rk = !0;
		this.Pv = this.Lv = 16;
		this.Te = (new eb( 5 )).freeze();
		this.qv = 999999999;
		this.Wd = null;
		ok( this );
		this.jd = null;
		this.Za = new Rg;
		this.Za.initializeStandardTools();
		this.Wa = this.Zs = this.Za;
		this.nb = new Xf;
		this.Ii = !0;
		nk( this );
		this.Pb = new Yf;
		this.Ii = !1;
		this.ba = new Q;
		this.Rg = !1;
		this.Mn = !0;
		this.Pc = this.Lf = !1;
		this.pa();
		this.Sg = this.gi = null;
		gk( this );
		this.Fu = ""
	};
	E.prototype.rebuildParts = E.prototype.zl = function()
	{
		for( var a = this.Tz.i; a.next(); )
		{
			var b = a.value, c = a.key;
			(!b.Rd() || b instanceof V) && v.k( 'Invalid node template in Diagram.nodeTemplateMap: template for "' + c + '" must be a Node or a simple Part, not a Group or Link: ' + b )
		}
		for( a = this.vz.i; a.next(); )b = a.value, c = a.key, b instanceof V || v.k( 'Invalid group template in Diagram.groupTemplateMap: template for "' + c + '" must be a Group, not a normal Node or Link: ' + b );
		for( a = this.Fz.i; a.next(); )b = a.value, c = a.key, b instanceof
			W || v.k( 'Invalid link template in Diagram.linkTemplateMap: template for "' + c + '" must be a Link, not a normal Node or simple Part: ' + b );
		a = v.jb();
		for( b = this.selection.i; b.next(); )(c = b.value.data) && a.push( c );
		for( var b = v.jb(), d = this.Pm.i; d.next(); )(c = d.value.data) && b.push( c );
		c = v.jb();
		for( d = this.Bg.i; d.next(); )
		{
			var e = d.value;
			null !== e.data && (c.push( e.data ), c.push( e.location ))
		}
		for( d = this.links.i; d.next(); )e = d.value, null !== e.data && (c.push( e.data ), c.push( e.location ));
		for( d = this.dk.i; d.next(); )e = d.value, null !==
			e.data && (c.push( e.data ), c.push( e.location ));
		d = this.ba;
		d instanceof Q && zl( this, d.zg );
		zl( this, d.Zf );
		Al( this, d.Zf );
		d instanceof Q && Bl( this, d.zg );
		for( d = 0; d < a.length; d++ )e = this.eh( a[d] ), null !== e && (e.hb = !0);
		for( d = 0; d < b.length; d++ )e = this.eh( b[d] ), null !== e && (e.gh = !0);
		for( d = 0; d < c.length; d += 2 )e = this.eh( c[d] ), null !== e && (e.location = c[d + 1]);
		v.sa( a );
		v.sa( b );
		v.sa( c )
	};
	function Al( a, b )
	{
		if( null !== b )
		{
			for( var c = a.ba, d = v.Va( b ), e = 0; e < d; e++ )
			{
				var f = v.Pa( b, e );
				c.Ie( f ) ? Dl( a, f, !1 ) : c instanceof Q && El( a, f )
			}
			if( c instanceof Q || c instanceof Pf )
			{
				for( e = 0; e < d; e++ )f = v.Pa( b, e ), c.Ie( f ) && Ml( a, f );
				if( c instanceof Q )for( c = a.links; c.next(); )Nl( c.value )
			}
			Ol( a, !1 )
		}
	}

	function Dl( a, b, c )
	{
		if( void 0 !== b && null !== b && !a.la.ib && !a.mi.contains( b ) )
		{
			void 0 === c && (c = !0);
			var d = a.sz( b ), e = Pl( a, b, d );
			if( null !== e && (Vg( e ), e = e.copy(), null !== e) )
			{
				var f = a.xe;
				a.xe = !0;
				e.fi = d;
				e.ke = b;
				a.add( e );
				e.ke = null;
				e.data = b;
				c && Ml( a, b );
				a.xe = f
			}
		}
	}

	E.prototype.sz = function( a )
	{
		return this.ba.sz( a )
	};
	var Ql = !1, Rl = !1;

	function Pl( a, b, c )
	{
		var d = !1, e = a.ba;
		e instanceof Q && (d = e.Bz( b ));
		d ? (b = a.vz.ja( c ), null === b && (b = a.vz.ja( "" ), null === b && (Rl || (Rl = !0, v.trace( 'No Group template found for category "' + c + '"' ), v.trace( "  Using default group template" )), b = a.lB))) : (b = a.Tz.ja( c ), null === b && (b = a.Tz.ja( "" ), null === b && (Ql || (Ql = !0, v.trace( 'No Node template found for category "' + c + '"' ), v.trace( "  Using default node template" )), b = a.nB)));
		return b
	}

	function Ml( a, b )
	{
		var c = a.ba;
		if( c instanceof Q || c instanceof Pf )
		{
			var d = c.gb( b );
			if( void 0 !== d )
			{
				var e = pg( c, d ), f = a.eh( b );
				if( null !== e && null !== f )
				{
					for( e = e.i; e.next(); )
					{
						var h = e.value;
						if( c instanceof Q )
						{
							var k = c;
							if( k.Ie( h ) )
							{
								if( f instanceof V && k.Nm( h ) === d )
								{
									var l = f, h = a.eh( h );
									null !== h && (h.Sa = l)
								}
							}
							else
							{
								var m = a.Qf( h );
								if( null !== m && f instanceof S && (l = f, k.ol( h ) === d && (m.T = l), k.pl( h ) === d && (m.Z = l), h = k.Zj( h ), v.isArray( h )) )for( k = 0; k < v.Va( h ); k++ )if( v.Pa( h, k ) === d )
								{
									l.ge = m;
									break
								}
							}
						}
						else c instanceof Pf && (m = c, m.Ie( h ) && f instanceof
							S && (l = f, m.Om( h ) === d && (h = a.Aw( h ), Cl( a, l, h ))))
					}
					rg( c, d )
				}
				c instanceof Q ? (c = c.Nm( b ), void 0 !== c && (c = a.Ze( c ), c instanceof V && (f.Sa = c))) : c instanceof Pf && (c = c.Om( b ), void 0 !== c && f instanceof S && (l = f, f = a.Ze( c ), Cl( a, f, l )))
			}
		}
	}

	function Cl( a, b, c )
	{
		if( null !== b && null !== c )
		{
			var d = a.Za.nE, e = b, f = c;
			if( a.Sd )for( b = f.ue; b.next(); )
			{
				if( b.value.Z === f )return
			}
			else for( e = c, f = b, b = e.ue; b.next(); )if( b.value.T === e )return;
			if( null === d || !bi( d, e, f, null, !0 ) )if( d = a.Cw( c.data ), b = Sl( a, d ), null !== b && (Vg( b ), b = b.copy(), null !== b) )
			{
				var h = a.xe;
				a.xe = !0;
				b.fi = d;
				b.ke = c.data;
				b.T = e;
				b.Z = f;
				a.add( b );
				b.ke = null;
				b.data = c.data;
				a.xe = h
			}
		}
	}

	function Bl( a, b )
	{
		if( null !== b )
		{
			for( var c = v.Va( b ), d = 0; d < c; d++ )
			{
				var e = v.Pa( b, d );
				El( a, e )
			}
			Ol( a, !1 )
		}
	}

	function El( a, b )
	{
		if( void 0 !== b && null !== b && !a.la.ib && !a.wk.contains( b ) )
		{
			var c = a.Cw( b ), d = Sl( a, c );
			if( null !== d && (Vg( d ), d = d.copy(), null !== d) )
			{
				var e = a.xe;
				a.xe = !0;
				d.fi = c;
				d.ke = b;
				var c = a.ba, f = c.TG( b );
				"" !== f && (d.xg = f);
				f = c.ol( b );
				void 0 !== f && (f = a.Ze( f ), f instanceof S && (d.T = f));
				f = c.WG( b );
				"" !== f && (d.rh = f);
				f = c.pl( b );
				void 0 !== f && (f = a.Ze( f ), f instanceof S && (d.Z = f));
				c = c.Zj( b );
				if( v.isArray( c ) )for( var f = v.Va( c ), h = 0; h < f; h++ )
				{
					var k = v.Pa( c, h ), k = a.Ze( k );
					null !== k && (k.ge = d)
				}
				a.add( d );
				d.ke = null;
				d.data = b;
				a.xe = e
			}
		}
	}

	E.prototype.Cw = function( a )
	{
		var b = this.ba, c = "";
		b instanceof Q ? c = b.Cw( a ) : b instanceof Pf && (c = b.VG( a ));
		return c
	};
	var Tl = !1;

	function Sl( a, b )
	{
		var c = a.Fz.ja( b );
		null === c && (c = a.Fz.ja( "" ), null === c && (Tl || (Tl = !0, v.trace( 'No Link template found for category "' + b + '"' ), v.trace( "  Using default link template" )), c = a.mB));
		return c
	}

	function zl( a, b )
	{
		for( var c = v.Va( b ), d = 0; d < c; d++ )
		{
			var e = v.Pa( b, d );
			Fl( a, e )
		}
	}

	function Fl( a, b )
	{
		if( void 0 !== b && null !== b )
		{
			var c = a.eh( b );
			if( null !== c )
			{
				c.hb = !1;
				c.gh = !1;
				var d = c.layer;
				if( null !== d && d.g === a )
				{
					var e = a.ba;
					if( e instanceof Q && c instanceof S )
					{
						var f = c, h = e.gb( f.data );
						if( void 0 !== h )
						{
							for( var k = f.ue; k.next(); )qg( e, h, k.value.data );
							f.vf && (k = f.ge, null !== k && qg( e, h, k.data ));
							if( f instanceof V )for( f = f.Ic; f.next(); )k = f.value.data, e.Ie( k ) && qg( e, h, k )
						}
					}
					else if( e instanceof Pf && c instanceof S )
					{
						f = c;
						k = a.Qf( f.data );
						if( null !== k )
						{
							k.hb = !1;
							k.gh = !1;
							var l = k.layer;
							if( null !== l )
							{
								var m = l.Me( -1, k, !1 );
								0 <= m && a.Lc( Df, "parts", l, k, null, m, null );
								m = k.yt;
								null !== m && m( k, l, null )
							}
						}
						k = a.Sd;
						for( f = f.ue; f.next(); )l = f.value, l = (k ? l.Z : l.T).data, e.Ie( l ) && qg( e, h, l )
					}
					e = d.Me( -1, c, !1 );
					0 <= e && a.Lc( Df, "parts", d, c, null, e, null );
					e = c.yt;
					null !== e && e( c, d, null )
				}
			}
		}
	}

	E.prototype.findPartForKey = E.prototype.OG = function( a )
	{
		if( null === a || void 0 === a )return null;
		a = this.ba.ce( a );
		return null === a ? null : this.mi.ja( a )
	};
	E.prototype.findNodeForKey = E.prototype.Ze = function( a )
	{
		if( null === a || void 0 === a )return null;
		a = this.ba.ce( a );
		if( null === a )return null;
		a = this.mi.ja( a );
		return a instanceof S ? a : null
	};
	E.prototype.findPartForData = E.prototype.eh = function( a )
	{
		if( null === a )return null;
		var b = this.mi.ja( a );
		return null !== b ? b : b = this.wk.ja( a )
	};
	E.prototype.findNodeForData = E.prototype.Aw = function( a )
	{
		if( null === a )return null;
		a = this.mi.ja( a );
		return a instanceof S ? a : null
	};
	E.prototype.findLinkForData = E.prototype.Qf = function( a )
	{
		return null === a ? null : this.wk.ja( a )
	};
	E.prototype.findNodesByExample = function( a )
	{
		for( var b = new J, c = this.lo.i; c.next(); )
		{
			var d = c.value, e = d.data;
			if( null !== e )for( var f = 0; f < arguments.length; f++ )
			{
				var h = arguments[f];
				if( v.Ta( h ) && Ul( this, e, h ) )
				{
					b.add( d );
					break
				}
			}
		}
		return b.i
	};
	E.prototype.findLinksByExample = function( a )
	{
		for( var b = new J, c = this.co.i; c.next(); )
		{
			var d = c.value, e = d.data;
			if( null !== e )for( var f = 0; f < arguments.length; f++ )
			{
				var h = arguments[f];
				if( v.Ta( h ) && Ul( this, e, h ) )
				{
					b.add( d );
					break
				}
			}
		}
		return b.i
	};
	function Ul( a, b, c )
	{
		for( var d in c )
		{
			var e = b[d], f = c[d];
			if( v.isArray( f ) )
			{
				if( !v.isArray( e ) || e.length < f.length )return!1;
				for( var h = 0; h < e.length; h++ )
				{
					var k = e[h], l = f[h];
					if( void 0 !== l && !Vl( a, k, l ) )return!1
				}
			}
			else if( !Vl( a, e, f ) )return!1
		}
		return!0
	}

	function Vl( a, b, c )
	{
		if( "function" === typeof c )
		{
			if( !c( b ) )return!1
		}
		else if( c instanceof RegExp )
		{
			if( !b || !c.test( b.toString() ) )return!1
		}
		else if( v.Ta( b ) && v.Ta( c ) )
		{
			if( !Ul( a, b, c ) )return!1
		}
		else if( b !== c )return!1;
		return!0
	}

	v.defineProperty( E, {kK: "nodeTemplate"}, function()
	{
		return this.Ei.ja( "" )
	}, function( a )
	{
		var b = this.Ei.ja( "" );
		b !== a && (v.A( a, R, E, "nodeTemplate" ), this.Ei.add( "", a ), this.h( "nodeTemplate", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {Tz: "nodeTemplateMap"}, function()
	{
		return this.Ei
	}, function( a )
	{
		var b = this.Ei;
		b !== a && (v.A( a, na, E, "nodeTemplateMap" ), this.Ei = a, this.h( "nodeTemplateMap", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {MJ: "groupTemplate"}, function()
	{
		return this.zk.ja( "" )
	}, function( a )
	{
		var b = this.zk.ja( "" );
		b !== a && (v.A( a, V, E, "groupTemplate" ), this.zk.add( "", a ), this.h( "groupTemplate", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {vz: "groupTemplateMap"}, function()
	{
		return this.zk
	}, function( a )
	{
		var b = this.zk;
		b !== a && (v.A( a, na, E, "groupTemplateMap" ), this.zk = a, this.h( "groupTemplateMap", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {ZJ: "linkTemplate"}, function()
	{
		return this.vj.ja( "" )
	}, function( a )
	{
		var b = this.vj.ja( "" );
		b !== a && (v.A( a, W, E, "linkTemplate" ), this.vj.add( "", a ), this.h( "linkTemplate", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {Fz: "linkTemplateMap"}, function()
	{
		return this.vj
	}, function( a )
	{
		var b = this.vj;
		b !== a && (v.A( a, na, E, "linkTemplateMap" ), this.vj = a, this.h( "linkTemplateMap", b, a ), this.la.ib || this.zl())
	} );
	v.defineProperty( E, {rH: null}, function()
	{
		return this.Tl
	}, function( a )
	{
		this.Tl = a
	} );
	v.defineProperty( E, {Ne: "isMouseCaptured"}, function()
	{
		return this.RB
	}, function( a )
	{
		var b = this.zb;
		null !== b && (a ? (this.N.bubbles = !1, b.removeEventListener( "mousemove", this.op, !1 ), b.removeEventListener( "mousedown", this.np, !1 ), b.removeEventListener( "mouseup", this.qp, !1 ), b.removeEventListener( "mousewheel", this.kh, !1 ), b.removeEventListener( "DOMMouseScroll", this.kh, !1 ), b.removeEventListener( "mouseout", this.pp, !1 ), window.addEventListener( "mousemove", this.op, !0 ), window.addEventListener( "mousedown", this.np, !0 ),
			window.addEventListener( "mouseup", this.qp, !0 ), window.addEventListener( "mousewheel", this.kh, !0 ), window.addEventListener( "DOMMouseScroll", this.kh, !0 ), window.addEventListener( "mouseout", this.pp, !0 ), window.addEventListener( "selectstart", this.preventDefault, !1 )) : (window.removeEventListener( "mousemove", this.op, !0 ), window.removeEventListener( "mousedown", this.np, !0 ), window.removeEventListener( "mouseup", this.qp, !0 ), window.removeEventListener( "mousewheel", this.kh, !0 ), window.removeEventListener( "DOMMouseScroll",
			this.kh, !0 ), window.removeEventListener( "mouseout", this.pp, !0 ), window.removeEventListener( "selectstart", this.preventDefault, !1 ), b.addEventListener( "mousemove", this.op, !1 ), b.addEventListener( "mousedown", this.np, !1 ), b.addEventListener( "mouseup", this.qp, !1 ), b.addEventListener( "mousewheel", this.kh, !1 ), b.addEventListener( "DOMMouseScroll", this.kh, !1 ), b.addEventListener( "mouseout", this.pp, !1 )), this.RB = a)
	} );
	v.defineProperty( E, {position: "position"}, function()
	{
		return this.kb
	}, function( a )
	{
		var b = this.kb;
		if( !b.K( a ) )
		{
			v.A( a, y, E, "position" );
			var c = this.rb.copy();
			a = a.copy();
			if( !this.Pc && null !== this.zb )
			{
				this.Pc = !0;
				var d = this.scale;
				Ck( this, a, this.ae, this.Eb / d, this.Jb / d, this.vn, !1 );
				this.Pc = !1
			}
			this.kb = a.R();
			a = this.Na;
			a.uc && Uj( a, b, this.kb );
			this.Pc || this.Kt( c, this.rb )
		}
	} );
	v.defineProperty( E, {gH: "initialPosition"}, function()
	{
		return this.bv
	}, function( a )
	{
		this.bv.K( a ) || (v.A( a, y, E, "initialPosition" ), this.bv = a.R())
	} );
	v.defineProperty( E, {hH: "initialScale"}, function()
	{
		return this.cv
	}, function( a )
	{
		this.cv !== a && (v.j( a, "number", E, "initialScale" ), this.cv = a)
	} );
	v.defineProperty( E, {lt: "grid"}, function()
	{
		null === this.jd && uk( this );
		return this.jd
	}, function( a )
	{
		var b = this.jd;
		if( b !== a )
		{
			null === b && (uk( this ), b = this.jd);
			v.A( a, D, E, "grid" );
			a.type !== vk && v.k( "Diagram.grid must be a Panel of type Panel.Grid" );
			var c = b.U;
			null !== c && c.remove( b );
			this.jd = a;
			a.name = "GRID";
			null !== c && c.add( a );
			Zk( this );
			this.pa();
			this.h( "grid", b, a )
		}
	} );
	v.u( E, {rb: "viewportBounds"}, function()
	{
		var a = this.UC;
		if( null === this.zb )return a;
		var b = this.kb, c = this.Tb;
		a.m( b.x, b.y, Math.max( this.Eb, 0 ) / c, Math.max( this.Jb, 0 ) / c );
		return a
	} );
	v.defineProperty( E, {LD: "fixedBounds"}, function()
	{
		return this.Tu
	}, function( a )
	{
		var b = this.Tu;
		b.K( a ) || (v.A( a, B, E, "fixedBounds" ), -Infinity !== a.width && Infinity !== a.height && -Infinity !== a.height || v.k( "fixedBounds width/height must not be Infinity" ), this.Tu = a = a.R(), this.pc(), this.h( "fixedBounds", b, a ))
	} );
	v.defineProperty( E, {ME: "scrollMargin"}, function()
	{
		return this.Mv
	}, function( a )
	{
		"number" === typeof a ? a = new eb( a ) : v.A( a, eb, E, "scrollMargin" );
		var b = this.Mv;
		b.K( a ) || (this.Mv = a = a.R(), this.pc(), this.h( "scrollMargin", b, a ))
	} );
	v.defineProperty( E, {fA: "scrollMode"}, function()
	{
		return this.Nv
	}, function( a )
	{
		var b = this.Nv;
		b !== a && (v.pb( a, E, E, "scrollMode" ), this.Nv = a, a === fk && Ak( this, !1 ), this.h( "scrollMode", b, a ))
	} );
	v.defineProperty( E, {xE: "positionComputation"}, function()
	{
		return this.Fv
	}, function( a )
	{
		var b = this.Fv;
		b !== a && (null !== a && v.j( a, "function", E, "positionComputation" ), this.Fv = a, Ak( this, !1 ), this.h( "positionComputation", b, a ))
	} );
	v.defineProperty( E, {LE: "scaleComputation"}, function()
	{
		return this.Jv
	}, function( a )
	{
		var b = this.Jv;
		b !== a && (null !== a && v.j( a, "function", E, "scaleComputation" ), this.Jv = a, wl( this, this.scale, this.scale ), this.h( "scaleComputation", b, a ))
	} );
	v.u( E, {ae: "documentBounds"}, function()
	{
		return this.Mu
	} );
	function Dk( a, b )
	{
		a.pj = !1;
		var c = a.Mu;
		c.K( b ) || (b = b.R(), a.Mu = b, Ak( a, !1 ), a.Ba( "DocumentBoundsChanged", null, c.copy() ), Lk( a ))
	}

	v.defineProperty( E, {scale: "scale"}, function()
	{
		return this.Tb
	}, function( a )
	{
		var b = this.Tb;
		v.Ve( a, E, "scale" );
		b !== a && wl( this, b, a )
	} );
	v.defineProperty( E, {al: "autoScale"}, function()
	{
		return this.Ml
	}, function( a )
	{
		var b = this.Ml;
		b !== a && (v.pb( a, E, E, "autoScale" ), this.Ml = a, this.h( "autoScale", b, a ), a !== Yg && Ak( this, !1 ))
	} );
	v.defineProperty( E, {OJ: "initialAutoScale"}, function()
	{
		return this.Dk
	}, function( a )
	{
		var b = this.Dk;
		b !== a && (v.pb( a, E, E, "initialAutoScale" ), this.Dk = a, this.h( "initialAutoScale", b, a ))
	} );
	v.defineProperty( E, {iH: "initialViewportSpot"}, function()
	{
		return this.dv
	}, function( a )
	{
		var b = this.dv;
		b !== a && (v.A( a, L, E, "initialViewportSpot" ), a.cd() || v.k( "initialViewportSpot must be a specific Spot: " + a ), this.dv = a, this.h( "initialViewportSpot", b, a ))
	} );
	v.defineProperty( E, {fH: "initialDocumentSpot"}, function()
	{
		return this.av
	}, function( a )
	{
		var b = this.av;
		b !== a && (v.A( a, L, E, "initialDocumentSpot" ), a.cd() || v.k( "initialViewportSpot must be a specific Spot: " + a ), this.av = a, this.h( "initialDocumentSpot", b, a ))
	} );
	v.defineProperty( E, {ih: "minScale"}, function()
	{
		return this.rv
	}, function( a )
	{
		v.Ve( a, E, "minScale" );
		var b = this.rv;
		b !== a && (0 < a ? (this.rv = a, this.h( "minScale", b, a ), a > this.scale && (this.scale = a)) : v.va( a, "> 0", E, "minScale" ))
	} );
	v.defineProperty( E, {hh: "maxScale"}, function()
	{
		return this.pv
	}, function( a )
	{
		v.Ve( a, E, "maxScale" );
		var b = this.pv;
		b !== a && (0 < a ? (this.pv = a, this.h( "maxScale", b, a ), a < this.scale && (this.scale = a)) : v.va( a, "> 0", E, "maxScale" ))
	} );
	v.defineProperty( E, {Il: "zoomPoint"}, function()
	{
		return this.dw
	}, function( a )
	{
		this.dw.K( a ) || (v.A( a, y, E, "zoomPoint" ), this.dw = a = a.R())
	} );
	v.defineProperty( E, {sD: "contentAlignment"}, function()
	{
		return this.vn
	}, function( a )
	{
		var b = this.vn;
		b.K( a ) || (v.A( a, L, E, "contentAlignment" ), this.vn = a = a.R(), this.h( "contentAlignment", b, a ), Ak( this, !1 ))
	} );
	v.defineProperty( E, {PJ: "initialContentAlignment"}, function()
	{
		return this.Qn
	}, function( a )
	{
		var b = this.Qn;
		b.K( a ) || (v.A( a, L, E, "initialContentAlignment" ), this.Qn = a = a.R(), this.h( "initialContentAlignment", b, a ))
	} );
	v.defineProperty( E, {padding: "padding"}, function()
	{
		return this.Te
	}, function( a )
	{
		"number" === typeof a ? a = new eb( a ) : v.A( a, eb, E, "padding" );
		var b = this.Te;
		b.K( a ) || (this.Te = a = a.R(), this.pc(), this.h( "padding", b, a ))
	} );
	v.u( E, {Bg: "nodes"}, function()
	{
		return this.lo.i
	} );
	v.u( E, {links: "links"}, function()
	{
		return this.co.i
	} );
	v.u( E, {dk: "parts"}, function()
	{
		return this.wb.i
	} );
	E.prototype.findTopLevelNodesAndLinks = function()
	{
		for( var a = new J( R ), b = this.lo.i; b.next(); )
		{
			var c = b.value;
			c.fp && a.add( c )
		}
		for( b = this.co.i; b.next(); )c = b.value, c.fp && a.add( c );
		return a.i
	};
	E.prototype.findTopLevelGroups = function()
	{
		return this.Uk.i
	};
	v.defineProperty( E, {Pb: "layout"}, function()
	{
		return this.Wd
	}, function( a )
	{
		var b = this.Wd;
		b !== a && (v.A( a, Yf, E, "layout" ), null !== b && (b.g = null, b.group = null), this.Wd = a, a.g = this, a.group = null, this.uu = !0, this.h( "layout", b, a ), this.ve())
	} );
	E.prototype.layoutDiagram = function( a )
	{
		yk( this );
		a && Ol( this, !0 );
		$k( this, !1 )
	};
	function Ol( a, b )
	{
		for( var c = a.Uk.i; c.next(); )Wl( a, c.value, b );
		null !== a.Pb && (b ? a.Pb.xf = !1 : a.Pb.H())
	}

	function Wl( a, b, c )
	{
		if( null !== b )
		{
			for( var d = b.io.i; d.next(); )Wl( a, d.value, c );
			null !== b.Pb && (c ? b.Pb.xf = !1 : b.Pb.H())
		}
	}

	function $k( a, b )
	{
		if( !a.Sx )
		{
			var c = a.Pb, d = a.Qa;
			a.Qa = !0;
			try
			{
				a.Qb( "Layout" );
				var e = a.Na;
				1 !== a.la.sh || e.df || e.uc || e.Zm( "Layout" );
				for( var f = a.Uk.i; f.next(); )Xl( a, f.value, b );
				c.xf || b && !c.gE && 1 !== a.la.sh || (c.doLayout( a ), yk( a ), c.xf = !0)
			} finally
			{
				a.yd( "Layout" ), a.uu = !c.xf, a.Qa = d
			}
		}
	}

	function Xl( a, b, c )
	{
		if( null !== b )
		{
			for( var d = b.io.i; d.next(); )Xl( a, d.value, c );
			d = b.Pb;
			null === d || d.xf || c && !d.gE || (b.By = !b.location.G(), d.doLayout( b ), b.H( Yl ), d.xf = !0, cl( a, b ))
		}
	}

	v.defineProperty( E, {Sd: "isTreePathToChildren"}, function()
	{
		return this.hv
	}, function( a )
	{
		var b = this.hv;
		if( b !== a && (v.j( a, "boolean", E, "isTreePathToChildren" ), this.hv = a, this.h( "isTreePathToChildren", b, a ), !this.la.ib) )for( a = this.Bg; a.next(); )Zl( a.value )
	} );
	E.prototype.findTreeRoots = function()
	{
		for( var a = new I( S ), b = this.Bg; b.next(); )
		{
			var c = b.value;
			c.fp && null === c.Xo() && a.add( c )
		}
		return a.i
	};
	v.defineProperty( E, {vA: "treeCollapsePolicy"}, function()
	{
		return this.Zv
	}, function( a )
	{
		var b = this.Zv;
		b !== a && (v.pb( a, E, E, "treeCollapsePolicy" ), this.Zv = a, this.h( "treeCollapsePolicy", b, a ))
	} );
	v.defineProperty( E, {fh: null}, function()
	{
		return this.IB
	}, function( a )
	{
		this.IB = a
	} );
	function gk( a )
	{
		function b( a )
		{
			var b = a.toLowerCase(), h = new I( "function" );
			c.add( a, h );
			c.add( b, h );
			d.add( a, a );
			d.add( b, a )
		}

		var c = new na( "string", I ), d = new na( "string", "string" );
		b( "AnimationStarting" );
		b( "AnimationFinished" );
		b( "BackgroundSingleClicked" );
		b( "BackgroundDoubleClicked" );
		b( "BackgroundContextClicked" );
		b( "ClipboardChanged" );
		b( "ClipboardPasted" );
		b( "DocumentBoundsChanged" );
		b( "ExternalObjectsDropped" );
		b( "InitialLayoutCompleted" );
		b( "LayoutCompleted" );
		b( "LinkDrawn" );
		b( "LinkRelinked" );
		b( "LinkReshaped" );
		b( "Modified" );
		b( "ObjectSingleClicked" );
		b( "ObjectDoubleClicked" );
		b( "ObjectContextClicked" );
		b( "PartCreated" );
		b( "PartResized" );
		b( "PartRotated" );
		b( "SelectionMoved" );
		b( "SelectionCopied" );
		b( "SelectionDeleting" );
		b( "SelectionDeleted" );
		b( "SelectionGrouped" );
		b( "SelectionUngrouped" );
		b( "ChangingSelection" );
		b( "ChangedSelection" );
		b( "SubGraphCollapsed" );
		b( "SubGraphExpanded" );
		b( "TextEdited" );
		b( "TreeCollapsed" );
		b( "TreeExpanded" );
		b( "ViewportBoundsChanged" );
		a.Ux = c;
		a.Tx = d
	}

	function qa( a, b )
	{
		var c = a.Tx.ja( b );
		return null !== c ? c : a.Tx.ja( b.toLowerCase() )
	}

	function $l( a, b )
	{
		var c = a.Ux.ja( b );
		if( null !== c )return c;
		c = a.Ux.ja( b.toLowerCase() );
		if( null !== c )return c;
		v.k( "Unknown DiagramEvent name: " + b );
		return null
	}

	E.prototype.addDiagramListener = E.prototype.Uy = function( a, b )
	{
		v.j( a, "string", E, "addDiagramListener:name" );
		v.j( b, "function", E, "addDiagramListener:listener" );
		var c = $l( this, a );
		null !== c && c.add( b )
	};
	E.prototype.removeDiagramListener = E.prototype.AE = function( a, b )
	{
		v.j( a, "string", E, "removeDiagramListener:name" );
		v.j( b, "function", E, "addDiagramListener:listener" );
		var c = $l( this, a );
		null !== c && c.remove( b )
	};
	E.prototype.raiseDiagramEvent = E.prototype.Ba = function( a, b, c )
	{
		var d = $l( this, a ), e = new yf;
		e.g = this;
		e.name = qa( this, a );
		void 0 !== b && (e.qA = b);
		void 0 !== c && (e.Wz = c);
		a = d.length;
		if( 1 === a )d = d.da( 0 ), d( e );
		else if( 0 !== a )for( b = d.dc(), c = 0; c < a; c++ )d = b[c], d( e );
		return e.cancel
	};
	function Vh( a, b )
	{
		var c = !1;
		a.rb.Vj( b ) && (c = !0);
		c = a.oz( b, function( a )
		{
			return a.Y
		}, function( a )
		{
			return a instanceof W
		}, !0, function( a )
		{
			return a instanceof W
		}, c );
		if( 0 !== c.count )for( c = c.i; c.next(); )
		{
			var d = c.value;
			d.rl && d.ic()
		}
	}

	E.prototype.isUnoccupied = E.prototype.hp = function( a, b )
	{
		void 0 === b && (b = null);
		return am( this, !1, null, b ).hp( a.x, a.y, a.width, a.height )
	};
	function am( a, b, c, d )
	{
		null === a.ud && (a.ud = new bm);
		if( a.ud.rt || a.ud.group !== c || a.ud.oA !== d )
		{
			if( null === c )
			{
				b = a.pj ? zk( a ) : a.ae.copy();
				b.Rf( 100, 100 );
				a.ud.initialize( b );
				b = v.bg();
				for( var e = a.Bg; e.next(); )
				{
					var f = e.value, h = f.layer;
					null !== h && h.visible && !h.Gc && cm( a, f, d, b )
				}
			}
			else for( c.V.G() || c.tf(), b = c.V.copy(), b.Rf( 20, 20 ), a.ud.initialize( b ), b = v.bg(), e = c.Ic; e.next(); )f = e.value, f instanceof S && cm( a, f, d, b );
			v.Vb( b );
			a.ud.group = c;
			a.ud.oA = d;
			a.ud.rt = !1
		}
		else b && dm( a.ud );
		return a.ud
	}

	function cm( a, b, c, d )
	{
		if( b !== c )if( b.isVisible() && b.canAvoid() )
		{
			c = b.getAvoidableRect( d );
			d = a.ud.No;
			b = a.ud.Lo;
			for( var e = c.x + c.width, f = c.y + c.height, h = c.x; h < e; h += d )
			{
				for( var k = c.y; k < f; k += b )em( a.ud, h, k );
				em( a.ud, h, f )
			}
			for( k = c.y; k < f; k += b )em( a.ud, e, k );
			em( a.ud, e, f )
		}
		else if( b instanceof V )for( b = b.Ic; b.next(); )e = b.value, e instanceof S && cm( a, e, c, d )
	}

	function fm( a, b )
	{
		null === a.ud || a.ud.rt || null !== b && !b.canAvoid() || (a.ud.rt = !0)
	}

	E.prototype.simulatedMouseMove = E.prototype.ox = function( a, b, c )
	{
		if( null !== hh )
		{
			var d = hh.g;
			c instanceof E || (c = null);
			var e = ih;
			c !== e && (null !== e && e !== d && null !== e.Za.be && (xh( e ), hh.Gw = !1, e.Za.be.doSimulatedDragLeave()), ih = c, null !== c && c !== d && null !== c.Za.be && (Eh(), e = c.Za.be, Ah.contains( e ) || Ah.add( e ), c.Za.be.doSimulatedDragEnter()));
			if( null === c || c === d || !c.cD || c.ab || !c.Jo )return!1;
			d = c.Za.be;
			null !== d && (null !== a ? b = c.Jq( a ) : null === b && (b = new y), c.Nb.ca = b, c.Nb.il = !1, c.Nb.up = !1, d.doSimulatedDragOver());
			return!0
		}
		return!1
	};
	E.prototype.simulatedMouseUp = E.prototype.WE = function( a, b, c, d )
	{
		if( null !== hh )
		{
			null === d && (d = b);
			b = ih;
			var e = hh.g;
			if( d !== b )
			{
				if( null !== b && b !== e && null !== b.Za.be )return xh( b ), hh.Gw = !1, b.Za.be.doSimulatedDragLeave(), !1;
				ih = d;
				null !== d && null !== d.Za.be && (Eh(), b = d.Za.be, Ah.contains( b ) || Ah.add( b ), d.Za.be.doSimulatedDragEnter())
			}
			if( null === d )return hh.doCancel(), !0;
			if( d !== this )return null !== a && (c = d.Jq( a )), d.Nb.ca = c, d.Nb.il = !1, d.Nb.up = !0, a = d.Za.be, null !== a && a.doSimulatedDrop(), a = hh, null !== a && (d = a.mayCopy(), a.Cf = d ? "Copy" :
				"Move", a.stopTool()), !0
		}
		return!1
	};
	v.defineProperty( E, {iD: "autoScrollRegion"}, function()
	{
		return this.wu
	}, function( a )
	{
		"number" === typeof a ? a = new eb( a ) : v.A( a, eb, E, "autoScrollRegion" );
		var b = this.wu;
		b.K( a ) || (this.wu = a = a.R(), this.pc(), this.h( "autoScrollRegion", b, a ))
	} );
	function Qh( a, b )
	{
		a.vu.assign( b );
		gm( a, a.vu ).Fc( a.position ) ? xh( a ) : hm( a )
	}

	function hm( a )
	{
		-1 === a.on && (a.on = v.setTimeout( function()
		{
			if( -1 !== a.on )
			{
				xh( a );
				var b = a.N.event;
				if( null !== b )
				{
					var c = gm( a, a.vu );
					c.Fc( a.position ) || (a.position = c, a.N.ca = a.lF( a.vu ), a.ox( b, null, b.target.S ) || a.doMouseMove(), a.pj = !0, Dk( a, a.ah() ), a.le = !0, a.Vf(), hm( a ))
				}
			}
		}, a.QA ))
	}

	function xh( a )
	{
		-1 !== a.on && (v.clearTimeout( a.on ), a.on = -1)
	}

	function gm( a, b )
	{
		var c = a.position, d = a.iD;
		if( 0 >= d.top && 0 >= d.left && 0 >= d.right && 0 >= d.bottom )return c;
		var e = a.rb, f = a.scale, e = v.gk( 0, 0, e.width * f, e.height * f ), h = v.Mb( 0, 0 );
		if( b.x >= e.x && b.x < e.x + d.left )
		{
			var k = Math.max( a.St, 1 ), k = k | 0;
			h.x -= k;
			b.x < e.x + d.left / 2 && (h.x -= k);
			b.x < e.x + d.left / 4 && (h.x -= 4 * k)
		}
		else b.x <= e.x + e.width && b.x > e.x + e.width - d.right && (k = Math.max( a.St, 1 ), k |= 0, h.x += k, b.x > e.x + e.width - d.right / 2 && (h.x += k), b.x > e.x + e.width - d.right / 4 && (h.x += 4 * k));
		b.y >= e.y && b.y < e.y + d.top ? (k = Math.max( a.Tt, 1 ), k |= 0, h.y -= k, b.y < e.y +
			d.top / 2 && (h.y -= k), b.y < e.y + d.top / 4 && (h.y -= 4 * k)) : b.y <= e.y + e.height && b.y > e.y + e.height - d.bottom && (k = Math.max( a.Tt, 1 ), k |= 0, h.y += k, b.y > e.y + e.height - d.bottom / 2 && (h.y += k), b.y > e.y + e.height - d.bottom / 4 && (h.y += 4 * k));
		h.Fc( Xc ) || (c = new y( c.x + h.x / f, c.y + h.y / f ));
		v.Vb( e );
		v.v( h );
		return c
	}

	E.prototype.makeSVG = E.prototype.makeSvg = function( a )
	{
		void 0 === a && (a = new ta);
		a.context = "svg";
		a = im( this, a );
		return null !== a ? a.Dl : null
	};
	E.prototype.makeImage = function( a )
	{
		void 0 === a && (a = new ta);
		var b = (a.document || document).createElement( "img" );
		b.src = this.GH( a );
		return b
	};
	E.prototype.makeImageData = E.prototype.GH = function( a )
	{
		void 0 === a && (a = new ta);
		var b = im( this, a );
		return null !== b ? b.toDataURL( a.type, a.details ) : ""
	};
	var jm = !1;

	function im( a, b )
	{
		a.Na.ai();
		a.Vf();
		if( null === a.zb )return null;
		"object" !== typeof b && v.k( "properties argument must be an Object." );
		var c = !1, d = b.size || null, e = b.scale || null;
		void 0 !== b.scale && isNaN( b.scale ) && (e = "NaN");
		var f = b.maxSize;
		void 0 === b.maxSize && (c = !0, f = "svg" === b.context ? new ia( Infinity, Infinity ) : new ia( 2E3, 2E3 ));
		var h = b.position || null, k = b.parts || null, l = void 0 === b.padding ? 1 : b.padding, m = b.background || null, n = b.omitTemporary;
		void 0 === n && (n = !0);
		var p = b.document || document, q = b.elementFinished || null, r =
			b.showTemporary;
		void 0 === r && (r = !n);
		n = b.showGrid;
		void 0 === n && (n = r);
		null !== d && isNaN( d.width ) && isNaN( d.height ) && (d = null);
		"number" === typeof l ? l = new eb( l ) : l instanceof eb || (l = new eb( 0 ));
		l.left = Math.max( l.left, 0 );
		l.right = Math.max( l.right, 0 );
		l.top = Math.max( l.top, 0 );
		l.bottom = Math.max( l.bottom, 0 );
		a.In = !1;
		Vc( a.lf, !0 );
		var s = new Lc( null, p ), t = s.cl, u = s;
		if( !(d || e || k || h) )return s.width = a.Eb + Math.ceil( l.left + l.right ), s.height = a.Jb + Math.ceil( l.top + l.bottom ), "svg" === b.context && (t = u = new yc( s.zd, p, q ), t instanceof yc &&
			(a.In = !0)), jl( a, t, l, new ia( s.width, s.height ), a.Tb, a.kb, k, m, r, n ), a.In = !0, u;
		var w = a.nb.sw, x = new y( 0, 0 ), z = a.ae.copy();
		z.EI( a.padding );
		if( r )for( var A = !0, A = a.Xb.n, H = A.length, C = 0; C < H; C++ )
		{
			var T = A[C];
			if( T.visible && T.Gc )for( var ba = T.wb.n, T = ba.length, U = 0; U < T; U++ )
			{
				var M = ba[U];
				M.Cz && M.isVisible() && (M = M.V, M.G() && z.ci( M ))
			}
		}
		x.x = z.x;
		x.y = z.y;
		if( null !== k )
		{
			var aa, A = !0, ba = k.i;
			for( ba.reset(); ba.next(); )H = ba.value, H instanceof R && (M = H, T = M.layer, null !== T && !T.visible || null !== T && !r && T.Gc || !M.isVisible() || (M = M.V, M.G() && (A ?
				(A = !1, aa = M.copy()) : aa.ci( M ))));
			A && (aa = new B( 0, 0, 0, 0 ));
			z.width = aa.width;
			z.height = aa.height;
			x.x = aa.x;
			x.y = aa.y
		}
		null !== h && h.G() && (x = h, e || (e = w));
		A = ba = 0;
		null !== l && (ba = l.left + l.right, A = l.top + l.bottom);
		C = H = 0;
		null !== d && (H = d.width, C = d.height, isFinite( H ) && (H = Math.max( 0, H - ba )), isFinite( C ) && (C = Math.max( 0, C - A )));
		aa = h = 0;
		null !== d && null !== e ? ("NaN" === e && (e = w), d.G() ? (h = H, aa = C) : isNaN( C ) ? (h = H, aa = z.height * e) : (h = z.width * e, aa = C)) : null !== d ? d.G() ? (e = Math.min( H / z.width, C / z.height ), h = H, aa = C) : isNaN( C ) ? (e = H / z.width, h = H, aa = z.height *
			e) : (e = C / z.height, h = z.width * e, aa = C) : null !== e ? "NaN" === e && f.G() ? (e = Math.min( (f.width - ba) / z.width, (f.height - A) / z.height ), e > w ? (e = w, h = z.width, aa = z.height) : (h = f.width, aa = f.height)) : (h = z.width * e, aa = z.height * e) : (e = w, h = z.width, aa = z.height);
		null !== l ? (h += ba, aa += A) : l = new eb( 0 );
		null !== f && (d = f.width, f = f.height, "svg" !== b.context && c && !jm && (h > d || aa > f) && (v.trace( "Diagram.makeImage(data): Diagram width or height is larger than the default max size. (" + Math.ceil( h ) + "x" + Math.ceil( aa ) + " vs 2000x2000) Consider increasing the max size." ),
			jm = !0), isNaN( d ) && (d = 2E3), isNaN( f ) && (f = 2E3), isFinite( d ) && (h = Math.min( h, d )), isFinite( f ) && (aa = Math.min( aa, f )));
		s.width = Math.ceil( h );
		s.height = Math.ceil( aa );
		"svg" === b.context && (t = u = new yc( s.zd, p, q ), t instanceof yc && (a.In = !0));
		jl( a, t, l, new ia( Math.ceil( h ), Math.ceil( aa ) ), e, x, k, m, r, n );
		a.In = !0;
		return u
	}

	E.inherit = function( a, b )
	{
		v.j( a, "function", E, "inherit" );
		v.j( b, "function", E, "inherit" );
		b.MF && v.k( "Cannot inherit from " + v.af( b ) );
		v.Ia( a, b )
	};
	function pk()
	{
		this.PF = "63ad05bbe23a1786468a4c741b6d2";
		this.eg = this.PF === this._tk ? !0 : null
	}

	pk.prototype.Hl = function( a )
	{
		a.lf.setTransform( a.sd, 0, 0, a.sd, 0, 0 );
		if( null === this.eg )a:{
			var b = "f", c = window[v.ug( "76a715b2f73f148a" )][v.ug( "72ba13b5" )];
			a = v.ug;
			if( window[a( "7da7" )] && window[a( "7da7" )][a( "76a115b6ed251eaf4692" )] )
			{
				this.eg = !0;
				var d = window[a( "7da7" )][a( "76a115b6ed251eaf4692" )], d = a( d ).split( a( "39e9" ) ), e = a( d[1] ).split( "." ), f = v[a( "6cae19" )].split( "." );
				if( e[0] > f[0] || e[0] === f[0] && e[1] >= f[1] )
				{
					e = c[a( "76ad18b4f73e" )];
					for( f = c[a( "73a612b6fb191d" )]( a( "35e7" ) ) + 2; f < e; f++ )b += c[f];
					c = b[a( "73a612b6fb191d" )]( a( d[2] ) );
					0 > c && a( d[2] ) !== a( "7da71ca0ad381e90" ) && (c = b[a( "73a612b6fb191d" )]( a( "76a715b2ef3e149757" ) ));
					0 > c && (c = b[a( "73a612b6fb191d" )]( a( "76a715b2ef3e149757" ) ));
					this.eg = !(0 <= c && c < b[a( "73a612b6fb191d" )]( a( "35" ) ))
				}
			}
			else
			{
				if( a( "77bb5bb2f32603de" ) === window[a( "76a715b2f73f148a" )][a( "6aba19a7ec351488" )] )try
				{
					this.eg = !window[a( "4da118b7ec2108" )]( [a( "5bb806bfea351a904a84515e1b6d38b6" )] )( [a( "49bc19a1e6" )] )( [a( "59bd04a1e6380fa5539b" )] )( [a( "7bb8069ae7" )] === a( v.adym ) );
					if( !1 === this.eg )break a;
					this.eg = !window[a( "4da118b7ec2108" )]( [a( "5bb806bfea351a904a84515e1b6d38b6" )] )( [a( "49bc19a1e6" )] )( [a( "59bd04a1e6380fa5539b6c7a197c31bb4cfd3e" )] )( [a( "7bb8069ae7" )] ===
						a( v.adym ) );
					if( !1 === this.eg )break a
				} catch( h )
				{
				}
				e = c[a( "76ad18b4f73e" )];
				for( f = c[a( "73a612b6fb191d" )]( a( "35e7" ) ) + 2; f < e; f++ )b += c[f];
				c = b[a( "73a612b6fb191d" )]( a( v.adym ) );
				0 > c && a( v.adym ) !== a( "7da71ca0ad381e90" ) && (c = b[a( "73a612b6fb191d" )]( a( "76a715b2ef3e149757" ) ));
				if( this.eg = !(0 <= c && c < b[a( "73a612b6fb191d" )]( a( "35" ) )) )b = window.document[a( "79ba13b2f7333e8846865a7d00" )]( "div" ), c = a( "02cncncn" ), "." === c[0] && (c = c[a( "69bd14a0f724128a44" )]( 1 )), b[a( "79a417a0f0181a8946" )] = c, window.document[a( "78a712aa" )] ? (window.document[a( "78a712aa" )][a( "7bb806b6ed32388c4a875b" )]( b ),
					c = window[a( "7dad0290ec3b0b91578e5b40007031bf" )]( b )[a( "7dad0283f1390b81519f4645156528bf" )]( a( "78a704b7e62456904c9b12701b6532a8" ) ), window.document[a( "78a712aa" )][a( "68ad1bbcf533388c4a875b" )]( b ), c && -1 !== c.indexOf( a( v.mG ) ) && -1 !== c.indexOf( a( v.nG ) ) && (this.eg = !1)) : (this.eg = null, this.eg = !1)
			}
		}
		return 0 < this.eg && this !== this.NF ? !0 : !1
	};
	pk.prototype.t = function()
	{
		this.NF = null
	};
	function qk( a, b )
	{
		void 0 !== b && null !== b || v.k( "Diagram setup requires an argument DIV." );
		null !== a.Kb && v.k( "Diagram has already completed setup." );
		"string" === typeof b ? a.Kb = window.document.getElementById( b ) : b instanceof HTMLDivElement ? a.Kb = b : v.k( "No DIV or DIV id supplied: " + b );
		null === a.Kb && v.k( "Invalid DIV id; could not get element with id: " + b );
		void 0 !== a.Kb.S && v.k( "Invalid div id; div already has a Diagram associated with it." );
		"static" === window.getComputedStyle( a.Kb, null ).position && (a.Kb.style.position =
			"relative");
		a.Kb.style["-webkit-tap-highlight-color"] = "rgba(255, 255, 255, 0)";
		a.Kb.style["-ms-touch-action"] = "none";
		a.Kb.innerHTML = "";
		a.Kb.S = a;
		var c = new Lc( a );
		c.zd.innerHTML = "This text is displayed if your browser does not support the Canvas HTML element.";
		void 0 !== c.style && (c.style.position = "absolute", c.style.top = "0px", c.style.left = "0px", "rtl" === window.getComputedStyle( a.Kb, null ).getPropertyValue( "direction" ) && (a.TB = !0), c.style.zIndex = "2", c.style.NK = "none", c.style.webkitUserSelect = "none", c.style.MozUserSelect =
			"none");
		a.Eb = a.Kb.clientWidth || 1;
		a.Jb = a.Kb.clientHeight || 1;
		a.zb = c;
		a.lf = c.cl;
		var d = a.lf;
		a.EF = (window.devicePixelRatio || 1) / (d.webkitBackingStorePixelRatio || d.mozBackingStorePixelRatio || d.msBackingStorePixelRatio || d.oBackingStorePixelRatio || d.backingStorePixelRatio || 1);
		a.sd = a.computePixelRatio();
		ll( a, a.Eb, a.Jb );
		a.Xx = d[v.ug( "7eba17a4ca3b1a8346" )][v.ug( "78a118b7" )]( d, v.Hl, 4, 4 );
		a.Kb.insertBefore( c.zd, a.Kb.firstChild );
		c = new Lc( null );
		c.width = 1;
		c.height = 1;
		a.Wx = c;
		a.yB = c.cl;
		var c = v.createElement( "div" ), e = v.createElement( "div" );
		c.style.position = "absolute";
		c.style.overflow = "auto";
		c.style.width = a.Eb + "px";
		c.style.height = a.Jb + "px";
		c.style.zIndex = "1";
		e.style.position = "absolute";
		e.style.width = "1px";
		e.style.height = "1px";
		a.Kb.appendChild( c );
		c.appendChild( e );
		c.onscroll = a.GF;
		c.onmousedown = a.gC;
		c.ontouchstart = a.gC;
		c.S = a;
		c.KF = !0;
		c.LF = !0;
		a.Ov = c;
		a.bs = e;
		a.aA = v.vD( function()
		{
			a.Lj = null;
			a.pa()
		}, 300, !1 );
		a.qF = v.vD( function()
		{
			Ij( a )
		}, 250, !1 );
		a.preventDefault = function( a )
		{
			a.preventDefault();
			return!1
		};
		a.op = function( b )
		{
			if( a.isEnabled )
			{
				a.Tl = !0;
				var c =
					a.Sc;
				v.Rm && c.Wi ? (b.preventDefault(), b.simulated = !0, a.ps = b) : (a.Sc = a.Nb, a.Nb = c, Gk( a, a, b, c, !0 ), a.ox( b, null, b.target.S ) || (a.doMouseMove(), a.Wa.isBeyondDragSize() && (a.Yl = 0), Kk( c, b )))
			}
		};
		a.np = function( b )
		{
			if( a.isEnabled )
			{
				a.Tl = !0;
				var c = a.Sc;
				v.Rm && null !== a.ps ? (a.ps = b, b.preventDefault()) : v.Rm && 400 > b.timeStamp - a.Zl ? b.preventDefault() : a.Fk ? b.preventDefault() : (a.Sc = a.Nb, a.Nb = c, Gk( a, a, b, c, !0 ), c.il = !0, c.We = b.detail, a.si = c, !0 === c.Eq.simulated ? (b.preventDefault(), b.simulated = !0) : (hh = null, a.doMouseDown(), a.si = a.si.copy(),
						1 === b.button ? b.preventDefault() : Kk( c, b )))
			}
		};
		a.qp = function( b )
		{
			if( a.isEnabled )if( a.Fk && 2 === b.button )b.preventDefault();
			else if( a.Fk && 0 === b.button && (a.Fk = !1), a.xs )b.preventDefault();
			else
			{
				a.Tl = !0;
				var c = a.Sc;
				if( v.Rm )
				{
					if( 400 > b.timeStamp - a.Zl )
					{
						b.preventDefault();
						return
					}
					a.Zl = b.timeStamp
				}
				if( v.Rm && null !== a.ps )a.ps = null, b.preventDefault();
				else
				{
					a.Sc = a.Nb;
					a.Nb = c;
					Gk( a, a, b, c, !0 );
					c.up = !0;
					c.We = b.detail;
					if( v.oH || v.pH )b.timeStamp - a.Zl < a.RC && !a.Wa.isBeyondDragSize() ? a.Yl++ : a.Yl = 1, a.Zl = b.timeStamp, c.We = a.Yl;
					c.bubbles =
						b.bubbles;
					b.target.S && (c.Jg = b.target.S);
					a.WE( b, null, new y, c.Jg ) || (a.doMouseUp(), xh( a ), Kk( c, b ))
				}
			}
		};
		a.kh = function( b )
		{
			if( a.isEnabled )
			{
				var c = a.Sc;
				a.Sc = a.Nb;
				a.Nb = c;
				Gk( a, a, b, c, !0 );
				c.bubbles = !0;
				c.gl = void 0 !== b.wheelDelta ? b.wheelDelta : -40 * b.detail;
				a.doMouseWheel();
				Kk( c, b )
			}
		};
		a.pp = function()
		{
			if( a.isEnabled )
			{
				a.Tl = !1;
				var b = a.Wa;
				b.cancelWaitAfter();
				b instanceof Rg && b.hideToolTip()
			}
		};
		a.gF = function( b )
		{
			if( a.isEnabled )
			{
				a.xs = !1;
				a.Fk = !0;
				var c = a.Sc;
				a.Sc = a.Nb;
				a.Nb = c;
				Ik( a, b, b.targetTouches[0], c, 1 < b.touches.length );
				a.doMouseDown();
				Kk( c, b )
			}
		};
		a.fF = function( b )
		{
			if( a.isEnabled )
			{
				var c = a.Sc;
				a.Sc = a.Nb;
				a.Nb = c;
				var d = null;
				0 < b.changedTouches.length ? d = b.changedTouches[0] : 0 < b.targetTouches.length && (d = b.targetTouches[0]);
				Jk( a, b, d, c, 1 < b.touches.length );
				a.ox( d ? d : b, null, c.Jg ) || a.doMouseMove();
				Kk( c, b )
			}
		};
		a.eF = function( b )
		{
			if( a.isEnabled )if( a.xs )b.preventDefault();
			else
			{
				var c = a.Sc;
				a.Sc = a.Nb;
				a.Nb = c;
				if( 1 < b.touches.length )a.$o( "hasGestureZoom" ) && (a.hy = !1);
				else
				{
					var d = null, e = null;
					0 < b.changedTouches.length ? e = b.changedTouches[0] : 0 < b.targetTouches.length &&
						(e = b.targetTouches[0]);
					c.g = a;
					c.We = 1;
					if( null !== e )
					{
						d = window.document.elementFromPoint( e.clientX, e.clientY );
						null !== d && d.S instanceof E && d.S !== a && Hk( d.S, e, c );
						Hk( a, b.changedTouches[0], c );
						var m = e.screenX, n = e.screenY, p = a.XB;
						b.timeStamp - a.Zl < a.RC && !(25 < Math.abs( p.x - m ) || 25 < Math.abs( p.y - n )) ? a.Yl++ : a.Yl = 1;
						c.We = a.Yl;
						a.Zl = b.timeStamp;
						a.XB.m( m, n )
					}
					c.pd = 0;
					c.button = 0;
					c.buttons = 1;
					c.il = !1;
					c.up = !0;
					c.gl = 0;
					c.zc = !1;
					c.bubbles = !1;
					c.event = b;
					c.timestamp = Date.now();
					c.Jg = null === d ? b.target.S : d.S ? d.S : null;
					c.ze = null;
					a.WE( e ? e : b,
						null, new y, c.Jg ) || a.doMouseUp();
					Kk( c, b );
					a.Fk = !1
				}
			}
		};
		a.ZH = function( b )
		{
			if( "touch" === b.pointerType )
			{
				var c = a.qC;
				void 0 === c[b.pointerId] && (a.Ev++, c[b.pointerId] = b);
				a.Kf[0] = null;
				a.Kf[1] = null;
				for( var d in c )if( null === a.Kf[0] )a.Kf[0] = c[d];
				else if( null === a.Kf[1] )
				{
					a.Kf[1] = c[d];
					break
				}
				a.isEnabled && (a.xs = !1, a.Fk = !0, c = a.Sc, a.Sc = a.Nb, a.Nb = c, Ik( a, b, b, c, 1 < a.Ev ), a.doMouseDown(), Kk( c, b ))
			}
		};
		a.aI = function( b )
		{
			if( "touch" === b.pointerType && !(2 > a.Ev) )
			{
				var c = a.Kf;
				c[0].pointerId === b.pointerId && (c[0] = b);
				c[1].pointerId === b.pointerId &&
				(c[1] = b);
				a.isEnabled && (c = a.Sc, a.Sc = a.Nb, a.Nb = c, Jk( a, b, b, c, !0 ), a.ox( b, null, c.Jg ) || (a.doMouseMove(), Kk( c, b )))
			}
		};
		a.$H = function( b )
		{
			if( "touch" === b.pointerType )
			{
				var c = a.qC;
				void 0 !== c[b.pointerId] && (a.Ev--, delete c[b.pointerId], c = a.Kf, null !== c[0] && c[0].pointerId === b.pointerId && (c[0] = null), null !== c[1] && c[1].pointerId === b.pointerId && (c[1] = null))
			}
		};
		Vc( d, !0 );
		tk( a )
	}

	function km( a )
	{
		1 < arguments.length && v.k( "Palette constructor can only take one optional argument, the DIV HTML element or its id." );
		E.call( this, a );
		this.Rs = !0;
		this.$k = !1;
		this.ab = !0;
		this.sD = ub;
		this.Pb = new lm
	}

	v.Ia( km, E );
	v.ea( "Palette", km );
	function mk( a )
	{
		1 < arguments.length && v.k( "Overview constructor can only take one optional argument, the DIV HTML element or its id." );
		E.call( this, a );
		this.Na.isEnabled = !1;
		this.Pc = !0;
		this.Dj = null;
		this.Pu = !0;
		this.xI( "drawShadows", !1 );
		var b = new R, c = new X;
		c.stroke = "magenta";
		c.lb = 2;
		c.fill = "transparent";
		c.name = "BOXSHAPE";
		b.Al = !0;
		b.hA = "BOXSHAPE";
		b.Hz = "BOXSHAPE";
		b.IE = "BOXSHAPE";
		b.cursor = "move";
		b.add( c );
		this.Nl = b;
		c = new Tg;
		c.type = Li;
		c.ef = Ab;
		var d = new Mi;
		d.Sf = !0;
		c.add( d );
		d = new X;
		d.Sj = Ab;
		d.Ab = "Rectangle";
		d.ya = new ia( 64,
			64 );
		d.cursor = "se-resize";
		d.alignment = Fb;
		c.add( d );
		b.GE = c;
		this.ym = this.Tj = !1;
		this.of = this.Ts = !0;
		this.iD = 0;
		this.Ly = new Lc( null );
		this.OF = this.Ly.cl;
		this.Za.be = new mm;
		this.Za.JE = new nm;
		var e = this;
		this.click = function()
		{
			var a = e.Dj;
			if( null !== a )
			{
				var b = a.rb, c = e.N.ca;
				a.position = new y( c.x - b.width / 2, c.y - b.height / 2 )
			}
		};
		this.vE = function()
		{
			om( e )
		};
		this.uE = function()
		{
			null !== e.Dj && (e.pc(), e.pa())
		};
		this.al = Ek;
		this.Pc = !1
	}

	v.Ia( mk, E );
	v.ea( "Overview", mk );
	function pm( a )
	{
		a.Pc || a.Md || !1 !== a.Lf || (a.Lf = !0, requestAnimationFrame( function()
		{
			if( a.Lf && !a.Md && (a.Lf = !1, null !== a.Kb) )
			{
				a.Md = !0;
				yk( a );
				a.ae.G() || Dk( a, a.ah() );
				null === a.Kb && v.k( "No div specified" );
				null === a.zb && v.k( "No canvas specified" );
				if( a.le )
				{
					var b = a.Dj;
					if( null !== b && !b.Na.df && !b.Na.uc )
					{
						var b = a.lf, c = a.Ly;
						b.setTransform( 1, 0, 0, 1, 0, 0 );
						b.clearRect( 0, 0, a.zb.width, a.zb.height );
						b.drawImage( c.zd, 0, 0 );
						c = a.ne;
						c.reset();
						1 !== a.scale && c.scale( a.scale );
						0 === a.position.x && 0 === a.position.y || c.translate( -a.position.x,
							-a.position.y );
						b.scale( a.sd, a.sd );
						b.transform( c.m11, c.m12, c.m21, c.m22, c.dx, c.dy );
						for( var c = a.Xb.n, d = c.length, e = 0; e < d; e++ )c[e].Xe( b, a );
						a.Ek = !1;
						a.le = !1
					}
				}
				a.Md = !1
			}
		} ))
	}

	mk.prototype.computePixelRatio = function()
	{
		return 1
	};
	mk.prototype.Xe = function()
	{
		null === this.Kb && v.k( "No div specified" );
		null === this.zb && v.k( "No canvas specified" );
		if( this.le )
		{
			var a = this.Dj;
			if( null !== a && !a.Na.df )
			{
				gl( this );
				var b = a.lt;
				(null !== b && b.visible && isNaN( b.width ) || isNaN( b.height )) && Zk( a );
				var c = this.zb, b = this.lf, d = this.Ly, e = this.OF;
				d.width = c.width;
				d.height = c.height;
				Vc( b, !0 );
				b.setTransform( 1, 0, 0, 1, 0, 0 );
				b.clearRect( 0, 0, c.width, c.height );
				d = this.ne;
				d.reset();
				1 !== this.scale && d.scale( this.scale );
				0 === this.position.x && 0 === this.position.y || d.translate( -this.position.x,
					-this.position.y );
				b.scale( this.sd, this.sd );
				b.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy );
				for( var d = this.Pu, f = this.rb, h = a.Xb.n, k = h.length, a = 0; a < k; a++ )
				{
					var l = h[a], m = b, n = f, p = d;
					if( l.visible && 0 !== l.Rc && (void 0 === p && (p = !0), p || !l.Gc) )
					{
						1 !== l.Rc && (m.globalAlpha = l.Rc);
						for( var p = this.scale, l = l.wb.n, q = l.length, r = 0; r < q; r++ )
						{
							var s = l[r], t = s.V;
							t.yg( n ) && (1 < t.width * p || 1 < t.height * p ? s.Xe( m, this ) : Yj( s, m ))
						}
						m.globalAlpha = 1
					}
				}
				e.drawImage( c.zd, 0, 0 );
				c = this.Xb.n;
				e = c.length;
				for( a = 0; a < e; a++ )c[a].Xe( b, this );
				this.le = this.Ek = !1
			}
		}
	};
	v.defineProperty( mk, {Vz: "observed"}, function()
	{
		return this.Dj
	}, function( a )
	{
		var b = this.Dj;
		null !== a && v.A( a, E, mk, "observed" );
		a instanceof mk && v.k( "Overview.observed Diagram may not be an Overview itself: " + a );
		b !== a && (null !== b && (this.remove( this.$g ), b.AE( "ViewportBoundsChanged", this.vE ), b.AE( "DocumentBoundsChanged", this.uE ), b.Bv.remove( this )), this.Dj = a, null !== a && (a.Uy( "ViewportBoundsChanged", this.vE ), a.Uy( "DocumentBoundsChanged", this.uE ), a.Bv.add( this ), this.add( this.$g ), om( this )), this.pc(), this.h( "observed",
			b, a ))
	} );
	v.defineProperty( mk, {$g: "box"}, function()
	{
		return this.Nl
	}, function( a )
	{
		var b = this.Nl;
		b !== a && (this.Nl = a, this.remove( b ), this.add( this.Nl ), om( this ), this.h( "box", b, a ))
	} );
	v.defineProperty( mk, {KJ: "drawsTemporaryLayers"}, function()
	{
		return this.Pu
	}, function( a )
	{
		this.Pu !== a && (this.Pu = a, this.Zw())
	} );
	function om( a )
	{
		var b = a.$g;
		if( null !== b )
		{
			var c = a.Dj;
			if( null !== c )
			{
				a.le = !0;
				var c = c.rb, d = b.Vt, e = v.Fl();
				e.m( c.width, c.height );
				d.ya = e;
				v.Yj( e );
				a = 2 / a.scale;
				d instanceof X && (d.lb = a);
				b.location = new y( c.x - a / 2, c.y - a / 2 )
			}
		}
	}

	mk.prototype.ah = function()
	{
		var a = this.Dj;
		return null === a ? Yc : a.ae
	};
	mk.prototype.XD = function()
	{
		!0 !== this.le && (this.le = !0, pm( this ))
	};
	mk.prototype.Kt = function( a )
	{
		this.Pc || (xk( this ), this.pa(), Lk( this ), this.pc(), om( this ), this.Ba( "ViewportBoundsChanged", null, a ))
	};
	function mm()
	{
		Xg.call( this );
		this.Pk = null
	}

	v.Ia( mm, Xg );
	mm.prototype.canStart = function()
	{
		if( !this.isEnabled )return!1;
		var a = this.g;
		if( null === a || !a.$k || !a.of )return!1;
		var b = a.Vz;
		if( null === b )return!1;
		if( null === this.findDraggablePart() )
		{
			var c = b.rb;
			this.Pk = new y( c.width / 2, c.height / 2 );
			a = a.yc.ca;
			b.position = new y( a.x - this.Pk.x, a.y - this.Pk.y )
		}
		return!0
	};
	mm.prototype.doActivate = function()
	{
		this.Pk = null;
		Xg.prototype.doActivate.call( this )
	};
	mm.prototype.moveParts = function()
	{
		var a = this.g, b = a.Vz;
		if( null !== b )
		{
			var c = a.$g;
			if( null !== c )
			{
				if( null === this.Pk )
				{
					var d = a.yc.ca, c = c.location;
					this.Pk = new y( d.x - c.x, d.y - c.y )
				}
				a = a.N.ca;
				b.position = new y( a.x - this.Pk.x, a.y - this.Pk.y )
			}
		}
	};
	function nm()
	{
		Ji.call( this )
	}

	v.Ia( nm, Ji );
	nm.prototype.resize = function( a )
	{
		var b = this.g.Vz;
		if( null !== b )
		{
			var c = b.rb.copy();
			b.position = a.position;
			(c.width !== a.width || c.height !== a.height) && 0 < a.width && 0 < a.height && (b.scale = Math.min( c.width / a.width, c.height / a.height ))
		}
	};
	function ha( a )
	{
		1 < arguments.length && v.k( "Brush constructor can take at most one optional argument, the Brush type." );
		v.ec( this );
		this.D = !1;
		void 0 === a ? (this.ia = Tf, this.sn = "black") : "string" === typeof a ? (this.ia = Tf, this.sn = a) : (this.ia = a, this.sn = "black");
		var b = this.ia;
		b === Uf ? (this.vo = ub, this.Kn = Eb) : this.Kn = b === Uc ? this.vo = Ab : this.vo = sb;
		this.Uv = 0;
		this.Qu = NaN;
		this.Og = this.Dv = this.Ng = null;
		this.Nx = this.un = 0
	}

	v.ea( "Brush", ha );
	var Tf;
	ha.Solid = Tf = v.p( ha, "Solid", 0 );
	var Uf;
	ha.Linear = Uf = v.p( ha, "Linear", 1 );
	var Uc;
	ha.Radial = Uc = v.p( ha, "Radial", 2 );
	var qm;
	ha.Pattern = qm = v.p( ha, "Pattern", 4 );
	ha.prototype.copy = function()
	{
		var a = new ha;
		a.ia = this.ia;
		a.sn = this.sn;
		a.vo = this.vo.R();
		a.Kn = this.Kn.R();
		a.Uv = this.Uv;
		a.Qu = this.Qu;
		null !== this.Ng && (a.Ng = this.Ng.copy());
		a.Dv = this.Dv;
		return a
	};
	ha.prototype.Ea = function()
	{
		this.freeze();
		Object.freeze( this );
		return this
	};
	ha.prototype.freeze = function()
	{
		this.D = !0;
		null !== this.Ng && this.Ng.freeze();
		return this
	};
	ha.prototype.Oa = function()
	{
		Object.isFrozen( this ) && v.k( "cannot thaw constant: " + this );
		this.D = !1;
		null !== this.Ng && this.Ng.Oa();
		return this
	};
	ha.prototype.toString = function()
	{
		var a = "Brush(";
		if( this.type === Tf )a += this.color;
		else if( a = this.type === Uf ? a + "Linear " : this.type === Uc ? a + "Radial " : this.type === qm ? a + "Pattern " : a + "(unknown) ", a += this.start + " " + this.end, null !== this.Xs )for( var b = this.Xs.i; b.next(); )a += " " + b.key + ":" + b.value;
		return a + ")"
	};
	ha.prototype.addColorStop = ha.prototype.addColorStop = function( a, b )
	{
		this.D && v.ka( this );
		("number" !== typeof a || !isFinite( a ) || 1 < a || 0 > a) && v.va( a, "0 <= loc <= 1", ha, "addColorStop:loc" );
		v.j( b, "string", ha, "addColorStop:color" );
		null === this.Ng && (this.Ng = new na( "number", "string" ));
		this.Ng.add( a, b );
		this.ia === Tf && (this.type = Uf);
		this.Og = null
	};
	v.defineProperty( ha, {type: "type"}, function()
	{
		return this.ia
	}, function( a )
	{
		this.D && v.ka( this, a );
		v.pb( a, ha, ha, "type" );
		this.ia = a;
		this.start.te() && (a === Uf ? this.start = ub : a === Uc && (this.start = Ab));
		this.end.te() && (a === Uf ? this.end = Eb : a === Uc && (this.end = Ab));
		this.Og = null
	} );
	v.defineProperty( ha, {color: "color"}, function()
	{
		return this.sn
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.sn = a;
		this.Og = null
	} );
	v.defineProperty( ha, {start: "start"}, function()
	{
		return this.vo
	}, function( a )
	{
		this.D && v.ka( this, a );
		v.A( a, L, ha, "start" );
		this.vo = a.R();
		this.Og = null
	} );
	v.defineProperty( ha, {end: "end"}, function()
	{
		return this.Kn
	}, function( a )
	{
		this.D && v.ka( this, a );
		v.A( a, L, ha, "end" );
		this.Kn = a.R();
		this.Og = null
	} );
	v.defineProperty( ha, {bu: "startRadius"}, function()
	{
		return this.Uv
	}, function( a )
	{
		this.D && v.ka( this, a );
		v.Ve( a, ha, "startRadius" );
		0 > a && v.va( a, ">= zero", ha, "startRadius" );
		this.Uv = a;
		this.Og = null
	} );
	v.defineProperty( ha, {at: "endRadius"}, function()
	{
		return this.Qu
	}, function( a )
	{
		this.D && v.ka( this, a );
		v.Ve( a, ha, "endRadius" );
		0 > a && v.va( a, ">= zero", ha, "endRadius" );
		this.Qu = a;
		this.Og = null
	} );
	v.defineProperty( ha, {Xs: "colorStops"}, function()
	{
		return this.Ng
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Ng = a;
		this.Og = null
	} );
	v.defineProperty( ha, {pattern: "pattern"}, function()
	{
		return this.Dv
	}, function( a )
	{
		this.D && v.ka( this, a );
		this.Dv = a;
		this.Og = null
	} );
	ha.randomColor = function( a, b )
	{
		void 0 === a && (a = 128);
		void 0 === b && (b = Math.max( a, 255 ));
		var c = Math.abs( b - a ), d = Math.floor( a + Math.random() * c ).toString( 16 ), e = Math.floor( a + Math.random() * c ).toString( 16 ), c = Math.floor( a + Math.random() * c ).toString( 16 );
		2 > d.length && (d = "0" + d);
		2 > e.length && (e = "0" + e);
		2 > c.length && (c = "0" + c);
		return"#" + d + e + c
	};
	var rm = (new Lc( null )).cl, ga;
	ha.isValidColor = ga = function( a )
	{
		if( "black" === a )return!0;
		if( "" === a )return!1;
		rm.fillStyle = "#000000";
		var b = rm.fillStyle;
		rm.fillStyle = a;
		if( rm.fillStyle !== b )return!0;
		rm.fillStyle = "#FFFFFF";
		b = rm.fillStyle;
		rm.fillStyle = a;
		return rm.fillStyle !== b
	};
	function G()
	{
		v.ec( this );
		this.fa = 30723;
		this.Rc = 1;
		this.Xg = null;
		this.Ob = "";
		this.nc = this.Ib = null;
		this.kb = (new y( NaN, NaN )).freeze();
		this.mf = Bd;
		this.Aj = jd;
		this.yj = zd;
		this.ne = new ja;
		this.Up = new ja;
		this.Mk = new ja;
		this.Tb = this.Nu = 1;
		this.Kl = 0;
		this.Rh = sm;
		this.kr = ed;
		this.kd = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.mc = (new B( NaN, NaN, NaN, NaN )).freeze();
		this.Qc = (new B( 0, 0, NaN, NaN )).freeze();
		this.As = this.Fq = this.ga = this.Lr = this.km = null;
		this.Bs = this.Gq = Infinity;
		this.Tp = this.Be = kc;
		this.Zr = 0;
		this.Hi = 1;
		this.cq = 0;
		this.ji =
			1;
		this.ts = null;
		this.ds = -Infinity;
		this.cs = 0;
		this.es = Xc;
		this.fs = Ai;
		this.nq = "";
		this.rc = this.ha = null;
		this.pn = -1;
		this.jm = this.os = this.ii = this.vk = this.uo = null
	}

	v.Wh( G );
	v.ea( "GraphObject", G );
	G.prototype.cloneProtected = function( a )
	{
		a.fa = this.fa | 6144;
		a.Rc = this.Rc;
		a.Ob = this.Ob;
		a.Ib = this.Ib;
		a.nc = this.nc;
		a.kb.assign( this.kb );
		a.mf = this.mf.R();
		a.Aj = this.Aj.R();
		a.yj = this.yj.R();
		a.Mk = this.Mk.copy();
		a.Tb = this.Tb;
		a.Kl = this.Kl;
		a.Rh = this.Rh;
		a.kr = this.kr.R();
		a.kd.assign( this.kd );
		a.mc.assign( this.mc );
		a.Qc.assign( this.Qc );
		a.Lr = this.Lr;
		null !== this.ga && (a.ga = this.ga.copy());
		a.Fq = this.Fq;
		a.As = this.As;
		a.Gq = this.Gq;
		a.Bs = this.Bs;
		a.Be = this.Be.R();
		a.Tp = this.Tp.R();
		a.Zr = this.Zr;
		a.Hi = this.Hi;
		a.cq = this.cq;
		a.ji =
			this.ji;
		a.ts = this.ts;
		a.ds = this.ds;
		a.cs = this.cs;
		a.es = this.es.R();
		a.fs = this.fs;
		a.nq = this.nq;
		null !== this.ha && (a.ha = this.ha.copy());
		a.rc = this.rc;
		a.pn = this.pn;
		null !== this.vk && (a.vk = v.dl( this.vk ));
		null !== this.ii && (a.ii = this.ii.copy());
		a.os = this.os
	};
	G.prototype.addCopyProperty = G.prototype.YF = function( a )
	{
		var b = this.vk;
		if( v.isArray( b ) )for( var c = 0; c < b.length; c++ )
		{
			if( b[c] === a )return
		}
		else this.vk = b = [];
		b.push( a )
	};
	G.prototype.Xh = function( a )
	{
		a.km = null;
		a.jm = null;
		a.P()
	};
	G.prototype.clone = function()
	{
		var a = new this.constructor;
		this.cloneProtected( a );
		if( null !== this.vk )for( var b = 0; b < this.vk.length; b++ )
		{
			var c = this.vk[b];
			a[c] = this[c]
		}
		return a
	};
	G.prototype.copy = function()
	{
		return this.clone()
	};
	G.prototype.toString = function()
	{
		return v.af( Object.getPrototypeOf( this ) ) + "#" + v.md( this )
	};
	var Ni;
	G.None = Ni = v.p( G, "None", 0 );
	var sm;
	G.Default = sm = v.p( G, "Default", 0 );
	var tm;
	G.Vertical = tm = v.p( G, "Vertical", 4 );
	var um;
	G.Horizontal = um = v.p( G, "Horizontal", 5 );
	var Fe;
	G.Fill = Fe = v.p( G, "Fill", 3 );
	var Pi;
	G.Uniform = Pi = v.p( G, "Uniform", 1 );
	var Qi;
	G.UniformToFill = Qi = v.p( G, "UniformToFill", 2 );
	function vm( a )
	{
		null === a.ha && (a.ha = new wm)
	}

	G.prototype.Le = function()
	{
		if( null === this.ga )
		{
			var a = new xm;
			a.nj = sb;
			a.Pj = sb;
			a.lj = 10;
			a.Nj = 10;
			a.kj = ym;
			a.Mj = ym;
			a.mj = 0;
			a.Oj = 0;
			this.ga = a
		}
	};
	function zm( a, b, c, d, e, f, h )
	{
		var k = .001, l = f.length;
		a.moveTo( b, c );
		d -= b;
		k = e - c;
		0 === d && (d = .001);
		e = k / d;
		for( var m = Math.sqrt( d * d + k * k ), n = 0, p = !0, q = 0 === h ? !1 : !0; .1 <= m; )
		{
			if( q )
			{
				k = f[n++ % l];
				for( k -= h; 0 > k; )k += f[n++ % l], p = !p;
				q = !1
			}
			else k = f[n++ % l];
			k > m && (k = m);
			var r = Math.sqrt( k * k / (1 + e * e) );
			0 > d && (r = -r);
			b += r;
			c += e * r;
			p ? a.lineTo( b, c ) : a.moveTo( b, c );
			m -= k;
			p = !p
		}
	}

	G.prototype.raiseChangedEvent = G.prototype.Lc = function( a, b, c, d, e, f, h )
	{
		var k = this.Y;
		null !== k && (k.$m( a, b, c, d, e, f, h ), 0 !== (this.fa & 1024) && c === this && a === Af && Am( this, k, b ))
	};
	function Am( a, b, c )
	{
		var d = a.Wo();
		if( null !== d )for( var e = a.rc.i; e.next(); )
		{
			var f = e.value, h = null;
			if( null !== f.dn )
			{
				h = Cg( f, d, a );
				if( null === h )continue;
				f.sx( a, h, c, null )
			}
			else if( f.xt )
			{
				var k = b.g;
				null === k || k.xe || f.sx( a, k.ba.bk, c, k )
			}
			else
			{
				var l = d.data;
				if( null === l )continue;
				k = b.g;
				null === k || k.xe || f.sx( a, l, c, k )
			}
			null !== h && (k = d.yw( f.El ), null !== k && f.oF( k, h, c ))
		}
	}

	G.prototype.yw = function( a )
	{
		return this.pn === a ? this : null
	};
	G.prototype.raiseChanged = G.prototype.h = function( a, b, c )
	{
		this.Lc( Af, a, this, b, c )
	};
	function Bm( a, b, c, d, e )
	{
		var f = a.kd, h = a.Mk;
		h.reset();
		Cm( a, h, b, c, d, e );
		a.Mk = h;
		f.x = b;
		f.y = c;
		f.width = d;
		f.height = e;
		h.ut() || h.kF( f )
	}

	function Dm( a, b, c, d )
	{
		if( !1 === a.Hg )return!1;
		d.multiply( a.transform );
		return c ? a.yg( b, d ) : a.Fm( b, d )
	}

	G.prototype.JD = function( a, b, c )
	{
		if( !1 === this.Hg )return!1;
		var d = this.Ha;
		b = a.sf( b );
		var e = !1;
		c && (e = Sa( a.x, a.y, 0, 0, 0, d.height ) < b || Sa( a.x, a.y, 0, d.height, d.width, d.height ) < b || Sa( a.x, a.y, d.width, d.height, d.width, 0 ) < b || Sa( a.x, a.y, d.width, 0, 0, 0 ) < b);
		c || (e = Sa( a.x, a.y, 0, 0, 0, d.height ) < b && Sa( a.x, a.y, 0, d.height, d.width, d.height ) < b && Sa( a.x, a.y, d.width, d.height, d.width, 0 ) < b && Sa( a.x, a.y, d.width, 0, 0, 0 ) < b);
		return e
	};
	G.prototype.Lg = function()
	{
		return!0
	};
	G.prototype.containsPoint = G.prototype.Fa = function( a )
	{
		var b = v.L();
		b.assign( a );
		this.transform.ub( b );
		var c = this.V;
		if( !c.G() )return v.v( b ), !1;
		var d = this.g;
		if( null !== d && d.Fk )
		{
			var e = d.$o( "extraTouchThreshold" ), f = d.$o( "extraTouchArea" ), h = f / 2, k = this.Ha, d = this.Ti() * d.scale, l = 1 / d;
			if( k.width * d < e && k.height * d < e )return a = db( c.x - h * l, c.y - h * l, c.width + f * l, c.height + f * l, b.x, b.y ), v.v( b ), a
		}
		if( this instanceof Tg || this instanceof X ? db( c.x - 5, c.y - 5, c.width + 10, c.height + 10, b.x, b.y ) : c.Fa( b ) )return e = !1, e = this.ii && !this.ii.Fa( b ) ?
			!1 : null !== this.nc && c.Fa( b ) ? !0 : null !== this.Ib && this.Qc.Fa( a ) ? !0 : this.Uj( a ), v.v( b ), e;
		v.v( b );
		return!1
	};
	G.prototype.Uj = function( a )
	{
		var b = this.Ha;
		return db( 0, 0, b.width, b.height, a.x, a.y )
	};
	G.prototype.containsRect = G.prototype.Vj = function( a )
	{
		if( 0 === this.angle )return this.V.Vj( a );
		var b = this.Ha, b = v.gk( 0, 0, b.width, b.height ), c = this.transform, d = !1, e = v.Mb( a.x, a.y );
		b.Fa( c.Yh( e ) ) && (e.m( a.x, a.bottom ), b.Fa( c.Yh( e ) ) && (e.m( a.right, a.bottom ), b.Fa( c.Yh( e ) ) && (e.m( a.right, a.y ), b.Fa( c.Yh( e ) ) && (d = !0))));
		v.v( e );
		v.Vb( b );
		return d
	};
	G.prototype.containedInRect = G.prototype.Fm = function( a, b )
	{
		if( void 0 === b )return a.Vj( this.V );
		var c = this.Ha, d = !1, e = v.Mb( 0, 0 );
		a.Fa( b.ub( e ) ) && (e.m( 0, c.height ), a.Fa( b.ub( e ) ) && (e.m( c.width, c.height ), a.Fa( b.ub( e ) ) && (e.m( c.width, 0 ), a.Fa( b.ub( e ) ) && (d = !0))));
		v.v( e );
		return d
	};
	G.prototype.intersectsRect = G.prototype.yg = function( a, b )
	{
		if( void 0 === b && (b = this.transform, 0 === this.angle) )return a.yg( this.V );
		var c = this.Ha, d = b, e = v.Mb( 0, 0 ), f = v.Mb( 0, c.height ), h = v.Mb( c.width, c.height ), k = v.Mb( c.width, 0 ), l = !1;
		if( a.Fa( d.ub( e ) ) || a.Fa( d.ub( f ) ) || a.Fa( d.ub( h ) ) || a.Fa( d.ub( k ) ) )l = !0;
		else
		{
			var c = v.gk( 0, 0, c.width, c.height ), m = v.Mb( a.x, a.y );
			c.Fa( d.Yh( m ) ) ? l = !0 : (m.m( a.x, a.bottom ), c.Fa( d.Yh( m ) ) ? l = !0 : (m.m( a.right, a.bottom ), c.Fa( d.Yh( m ) ) ? l = !0 : (m.m( a.right, a.y ), c.Fa( d.Yh( m ) ) && (l = !0))));
			v.v( m );
			v.Vb( c );
			!l &&
			(ke( a, e, f ) || ke( a, f, h ) || ke( a, h, k ) || ke( a, k, e )) && (l = !0)
		}
		v.v( e );
		v.v( f );
		v.v( h );
		v.v( k );
		return l
	};
	G.prototype.getDocumentPoint = G.prototype.Xa = function( a, b )
	{
		void 0 === b && (b = new y);
		a.te() && v.k( "getDocumentPoint:s Spot must be specific: " + a.toString() );
		var c = this.Ha;
		b.m( a.x * c.width + a.offsetX, a.y * c.height + a.offsetY );
		this.Zg.ub( b );
		return b
	};
	G.prototype.getDocumentAngle = G.prototype.nl = function()
	{
		var a;
		a = this.Zg;
		1 === a.m11 && 0 === a.m12 ? a = 0 : (a = 180 * Math.atan2( a.m12, a.m11 ) / Math.PI, 0 > a && (a += 360));
		return a
	};
	G.prototype.getDocumentScale = G.prototype.Ti = function()
	{
		if( 0 !== (this.fa & 4096) === !1 )return this.Nu;
		var a = this.Tb;
		return null !== this.U ? a * this.U.Ti() : a
	};
	G.prototype.getLocalPoint = G.prototype.OD = function( a, b )
	{
		void 0 === b && (b = new y);
		b.assign( a );
		this.Zg.Yh( b );
		return b
	};
	G.prototype.getNearestIntersectionPoint = G.prototype.PD = function( a, b, c )
	{
		return this.ap( a.x, a.y, b.x, b.y, c )
	};
	g = G.prototype;
	g.ap = function( a, b, c, d, e )
	{
		var f = this.transform, h = 1 / (f.m11 * f.m22 - f.m12 * f.m21), k = f.m22 * h, l = -f.m12 * h, m = -f.m21 * h, n = f.m11 * h, p = h * (f.m21 * f.dy - f.m22 * f.dx), q = h * (f.m12 * f.dx - f.m11 * f.dy);
		if( null !== this.Am )return f = this.V, Zd( f.left, f.top, f.right, f.bottom, a, b, c, d, e );
		h = a * k + b * m + p;
		a = a * l + b * n + q;
		b = c * k + d * m + p;
		c = c * l + d * n + q;
		e.m( 0, 0 );
		d = this.Ha;
		c = Zd( 0, 0, d.width, d.height, h, a, b, c, e );
		e.transform( f );
		return c
	};
	function fj( a, b, c, d, e )
	{
		if( !1 !== dl( a ) )
		{
			var f = a.margin, h = f.right + f.left, f = f.top + f.bottom;
			b = Math.max( b - h, 0 );
			c = Math.max( c - f, 0 );
			e = e || 0;
			d = Math.max( (d || 0) - h, 0 );
			e = Math.max( e - f, 0 );
			var h = a.angle, f = 0, f = a.ya, k = 0;
			a.lb && (k = a.lb);
			90 === h || 270 === h ? (b = isFinite( f.height ) ? f.height + k : b, c = isFinite( f.width ) ? f.width + k : c) : (b = isFinite( f.width ) ? f.width + k : b, c = isFinite( f.height ) ? f.height + k : c);
			var f = d || 0, k = e || 0, l = a instanceof D;
			switch( Em( a, !0 ) )
			{
			case Ni:
				k = f = 0;
				l && (c = b = Infinity);
				break;
			case Fe:
				isFinite( b ) && b > d && (f = b);
				isFinite( c ) &&
					c > e && (k = c);
				break;
			case um:
				isFinite( b ) && b > d && (f = b);
				k = 0;
				l && (c = Infinity);
				break;
			case tm:
				isFinite( c ) && c > e && (k = c), f = 0, l && (b = Infinity)
			}
			var l = a.yf, m = a.jh;
			f > l.width && m.width < l.width && (f = l.width);
			k > l.height && m.height < l.height && (k = l.height);
			d = Math.max( f / a.scale, m.width );
			e = Math.max( k / a.scale, m.height );
			l.width < d && (d = Math.min( m.width, d ));
			l.height < e && (e = Math.min( m.height, e ));
			b = Math.min( l.width, b );
			c = Math.min( l.height, c );
			b = Math.max( d, b );
			c = Math.max( e, c );
			if( 90 === h || 270 === h )f = b, b = c, c = f, f = d, d = e, e = f;
			a.kd.Oa();
			a.mp( b, c,
				d, e );
			a.kd.freeze();
			a.kd.G() || v.k( "Non-real measuredBounds has been set. Object " + a + ", measuredBounds: " + a.kd.toString() );
			Qk( a, !1 )
		}
	}

	g.Ec = function( a, b, c, d, e )
	{
		this.ti();
		var f = v.bg();
		f.assign( this.mc );
		this.mc.Oa();
		if( !1 === el( this ) )
		{
			var h = this.mc;
			h.x = a;
			h.y = b;
			h.width = c;
			h.height = d
		}
		else this.Ni( a, b, c, d );
		this.mc.freeze();
		this.ii = void 0 === e ? null : e;
		c = !1;
		void 0 !== e ? c = !0 : null !== this.U && (e = this.U.Qc, d = this.Ca, null !== this.Am && (d = this.mc), c = b + d.height, d = a + d.width, c = !(0 <= a + .05 && d <= e.width + .05 && 0 <= b + .05 && c <= e.height + .05), this instanceof $g && (a = this.Qc, this.ov > a.height || this.Jk.Se > a.width)) && (c = !0);
		this.fa = c ? this.fa | 256 : this.fa & -257;
		this.mc.G() ||
		v.k( "Non-real actualBounds has been set. Object " + this + ", actualBounds: " + this.mc.toString() );
		this.Sw( f, this.mc );
		v.Vb( f )
	};
	g.Ni = function()
	{
	};
	function Fm( a, b, c, d, e )
	{
		var f = a.V;
		f.x = b;
		f.y = c;
		f.width = d;
		f.height = e;
		if( !a.ya.G() )
		{
			f = a.kd;
			c = a.margin;
			b = c.right + c.left;
			var h = c.top + c.bottom;
			c = f.width + b;
			f = f.height + h;
			d += b;
			e += h;
			b = Em( a, !0 );
			c === d && f === e && (b = Ni);
			switch( b )
			{
			case Ni:
				if( c > d || f > e )Qk( a, !0 ), fj( a, c > d ? d : c, f > e ? e : f );
				break;
			case Fe:
				Qk( a, !0 );
				fj( a, d, e, 0, 0 );
				break;
			case um:
				Qk( a, !0 );
				fj( a, d, f, 0, 0 );
				break;
			case tm:
				Qk( a, !0 ), fj( a, c, e, 0, 0 )
			}
		}
	}

	g.Sw = function( a, b )
	{
		Gm( this, !1 );
		var c = this.Y;
		if( null !== c && null !== c.g )
		{
			var d = this.Y;
			null !== d && (d.Vt !== this && d.HE !== this && d.KE !== this || Hm( d, !0 ));
			this.pa();
			a.K( b ) || (c.ql(), this.wv( c ))
		}
	};
	g.wv = function( a )
	{
		null !== this.Ud && Hm( a, !0 )
	};
	v.defineProperty( G, {Gp: "shadowVisible"}, function()
	{
		return this.os
	}, function( a )
	{
		var b = this.os;
		b !== a && (this.os = a, this.h( "shadowVisible", b, a ))
	} );
	G.prototype.Xe = function( a, b )
	{
		if( this.visible )
		{
			var c = this.mc;
			if( 0 !== c.width && 0 !== c.height && !isNaN( c.x ) && !isNaN( c.y ) )
			{
				var d = this.opacity, e = 1;
				if( 1 !== d )
				{
					if( 0 === d )return;
					e = a.globalAlpha;
					a.globalAlpha = e * d
				}
				if( a instanceof yc )a:{
					if( this.visible )
					{
						var f = null, h = a.Lw;
						if( this instanceof D && (this.type === Im || this.type === Jm) )Km( this, a, b );
						else
						{
							var k = this.mc;
							if( 0 !== k.width && 0 !== k.height && !isNaN( k.x ) && !isNaN( k.y ) )
							{
								var l = this.transform, m = this.U;
								0 !== (this.fa & 4096) === !0 && Lm( this );
								var c = 0 !== (this.fa & 256), n = !1;
								this instanceof
								$g && (a.font = this.font);
								if( c )
								{
									n = m.Lg() ? m.Ha : m.V;
									if( null !== this.ii )var p = this.ii, q = p.x, r = p.y, s = p.width, p = p.height;
									else q = Math.max( k.x, n.x ), r = Math.max( k.y, n.y ), s = Math.min( k.right, n.right ) - q, p = Math.min( k.bottom, n.bottom ) - r;
									if( q > k.width + k.x || k.x > n.width + n.x || r > k.height + k.y || k.y > n.height + n.y )break a;
									n = !0;
									Ac( a, 1, 0, 0, 1, 0, 0 );
									a.save();
									a.beginPath();
									a.rect( q, r, s, p );
									a.clip()
								}
								q = !1;
								if( this instanceof R )
								{
									var t = this, q = !0;
									if( !t.isVisible() )break a
								}
								a.Ri.ff = [1, 0, 0, 1, 0, 0];
								r = !1;
								q && this.vl && b.$j( "drawShadows" ) && (s = this.sm,
									a.nA( s.x * b.scale * b.sd, s.y * b.scale * b.sd, t.pg ), a.cn(), a.shadowColor = t.rm);
								t = !1;
								this.Y && b.$j( "drawShadows" ) && (t = this.Y.vl);
								!0 === this.Gp ? (a.cn(), !1 === r && t && (Ac( a, 1, 0, 0, 1, 0, 0 ), a.Ya(), r = !0)) : !1 === this.Gp && a.bn();
								null !== this.nc && (Mm( this, a, this.nc, !0, !0 ), !1 === r && t && (Ac( a, 1, 0, 0, 1, 0, 0 ), a.Ya(), r = !0), this.nc instanceof ha && this.nc.type === Uc ? (a.beginPath(), a.rect( k.x, k.y, k.width, k.height ), a.vg( this.nc )) : a.fillRect( k.x, k.y, k.width, k.height ));
								this instanceof D ? Ac( a, l.m11, l.m12, l.m21, l.m22, l.dx, l.dy ) : a.Ri.ff = [l.m11,
									l.m12, l.m21, l.m22, l.dx, l.dy];
								if( null !== this.Ib )
								{
									!1 === r && t && (Ac( a, 1, 0, 0, 1, 0, 0 ), a.Ya(), r = !0);
									var p = this.Ha, l = k = 0, s = p.width, p = p.height, u = 0;
									this instanceof X && (p = this.Ra.mb, k = p.x, l = p.y, s = p.width, p = p.height, u = this.Sh);
									Mm( this, a, this.Ib, !0, !1 );
									this.Ib instanceof ha && this.Ib.type === Uc ? (a.beginPath(), a.rect( k - u / 2, l - u / 2, s + u, p + u ), a.vg( this.Ib )) : a.fillRect( k - u / 2, l - u / 2, s + u, p + u )
								}
								t && (null !== this.Ib || null !== this.nc || null !== m && 0 !== (m.fa & 512) || null !== m && (m.type === sk || m.type === Li) && m.Ye() !== this) ? (Nm( this, !0 ), null ===
									this.Gp && a.bn()) : Nm( this, !1 );
								this.Wj( a, b );
								t && 0 !== (this.fa & 512) === !0 && a.cn();
								q && t && a.bn();
								c && (a.restore(), n && a.uf.pop());
								this instanceof D && (f = a.uf.pop());
								!0 === r && a.uf.pop();
								null !== a.DD && (null === f && (h === a.Lw ? (Ac( a, 1, 0, 0, 1, 0, 0 ), f = a.uf.pop()) : f = a.Lw), a.DD( this, f ))
							}
						}
					}
				}
				else
				{
					if( this instanceof D && (this.type === Im || this.type === Jm) )
					{
						Km( this, a, b );
						1 !== d && (a.globalAlpha = e);
						return
					}
					this instanceof W && this.Vm( !1 );
					f = this.transform;
					h = this.U;
					0 !== (this.fa & 4096) === !0 && Lm( this );
					m = 0 !== (this.fa & 256);
					this instanceof $g &&
					(a.font = this.font);
					if( m )
					{
						n = h.Lg() ? h.Ha : h.V;
						null !== this.ii ? (t = this.ii, k = t.x, l = t.y, q = t.width, t = t.height) : (k = Math.max( c.x, n.x ), l = Math.max( c.y, n.y ), q = Math.min( c.right, n.right ) - k, t = Math.min( c.bottom, n.bottom ) - l);
						if( k > c.width + c.x || c.x > n.width + n.x || l > c.height + c.y || c.y > n.height + n.y )
						{
							1 !== d && (a.globalAlpha = e);
							return
						}
						a.save();
						a.beginPath();
						a.rect( k, l, q, t );
						a.clip()
					}
					n = !1;
					if( this instanceof R )
					{
						n = !0;
						if( !this.isVisible() )
						{
							1 !== d && (a.globalAlpha = e);
							return
						}
						this.vl && b.$j( "drawShadows" ) && (k = this.sm, a.nA( k.x * b.scale * b.sd,
								k.y * b.scale * b.sd, this.pg ), a.cn(), a.shadowColor = this.rm)
					}
					k = !1;
					this.Y && b.$j( "drawShadows" ) && (k = this.Y.vl);
					!0 === this.Gp ? a.cn() : !1 === this.Gp && a.bn();
					null !== this.nc && (Mm( this, a, this.nc, !0, !0 ), this.nc instanceof ha && this.nc.type === Uc ? (a.beginPath(), a.rect( c.x, c.y, c.width, c.height ), a.vg( this.nc )) : a.fillRect( c.x, c.y, c.width, c.height ));
					f.ut() || a.transform( f.m11, f.m12, f.m21, f.m22, f.dx, f.dy );
					null !== this.Ib && (t = this.Ha, l = c = 0, q = t.width, t = t.height, r = 0, this instanceof X && (t = this.Ra.mb, c = t.x, l = t.y, q = t.width, t = t.height,
						r = this.Sh), Mm( this, a, this.Ib, !0, !1 ), this.Ib instanceof ha && this.Ib.type === Uc ? (a.beginPath(), a.rect( c - r / 2, l - r / 2, q + r, t + r ), a.vg( this.Ib )) : a.fillRect( c - r / 2, l - r / 2, q + r, t + r ));
					k && (null !== this.Ib || null !== this.nc || null !== h && 0 !== (h.fa & 512) || null !== h && (h.type === sk || h.type === Li) && h.Ye() !== this) ? (Nm( this, !0 ), null === this.Gp && a.bn()) : Nm( this, !1 );
					this.Wj( a, b );
					k && 0 !== (this.fa & 512) === !0 && a.cn();
					n && k && a.bn();
					m ? (a.restore(), this instanceof D ? Vc( a, !0 ) : Vc( a, !1 )) : f.ut() || (h = 1 / (f.m11 * f.m22 - f.m12 * f.m21), a.transform( f.m22 *
						h, -f.m12 * h, -f.m21 * h, f.m11 * h, h * (f.m21 * f.dy - f.m22 * f.dx), h * (f.m12 * f.dx - f.m11 * f.dy) ))
				}
				1 !== d && (a.globalAlpha = e)
			}
		}
	};
	function Km( a, b, c )
	{
		var d = a.mc;
		0 === d.width || 0 === d.height || isNaN( d.x ) || isNaN( d.y ) || (null !== a.nc && (Mm( a, b, a.nc, !0, !0 ), a.nc instanceof ha && a.nc.type === Uc ? (b.beginPath(), b.rect( d.x, d.y, d.width, d.height ), b.vg( a.nc )) : b.fillRect( d.x, d.y, d.width, d.height )), null !== a.Ib && (Mm( a, b, a.Ib, !0, !1 ), a.Ib instanceof ha && a.Ib.type === Uc ? (b.beginPath(), b.rect( d.x, d.y, d.width, d.height ), b.vg( a.Ib )) : b.fillRect( d.x, d.y, d.width, d.height )), a.Wj( b, c ))
	}

	G.prototype.Wj = function()
	{
	};
	function Mm( a, b, c, d, e )
	{
		if( null !== c )
		{
			var f = 1, h = 1;
			if( "string" === typeof c )d ? b.fillStyle = c : b.strokeStyle = c;
			else if( c.type === Tf )d ? b.fillStyle = c.color : b.strokeStyle = c.color;
			else
			{
				var k, h = a.Ha, f = h.width, h = h.height;
				if( e )var l = a.V, f = l.width, h = l.height;
				var m = b instanceof Mc;
				if( m && c.Og && (c.type === qm || c.un === f && c.Nx === h) )k = c.Og;
				else
				{
					var n = l = 0, p = 0, q = 0, r = 0, s = 0, s = r = 0;
					e && (l = a.V, f = l.width, h = l.height, r = l.x, s = l.y);
					l = c.start.x * f + c.start.offsetX;
					n = c.start.y * h + c.start.offsetY;
					p = c.end.x * f + c.end.offsetX;
					q = c.end.y * h + c.end.offsetY;
					l += r;
					p += r;
					n += s;
					q += s;
					if( c.type === Uf )k = b.createLinearGradient( l, n, p, q );
					else if( c.type === Uc )s = isNaN( c.at ) ? Math.max( f, h ) / 2 : c.at, isNaN( c.bu ) ? (r = 0, s = Math.max( f, h ) / 2) : r = c.bu, k = b.createRadialGradient( l, n, r, p, q, s );
					else if( c.type === qm )try
					{
						k = b.createPattern( c.pattern, "repeat" )
					} catch( t )
					{
						k = null
					}
					else v.Gd( c.type, "Brush type" );
					if( c.type !== qm && (e = c.Xs, null !== e) )for( e = e.i; e.next(); )k.addColorStop( e.key, e.value );
					if( m && (c.Og = k, null !== k && (c.un = f, c.Nx = h), null === k && c.type === qm && -1 !== c.un) )
					{
						c.un = -1;
						var u = a.g;
						null !== u &&
							-1 === c.un && v.setTimeout( function()
						{
							u.Zw()
						}, 600 )
					}
				}
				d ? b.fillStyle = k : b.strokeStyle = k
			}
		}
	}

	G.prototype.isContainedBy = G.prototype.tl = function( a )
	{
		if( a instanceof D )a:{
			if( this !== a && null !== a )for( var b = this.U; null !== b; )
			{
				if( b === a )
				{
					a = !0;
					break a
				}
				b = b.U
			}
			a = !1
		}
		else a = !1;
		return a
	};
	G.prototype.isVisibleObject = G.prototype.wl = function()
	{
		if( !this.visible )return!1;
		var a = this.U;
		return null !== a ? a.wl() : !0
	};
	function Lm( a )
	{
		if( 0 !== (a.fa & 2048) === !0 )
		{
			var b = a.ne;
			b.reset();
			if( !a.mc.G() || !a.kd.G() )
			{
				Om( a, !1 );
				return
			}
			b.translate( a.mc.x, a.mc.y );
			b.translate( -a.Ca.x, -a.Ca.y );
			var c = a.Ha;
			Cm( a, b, c.x, c.y, c.width, c.height );
			Om( a, !1 );
			Pm( a, !0 )
		}
		0 !== (a.fa & 4096) === !0 && (b = a.U, null === b ? (a.Up.set( a.ne ), a.Nu = a.scale, Pm( a, !1 )) : null !== b.Zg && (c = a.Up, c.reset(), b.Lg() ? c.multiply( b.Up ) : null !== b.U && c.multiply( b.U.Up ), c.multiply( a.ne ), a.Nu = a.scale * b.Nu, Pm( a, !1 )))
	}

	function Cm( a, b, c, d, e, f )
	{
		1 !== a.scale && b.scale( a.scale );
		if( 0 !== a.angle )
		{
			var h = Ab;
			a.ef && a.ef.cd() && (h = a.ef);
			var k = v.L();
			if( a instanceof R && a.bc !== a )for( c = a.bc, d = c.Ha, k.Zt( d.x, d.y, d.width, d.height, h ), c.Mk.ub( k ), k.offset( -c.Ca.x, -c.Ca.y ), h = c.U; null !== h && h !== a; )h.Mk.ub( k ), k.offset( -h.Ca.x, -h.Ca.y ), h = h.U;
			else k.Zt( c, d, e, f, h );
			b.rotate( a.angle, k.x, k.y );
			v.v( k )
		}
	}

	g = G.prototype;
	g.P = function( a )
	{
		void 0 === a && (a = !1);
		if( !0 !== dl( this ) )
		{
			Qk( this, !0 );
			Gm( this, !0 );
			var b = this.U;
			null !== b ? a || b.P() : (a = this.g, null !== a && (a.gg.add( this ), this instanceof S && (a.la.ib || this.cf(), null !== this.ge && Qm( this.ge )), a.ve( !0 )));
			if( this instanceof D )
			{
				if( this.ia === sk || this.ia === xi )a = this.Ye(), null !== a && a.P( !0 );
				a = this.xa.n;
				for( var b = a.length, c = 0; c < b; c++ )
				{
					var d = a[c];
					!0 !== dl( d ) && (d.ya.G() || (d instanceof Mi || d instanceof D || d instanceof $g || Em( d, !1 ) !== Ni) && d.P( !0 ))
				}
			}
		}
	};
	g.ep = function()
	{
		!1 === dl( this ) && (Qk( this, !0 ), Gm( this, !0 ))
	};
	function Qm( a )
	{
		if( !1 === el( a ) )
		{
			if( null !== a.U )a.U.P();
			else
			{
				var b = a.g;
				null !== b && (b.gg.add( a ), a instanceof S && a.cf(), b.ve())
			}
			Gm( a, !0 )
		}
	}

	g.ti = function()
	{
		0 !== (this.fa & 2048) === !1 && (Om( this, !0 ), Pm( this, !0 ))
	};
	g.yz = function()
	{
		Pm( this, !0 )
	};
	g.pa = function()
	{
		var a = this.Y;
		null !== a && a.pa()
	};
	function Em( a, b )
	{
		var c = a.stretch, d = a.U;
		if( null !== d && d.ia === Rm )return Sm( a, d.Bd( a.cc ), d.Ad( a.column ), b );
		if( null !== d && d.ia === sk && d.Ye() === a )return Tm( a, Fe, b );
		if( c === sm )
		{
			if( null !== d )
			{
				if( d.ia === Li && d.Ye() === a )return Tm( a, Fe, b );
				c = d.Od;
				return c === sm ? Tm( a, Ni, b ) : Tm( a, c, b )
			}
			return Tm( a, Ni, b )
		}
		return Tm( a, c, b )
	}

	function Sm( a, b, c, d )
	{
		var e = a.stretch;
		if( e !== sm )return Tm( a, e, d );
		var f = e = null;
		switch( b.stretch )
		{
		case tm:
			f = !0;
			break;
		case Fe:
			f = !0
		}
		switch( c.stretch )
		{
		case um:
			e = !0;
			break;
		case Fe:
			e = !0
		}
		b = a.U.Od;
		null === e && (e = b === um || b === Fe);
		null === f && (f = b === tm || b === Fe);
		return!0 === e && !0 === f ? Tm( a, Fe, d ) : !0 === e ? Tm( a, um, d ) : !0 === f ? Tm( a, tm, d ) : Tm( a, Ni, d )
	}

	function Tm( a, b, c )
	{
		if( c )return b;
		if( b === Ni )return Ni;
		c = a.ya;
		if( c.G() )return Ni;
		a = a.angle;
		if( !isNaN( c.width ) )if( 90 !== a && 270 !== a )
		{
			if( b === um )return Ni;
			if( b === Fe )return tm
		}
		else
		{
			if( b === tm )return Ni;
			if( b === Fe )return um
		}
		if( !isNaN( c.height ) )if( 90 !== a && 270 !== a )
		{
			if( b === tm )return Ni;
			if( b === Fe )return um
		}
		else
		{
			if( b === um )return Ni;
			if( b === Fe )return tm
		}
		return b
	}

	v.defineProperty( G, {Ut: "segmentOrientation"}, function()
	{
		return this.fs
	}, function( a )
	{
		var b = this.fs;
		b !== a && (this.fs = a, this.P(), this.h( "segmentOrientation", b, a ), a === Ai && (this.angle = 0))
	} );
	v.defineProperty( G, {we: "segmentIndex"}, function()
	{
		return this.ds
	}, function( a )
	{
		a = Math.round( a );
		var b = this.ds;
		b !== a && (this.ds = a, this.P(), this.h( "segmentIndex", b, a ))
	} );
	v.defineProperty( G, {gA: "segmentFraction"}, function()
	{
		return this.cs
	}, function( a )
	{
		isNaN( a ) ? a = 0 : 0 > a ? a = 0 : 1 < a && (a = 1);
		var b = this.cs;
		b !== a && (this.cs = a, this.P(), this.h( "segmentFraction", b, a ))
	} );
	v.defineProperty( G, {PE: "segmentOffset"}, function()
	{
		return this.es
	}, function( a )
	{
		var b = this.es;
		b.K( a ) || (this.es = a = a.R(), this.P(), this.h( "segmentOffset", b, a ))
	} );
	v.defineProperty( G, {stretch: "stretch"}, function()
	{
		return this.Rh
	}, function( a )
	{
		var b = this.Rh;
		b !== a && (this.Rh = a, this.P(), this.h( "stretch", b, a ))
	} );
	v.defineProperty( G, {name: "name"}, function()
	{
		return this.Ob
	}, function( a )
	{
		var b = this.Ob;
		b !== a && (this.Ob = a, null !== this.Y && (this.Y.em = null), this.h( "name", b, a ))
	} );
	v.defineProperty( G, {opacity: "opacity"}, function()
	{
		return this.Rc
	}, function( a )
	{
		var b = this.Rc;
		b !== a && (v.j( a, "number", G, "opacity" ), (0 > a || 1 < a) && v.va( a, "0 <= value <= 1", G, "opacity" ), this.Rc = a, this.h( "opacity", b, a ), a = this.g, b = this.Y, null !== a && null !== b && a.pa( ak( b, b.V ) ))
	} );
	v.defineProperty( G, {visible: "visible"}, function()
	{
		return 0 !== (this.fa & 1)
	}, function( a )
	{
		var b = 0 !== (this.fa & 1);
		b !== a && (this.fa ^= 1, this.h( "visible", b, a ), b = this.U, null !== b ? b.P() : this instanceof R && this.od( a ), this.pa(), Um( this ))
	} );
	v.defineProperty( G, {Hg: "pickable"}, function()
	{
		return 0 !== (this.fa & 2)
	}, function( a )
	{
		var b = 0 !== (this.fa & 2);
		b !== a && (this.fa ^= 2, this.h( "pickable", b, a ))
	} );
	v.defineProperty( G, {QG: "fromLinkableDuplicates"}, function()
	{
		return 0 !== (this.fa & 4)
	}, function( a )
	{
		var b = 0 !== (this.fa & 4);
		b !== a && (this.fa ^= 4, this.h( "fromLinkableDuplicates", b, a ))
	} );
	v.defineProperty( G, {RG: "fromLinkableSelfNode"}, function()
	{
		return 0 !== (this.fa & 8)
	}, function( a )
	{
		var b = 0 !== (this.fa & 8);
		b !== a && (this.fa ^= 8, this.h( "fromLinkableSelfNode", b, a ))
	} );
	v.defineProperty( G, {II: "toLinkableDuplicates"}, function()
	{
		return 0 !== (this.fa & 16)
	}, function( a )
	{
		var b = 0 !== (this.fa & 16);
		b !== a && (this.fa ^= 16, this.h( "toLinkableDuplicates", b, a ))
	} );
	v.defineProperty( G, {JI: "toLinkableSelfNode"}, function()
	{
		return 0 !== (this.fa & 32)
	}, function( a )
	{
		var b = 0 !== (this.fa & 32);
		b !== a && (this.fa ^= 32, this.h( "toLinkableSelfNode", b, a ))
	} );
	v.defineProperty( G, {Sf: "isPanelMain"}, function()
	{
		return 0 !== (this.fa & 64)
	}, function( a )
	{
		var b = 0 !== (this.fa & 64);
		b !== a && (this.fa ^= 64, this.P(), this.h( "isPanelMain", b, a ))
	} );
	v.defineProperty( G, {Ew: "isActionable"}, function()
	{
		return 0 !== (this.fa & 128)
	}, function( a )
	{
		var b = 0 !== (this.fa & 128);
		b !== a && (this.fa ^= 128, this.h( "isActionable", b, a ))
	} );
	v.defineProperty( G, {Am: "areaBackground"}, function()
	{
		return this.nc
	}, function( a )
	{
		var b = this.nc;
		b !== a && (a instanceof ha && a.freeze(), this.nc = a, this.pa(), this.h( "areaBackground", b, a ))
	} );
	v.defineProperty( G, {background: "background"}, function()
	{
		return this.Ib
	}, function( a )
	{
		var b = this.Ib;
		b !== a && (a instanceof ha && a.freeze(), this.Ib = a, this.pa(), this.h( "background", b, a ))
	} );
	function Nm( a, b )
	{
		a.fa = b ? a.fa | 512 : a.fa & -513
	}

	function Vm( a, b )
	{
		a.fa = b ? a.fa | 1024 : a.fa & -1025
	}

	function Om( a, b )
	{
		a.fa = b ? a.fa | 2048 : a.fa & -2049
	}

	function Pm( a, b )
	{
		a.fa = b ? a.fa | 4096 : a.fa & -4097
	}

	function dl( a )
	{
		return 0 !== (a.fa & 8192)
	}

	function Qk( a, b )
	{
		a.fa = b ? a.fa | 8192 : a.fa & -8193
	}

	function el( a )
	{
		return 0 !== (a.fa & 16384)
	}

	function Gm( a, b )
	{
		a.fa = b ? a.fa | 16384 : a.fa & -16385
	}

	v.u( G, {Y: "part"}, function()
	{
		if( this instanceof R )return this;
		if( null !== this.jm )return this.jm;
		var a;
		for( a = this.U; a; )
		{
			if( a instanceof R )return this.jm = a;
			a = a.U
		}
		return null
	} );
	v.u( G, {U: "panel"}, function()
	{
		return this.Xg
	} );
	G.prototype.Bl = function( a )
	{
		this.Xg = a
	};
	v.u( G, {layer: "layer"}, function()
	{
		var a = this.Y;
		return null !== a ? a.layer : null
	}, {configurable: !0} );
	v.u( G, {g: "diagram"}, function()
	{
		var a = this.Y;
		return null !== a ? a.g : null
	}, {configurable: !0} );
	v.defineProperty( G, {position: "position"}, function()
	{
		return this.kb
	}, function( a )
	{
		var b = this.kb;
		b.K( a ) || (a = a.R(), this.lA( a, b ) && this.h( "position", b, a ))
	} );
	G.prototype.lA = function( a )
	{
		this.kb = a;
		Qm( this );
		this.ti();
		return!0
	};
	G.prototype.mx = function( a, b )
	{
		this.kb.m( a, b );
		Wm( this );
		this.ti()
	};
	v.u( G, {V: "actualBounds"}, function()
	{
		return this.mc
	} );
	v.defineProperty( G, {scale: "scale"}, function()
	{
		return this.Tb
	}, function( a )
	{
		var b = this.Tb;
		b !== a && (0 >= a && v.k( "GraphObject.scale for " + this + " must be greater than zero, not: " + a ), this.Tb = a, this.ti(), this.P(), this.h( "scale", b, a ))
	} );
	v.defineProperty( G, {angle: "angle"}, function()
	{
		return this.Kl
	}, function( a )
	{
		var b = this.Kl;
		b !== a && (a %= 360, 0 > a && (a += 360), b !== a && (this.Kl = a, this.P(), this.ti(), this.h( "angle", b, a )))
	} );
	v.defineProperty( G, {ya: "desiredSize"}, function()
	{
		return this.mf
	}, function( a )
	{
		var b = this.mf;
		b.K( a ) || (this.mf = a = a.R(), this.P(), this instanceof X && this.se(), this.h( "desiredSize", b, a ), a = this.Y, null !== a && 0 !== (this.fa & 1024) && (Am( this, a, "width" ), Am( this, a, "height" )))
	} );
	v.defineProperty( G, {width: "width"}, function()
	{
		return this.mf.width
	}, function( a )
	{
		if( this.mf.width !== a )
		{
			var b = this.mf;
			this.mf = a = (new ia( a, this.mf.height )).freeze();
			this.P();
			this instanceof X && this.se();
			this.h( "desiredSize", b, a );
			b = this.Y;
			null !== b && 0 !== (this.fa & 1024) && Am( this, b, "width" )
		}
	} );
	v.defineProperty( G, {height: "height"}, function()
	{
		return this.mf.height
	}, function( a )
	{
		if( this.mf.height !== a )
		{
			var b = this.mf;
			this.mf = a = (new ia( this.mf.width, a )).freeze();
			this.P();
			this instanceof X && this.se();
			this.h( "desiredSize", b, a );
			b = this.Y;
			null !== b && 0 !== (this.fa & 1024) && Am( this, b, "height" )
		}
	} );
	v.defineProperty( G, {jh: "minSize"}, function()
	{
		return this.Aj
	}, function( a )
	{
		var b = this.Aj;
		b.K( a ) || (a = a.copy(), isNaN( a.width ) && (a.width = 0), isNaN( a.height ) && (a.height = 0), a.freeze(), this.Aj = a, this.P(), this.h( "minSize", b, a ))
	} );
	v.defineProperty( G, {yf: "maxSize"}, function()
	{
		return this.yj
	}, function( a )
	{
		var b = this.yj;
		b.K( a ) || (a = a.copy(), isNaN( a.width ) && (a.width = Infinity), isNaN( a.height ) && (a.height = Infinity), a.freeze(), this.yj = a, this.P(), this.h( "maxSize", b, a ))
	} );
	v.u( G, {Ca: "measuredBounds"}, function()
	{
		return this.kd
	} );
	v.u( G, {Ha: "naturalBounds"}, function()
	{
		return this.Qc
	}, {configurable: !0} );
	v.defineProperty( G, {margin: "margin"}, function()
	{
		return this.kr
	}, function( a )
	{
		"number" === typeof a && (a = new eb( a ));
		var b = this.kr;
		b.K( a ) || (this.kr = a = a.R(), this.P(), this.h( "margin", b, a ))
	} );
	v.u( G, {transform: null}, function()
	{
		0 !== (this.fa & 2048) === !0 && Lm( this );
		return this.ne
	} );
	v.u( G, {Zg: null}, function()
	{
		0 !== (this.fa & 4096) === !0 && Lm( this );
		return this.Up
	} );
	v.defineProperty( G, {alignment: "alignment"}, function()
	{
		return this.Be
	}, function( a )
	{
		var b = this.Be;
		b.K( a ) || (a.te() && !a.Uc() && v.k( "GraphObject.alignment for " + this + " must be a real Spot or Spot.Default, not: " + a ), this.Be = a = a.R(), Qm( this ), this.h( "alignment", b, a ))
	} );
	v.defineProperty( G, {column: "column"}, function()
	{
		return this.cq
	}, function( a )
	{
		a = Math.round( a );
		var b = this.cq;
		b !== a && (0 > a && v.va( a, ">= 0", G, "column" ), this.cq = a, this.P(), this.h( "column", b, a ))
	} );
	v.defineProperty( G, {pG: "columnSpan"}, function()
	{
		return this.ji
	}, function( a )
	{
		a = Math.round( a );
		var b = this.ji;
		b !== a && (1 > a && v.va( a, ">= 1", G, "columnSpan" ), this.ji = a, this.P(), this.h( "columnSpan", b, a ))
	} );
	v.defineProperty( G, {cc: "row"}, function()
	{
		return this.Zr
	}, function( a )
	{
		a = Math.round( a );
		var b = this.Zr;
		b !== a && (0 > a && v.va( a, ">= 0", G, "row" ), this.Zr = a, this.P(), this.h( "row", b, a ))
	} );
	v.defineProperty( G, {rowSpan: "rowSpan"}, function()
	{
		return this.Hi
	}, function( a )
	{
		a = Math.round( a );
		var b = this.Hi;
		b !== a && (1 > a && v.va( a, ">= 1", G, "rowSpan" ), this.Hi = a, this.P(), this.h( "rowSpan", b, a ))
	} );
	v.defineProperty( G, {px: "spanAllocation"}, function()
	{
		return this.ts
	}, function( a )
	{
		var b = this.ts;
		b !== a && (null !== a && v.j( a, "function", G, "spanAllocation" ), this.ts = a, this.h( "spanAllocation", b, a ))
	} );
	v.defineProperty( G, {Sj: "alignmentFocus"}, function()
	{
		return this.Tp
	}, function( a )
	{
		var b = this.Tp;
		b.K( a ) || (!a.te() || a.Uc() || a.K( sb ) && this instanceof S || v.k( "GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: " + a ), this.Tp = a = a.R(), this.P(), this.h( "alignmentFocus", b, a ))
	} );
	v.defineProperty( G, {Ud: "portId"}, function()
	{
		return this.Lr
	}, function( a )
	{
		var b = this.Lr;
		if( b !== a )
		{
			var c = this.Y;
			null === c || c instanceof S || (v.k( "Cannot set portID on a Link: " + a ), c = null);
			null !== b && null !== c && Xm( c, this );
			this.Lr = a;
			if( null !== a && c )
			{
				c.Ch = !0;
				null === c.Yd && Ym( c );
				var d = this.Ud;
				null !== d && c.Yd.add( d, this )
			}
			this.h( "portId", b, a )
		}
	} );
	function Um( a )
	{
		var b = a.Y;
		b instanceof S && (a = a.g, null === a || a.la.ib || b.cf())
	}

	v.defineProperty( G, {yb: "toSpot"}, function()
	{
		return null !== this.ga ? this.ga.Pj : sb
	}, function( a )
	{
		this.Le();
		var b = this.ga.Pj;
		b.K( a ) || (a = a.R(), this.ga.Pj = a, this.h( "toSpot", b, a ), Um( this ))
	} );
	v.defineProperty( G, {Gl: "toEndSegmentLength"}, function()
	{
		return null !== this.ga ? this.ga.Nj : 10
	}, function( a )
	{
		this.Le();
		var b = this.ga.Nj;
		b !== a && (0 > a && v.va( a, ">= 0", G, "toEndSegmentLength" ), this.ga.Nj = a, this.h( "toEndSegmentLength", b, a ), Um( this ))
	} );
	v.defineProperty( G, {du: "toEndSegmentDirection"}, function()
	{
		return null !== this.ga ? this.ga.Mj : ym
	}, function( a )
	{
		this.Le();
		var b = this.ga.Mj;
		b !== a && (this.ga.Mj = a, this.h( "toEndSegmentDirection", b, a ), Um( this ))
	} );
	v.defineProperty( G, {eu: "toShortLength"}, function()
	{
		return null !== this.ga ? this.ga.Oj : 0
	}, function( a )
	{
		this.Le();
		var b = this.ga.Oj;
		b !== a && (this.ga.Oj = a, this.h( "toShortLength", b, a ), Um( this ))
	} );
	v.defineProperty( G, {bF: "toLinkable"}, function()
	{
		return this.As
	}, function( a )
	{
		var b = this.As;
		b !== a && (this.As = a, this.h( "toLinkable", b, a ))
	} );
	v.defineProperty( G, {KI: "toMaxLinks"}, function()
	{
		return this.Bs
	}, function( a )
	{
		var b = this.Bs;
		b !== a && (0 > a && v.va( a, ">= 0", G, "toMaxLinks" ), this.Bs = a, this.h( "toMaxLinks", b, a ))
	} );
	v.defineProperty( G, {xb: "fromSpot"}, function()
	{
		return null !== this.ga ? this.ga.nj : sb
	}, function( a )
	{
		this.Le();
		var b = this.ga.nj;
		b.K( a ) || (a = a.R(), this.ga.nj = a, this.h( "fromSpot", b, a ), Um( this ))
	} );
	v.defineProperty( G, {ll: "fromEndSegmentLength"}, function()
	{
		return null !== this.ga ? this.ga.lj : 10
	}, function( a )
	{
		this.Le();
		var b = this.ga.lj;
		b !== a && (0 > a && v.va( a, ">= 0", G, "fromEndSegmentLength" ), this.ga.lj = a, this.h( "fromEndSegmentLength", b, a ), Um( this ))
	} );
	v.defineProperty( G, {jt: "fromEndSegmentDirection"}, function()
	{
		return null !== this.ga ? this.ga.kj : ym
	}, function( a )
	{
		this.Le();
		var b = this.ga.kj;
		b !== a && (this.ga.kj = a, this.h( "fromEndSegmentDirection", b, a ), Um( this ))
	} );
	v.defineProperty( G, {kt: "fromShortLength"}, function()
	{
		return null !== this.ga ? this.ga.mj : 0
	}, function( a )
	{
		this.Le();
		var b = this.ga.mj;
		b !== a && (this.ga.mj = a, this.h( "fromShortLength", b, a ), Um( this ))
	} );
	v.defineProperty( G, {MD: "fromLinkable"}, function()
	{
		return this.Fq
	}, function( a )
	{
		var b = this.Fq;
		b !== a && (this.Fq = a, this.h( "fromLinkable", b, a ))
	} );
	v.defineProperty( G, {qz: "fromMaxLinks"}, function()
	{
		return this.Gq
	}, function( a )
	{
		var b = this.Gq;
		b !== a && (0 > a && v.va( a, ">= 0", G, "fromMaxLinks" ), this.Gq = a, this.h( "fromMaxLinks", b, a ))
	} );
	v.defineProperty( G, {cursor: "cursor"}, function()
	{
		return this.nq
	}, function( a )
	{
		var b = this.nq;
		b !== a && (v.j( a, "string", G, "cursor" ), this.nq = a, this.h( "cursor", b, a ))
	} );
	v.defineProperty( G, {click: "click"}, function()
	{
		return null !== this.ha ? this.ha.hi : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.hi;
		b !== a && (null !== a && v.j( a, "function", G, "click" ), this.ha.hi = a, this.h( "click", b, a ))
	} );
	v.defineProperty( G, {$s: "doubleClick"}, function()
	{
		return null !== this.ha ? this.ha.qi : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.qi;
		b !== a && (null !== a && v.j( a, "function", G, "doubleClick" ), this.ha.qi = a, this.h( "doubleClick", b, a ))
	} );
	v.defineProperty( G, {cz: "contextClick"}, function()
	{
		return null !== this.ha ? this.ha.ki : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.ki;
		b !== a && (null !== a && v.j( a, "function", G, "contextClick" ), this.ha.ki = a, this.h( "contextClick", b, a ))
	} );
	v.defineProperty( G, {Ft: "mouseEnter"}, function()
	{
		return null !== this.ha ? this.ha.wr : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.wr;
		b !== a && (null !== a && v.j( a, "function", G, "mouseEnter" ), this.ha.wr = a, this.h( "mouseEnter", b, a ))
	} );
	v.defineProperty( G, {Gt: "mouseLeave"}, function()
	{
		return null !== this.ha ? this.ha.xr : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.xr;
		b !== a && (null !== a && v.j( a, "function", G, "mouseLeave" ), this.ha.xr = a, this.h( "mouseLeave", b, a ))
	} );
	v.defineProperty( G, {Pz: "mouseOver"}, function()
	{
		return null !== this.ha ? this.ha.Di : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Di;
		b !== a && (null !== a && v.j( a, "function", G, "mouseOver" ), this.ha.Di = a, this.h( "mouseOver", b, a ))
	} );
	v.defineProperty( G, {Oz: "mouseHover"}, function()
	{
		return null !== this.ha ? this.ha.Ci : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Ci;
		b !== a && (null !== a && v.j( a, "function", G, "mouseHover" ), this.ha.Ci = a, this.h( "mouseHover", b, a ))
	} );
	v.defineProperty( G, {Nz: "mouseHold"}, function()
	{
		return null !== this.ha ? this.ha.Bi : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Bi;
		b !== a && (null !== a && v.j( a, "function", G, "mouseHold" ), this.ha.Bi = a, this.h( "mouseHold", b, a ))
	} );
	v.defineProperty( G, {RH: "mouseDragEnter"}, function()
	{
		return null !== this.ha ? this.ha.ur : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.ur;
		b !== a && (null !== a && v.j( a, "function", G, "mouseDragEnter" ), this.ha.ur = a, this.h( "mouseDragEnter", b, a ))
	} );
	v.defineProperty( G, {SH: "mouseDragLeave"}, function()
	{
		return null !== this.ha ? this.ha.vr : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.vr;
		b !== a && (null !== a && v.j( a, "function", G, "mouseDragLeave" ), this.ha.vr = a, this.h( "mouseDragLeave", b, a ))
	} );
	v.defineProperty( G, {Mz: "mouseDrop"}, function()
	{
		return null !== this.ha ? this.ha.Ai : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Ai;
		b !== a && (null !== a && v.j( a, "function", G, "mouseDrop" ), this.ha.Ai = a, this.h( "mouseDrop", b, a ))
	} );
	v.defineProperty( G, {YC: "actionDown"}, function()
	{
		return null !== this.ha ? this.ha.Np : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Np;
		b !== a && (null !== a && v.j( a, "function", G, "actionDown" ), this.ha.Np = a, this.h( "actionDown", b, a ))
	} );
	v.defineProperty( G, {ZC: "actionMove"}, function()
	{
		return null !== this.ha ? this.ha.Op : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Op;
		b !== a && (null !== a && v.j( a, "function", G, "actionMove" ), this.ha.Op = a, this.h( "actionMove", b, a ))
	} );
	v.defineProperty( G, {$C: "actionUp"}, function()
	{
		return null !== this.ha ? this.ha.Pp : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Pp;
		b !== a && (null !== a && v.j( a, "function", G, "actionUp" ), this.ha.Pp = a, this.h( "actionUp", b, a ))
	} );
	v.defineProperty( G, {XC: "actionCancel"}, function()
	{
		return null !== this.ha ? this.ha.Mp : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Mp;
		b !== a && (null !== a && v.j( a, "function", G, "actionCancel" ), this.ha.Mp = a, this.h( "actionCancel", b, a ))
	} );
	v.defineProperty( G, {uA: "toolTip"}, function()
	{
		return null !== this.ha ? this.ha.Ji : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.Ji;
		b !== a && (null !== a && v.A( a, Tg, G, "toolTip" ), this.ha.Ji = a, this.h( "toolTip", b, a ))
	} );
	v.defineProperty( G, {contextMenu: "contextMenu"}, function()
	{
		return null !== this.ha ? this.ha.li : null
	}, function( a )
	{
		vm( this );
		var b = this.ha.li;
		b !== a && (null !== a && v.A( a, Tg, G, "contextMenu" ), this.ha.li = a, this.h( "contextMenu", b, a ))
	} );
	G.prototype.bind = G.prototype.bind = function( a )
	{
		a.qg = this;
		var b = this.Wo();
		null !== b && Zm( b ) && v.k( "Cannot add a Binding to a template that has already been copied: " + a );
		null === this.rc && (this.rc = new I( zg ));
		this.rc.add( a )
	};
	G.prototype.findTemplateBinder = G.prototype.Wo = function()
	{
		for( var a = this instanceof D ? this : this.U; null !== a; )
		{
			if( null !== a.tk )return a;
			a = a.U
		}
		return null
	};
	G.prototype.setProperties = function( a )
	{
		v.Wt( this, a )
	};
	var $m;
	G.make = $m = function( a, b )
	{
		var c = arguments, d = null, e = null;
		if( "function" === typeof a )e = a;
		else if( "string" === typeof a )
		{
			var f = an.ja( a );
			"function" === typeof f ? (c = v.dl( arguments ), d = f( c )) : e = ea[a]
		}
		null === d && (void 0 === e && (d = window.$, void 0 !== d && void 0 !== d.noop && v.k( "GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)" ), v.k( "GraphObject.make failed to complete, it may be conflicting with another var." )), null !== e && e.constructor || v.k( "GraphObject.make requires a class function or class name, not: " +
			a ), d = new e);
		f = 1;
		if( d instanceof E && 1 < c.length )
		{
			var h = d, e = c[1];
			if( "string" === typeof e || e instanceof HTMLDivElement )qk( h, e ), f++
		}
		for( ; f < c.length; f++ )e = c[f], void 0 === e ? v.k( "Undefined value at argument " + f + " for object being constructed by GraphObject.make: " + d ) : bn( d, e );
		return d
	};
	function bn( a, b )
	{
		if( "string" === typeof b )if( a instanceof $g )a.text = b;
		else if( a instanceof X )a.Ab = b;
		else if( a instanceof kk )a.source = b;
		else if( a instanceof D )
		{
			var c = ra( D, b );
			null !== c ? a.type = c : v.k( "Unknown Panel type as an argument to GraphObject.make: " + b )
		}
		else a instanceof ha ? (c = ra( ha, b ), null !== c ? a.type = c : v.k( "Unknown Brush type as an argument to GraphObject.make: " + b )) : a instanceof re ? (c = ra( re, b ), null !== c ? a.type = c : v.k( "Unknown Geometry type as an argument to GraphObject.make: " + b )) : a instanceof wf ?
				(c = ra( wf, b ), null !== c ? a.type = c : v.k( "Unknown PathSegment type as an argument to GraphObject.make: " + b )) : v.k( "Unable to use a string as an argument to GraphObject.make: " + b );
		else if( b instanceof G )c = b, a instanceof D || v.k( "A GraphObject can only be added to a Panel, not to: " + a ), a.add( c );
		else if( b instanceof tg )
		{
			var d = b, c = a, e;
			d.ee && c.getRowDefinition ? e = c.getRowDefinition( d.index ) : !d.ee && c.getColumnDefinition ? e = c.getColumnDefinition( d.index ) : v.k( "A RowColumnDefinition can only be added to a Panel, not to: " +
				a );
			e.Ys( d )
		}
		else if( b instanceof fa )a instanceof W && b.qe === W ? 2 === (b.value & 2) ? a.gx = b : b === Hi || b === zi || b === yi ? a.Je = b : b === cn || b === dn || b === en ? a.Ps = b : b !== fn && b !== Ai && v.k( "Unknown Link enum value for a Link property: " + b ) : a instanceof D && b.qe === D ? a.type = b : a instanceof $g && b.qe === $g ? a.rF = b : a instanceof X && (b === Ni || b === Pi || b === Qi || b === sm) ? a.rz = b : a instanceof kk && (b === Ni || b === Pi || b === Qi) ? a.eH = b : a instanceof G && b.qe === W ? (c = a, 0 === b.name.indexOf( "Orient" ) ? c.Ut = b : v.k( "Unknown Link enum value for GraphObject.segmentOrientation property: " +
			b )) : a instanceof G && b.qe === G ? a.stretch = b : a instanceof tg && b.qe === tg ? a.$t = b : a instanceof E && b.qe === E ? a.al = b : a instanceof ha && b.qe === ha ? a.type = b : a instanceof re && b.qe === re ? a.type = b : a instanceof wf && b.qe === wf ? a.type = b : a instanceof zg && b.qe === zg ? a.mode = b : a instanceof zf && b.qe === zf ? a.wc = b : a instanceof Z && b.qe === Z ? 0 === b.name.indexOf( "Alignment" ) ? a.alignment = b : 0 === b.name.indexOf( "Arrangement" ) ? a.Of = b : 0 === b.name.indexOf( "Compaction" ) ? a.compaction = b : 0 === b.name.indexOf( "Path" ) ? a.path = b : 0 === b.name.indexOf( "Sorting" ) ?
			a.sorting = b : 0 === b.name.indexOf( "Style" ) ? a.NI = b : v.k( "Unknown enum value: " + b ) : a instanceof gn && b.qe === gn ? 0 === b.name.indexOf( "Aggressive" ) ? a.cG = b : 0 === b.name.indexOf( "Cycle" ) ? a.yG = b : 0 === b.name.indexOf( "Init" ) ? a.jH = b : 0 === b.name.indexOf( "Layer" ) ? a.zH = b : v.k( "Unknown enum value: " + b ) : a instanceof lm && b.qe === lm ? b === hn || b === jn || b === kn || b === ln ? a.sorting = b : b === mn || b === nn ? a.Of = b : b === tn || b === un ? a.alignment = b : v.k( "Unknown enum value: " + b ) : a instanceof vn && b.qe === vn ? b === wn || b === xn || b === yn || b === zn || b === An ? a.sorting =
			b : b === Bn || b === Cn || b === Dn || b === En ? a.direction = b : b === Fn || b === Gn || b === Hn || b === In ? a.Of = b : b === Jn || b === Kn ? a.Qw = b : v.k( "Unknown enum value: " + b ) : v.k( "No property to set for this enum value: " + b );
		else if( b instanceof zg )a instanceof G ? a.bind( b ) : a instanceof tg ? a.bind( b ) : v.k( "A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: " + a );
		else if( b instanceof Ee )a instanceof re ? a.Ub.add( b ) : v.k( "A PathFigure can only be added to a Geometry, not to: " + a );
		else if( b instanceof wf )a instanceof
		Ee ? a.sb.add( b ) : v.k( "A PathSegment can only be added to a PathFigure, not to: " + a );
		else if( b instanceof Yf )a instanceof E ? a.Pb = b : a instanceof V ? a.Pb = b : v.k( "A Layout can only be assigned to a Diagram or a Group, not to: " + a );
		else if( Array.isArray( b ) )for( c = 0; c < b.length; c++ )bn( a, b[c] );
		else if( "object" === typeof b && null !== b )if( a instanceof ha )
		{
			e = new ta;
			for( c in b )d = parseFloat( c ), isNaN( d ) ? e[c] = b[c] : a.addColorStop( d, b[c] );
			v.Wt( a, e )
		}
		else if( a instanceof tg )
		{
			void 0 !== b.row ? (e = b.row, (void 0 === e || null === e || Infinity ===
				e || isNaN( e ) || 0 > e) && v.k( "Must specify non-negative integer row for RowColumnDefinition " + b + ", not: " + e ), a.ee = !0, a.index = e) : void 0 !== b.column && (e = b.column, (void 0 === e || null === e || Infinity === e || isNaN( e ) || 0 > e) && v.k( "Must specify non-negative integer column for RowColumnDefinition " + b + ", not: " + e ), a.ee = !1, a.index = e);
			e = new ta;
			for( c in b )"row" !== c && "column" !== c && (e[c] = b[c]);
			v.Wt( a, e )
		}
		else v.Wt( a, b );
		else v.k( 'Unknown initializer "' + b + '" for object being constructed by GraphObject.make: ' + a )
	}

	var an = new na( "string", "function" );
	G.getBuilders = function()
	{
		var a = new na( "string", "function" ), b;
		for( b in an )if( b !== b.toLowerCase() )
		{
			var c = an[b];
			"function" === typeof c && a.add( b, c )
		}
		a.freeze();
		return a
	};
	var Ln;
	G.defineBuilder = Ln = function( a, b )
	{
		v.j( a, "string", G, "defineBuilder:name" );
		v.j( b, "function", G, "defineBuilder:func" );
		var c = a.toLowerCase();
		"" !== a && "none" !== c && a !== c || v.k( "Shape.defineFigureGenerator name must not be empty or None or all-lower-case: " + a );
		an.add( a, b )
	};
	var Mn;
	G.takeBuilderArgument = Mn = function( a, b, c )
	{
		void 0 === c && (c = null);
		var d = a[1];
		if( "function" === typeof c ? c( d ) : "string" === typeof d )return a.splice( 1, 1 ), d;
		if( void 0 === b )throw Error( "no " + ("function" === typeof c ? "satisfactory" : "string") + " argument for GraphObject builder " + a[0] );
		return b
	};
	Ln( "Button", function()
	{
		var a = new ha( Uf );
		a.addColorStop( 0, "white" );
		a.addColorStop( 1, "lightgray" );
		var b = new ha( Uf );
		b.addColorStop( 0, "white" );
		b.addColorStop( 1, "dodgerblue" );
		a = $m( D, sk, {Ew: !0}, {_buttonFillNormal: a, _buttonStrokeNormal: "gray", _buttonFillOver: b, _buttonStrokeOver: "blue"}, $m( X, {name: "ButtonBorder", Ab: "Rectangle", B: new L( 0, 0, 2.761423749153968, 2.761423749153968 ), C: new L( 1, 1, -2.761423749153968, -2.761423749153968 ), fill: a, stroke: "gray"} ) );
		a.Ft = function( a, b )
		{
			var e = b.de( "ButtonBorder" );
			if( e instanceof
				X )
			{
				var f = b._buttonFillOver;
				b._buttonFillNormal = e.fill;
				e.fill = f;
				f = b._buttonStrokeOver;
				b._buttonStrokeNormal = e.stroke;
				e.stroke = f
			}
		};
		a.Gt = function( a, b )
		{
			var e = b.de( "ButtonBorder" );
			e instanceof X && (e.fill = b._buttonFillNormal, e.stroke = b._buttonStrokeNormal)
		};
		return a
	} );
	Ln( "TreeExpanderButton", function()
	{
		var a = $m( "Button", {_treeExpandedFigure: "MinusLine", _treeCollapsedFigure: "PlusLine"}, $m( X, {name: "ButtonIcon", Ab: "MinusLine", ya: ld}, (new zg( "figure", "isTreeExpanded", function( a, c )
		{
			var d = c.U;
			return a ? d._treeExpandedFigure : d._treeCollapsedFigure
		} )).Rw() ), {visible: !1}, (new zg( "visible", "isTreeLeaf", function( a )
		{
			return!a
		} )).Rw() );
		a.click = function( a, c )
		{
			var d = c.Y;
			d instanceof Tg && (d = d.Nf);
			if( d instanceof S )
			{
				var e = d.g;
				if( null !== e )
				{
					e = e.nb;
					if( d.nd )
					{
						if( !e.canCollapseTree( d ) )return
					}
					else if( !e.canExpandTree( d ) )return;
					a.zc = !0;
					d.nd ? e.collapseTree( d ) : e.expandTree( d )
				}
			}
		};
		return a
	} );
	Ln( "SubGraphExpanderButton", function()
	{
		var a = $m( "Button", {_subGraphExpandedFigure: "MinusLine", _subGraphCollapsedFigure: "PlusLine"}, $m( X, {name: "ButtonIcon", Ab: "MinusLine", ya: ld}, (new zg( "figure", "isSubGraphExpanded", function( a, c )
		{
			var d = c.U;
			return a ? d._subGraphExpandedFigure : d._subGraphCollapsedFigure
		} )).Rw() ) );
		a.click = function( a, c )
		{
			var d = c.Y;
			d instanceof Tg && (d = d.Nf);
			if( d instanceof V )
			{
				var e = d.g;
				if( null !== e )
				{
					e = e.nb;
					if( d.fe )
					{
						if( !e.canCollapseSubGraph( d ) )return
					}
					else if( !e.canExpandSubGraph( d ) )return;
					a.zc = !0;
					d.fe ? e.collapseSubGraph( d ) : e.expandSubGraph( d )
				}
			}
		};
		return a
	} );
	Ln( "ContextMenuButton", function()
	{
		var a = $m( "Button" );
		a.stretch = um;
		var b = a.de( "ButtonBorder" );
		b instanceof X && (b.Ab = "Rectangle", b.B = new L( 0, 0, 2, 3 ), b.C = new L( 1, 1, -2, -2 ));
		return a
	} );
	Ln( "PanelExpanderButton", function( a )
	{
		var b = Mn( a, "COLLAPSIBLE" );
		a = $m( "Button", $m( X, "TriangleUp", {ya: new ia( 6, 4 )}, (new zg( "figure", "visible", function( a )
		{
			return a ? "TriangleUp" : "TriangleDown"
		} )).Rw( b ) ) );
		var c = a.de( "ButtonBorder" );
		c instanceof X && (c.stroke = null, c.fill = "transparent");
		a.click = function( a, c )
		{
			var f = c.g;
			if( null !== f && !f.ab )
			{
				var h = c.Y.de( b );
				null !== h && (f.Qb( "Collapse/Expand Panel" ), h.visible = !h.visible, f.yd( "Collapse/Expand Panel" ))
			}
		};
		return a
	} );
	Ln( "CheckBoxButton", function( a )
	{
		var b = Mn( a );
		a = $m( "Button", {"ButtonBorder.fill": "white", "ButtonBorder.stroke": "gray", width: 14, height: 14}, $m( X, {name: "ButtonIcon", SG: "M0 4 L3 9 9 0", lb: 2, stretch: Fe, rz: Pi, visible: !1}, "" !== b ? (new zg( "visible", b )).HH() : [] ) );
		a.click = function( a, d )
		{
			if( !(a.g.ab || "" !== b && a.g.ba.ab) )
			{
				a.zc = !0;
				var e = d.de( "ButtonIcon" );
				e.g.Qb( "checkbox" );
				e.visible = !e.visible;
				"function" === typeof d._doClick && d._doClick( a, d );
				e.g.yd( "checkbox" )
			}
		};
		return a
	} );
	Ln( "CheckBox", function( a )
	{
		a = Mn( a );
		a = $m( "CheckBoxButton", a, {name: "Button", margin: new eb( 0, 1, 0, 0 )} );
		var b = $m( D, "Horizontal", a, {Ew: !0, margin: 1, _buttonFillNormal: a._buttonFillNormal, _buttonStrokeNormal: a._buttonStrokeNormal, _buttonFillOver: a._buttonFillOver, _buttonStrokeOver: a._buttonStrokeOver, Ft: a.Ft, Gt: a.Gt, click: a.click, _buttonClick: a.click} );
		a.Ft = null;
		a.Gt = null;
		a.click = null;
		return b
	} );
	function wm()
	{
		this.li = this.Ji = this.Mp = this.Pp = this.Op = this.Np = this.Ai = this.vr = this.ur = this.Bi = this.Ci = this.Di = this.xr = this.wr = this.ki = this.qi = this.hi = null
	}

	wm.prototype.copy = function()
	{
		var a = new wm;
		a.hi = this.hi;
		a.qi = this.qi;
		a.ki = this.ki;
		a.wr = this.wr;
		a.xr = this.xr;
		a.Di = this.Di;
		a.Ci = this.Ci;
		a.Bi = this.Bi;
		a.ur = this.ur;
		a.vr = this.vr;
		a.Ai = this.Ai;
		a.Np = this.Np;
		a.Op = this.Op;
		a.Pp = this.Pp;
		a.Mp = this.Mp;
		a.Ji = this.Ji;
		a.li = this.li;
		return a
	};
	function D( a )
	{
		G.call( this );
		void 0 === a ? 0 === arguments.length ? this.ia = Si : v.k( "invalid argument to Panel constructor: undefined" ) : (v.pb( a, D, D, "type" ), this.ia = a);
		this.xa = new I( G );
		this.Te = ed;
		this.Qg = !1;
		this.ia === vk && (this.Qg = !0);
		this.Pq = !1;
		this.rq = kc;
		this.oi = sm;
		this.ia === Rm && Nn( this );
		this.Ho = Pi;
		this.Kq = yd;
		this.Lq = Xc;
		this.tk = this.ke = null;
		this.br = NaN;
		this.ig = this.sj = null;
		this.Yn = "category";
		this.hg = null;
		this.Li = new B( NaN, NaN, NaN, NaN );
		this.um = null;
		this.Ch = !1;
		this.$r = null
	}

	v.Ia( D, G );
	v.Wh( D );
	v.ea( "Panel", D );
	function Nn( a )
	{
		a.hj = ed;
		a.zh = 1;
		a.ni = null;
		a.Ql = null;
		a.yh = 1;
		a.xh = null;
		a.Pl = null;
		a.Nd = [];
		a.Jd = [];
		a.pm = On;
		a.Ol = On;
		a.Ki = 0;
		a.xi = 0
	}

	D.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.ia = this.ia;
		a.Te = this.Te.R();
		a.Qg = this.Qg;
		a.Pq = this.Pq;
		a.rq = this.rq.R();
		a.oi = this.oi;
		if( a.ia === Rm )
		{
			a.hj = this.hj.R();
			a.zh = this.zh;
			a.ni = this.ni;
			a.Ql = this.Ql;
			a.yh = this.yh;
			a.xh = this.xh;
			a.Pl = this.Pl;
			var b = [];
			if( 0 < this.Nd.length )for( var c = this.Nd, d = c.length, e = 0; e < d; e++ )if( void 0 !== c[e] )
			{
				var f = c[e].copy();
				f.Bl( a );
				b[e] = f
			}
			a.Nd = b;
			b = [];
			if( 0 < this.Jd.length )for( c = this.Jd, d = c.length, e = 0; e < d; e++ )void 0 !== c[e] && (f = c[e].copy(), f.Bl( a ),
				b[e] = f);
			a.Jd = b;
			a.pm = this.pm;
			a.Ol = this.Ol;
			a.Ki = this.Ki;
			a.xi = this.xi
		}
		a.Ho = this.Ho;
		a.Kq = this.Kq.R();
		a.Lq = this.Lq.R();
		a.ke = this.ke;
		a.tk = this.tk;
		a.br = this.br;
		a.sj = this.sj;
		a.ig = this.ig;
		a.Yn = this.Yn;
		a.Li.assign( this.Li );
		a.Ch = this.Ch;
		null !== this.$r && (a.$r = this.$r)
	};
	D.prototype.Xh = function( a )
	{
		G.prototype.Xh.call( this, a );
		a.xa = this.xa;
		for( var b = a.xa.n, c = b.length, d = 0; d < c; d++ )b[d].Xg = a;
		a.um = null
	};
	D.prototype.copy = function()
	{
		var a = G.prototype.copy.call( this );
		if( null !== a )
		{
			for( var b = this.xa.n, c = b.length, d = 0; d < c; d++ )
			{
				var e = b[d].copy(), f = a;
				e.Bl( f );
				e.jm = null;
				var h = f.xa, k = h.count;
				h.Cd( k, e );
				h = f.Y;
				if( null !== h )
				{
					h.em = null;
					null !== e.Ud && h instanceof S && (h.Ch = !0);
					var l = f.g;
					null !== l && l.la.ib || h.Lc( Cf, "elements", f, null, e, null, k )
				}
			}
			return a
		}
		return null
	};
	D.prototype.toString = function()
	{
		return"Panel(" + this.type + ")#" + v.md( this )
	};
	var Si;
	D.Position = Si = v.p( D, "Position", 0 );
	D.Horizontal = v.p( D, "Horizontal", 1 );
	var rk;
	D.Vertical = rk = v.p( D, "Vertical", 2 );
	var Li;
	D.Spot = Li = v.p( D, "Spot", 3 );
	var sk;
	D.Auto = sk = v.p( D, "Auto", 4 );
	var Rm;
	D.Table = Rm = v.p( D, "Table", 5 );
	D.Viewbox = v.p( D, "Viewbox", 6 );
	var Im;
	D.TableRow = Im = v.p( D, "TableRow", 7 );
	var Jm;
	D.TableColumn = Jm = v.p( D, "TableColumn", 8 );
	var xi;
	D.Link = xi = v.p( D, "Link", 9 );
	var vk;
	D.Grid = vk = v.p( D, "Grid", 10 );
	v.defineProperty( D, {type: "type"}, function()
	{
		return this.ia
	}, function( a )
	{
		var b = this.ia;
		b !== a && (b !== Im && b !== Jm || v.k( "Cannot change Panel.type when it is already a TableRow or a TableColumn: " + a ), this.ia = a, this.ia === vk ? this.Qg = !0 : this.ia === Rm && Nn( this ), this.P(), this.h( "type", b, a ))
	} );
	v.u( D, {elements: "elements"}, function()
	{
		return this.xa.i
	} );
	v.u( D, {Ha: "naturalBounds"}, function()
	{
		return this.Qc
	} );
	v.defineProperty( D, {padding: "padding"}, function()
	{
		return this.Te
	}, function( a )
	{
		"number" === typeof a ? (0 > a && v.va( a, ">= 0", D, "padding" ), a = new eb( a )) : (v.A( a, eb, D, "padding" ), 0 > a.left && v.va( a.left, ">= 0", D, "padding:value.left" ), 0 > a.right && v.va( a.right, ">= 0", D, "padding:value.right" ), 0 > a.top && v.va( a.top, ">= 0", D, "padding:value.top" ), 0 > a.bottom && v.va( a.bottom, ">= 0", D, "padding:value.bottom" ));
		var b = this.Te;
		b.K( a ) || (this.Te = a = a.R(), this.P(), this.h( "padding", b, a ))
	} );
	v.defineProperty( D, {fl: "defaultAlignment"}, function()
	{
		return this.rq
	}, function( a )
	{
		var b = this.rq;
		b.K( a ) || (this.rq = a = a.R(), this.P(), this.h( "defaultAlignment", b, a ))
	} );
	v.defineProperty( D, {Od: "defaultStretch"}, function()
	{
		return this.oi
	}, function( a )
	{
		var b = this.oi;
		b !== a && (v.pb( a, G, D, "defaultStretch" ), this.oi = a, this.P(), this.h( "defaultStretch", b, a ))
	} );
	v.defineProperty( D, {GJ: "defaultSeparatorPadding"}, function()
	{
		return void 0 === this.hj ? ed : this.hj
	}, function( a )
	{
		if( void 0 !== this.hj )
		{
			"number" === typeof a && (a = new eb( a ));
			var b = this.hj;
			b.K( a ) || (this.hj = a = a.R(), this.h( "defaultSeparatorPadding", b, a ))
		}
	} );
	v.defineProperty( D, {EJ: "defaultRowSeparatorStroke"}, function()
	{
		return void 0 === this.ni ? null : this.ni
	}, function( a )
	{
		var b = this.ni;
		b !== a && (null === a || "string" === typeof a || a instanceof ha) && (a instanceof ha && a.freeze(), this.ni = a, this.h( "defaultRowSeparatorStroke", b, a ))
	} );
	v.defineProperty( D, {FJ: "defaultRowSeparatorStrokeWidth"}, function()
	{
		return void 0 === this.zh ? 1 : this.zh
	}, function( a )
	{
		if( void 0 !== this.zh )
		{
			var b = this.zh;
			b !== a && isFinite( a ) && 0 <= a && (this.zh = a, this.h( "defaultRowSeparatorStrokeWidth", b, a ))
		}
	} );
	v.defineProperty( D, {DJ: "defaultRowSeparatorDashArray"}, function()
	{
		return void 0 === this.Ql ? null : this.Ql
	}, function( a )
	{
		if( void 0 !== this.Ql )
		{
			var b = this.Ql;
			if( b !== a )
			{
				null === a || Array.isArray( a ) || v.Gd( a, "Array", D, "defaultRowSeparatorDashArray:value" );
				if( null !== a )
				{
					for( var c = a.length, d = 0, e = 0; e < c; e++ )
					{
						var f = a[e];
						"number" === typeof f && 0 <= f && isFinite( f ) || v.k( "defaultRowSeparatorDashArray value " + f + " at index " + e + " must be a positive number or zero." );
						d += f
					}
					if( 0 === d )
					{
						if( null === b )return;
						a = null
					}
				}
				this.Ql = a;
				this.pa();
				this.h( "defaultRowSeparatorDashArray", b, a )
			}
		}
	} );
	v.defineProperty( D, {yJ: "defaultColumnSeparatorStroke"}, function()
	{
		return void 0 === this.xh ? null : this.xh
	}, function( a )
	{
		if( void 0 !== this.xh )
		{
			var b = this.xh;
			b !== a && (null === a || "string" === typeof a || a instanceof ha) && (a instanceof ha && a.freeze(), this.xh = a, this.h( "defaultColumnSeparatorStroke", b, a ))
		}
	} );
	v.defineProperty( D, {zJ: "defaultColumnSeparatorStrokeWidth"}, function()
	{
		return void 0 === this.yh ? 1 : this.yh
	}, function( a )
	{
		if( void 0 !== this.yh )
		{
			var b = this.yh;
			b !== a && isFinite( a ) && 0 <= a && (this.yh = a, this.h( "defaultColumnSeparatorStrokeWidth", b, a ))
		}
	} );
	v.defineProperty( D, {xJ: "defaultColumnSeparatorDashArray"}, function()
	{
		return void 0 === this.Pl ? null : this.Pl
	}, function( a )
	{
		if( void 0 !== this.Pl )
		{
			var b = this.Pl;
			if( b !== a )
			{
				null === a || Array.isArray( a ) || v.Gd( a, "Array", D, "defaultColumnSeparatorDashArray:value" );
				if( null !== a )
				{
					for( var c = a.length, d = 0, e = 0; e < c; e++ )
					{
						var f = a[e];
						"number" === typeof f && 0 <= f && isFinite( f ) || v.k( "defaultColumnSeparatorDashArray value " + f + " at index " + e + " must be a positive number or zero." );
						d += f
					}
					if( 0 === d )
					{
						if( null === b )return;
						a = null
					}
				}
				this.Pl =
					a;
				this.pa();
				this.h( "defaultColumnSeparatorDashArray", b, a )
			}
		}
	} );
	v.defineProperty( D, {PK: "viewboxStretch"}, function()
	{
		return this.Ho
	}, function( a )
	{
		var b = this.Ho;
		b !== a && (v.pb( a, G, D, "viewboxStretch" ), this.Ho = a, this.h( "viewboxStretch", b, a ))
	} );
	v.defineProperty( D, {Dw: "gridCellSize"}, function()
	{
		return this.Kq
	}, function( a )
	{
		var b = this.Kq;
		b.K( a ) || (v.A( a, ia, D, "gridCellSize" ), a.G() && 0 !== a.width && 0 !== a.height || v.k( "Invalid Panel.gridCellSize: " + a ), this.Kq = a.R(), null !== this.g && this === this.g.lt && Zk( this.g ), this.pa(), this.h( "gridCellSize", b, a ))
	} );
	v.defineProperty( D, {RD: "gridOrigin"}, function()
	{
		return this.Lq
	}, function( a )
	{
		var b = this.Lq;
		b.K( a ) || (v.A( a, y, D, "gridOrigin" ), a.G() || v.k( "Invalid Panel.gridOrigin: " + a ), this.Lq = a.R(), null !== this.g && Zk( this.g ), this.pa(), this.h( "gridOrigin", b, a ))
	} );
	g = D.prototype;
	g.wv = function( a )
	{
		G.prototype.wv.call( this, a );
		for( var b = this.xa.n, c = b.length, d = 0; d < c; d++ )b[d].wv( a )
	};
	g.Wj = function( a, b )
	{
		if( this.ia === vk )
		{
			var c = this.Ti() * b.scale;
			0 >= c && (c = 1);
			var d = this.Dw, e = d.width, d = d.height, f = this.Ha, h = f.width, f = f.height, k = Math.ceil( h / e ), l = Math.ceil( f / d ), m = this.RD;
			a.save();
			a.beginPath();
			a.rect( 0, 0, h, f );
			a.clip();
			for( var n = [], p = this.xa.n, q = p.length, r = 0; r < q; r++ )
			{
				var s = p[r], t = [];
				n.push( t );
				if( s.visible )for( var s = xl( s.Ab ), u = r + 1; u < q; u++ )
				{
					var w = p[u];
					w.visible && xl( w.Ab ) === s && (w = w.interval, 2 <= w && t.push( w ))
				}
			}
			p = this.xa.n;
			q = p.length;
			for( r = 0; r < q; r++ )
			{
				var x = p[r];
				if( x.visible && (t = x.interval, !(2 >
					e * t * c)) )
				{
					var s = n[r], u = !1, z = !0, A = x.$E;
					null !== A && (u = !0, void 0 !== a.setLineDash ? (a.setLineDash( A ), a.lineDashOffset = x.ld) : void 0 !== a.webkitLineDash ? (a.webkitLineDash = A, a.webkitLineDashOffset = x.ld) : void 0 !== a.mozDash ? (a.mozDash = A, a.mozDashOffset = x.ld) : z = !1);
					if( "LineV" === x.Ab )
					{
						a.lineWidth = x.lb;
						Mm( this, a, x.stroke, !1, !1 );
						a.beginPath();
						for( var H = w = Math.floor( -m.x / e ); H <= w + k; H++ )
						{
							var C = H * e + m.x;
							0 <= C && C < h && Pn( H, t, s ) && (u && !z ? zm( a, C, 0, C, f, A, x.ld ) : (a.moveTo( C, 0 ), a.lineTo( C, f )))
						}
						a.stroke()
					}
					else if( "LineH" === x.Ab )
					{
						a.lineWidth =
							x.lb;
						Mm( this, a, x.stroke, !1, !1 );
						a.beginPath();
						for( H = w = Math.floor( -m.y / d ); H <= w + l; H++ )C = H * d + m.y, 0 <= C && C <= f && Pn( H, t, s ) && (u && !z ? zm( a, 0, C, h, C, A, x.ld ) : (a.moveTo( 0, C ), a.lineTo( h, C )));
						a.stroke()
					}
					else if( "BarV" === x.Ab )for( Mm( this, a, x.fill, !0, !1 ), x = x.width, isNaN( x ) && (x = e), H = w = Math.floor( -m.x / e ); H <= w + k; H++ )C = H * e + m.x, 0 <= C && C < h && Pn( H, t, s ) && a.fillRect( C, 0, x, f );
					else if( "BarH" === x.Ab )for( Mm( this, a, x.fill, !0, !1 ), x = x.height, isNaN( x ) && (x = d), H = w = Math.floor( -m.y / d ); H <= w + l; H++ )C = H * d + m.y, 0 <= C && C <= f && Pn( H, t, s ) && a.fillRect( 0,
						C, h, x );
					u && (void 0 !== a.setLineDash ? (a.setLineDash( v.th ), a.lineDashOffset = 0) : void 0 !== a.webkitLineDash ? (a.webkitLineDash = v.th, a.webkitLineDashOffset = 0) : void 0 !== a.mozDash && (a.mozDash = null, a.mozDashOffset = 0))
				}
			}
			a.restore();
			Vc( a, !1 )
		}
		else
		{
			this.ia === Rm && (a.lineCap = "butt", Qn( this, a, !0, this.Nd, !0 ), Qn( this, a, !1, this.Jd, !0 ), Rn( this, a, !0, this.Nd ), Rn( this, a, !1, this.Jd ), Qn( this, a, !0, this.Nd, !1 ), Qn( this, a, !1, this.Jd, !1 ));
			(c = this.$D) && a.save();
			e = this.Ye();
			d = this.xa.n;
			h = d.length;
			for( f = 0; f < h; f++ )k = d[f], c && k === e && (a.ow = !0), k.Xe( a, b ), c && k === e && (a.ow = !1);
			c && (a.restore(), Vc( a, !0 ))
		}
	};
	function Rn( a, b, c, d )
	{
		for( var e = d.length, f = a.V, h = c ? a.Bd( 0 ) : a.Ad( 0 ), k = 0; k < e; k++ )
		{
			var l = d[k];
			if( void 0 !== l && l !== h && 0 !== l.Ma )
			{
				if( c )
				{
					if( l.position > f.height )continue
				}
				else if( l.position > f.width )continue;
				var m = l.Ep;
				isNaN( m ) && (m = c ? a.zh : a.yh);
				var n = l.Dp;
				null === n && (n = c ? a.ni : a.xh);
				if( 0 !== m && null !== n )
				{
					Mm( a, b, n, !1, !1 );
					var n = !1, p = !0, q = l.vI;
					null !== q && (n = !0, void 0 !== b.setLineDash ? (b.setLineDash( q ), b.lineDashOffset = a.ld) : void 0 !== b.webkitLineDash ? (b.webkitLineDash = q, b.webkitLineDashOffset = a.ld) : void 0 !== b.mozDash ?
						(b.mozDash = q, b.mozDashOffset = a.ld) : p = !1);
					b.beginPath();
					var r = l.position + m;
					c ? r > f.height && (m -= r - f.height) : r > f.width && (m -= r - f.width);
					l = l.position + m / 2;
					b.lineWidth = m;
					r = a.padding;
					c ? (l += r.top, m = r.left, r = f.width - r.right, n && !p ? zm( b, m, l, r, l, q, 0 ) : (b.moveTo( m, l ), b.lineTo( r, l ))) : (l += r.left, m = r.top, r = f.height - r.bottom, n && !p ? zm( b, l, m, l, r, q, 0 ) : (b.moveTo( l, m ), b.lineTo( l, r )));
					b.stroke();
					n && (void 0 !== b.setLineDash ? (b.setLineDash( v.th ), b.lineDashOffset = 0) : void 0 !== b.webkitLineDash ? (b.webkitLineDash = v.th, b.webkitLineDashOffset =
						0) : void 0 !== b.mozDash && (b.mozDash = null, b.mozDashOffset = 0))
				}
			}
		}
	}

	function Qn( a, b, c, d, e )
	{
		for( var f = d.length, h = a.V, k = 0; k < f; k++ )
		{
			var l = d[k];
			if( void 0 !== l && null !== l.background && l.iz !== e && 0 !== l.Ma )
			{
				var m = c ? h.height : h.width;
				if( !(l.position > m) )
				{
					var n = l.pf(), p = l.Ep;
					isNaN( p ) && (p = c ? a.zh : a.yh);
					var q = l.Dp;
					null === q && (q = c ? a.ni : a.xh);
					null === q && (p = 0);
					n -= p;
					p = l.position + p;
					n += l.Ma;
					p + n > m && (n = m - p);
					0 >= n || (m = a.padding, Mm( a, b, l.background, !0, !1 ), c ? b.fillRect( m.left, p + m.top, h.width - (m.left + m.right), n ) : b.fillRect( p + m.left, m.top, n, h.height - (m.top + m.bottom) ))
				}
			}
		}
	}

	function Pn( a, b, c )
	{
		if( 0 !== a % b )return!1;
		b = c.length;
		for( var d = 0; d < b; d++ )if( 0 === a % c[d] )return!1;
		return!0
	}

	function xl( a )
	{
		return"LineV" === a || "BarV" === a
	}

	g.ap = function( a, b, c, d, e )
	{
		var f = this.Lg(), h = this.transform, k = 1 / (h.m11 * h.m22 - h.m12 * h.m21), l = h.m22 * k, m = -h.m12 * k, n = -h.m21 * k, p = h.m11 * k, q = k * (h.m21 * h.dy - h.m22 * h.dx), r = k * (h.m12 * h.dx - h.m11 * h.dy);
		if( null !== this.Am )return h = this.V, Zd( h.left, h.top, h.right, h.bottom, a, b, c, d, e );
		if( null !== this.background )f = a * l + b * n + q, k = a * m + b * p + r, a = c * l + d * n + q, c = c * m + d * p + r, e.m( 0, 0 ), d = this.Ha, c = Zd( 0, 0, d.width, d.height, f, k, a, c, e ), e.transform( h );
		else
		{
			f || (l = 1, n = m = 0, p = 1, r = q = 0);
			k = a * l + b * n + q;
			a = a * m + b * p + r;
			l = c * l + d * n + q;
			d = c * m + d * p + r;
			e.m( l, d );
			m = (l -
				k) * (l - k) + (d - a) * (d - a);
			c = !1;
			p = this.xa.n;
			r = p.length;
			n = v.L();
			for( q = 0; q < r; q++ )b = p[q], b.visible && b.ap( k, a, l, d, n ) && (c = !0, b = (k - n.x) * (k - n.x) + (a - n.y) * (a - n.y), b < m && (m = b, e.set( n )));
			v.v( n );
			f && e.transform( h )
		}
		return c
	};
	g.P = function( a )
	{
		G.prototype.P.call( this, a );
		this.ia === sk && (a = this.Ye(), null !== a && a.P( !0 ));
		a = this.xa.n;
		for( var b = a.length, c = 0; c < b; c++ )
		{
			var d = a[c];
			!0 !== dl( d ) && (d.ya.G() || (d instanceof Mi || d instanceof D || d instanceof $g || Em( d, !1 ) !== Ni) && d.P( !0 ))
		}
	};
	g.ep = function()
	{
		if( !1 === dl( this ) )
		{
			Qk( this, !0 );
			Gm( this, !0 );
			for( var a = this.xa.n, b = a.length, c = 0; c < b; c++ )a[c].ep()
		}
	};
	g.ti = function()
	{
		if( 0 !== (this.fa & 2048) === !1 )
		{
			Om( this, !0 );
			Pm( this, !0 );
			for( var a = this.xa.n, b = a.length, c = 0; c < b; c++ )a[c].yz()
		}
	};
	g.yz = function()
	{
		Pm( this, !0 );
		for( var a = this.xa.n, b = a.length, c = 0; c < b; c++ )a[c].yz()
	};
	g.mp = function( a, b, c, d )
	{
		var e = this.Li;
		e.width = 0;
		e.height = 0;
		var f = this.ya, h = this.jh;
		void 0 === c && (c = h.width, d = h.height);
		c = Math.max( c, h.width );
		d = Math.max( d, h.height );
		var k = this.yf;
		isNaN( f.width ) || (a = Math.min( f.width, k.width ));
		isNaN( f.height ) || (b = Math.min( f.height, k.height ));
		a = Math.max( c, a );
		b = Math.max( d, b );
		var l = this.padding;
		a = Math.max( a - l.left - l.right, 0 );
		b = Math.max( b - l.top - l.bottom, 0 );
		var m = this.xa.n;
		if( 0 !== m.length )
		{
			var n = this.ia.Ob;
			switch( n )
			{
			case "Position":
				var p = a, q = b, r = c, s = d, t = m.length;
				e.x = 0;
				e.y =
					0;
				e.width = 0;
				for( var u = e.height = 0; u < t; u++ )
				{
					var w = m[u];
					if( w.visible || w === this.bc )
					{
						var x = w.margin, z = x.right + x.left, A = x.top + x.bottom;
						fj( w, p, q, r, s );
						var H = w.Ca, C = Math.max( H.width + z, 0 ), T = Math.max( H.height + A, 0 ), ba = w.position.x, U = w.position.y;
						isFinite( ba ) || (ba = 0);
						isFinite( U ) || (U = 0);
						if( w instanceof X )
						{
							var M = w;
							if( M.bE )var aa = M.lb / 2, ba = ba - aa, U = U - aa
						}
						ab( e, ba, U, C, T )
					}
				}
				break;
			case "Vertical":
				for( var Ia = a, oa = c, Ga = m.length, pa = v.jb(), Ca = 0; Ca < Ga; Ca++ )
				{
					var ua = m[Ca];
					if( ua.visible || ua === this.bc )
					{
						var fc = Em( ua, !1 );
						if( fc !==
							Ni && fc !== tm )pa.push( ua );
						else
						{
							var nd = ua.margin, od = nd.right + nd.left, Je = nd.top + nd.bottom;
							fj( ua, Ia, Infinity, oa, 0 );
							var Wb = ua.Ca, Gg = Math.max( Wb.width + od, 0 ), pd = Math.max( Wb.height + Je, 0 );
							e.width = Math.max( e.width, Gg );
							e.height += pd
						}
					}
				}
				var ob = pa.length;
				if( 0 !== ob )
				{
					this.ya.width ? Ia = Math.min( this.ya.width, this.yf.width ) : 0 !== e.width && (Ia = Math.min( e.width, this.yf.width ));
					for( Ca = 0; Ca < ob; Ca++ )if( ua = pa[Ca], ua.visible || ua === this.bc )nd = ua.margin, od = nd.right + nd.left, Je = nd.top + nd.bottom, fj( ua, Ia, Infinity, oa, 0 ), Wb = ua.Ca, Gg =
						Math.max( Wb.width + od, 0 ), pd = Math.max( Wb.height + Je, 0 ), e.width = Math.max( e.width, Gg ), e.height += pd;
					v.sa( pa )
				}
				break;
			case "Horizontal":
				for( var gb = b, ka = d, la = m.length, pb = v.jb(), Ua = 0; Ua < la; Ua++ )
				{
					var Ra = m[Ua];
					if( Ra.visible || Ra === this.bc )
					{
						var se = Em( Ra, !1 );
						if( se !== Ni && se !== um )pb.push( Ra );
						else
						{
							var qd = Ra.margin, ae = qd.right + qd.left, Kd = qd.top + qd.bottom;
							fj( Ra, Infinity, gb, 0, ka );
							var be = Ra.Ca, Hg = Math.max( be.width + ae, 0 ), Zc = Math.max( be.height + Kd, 0 );
							e.width += Hg;
							e.height = Math.max( e.height, Zc )
						}
					}
				}
				var gi = pb.length;
				if( 0 !== gi )
				{
					this.ya.height ?
						gb = Math.min( this.ya.height, this.yf.height ) : 0 !== e.height && (gb = Math.min( e.height, this.yf.height ));
					for( Ua = 0; Ua < gi; Ua++ )if( Ra = pb[Ua], Ra.visible || Ra === this.bc )qd = Ra.margin, ae = qd.right + qd.left, Kd = qd.top + qd.bottom, fj( Ra, Infinity, gb, 0, ka ), be = Ra.Ca, Hg = Math.max( be.width + ae, 0 ), Zc = Math.max( be.height + Kd, 0 ), e.width += Hg, e.height = Math.max( e.height, Zc );
					v.sa( pb )
				}
				break;
			case "Spot":
				a:{
					var xb = a, Xb = b, Ld = c, jh = d, Lb = m.length, ib = this.Ye(), bb = ib.margin, Ke = 0, Md = 0, Ig = bb.right + bb.left, Jg = bb.top + bb.bottom;
					fj( ib, xb, Xb, Ld, jh );
					var gc =
						ib.Ca, hc = gc.width, ce = gc.height, $c = Math.max( hc + Ig, 0 ), kb = Math.max( ce + Jg, 0 );
					e.x = -bb.left;
					e.y = -bb.top;
					e.width = $c;
					e.height = kb;
					for( var Nc = 0; Nc < Lb; Nc++ )
					{
						var Ka = m[Nc];
						if( Ka !== ib && (Ka.visible || Ka === this.bc) )
						{
							bb = Ka.margin;
							Ke = bb.right + bb.left;
							Md = bb.top + bb.bottom;
							fj( Ka, xb, Xb, 0, 0 );
							var gc = Ka.Ca, $c = Math.max( gc.width + Ke, 0 ), kb = Math.max( gc.height + Md, 0 ), lb = Ka.alignment;
							lb.Uc() && (lb = this.fl);
							lb.cd() || (lb = Ab);
							var tc = Ka.Sj;
							tc.Uc() && (tc = Ab);
							ab( e, lb.x * hc + lb.offsetX - (tc.x * gc.width - tc.offsetX) - bb.left, lb.y * ce + lb.offsetY - (tc.y *
								gc.height - tc.offsetY) - bb.top, $c, kb )
						}
					}
					var rd = ib.stretch;
					rd === sm && (rd = Em( ib, !1 ));
					switch( rd )
					{
					case Ni:
						break a;
					case Fe:
						if( !isFinite( xb ) && !isFinite( Xb ) )break a;
						break;
					case um:
						if( !isFinite( xb ) )break a;
						break;
					case tm:
						if( !isFinite( Xb ) )break a
					}
					gc = ib.Ca;
					hc = gc.width;
					ce = gc.height;
					$c = Math.max( hc + Ig, 0 );
					kb = Math.max( ce + Jg, 0 );
					bb = ib.margin;
					e.x = -bb.left;
					e.y = -bb.top;
					e.width = $c;
					e.height = kb;
					for( Nc = 0; Nc < Lb; Nc++ )Ka = m[Nc], Ka === ib || !Ka.visible && Ka !== this.bc || (bb = Ka.margin, Ke = bb.right + bb.left, Md = bb.top + bb.bottom, gc = Ka.Ca, $c = Math.max( gc.width +
						Ke, 0 ), kb = Math.max( gc.height + Md, 0 ), lb = Ka.alignment, lb.Uc() && (lb = this.fl), lb.cd() || (lb = Ab), tc = Ka.Sj, tc.Uc() && (tc = Ab), ab( e, lb.x * hc + lb.offsetX - (tc.x * gc.width - tc.offsetX) - bb.left, lb.y * ce + lb.offsetY - (tc.y * gc.height - tc.offsetY) - bb.top, $c, kb ))
				}
				break;
			case "Auto":
				var Ib = a, de = b, qf = c, Le = d, Jf = m.length, Jb = this.Ye(), te = Jb.margin, Mb = te.right + te.left, ic = te.top + te.bottom;
				fj( Jb, Ib, de, qf, Le );
				var Rb = Jb.Ca, Ec = 0;
				if( Jb instanceof X )var mb = Jb, Ec = mb.lb * mb.scale;
				var Cb = Math.max( Rb.width + Mb, 0 ), Kb = Math.max( Rb.height + ic, 0 ), Nd =
					Sn( Jb ), Kg = Nd.x * Cb + Nd.offsetX, kh = Nd.y * Kb + Nd.offsetY, Nd = Tn( Jb ), lh = Nd.x * Cb + Nd.offsetX, ue = Nd.y * Kb + Nd.offsetY, ad = Ib, rf = de;
				isFinite( Ib ) && (ad = Math.max( Math.abs( Kg - lh ) - Ec, 0 ));
				isFinite( de ) && (rf = Math.max( Math.abs( kh - ue ) - Ec, 0 ));
				var jc = v.Fl();
				jc.m( 0, 0 );
				for( var yb = 0; yb < Jf; yb++ )
				{
					var zb = m[yb];
					if( zb !== Jb && (zb.visible || zb === this.bc) )
					{
						var te = zb.margin, Fc = te.right + te.left, Lg = te.top + te.bottom;
						fj( zb, ad, rf, 0, 0 );
						Rb = zb.Ca;
						Cb = Math.max( Rb.width + Fc, 0 );
						Kb = Math.max( Rb.height + Lg, 0 );
						jc.m( Math.max( Cb, jc.width ), Math.max( Kb, jc.height ) )
					}
				}
				if( 1 ===
					Jf )e.width = Cb, e.height = Kb, v.Yj( jc );
				else
				{
					var Oc = Sn( Jb ), Pc = Tn( Jb ), jb = 0, Qc = 0;
					Pc.x !== Oc.x && Pc.y !== Oc.y && (jb = jc.width / Math.abs( Pc.x - Oc.x ), Qc = jc.height / Math.abs( Pc.y - Oc.y ));
					v.Yj( jc );
					Ec = 0;
					Jb instanceof X && (mb = Jb, Ec = mb.lb * mb.scale, Oi( mb ) === Pi && (jb = Qc = Math.max( jb, Qc )));
					var jb = jb + (Math.abs( Oc.offsetX ) + Math.abs( Pc.offsetX ) + Ec), Qc = Qc + (Math.abs( Oc.offsetY ) + Math.abs( Pc.offsetY ) + Ec), Od = Jb.stretch;
					Od === sm && (Od = Em( Jb, !1 ));
					switch( Od )
					{
					case Ni:
						Le = qf = 0;
						break;
					case Fe:
						isFinite( Ib ) && (jb = Ib);
						isFinite( de ) && (Qc = de);
						break;
					case um:
						isFinite( Ib ) &&
						(jb = Ib);
						Le = 0;
						break;
					case tm:
						qf = 0, isFinite( de ) && (Qc = de)
					}
					Jb instanceof X && !Jb.ya.G() && (mb = Jb, mb.Lh ? mb.tn = null : mb.Ra = null);
					Jb.ep();
					fj( Jb, jb, Qc, qf, Le );
					e.width = Jb.Ca.width + Mb;
					e.height = Jb.Ca.height + ic
				}
				break;
			case "Table":
				for( var ee = a, sf = b, hi = c, pj = d, Fa = m.length, Me = v.jb(), fe = v.jb(), ca = 0; ca < Fa; ca++ )
				{
					var da = m[ca], Mg = da instanceof D ? da : null;
					if( null === Mg || Mg.type !== Im && Mg.type !== Jm || !da.visible )Me.push( da );
					else
					{
						fe.push( da );
						for( var mh = Mg.xa.n, ii = mh.length, uc = 0; uc < ii; uc++ )
						{
							var ji = mh[uc];
							Mg.type === Im ? ji.cc = da.cc :
								Mg.type === Jm && (ji.column = da.column);
							Me.push( ji )
						}
					}
				}
				Fa = Me.length;
				0 === Fa && (this.Bd( 0 ), this.Ad( 0 ));
				for( var Yb = [], ca = 0; ca < Fa; ca++ )da = Me[ca], Qk( da, !0 ), Gm( da, !0 ), Yb[da.cc] || (Yb[da.cc] = []), Yb[da.cc][da.column] || (Yb[da.cc][da.column] = []), Yb[da.cc][da.column].push( da );
				v.sa( Me );
				for( var nh = v.jb(), bd = v.jb(), ve = v.jb(), Rc = {count: 0}, sd = {count: 0}, Gc = ee, td = sf, ag = this.Nd, Fa = ag.length, ca = 0; ca < Fa; ca++ )
				{
					var Y = ag[ca];
					void 0 !== Y && (Y.Ma = 0)
				}
				ag = this.Jd;
				Fa = ag.length;
				for( ca = 0; ca < Fa; ca++ )Y = ag[ca], void 0 !== Y && (Y.Ma = 0);
				for( var we =
					Yb.length, Ne = 0, ca = 0; ca < we; ca++ )Yb[ca] && (Ne = Math.max( Ne, Yb[ca].length ));
				for( var ki = Math.min( this.Ki, we - 1 ), li = Math.min( this.xi, Ne - 1 ), Hc = 0, we = Yb.length, ca = 0; ca < we; ca++ )if( Yb[ca] )for( var Ne = Yb[ca].length, qb = this.Bd( ca ), uc = qb.Ma = 0; uc < Ne; uc++ )if( Yb[ca][uc] )
				{
					var rb = this.Ad( uc );
					void 0 === nh[uc] && (rb.Ma = 0, nh[uc] = !0);
					for( var Nk = Yb[ca][uc], bg = Nk.length, Ng = 0; Ng < bg; Ng++ )if( da = Nk[Ng], da.visible || da === this.bc )
					{
						var Og = 1 < da.Hi || 1 < da.ji;
						Og && (ca < ki || uc < li || bd.push( da ));
						var Sb = da.margin, cg = Sb.right + Sb.left, dg = Sb.top +
							Sb.bottom, ge = Sm( da, qb, rb, !1 ), xe = da.ya, on = !isNaN( xe.height ), mi = !isNaN( xe.width ) && on;
						Og || ge === Ni || mi || ca < ki || uc < li || (void 0 === Rc[uc] && (Rc[uc] = -1, Rc.count++), void 0 === sd[ca] && (sd[ca] = -1, sd.count++), ve.push( da ));
						fj( da, Infinity, Infinity, 0, 0 );
						if( !(ca < ki || uc < li) )
						{
							var Oe = da.Ca, Pe = Math.max( Oe.width + cg, 0 ), ud = Math.max( Oe.height + dg, 0 );
							if( 1 === da.Hi && (ge === Ni || ge === um) )
							{
								var Y = this.Bd( ca ), cd = Y.pf(), Hc = Math.max( ud - Y.Ma, 0 );
								Hc + cd > td && (Hc = Math.max( td - cd, 0 ));
								var oh = 0 === Y.Ma;
								Y.Ma += Hc;
								td = Math.max( td - (Hc + (oh ? cd : 0)), 0 )
							}
							1 !==
							da.ji || ge !== Ni && ge !== tm || (Y = this.Ad( uc ), cd = Y.pf(), Hc = Math.max( Pe - Y.Ma, 0 ), Hc + cd > Gc && (Hc = Math.max( Gc - cd, 0 )), oh = 0 === Y.Ma, Y.Ma += Hc, Gc = Math.max( Gc - (Hc + (oh ? cd : 0)), 0 ));
							Og && da.ep()
						}
					}
				}
				v.sa( nh );
				for( var ye = 0, ze = 0, Fa = this.Po, ca = 0; ca < Fa; ca++ )void 0 !== this.Jd[ca] && (ye += this.Ad( ca ).bb);
				Fa = this.Cp;
				for( ca = 0; ca < Fa; ca++ )void 0 !== this.Nd[ca] && (ze += this.Bd( ca ).bb);
				for( var Gc = Math.max( ee - ye, 0 ), Ok = td = Math.max( sf - ze, 0 ), Pk = Gc, Fa = ve.length, ca = 0; ca < Fa; ca++ )
				{
					var da = ve[ca], qb = this.Bd( da.cc ), rb = this.Ad( da.column ), Sc = da.Ca, Sb =
						da.margin, cg = Sb.right + Sb.left, dg = Sb.top + Sb.bottom;
					Rc[da.column] = 0 === rb.Ma ? Math.max( Sc.width + cg, Rc[da.column] ) : null;
					sd[da.cc] = 0 === qb.Ma ? Math.max( Sc.height + dg, sd[da.cc] ) : null
				}
				var tf = 0, Ae = 0;
				for( ca in sd )"count" !== ca && (tf += sd[ca]);
				for( ca in Rc )"count" !== ca && (Ae += Rc[ca]);
				for( var Va = v.Fl(), ca = 0; ca < Fa; ca++ )if( da = ve[ca], da.visible || da === this.bc )
				{
					var qb = this.Bd( da.cc ), rb = this.Ad( da.column ), uf = 0;
					isFinite( rb.width ) ? uf = rb.width : (uf = isFinite( Gc ) && null !== Rc[da.column] ? 0 === Ae ? rb.Ma + Gc : Rc[da.column] / Ae * Pk : null !==
						Rc[da.column] ? Gc : rb.Ma || Gc, uf = Math.max( 0, uf - rb.pf() ));
					var Be = 0;
					isFinite( qb.height ) ? Be = qb.height : (Be = isFinite( td ) && null !== sd[da.cc] ? 0 === tf ? qb.Ma + td : sd[da.cc] / tf * Ok : null !== sd[da.cc] ? td : qb.Ma || td, Be = Math.max( 0, Be - qb.pf() ));
					Va.m( Math.max( rb.Zi, Math.min( uf, rb.gf ) ), Math.max( qb.Zi, Math.min( Be, qb.gf ) ) );
					ge = Sm( da, qb, rb, !1 );
					switch( ge )
					{
					case um:
						Va.height = Infinity;
						break;
					case tm:
						Va.width = Infinity
					}
					Sb = da.margin;
					cg = Sb.right + Sb.left;
					dg = Sb.top + Sb.bottom;
					da.ep();
					fj( da, Va.width, Va.height, rb.Zi, qb.Zi );
					Oe = da.Ca;
					Pe = Math.max( Oe.width +
						cg, 0 );
					ud = Math.max( Oe.height + dg, 0 );
					isFinite( Gc ) && (Pe = Math.min( Pe, Va.width ));
					isFinite( td ) && (ud = Math.min( ud, Va.height ));
					var eg = 0, eg = qb.Ma;
					qb.Ma = Math.max( qb.Ma, ud );
					Hc = qb.Ma - eg;
					td = Math.max( td - Hc, 0 );
					eg = rb.Ma;
					rb.Ma = Math.max( rb.Ma, Pe );
					Hc = rb.Ma - eg;
					Gc = Math.max( Gc - Hc, 0 )
				}
				v.sa( ve );
				for( var Kf = v.Fl(), Fa = bd.length, ca = 0; ca < Fa; ca++ )if( da = bd[ca], da.visible || da === this.bc )
				{
					qb = this.Bd( da.cc );
					rb = this.Ad( da.column );
					Va.m( Math.max( rb.Zi, Math.min( ee, rb.gf ) ), Math.max( qb.Zi, Math.min( sf, qb.gf ) ) );
					ge = Sm( da, qb, rb, !1 );
					switch( ge )
					{
					case Fe:
						0 !==
						rb.Ma && (Va.width = Math.min( Va.width, rb.Ma ));
						0 !== qb.Ma && (Va.height = Math.min( Va.height, qb.Ma ));
						break;
					case um:
						0 !== rb.Ma && (Va.width = Math.min( Va.width, rb.Ma ));
						break;
					case tm:
						0 !== qb.Ma && (Va.height = Math.min( Va.height, qb.Ma ))
					}
					isFinite( rb.width ) && (Va.width = rb.width);
					isFinite( qb.height ) && (Va.height = qb.height);
					Kf.m( 0, 0 );
					for( var cb = 1; cb < da.Hi && !(da.cc + cb >= this.Cp); cb++ )Y = this.Bd( da.cc + cb ), Kf.height += Math.max( Y.Zi, isNaN( Y.Ue ) ? Y.gf : Math.min( Y.Ue, Y.gf ) );
					for( cb = 1; cb < da.ji && !(da.column + cb >= this.Po); cb++ )Y = this.Ad( da.column +
						cb ), Kf.width += Math.max( Y.Zi, isNaN( Y.Ue ) ? Y.gf : Math.min( Y.Ue, Y.gf ) );
					Va.width += Kf.width;
					Va.height += Kf.height;
					Sb = da.margin;
					cg = Sb.right + Sb.left;
					dg = Sb.top + Sb.bottom;
					fj( da, Va.width, Va.height, hi, pj );
					for( var Oe = da.Ca, Pe = Math.max( Oe.width + cg, 0 ), ud = Math.max( Oe.height + dg, 0 ), Qe = 0, cb = 0; cb < da.Hi && !(da.cc + cb >= this.Cp); cb++ )Y = this.Bd( da.cc + cb ), Qe += Y.total || 0;
					if( Qe < ud )
					{
						var vc = ud - Qe, ni = ud - Qe;
						if( null !== da.px )for( var fg = da.px, cb = 0; cb < da.Hi && !(0 >= vc) && !(da.cc + cb >= this.Cp); cb++ )
						{
							var Y = this.Bd( da.cc + cb ), hb = Y.bb || 0, vd = fg( da,
								Y, ni );
							Y.Ma = Math.min( Y.gf, hb + vd );
							Y.bb !== hb && (vc -= Y.bb - hb)
						}
						for( ; 0 < vc; )
						{
							hb = Y.bb || 0;
							isNaN( Y.height ) && Y.gf > hb && (Y.Ma = Math.min( Y.gf, hb + vc ), Y.bb !== hb && (vc -= Y.bb - hb));
							if( 0 === Y.index )break;
							Y = this.Bd( Y.index - 1 )
						}
					}
					for( var Ce = 0, cb = 0; cb < da.ji && !(da.column + cb >= this.Po); cb++ )Y = this.Ad( da.column + cb ), Ce += Y.total || 0;
					if( Ce < Pe )
					{
						vc = Pe - Ce;
						ni = Pe - Ce;
						if( null !== da.px )for( fg = da.px, cb = 0; cb < da.ji && !(0 >= vc) && !(da.column + cb >= this.Po); cb++ )Y = this.Ad( da.column + cb ), hb = Y.bb || 0, vd = fg( da, Y, ni ), Y.Ma = Math.min( Y.gf, hb + vd ), Y.bb !== hb && (vc -=
							Y.bb - hb);
						for( ; 0 < vc; )
						{
							hb = Y.bb || 0;
							isNaN( Y.width ) && Y.gf > hb && (Y.Ma = Math.min( Y.gf, hb + vc ), Y.bb !== hb && (vc -= Y.bb - hb));
							if( 0 === Y.index )break;
							Y = this.Ad( Y.index - 1 )
						}
					}
				}
				v.sa( bd );
				v.Yj( Kf );
				v.Yj( Va );
				for( var he = 0, ie = 0, ge = Em( this, !0 ), ph = this.ya, qj = this.yf, wd = ze = ye = 0, Re = 0, Fa = this.Po, ca = 0; ca < Fa; ca++ )void 0 !== this.Jd[ca] && (Y = this.Ad( ca ), isFinite( Y.width ) ? (wd += Y.width, wd += Y.pf()) : Un( Y ) === Vn ? (wd += Y.bb, wd += Y.pf()) : 0 !== Y.bb && (ye += Y.bb, ye += Y.pf()));
				var he = isFinite( ph.width ) ? Math.min( ph.width, qj.width ) : ge !== Ni && isFinite( ee ) ?
					ee : ye, he = Math.max( he, this.jh.width ), he = Math.max( he - wd, 0 ), gg = Math.max( he / ye, 1 );
				isFinite( gg ) || (gg = 1);
				for( ca = 0; ca < Fa; ca++ )void 0 !== this.Jd[ca] && (Y = this.Ad( ca ), isFinite( Y.width ) || Un( Y ) === Vn || (Y.Ma = Y.bb * gg), Y.position = e.width, 0 !== Y.bb && (e.width += Y.bb, e.width += Y.pf()));
				Fa = this.Cp;
				for( ca = 0; ca < Fa; ca++ )void 0 !== this.Nd[ca] && (Y = this.Bd( ca ), isFinite( Y.height ) ? (Re += Y.height, Re += Y.pf()) : Un( Y ) === Vn ? (Re += Y.bb, Re += Y.pf()) : 0 !== Y.bb && (ze += Y.bb, ze += Y.pf()));
				var ie = isFinite( ph.height ) ? Math.min( ph.height, qj.height ) : ge !==
					Ni && isFinite( sf ) ? sf : ze, ie = Math.max( ie, this.jh.height ), ie = Math.max( ie - Re, 0 ), Se = Math.max( ie / ze, 1 );
				isFinite( Se ) || (Se = 1);
				for( ca = 0; ca < Fa; ca++ )void 0 !== this.Nd[ca] && (Y = this.Bd( ca ), isFinite( Y.height ) || Un( Y ) === Vn || (Y.Ma = Y.bb * Se), Y.position = e.height, 0 !== Y.bb && (e.height += Y.bb, e.height += Y.pf()));
				Fa = fe.length;
				for( ca = 0; ca < Fa; ca++ )
				{
					var Tc = fe[ca];
					Tc.type === Im ? (uf = e.width, Y = this.Bd( Tc.cc ), Be = Y.Ma) : (Y = this.Ad( Tc.column ), uf = Y.Ma, Be = e.height);
					Tc.kd.m( 0, 0, uf, Be );
					Qk( Tc, !1 );
					Yb[Tc.cc] || (Yb[Tc.cc] = []);
					Yb[Tc.cc][Tc.column] ||
					(Yb[Tc.cc][Tc.column] = []);
					Yb[Tc.cc][Tc.column].push( Tc )
				}
				v.sa( fe );
				this.$r = Yb;
				break;
			case "Viewbox":
				var Pg = a, Te = b, rj = c, Rq = d;
				1 < m.length && v.k( "Viewbox Panel cannot contain more than one GraphObject." );
				var Ue = m[0];
				Ue.Tb = 1;
				Ue.ep();
				fj( Ue, Infinity, Infinity, rj, Rq );
				var sj = Ue.Ca, Rk = Ue.margin, Sq = Rk.right + Rk.left, Tq = Rk.top + Rk.bottom;
				if( isFinite( Pg ) || isFinite( Te ) )
				{
					var bt = Ue.scale, Sk = sj.width, Tk = sj.height, Uq = Math.max( Pg - Sq, 0 ), Vq = Math.max( Te - Tq, 0 ), tj = 1;
					this.Ho === Pi ? 0 !== Sk && 0 !== Tk && (tj = Math.min( Uq / Sk, Vq / Tk )) : 0 !== Sk &&
						0 !== Tk && (tj = Math.max( Uq / Sk, Vq / Tk ));
					0 === tj && (tj = 1E-4);
					Ue.Tb *= tj;
					bt !== Ue.scale && (Qk( Ue, !0 ), fj( Ue, Infinity, Infinity, rj, Rq ))
				}
				sj = Ue.Ca;
				e.width = isFinite( Pg ) ? Pg : Math.max( sj.width + Sq, 0 );
				e.height = isFinite( Te ) ? Te : Math.max( sj.height + Tq, 0 );
				break;
			case "Link":
				var Wq = m.length, hg = this instanceof Tg ? this.Nf : this;
				if( hg instanceof W )if( 0 === Wq )
				{
					var Uk = this.Qc;
					Xa( Uk, 0, 0 );
					var je = this.Ca;
					je.m( 0, 0, 0, 0 )
				}
				else
				{
					var Vk = this instanceof Tg ? null : hg.path, ig = hg.an, Ve = this.Li;
					Ve.assign( ig );
					Ve.x = 0;
					var Qg = Ve.y = 0, jg = hg.points, Qg = void 0 !==
						this.oa ? this.oa : jg.count;
					this instanceof Tg ? this.Vm( !1 ) : hg.Vm( !1 );
					var Xq = ig.width, Yq = ig.height;
					this.yi.m( ig.x, ig.y );
					null === this.Mg && (this.Mg = new I( B ));
					this.Mg.clear();
					null !== Vk && (Wn( Vk, Xq, Yq, this ), je = Vk.Ca, Ve.ci( je ), this.Mg.add( je ));
					for( var oi = v.qh(), uj = v.L(), kg = v.L(), pn = 0; pn < Wq; pn++ )
					{
						var Tb = m[pn];
						if( Tb !== Vk )if( Tb.Sf && Tb instanceof X )Wn( Tb, Xq, Yq, this ), je = Tb.Ca, Ve.ci( je ), this.Mg.add( je );
						else if( 2 > Qg )fj( Tb, Infinity, Infinity ), je = Tb.Ca, Ve.ci( je ), this.Mg.add( je );
						else
						{
							var dd = Tb.we, $q = Tb.gA, qn = Tb.Sj;
							qn.te() &&
							(qn = Ab);
							var vj = Tb.Ut, ct = Tb.PE, wj = 0, xj = 0, Wk = 0;
							if( dd < -Qg || dd >= Qg )
							{
								var ar = hg.qE, pi = hg.pE;
								vj !== Ai && (Wk = hg.computeAngle( Tb, vj, pi ), Tb.Kl = Wk);
								wj = ar.x - ig.x;
								xj = ar.y - ig.y
							}
							else
							{
								var xd, We;
								if( 0 <= dd )xd = jg.da( dd ), We = dd < Qg - 1 ? jg.da( dd + 1 ) : xd;
								else
								{
									var rh = Qg + dd;
									xd = jg.da( rh );
									We = 0 < rh ? jg.da( rh - 1 ) : xd
								}
								if( xd.Fc( We ) )
								{
									var sh, th;
									0 <= dd ? (sh = 0 < dd ? jg.da( dd - 1 ) : xd, th = dd < Qg - 2 ? jg.da( dd + 2 ) : We) : (sh = rh < Qg - 1 ? jg.da( rh + 1 ) : xd, th = 1 < rh ? jg.da( rh - 2 ) : We);
									var br = sh.sf( xd ), cr = We.sf( th ), pi = br > cr + 10 ? 0 <= dd ? sh.xc( xd ) : xd.xc( sh ) : cr > br + 10 ? 0 <= dd ? We.xc( th ) :
										th.xc( We ) : 0 <= dd ? sh.xc( th ) : th.xc( sh )
								}
								else pi = 0 <= dd ? xd.xc( We ) : We.xc( xd );
								vj !== Ai && (Wk = hg.computeAngle( Tb, vj, pi ), Tb.Kl = Wk);
								wj = xd.x + (We.x - xd.x) * $q - ig.x;
								xj = xd.y + (We.y - xd.y) * $q - ig.y
							}
							fj( Tb, Infinity, Infinity );
							var je = Tb.Ca, Uk = Tb.Ha, yj = 0;
							Tb instanceof X && (yj = Tb.lb);
							var Xk = Uk.width + yj, rn = Uk.height + yj;
							oi.reset();
							oi.translate( -je.x, -je.y );
							oi.scale( Tb.scale, Tb.scale );
							oi.rotate( vj === Ai ? Tb.angle : pi, Xk / 2, rn / 2 );
							var qi = new B( 0, 0, Xk, rn );
							uj.Xt( qi, qn );
							oi.ub( uj );
							var dt = -uj.x + yj / 2, et = -uj.y + yj / 2;
							kg.assign( ct );
							isNaN( kg.x ) &&
							(kg.x = 0 <= dd ? Xk / 2 + 3 : -(Xk / 2 + 3));
							isNaN( kg.y ) && (kg.y = -(rn / 2 + 3));
							kg.rotate( pi );
							wj += kg.x;
							xj += kg.y;
							qi.set( je );
							qi.x = wj + dt;
							qi.y = xj + et;
							this.Mg.add( qi );
							Ve.ci( qi )
						}
					}
					if( this.De )for( var dr = this.Tf; dr.next(); )fj( dr.value, Infinity, Infinity );
					this.Li = Ve;
					var sn = this.yi;
					sn.m( sn.x + Ve.x, sn.y + Ve.y );
					Xa( e, Ve.width || 0, Ve.height || 0 );
					v.$e( oi );
					v.v( uj );
					v.v( kg )
				}
				break;
			case "Grid":
				break;
			case "TableRow":
			case "TableColumn":
				v.k( this.toString() + " is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel." );
				break;
			default:
				v.k( "Unknown panel type: " + n )
			}
		}
		var Xe = e.width, Ye = e.height, Yk = this.padding, ft = Yk.top + Yk.bottom, Xe = Xe + (Yk.left + Yk.right), Ye = Ye + ft;
		isFinite( f.width ) && (Xe = f.width);
		isFinite( f.height ) && (Ye = f.height);
		Xe = Math.min( k.width, Xe );
		Ye = Math.min( k.height, Ye );
		Xe = Math.max( h.width, Xe );
		Ye = Math.max( h.height, Ye );
		Xe = Math.max( c, Xe );
		Ye = Math.max( d, Ye );
		e.width = Xe;
		e.height = Ye;
		Xa( this.Qc, Xe, Ye );
		Bm( this, 0, 0, Xe, Ye )
	};
	D.prototype.findMainElement = D.prototype.Ye = function()
	{
		if( null === this.um )
		{
			var a = this.xa.n, b = a.length;
			if( 0 === b )return null;
			for( var c = 0; c < b; c++ )
			{
				var d = a[c];
				if( !0 === d.Sf )return this.um = d
			}
			this.um = a[0]
		}
		return this.um
	};
	D.prototype.Ni = function( a, b, c, d )
	{
		var e = this.Li, f = this.xa.n, h = v.gk( 0, 0, 0, 0 );
		if( 0 === f.length )
		{
			var k = this.V;
			k.x = a;
			k.y = b;
			k.width = c;
			k.height = d
		}
		else
		{
			if( !this.ya.G() )
			{
				var l = Em( this, !0 ), m = this.kd, n = m.width, p = m.height, q = this.margin, r = q.left + q.right, s = q.top + q.bottom;
				n === c && p === d && (l = Ni);
				switch( l )
				{
				case Ni:
					if( n > c || p > d )this.P(), fj( this, n > c ? c : n, p > d ? d : p );
					break;
				case Fe:
					this.P( !0 );
					fj( this, c + r, d + s, 0, 0 );
					break;
				case um:
					this.P( !0 );
					fj( this, c + r, p + s, 0, 0 );
					break;
				case tm:
					this.P( !0 ), fj( this, n + r, d + s, 0, 0 )
				}
			}
			k = this.V;
			k.x = a;
			k.y = b;
			k.width = c;
			k.height = d;
			var t = this.ia.Ob;
			switch( t )
			{
			case "Position":
				for( var u = f.length, w = e.x - this.padding.left, x = e.y - this.padding.top, z = 0; z < u; z++ )
				{
					var A = f[z], H = A.Ca, C = A.margin, T = A.position.x, ba = A.position.y;
					h.x = isNaN( T ) ? -w : T - w;
					h.y = isNaN( ba ) ? -x : ba - x;
					if( A instanceof X )
					{
						var U = A;
						if( U.bE )
						{
							var M = U.lb / 2;
							h.x -= M;
							h.y -= M
						}
					}
					h.x += C.left;
					h.y += C.top;
					h.width = H.width;
					h.height = H.height;
					A.visible && A.Ec( h.x, h.y, h.width, h.height )
				}
				break;
			case "Vertical":
				for( var aa = f.length, Ia = this.padding.left, oa = this.padding.top, Ga = 0; Ga < aa; Ga++ )
				{
					var pa =
						Ia, Ca = f[Ga];
					if( Ca.visible )
					{
						var ua = Ca.Ca, fc = Ca.margin, nd = fc.left + fc.right, od = Ia + this.padding.right, Je = ua.width, Wb = Em( Ca, !1 );
						if( isNaN( Ca.ya.width ) && Wb === Fe || Wb === um )Je = Math.max( e.width - nd - od, 0 );
						var Gg = Je + nd + od, pd = Ca.alignment;
						pd.Uc() && (pd = this.fl);
						pd.cd() || (pd = Ab);
						Ca.Ec( pa + pd.offsetX + fc.left + (e.width * pd.x - Gg * pd.x), oa + pd.offsetY + fc.top, Je, ua.height );
						oa += ua.height + fc.bottom + fc.top
					}
				}
				break;
			case "Horizontal":
				for( var ob = f.length, gb = this.padding.top, ka = this.padding.left, la = 0; la < ob; la++ )
				{
					var pb = gb, Ua = f[la];
					if( Ua.visible )
					{
						var Ra = Ua.Ca, se = Ua.margin, qd = se.top + se.bottom, ae = gb + this.padding.bottom, Kd = Ra.height, be = Em( Ua, !1 );
						if( isNaN( Ua.ya.height ) && be === Fe || be === tm )Kd = Math.max( e.height - qd - ae, 0 );
						var Hg = Kd + qd + ae, Zc = Ua.alignment;
						Zc.Uc() && (Zc = this.fl);
						Zc.cd() || (Zc = Ab);
						Ua.Ec( ka + Zc.offsetX + se.left, pb + Zc.offsetY + se.top + (e.height * Zc.y - Hg * Zc.y), Ra.width, Kd );
						ka += Ra.width + se.left + se.right
					}
				}
				break;
			case "Spot":
				var gi = f.length, xb = this.Ye(), Xb = xb.Ca, Ld = Xb.width, jh = Xb.height, Lb = this.padding, ib = Lb.left, bb = Lb.top;
				h.x = ib - e.x;
				h.y = bb - e.y;
				xb.Ec( h.x, h.y, Ld, jh );
				for( var Ke = 0; Ke < gi; Ke++ )
				{
					var Md = f[Ke];
					if( Md !== xb )
					{
						var Ig = Md.Ca, Jg = Ig.width, gc = Ig.height, hc = Md.alignment;
						hc.Uc() && (hc = this.fl);
						hc.cd() || (hc = Ab);
						var ce = Md.Sj;
						ce.Uc() && (ce = Ab);
						h.x = hc.x * Ld + hc.offsetX - (ce.x * Jg - ce.offsetX);
						h.y = hc.y * jh + hc.offsetY - (ce.y * gc - ce.offsetY);
						h.x -= e.x;
						h.y -= e.y;
						Md.visible && Md.Ec( ib + h.x, bb + h.y, Jg, gc )
					}
				}
				break;
			case "Auto":
				var $c = f.length, kb = this.Ye(), Nc = kb.Ca, Ka = v.bg();
				Ka.m( 0, 0, 1, 1 );
				var lb = kb.margin, tc = lb.left, rd = lb.top, Ib = this.padding, de = Ib.left, qf = Ib.top;
				h.x = tc;
				h.y = rd;
				h.width = Nc.width;
				h.height = Nc.height;
				kb.Ec( de + h.x, qf + h.y, h.width, h.height );
				var Le = Sn( kb ), Jf = Tn( kb ), Jb = 0 + Le.y * Nc.height + Le.offsetY, te = 0 + Jf.x * Nc.width + Jf.offsetX, Mb = 0 + Jf.y * Nc.height + Jf.offsetY;
				Ka.x = 0 + Le.x * Nc.width + Le.offsetX;
				Ka.y = Jb;
				ab( Ka, te, Mb, 0, 0 );
				Ka.x += tc + de;
				Ka.y += rd + qf;
				for( var ic = 0; ic < $c; ic++ )
				{
					var Rb = f[ic];
					if( Rb !== kb )
					{
						var Ec = Rb.Ca, lb = Rb.margin, mb = Math.max( Ec.width + lb.right + lb.left, 0 ), Cb = Math.max( Ec.height + lb.top + lb.bottom, 0 ), Kb = Rb.alignment;
						Kb.Uc() && (Kb = this.fl);
						Kb.cd() || (Kb = Ab);
						h.x =
							Ka.width * Kb.x + Kb.offsetX - mb * Kb.x + lb.left + Ka.x;
						h.y = Ka.height * Kb.y + Kb.offsetY - Cb * Kb.y + lb.top + Ka.y;
						h.width = Ka.width;
						h.height = Ka.height;
						Rb.visible && (db( Ka.x, Ka.y, Ka.width, Ka.height, h.x, h.y, Ec.width, Ec.height ) ? Rb.Ec( h.x, h.y, Ec.width, Ec.height ) : Rb.Ec( h.x, h.y, Ec.width, Ec.height, new B( Ka.x, Ka.y, Ka.width, Ka.height ) ))
					}
				}
				v.Vb( Ka );
				break;
			case "Table":
				for( var Nd = f.length, Kg = this.padding, kh = Kg.left, lh = Kg.top, ue = this.$r, ad = 0, rf = 0, jc = ue.length, yb = 0, zb = 0; zb < jc; zb++ )ue[zb] && (yb = Math.max( yb, ue[zb].length ));
				for( var Fc =
					Math.min( this.Ki, jc - 1 ); Fc !== jc && (void 0 === this.Nd[Fc] || 0 === this.Nd[Fc].bb); )Fc++;
				for( var Fc = Math.min( Fc, jc - 1 ), Lg = -this.Nd[Fc].kb, Oc = Math.min( this.xi, yb - 1 ); Oc !== yb && (void 0 === this.Jd[Oc] || 0 === this.Jd[Oc].bb); )Oc++;
				for( var Oc = Math.min( Oc, yb - 1 ), Pc = -this.Jd[Oc].kb, jb = v.Fl(), zb = 0; zb < jc; zb++ )if( ue[zb] )for( var yb = ue[zb].length, Qc = this.Bd( zb ), rf = Qc.kb + Lg + lh + Qc.pD(), Od = 0; Od < yb; Od++ )if( ue[zb][Od] )for( var ee = this.Ad( Od ), ad = ee.kb + Pc + kh + ee.pD(), sf = ue[zb][Od], hi = sf.length, pj = 0; pj < hi; pj++ )
				{
					var Fa = sf[pj], Me = Fa.Ca,
						fe = Fa instanceof D ? Fa : null;
					if( null === fe || fe.type !== Im && fe.type !== Jm )
					{
						jb.m( 0, 0 );
						for( var ca = 1; ca < Fa.rowSpan && !(zb + ca >= this.Cp); ca++ )
						{
							var da = this.Bd( zb + ca );
							jb.height += da.total
						}
						for( ca = 1; ca < Fa.pG && !(Od + ca >= this.Po); ca++ )
						{
							var Mg = this.Ad( Od + ca );
							jb.width += Mg.total
						}
						var mh = ee.bb + jb.width, ii = Qc.bb + jb.height;
						h.x = ad;
						h.y = rf;
						h.width = mh;
						h.height = ii;
						var uc = ad, ji = rf, Yb = mh, nh = ii;
						ad + mh > e.width && (Yb = Math.max( e.width - ad, 0 ));
						rf + ii > e.height && (nh = Math.max( e.height - rf, 0 ));
						var bd = Fa.alignment, ve = 0, Rc = 0, sd = 0, Gc = 0;
						if( bd.Uc() )
						{
							bd =
								this.fl;
							bd.cd() || (bd = Ab);
							var ve = bd.x, Rc = bd.y, sd = bd.offsetX, Gc = bd.offsetY, td = ee.alignment, ag = Qc.alignment;
							td.cd() && (ve = td.x, sd = td.offsetX);
							ag.cd() && (Rc = ag.y, Gc = ag.offsetY)
						}
						else ve = bd.x, Rc = bd.y, sd = bd.offsetX, Gc = bd.offsetY;
						if( isNaN( ve ) || isNaN( Rc ) )Rc = ve = .5, Gc = sd = 0;
						var Y = Me.width, we = Me.height, Ne = Fa.margin, ki = Ne.left + Ne.right, li = Ne.top + Ne.bottom, Hc = Sm( Fa, Qc, ee, !1 );
						!isNaN( Fa.ya.width ) || Hc !== Fe && Hc !== um || (Y = Math.max( mh - ki, 0 ));
						!isNaN( Fa.ya.height ) || Hc !== Fe && Hc !== tm || (we = Math.max( ii - li, 0 ));
						var qb = Fa.yf, rb =
							Fa.jh, Y = Math.min( qb.width, Y ), we = Math.min( qb.height, we ), Y = Math.max( rb.width, Y ), we = Math.max( rb.height, we ), Nk = we + li;
						h.x += h.width * ve - (Y + ki) * ve + sd + Ne.left;
						h.y += h.height * Rc - Nk * Rc + Gc + Ne.top;
						Fa.visible && (db( uc, ji, Yb, nh, h.x, h.y, Me.width, Me.height ) ? Fa.Ec( h.x, h.y, Y, we ) : Fa.Ec( h.x, h.y, Y, we, new B( uc, ji, Yb, nh ) ))
					}
					else
					{
						Fa.ti();
						Fa.mc.Oa();
						var bg = Fa.mc;
						bg.x = fe.type === Im ? kh : ad;
						bg.y = fe.type === Jm ? lh : rf;
						bg.width = Me.width;
						bg.height = Me.height;
						Fa.mc.freeze();
						Gm( Fa, !1 )
					}
				}
				v.Yj( jb );
				for( zb = 0; zb < Nd; zb++ )Fa = f[zb], fe = Fa instanceof
					D ? Fa : null, null === fe || fe.type !== Im && fe.type !== Jm || (bg = Fa.mc, Fa.Qc.Oa(), Fa.Qc.m( 0, 0, bg.width, bg.height ), Fa.Qc.freeze());
				break;
			case "Viewbox":
				var Ng = f[0], Og = Ng.Ca, Sb = Ng.margin, cg = Sb.top + Sb.bottom, dg = Math.max( Og.width + (Sb.right + Sb.left), 0 ), ge = Math.max( Og.height + cg, 0 ), xe = Ng.alignment;
				xe.Uc() && (xe = this.fl);
				xe.cd() || (xe = Ab);
				h.x = e.width * xe.x - dg * xe.x + xe.offsetX;
				h.y = e.height * xe.y - ge * xe.y + xe.offsetY;
				h.width = Og.width;
				h.height = Og.height;
				Ng.Ec( h.x, h.y, h.width, h.height );
				break;
			case "Link":
				var on = f.length, mi = this instanceof
					Tg ? this.Nf : this;
				if( mi instanceof W )
				{
					var Oe = this instanceof Tg ? null : mi.path;
					if( null !== this.Mg )
					{
						var Pe = this.Mg.n, ud = 0;
						if( null !== Oe && ud < this.Mg.count )
						{
							var cd = Pe[ud];
							ud++;
							Oe.Ec( cd.x - this.Li.x, cd.y - this.Li.y, cd.width, cd.height )
						}
						for( var oh = 0; oh < on; oh++ )
						{
							var ye = f[oh];
							ye !== Oe && ud < this.Mg.count && (cd = Pe[ud], ud++, ye.Ec( cd.x - this.Li.x, cd.y - this.Li.y, cd.width, cd.height ))
						}
					}
					var ze = mi.points, Ok = ze.count;
					if( 2 <= Ok && this.De )for( var Pk = this.Tf; Pk.next(); )
					{
						var Sc = Pk.value, tf = Ok, Ae = ze, Va = Sc.we, uf = Sc.gA, Be = Sc.Sj, eg = Sc.Ut,
							Kf = Sc.PE, cb = 0, Qe = 0, vc = 0;
						if( Va < -tf || Va >= tf )
						{
							var ni = this.qE, fg = this.pE;
							eg !== Ai && (vc = this.computeAngle( Sc, eg, fg ), Sc.angle = vc);
							cb = ni.x;
							Qe = ni.y
						}
						else
						{
							var hb = void 0, vd = void 0;
							if( 0 <= Va )hb = Ae.n[Va], vd = Va < tf - 1 ? Ae.n[Va + 1] : hb;
							else var Ce = tf + Va, hb = Ae.n[Ce], vd = 0 < Ce ? Ae.n[Ce - 1] : hb;
							if( hb.Fc( vd ) )
							{
								var he = void 0, ie = void 0;
								0 <= Va ? (he = 0 < Va ? Ae.n[Va - 1] : hb, ie = Va < tf - 2 ? Ae.n[Va + 2] : vd) : (he = Ce < tf - 1 ? Ae.n[Ce + 1] : hb, ie = 1 < Ce ? Ae.n[Ce - 2] : vd);
								var ph = he.sf( hb ), qj = vd.sf( ie ), fg = ph > qj + 10 ? 0 <= Va ? he.xc( hb ) : hb.xc( he ) : qj > ph + 10 ? 0 <= Va ? vd.xc( ie ) :
									ie.xc( vd ) : 0 <= Va ? he.xc( ie ) : ie.xc( he )
							}
							else fg = 0 <= Va ? hb.xc( vd ) : vd.xc( hb );
							eg !== Ai && (vc = this.computeAngle( Sc, eg, fg ), Sc.angle = vc);
							cb = hb.x + (vd.x - hb.x) * uf;
							Qe = hb.y + (vd.y - hb.y) * uf
						}
						if( Be.K( sb ) )Sc.location = new y( cb, Qe );
						else
						{
							Be.te() && (Be = Ab);
							var wd = v.qh();
							wd.reset();
							wd.scale( Sc.scale, Sc.scale );
							wd.rotate( Sc.angle, 0, 0 );
							var Re = Sc.Ha, gg = v.gk( 0, 0, Re.width, Re.height ), Se = v.L();
							Se.Xt( gg, Be );
							wd.ub( Se );
							var Tc = -Se.x, Pg = -Se.y, Te = Kf.copy();
							isNaN( Te.x ) && (Te.x = 0 <= Va ? Se.x + 3 : -(Se.x + 3));
							isNaN( Te.y ) && (Te.y = -(Se.y + 3));
							Te.rotate( fg );
							cb += Te.x;
							Qe += Te.y;
							wd.kF( gg );
							var Tc = Tc + gg.x, Pg = Pg + gg.y, rj = v.Mb( cb + Tc, Qe + Pg );
							Sc.move( rj );
							v.v( rj );
							v.v( Se );
							v.Vb( gg );
							v.$e( wd )
						}
					}
					this instanceof Tg ? this.Vm( !1 ) : mi.Vm( !1 )
				}
				break;
			case "Grid":
				break;
			case "TableRow":
			case "TableColumn":
				v.k( this.toString() + " is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel." );
				break;
			default:
				v.k( "Unknown panel type: " + t )
			}
			v.Vb( h )
		}
	};
	D.prototype.Uj = function( a )
	{
		var b = this.Ha;
		if( db( 0, 0, b.width, b.height, a.x, a.y ) )
		{
			for( var b = this.xa.n, c = b.length, d = v.Mb( 0, 0 ); c--; )
			{
				var e = b[c];
				if( e.visible || e === this.bc )if( Qa( d.set( a ), e.transform ), e.Fa( d ) )return v.v( d ), !0
			}
			v.v( d );
			return null === this.Ib && null === this.nc ? !1 : !0
		}
		return!1
	};
	D.prototype.yw = function( a )
	{
		if( this.pn === a )return this;
		for( var b = this.xa.n, c = b.length, d = 0; d < c; d++ )
		{
			var e = b[d].yw( a );
			if( null !== e )return e
		}
		return null
	};
	function Xn( a, b, c )
	{
		c( a, b );
		if( b instanceof D )
		{
			b = b.xa.n;
			for( var d = b.length, e = 0; e < d; e++ )Xn( a, b[e], c )
		}
	}

	function nl( a, b )
	{
		Yn( a, a, b )
	}

	function Yn( a, b, c )
	{
		c( b );
		b = b.xa.n;
		for( var d = b.length, e = 0; e < d; e++ )
		{
			var f = b[e];
			f instanceof D && Yn( a, f, c )
		}
	}

	D.prototype.walkVisualTree = D.prototype.SI = function( a )
	{
		Zn( this, this, a )
	};
	function Zn( a, b, c )
	{
		c( b );
		if( b instanceof D )
		{
			b = b.xa.n;
			for( var d = b.length, e = 0; e < d; e++ )Zn( a, b[e], c )
		}
	}

	D.prototype.findInVisualTree = D.prototype.bt = function( a )
	{
		return $n( this, this, a )
	};
	function $n( a, b, c )
	{
		if( c( b ) )return b;
		if( b instanceof D )
		{
			b = b.xa.n;
			for( var d = b.length, e = 0; e < d; e++ )
			{
				var f = $n( a, b[e], c );
				if( null !== f )return f
			}
		}
		return null
	}

	D.prototype.findObject = D.prototype.de = function( a )
	{
		if( this.name === a )return this;
		for( var b = this.xa.n, c = b.length, d = 0; d < c; d++ )
		{
			var e = b[d];
			if( e.name === a )return e;
			if( e instanceof D )if( null === e.sj && null === e.ig )
			{
				if( e = e.de( a ), null !== e )return e
			}
			else if( Il( e ) && (e = e.xa.first(), null !== e && (e = e.de( a ), null !== e)) )return e
		}
		return null
	};
	function ao( a )
	{
		a = a.xa.n;
		for( var b = a.length, c = 0, d = 0; d < b; d++ )
		{
			var e = a[d];
			if( e instanceof D )c = Math.max( c, ao( e ) );
			else if( e instanceof X )
			{
				a:{
					if( !e.Lh )switch( e.Ln )
					{
					case "None":
					case "Square":
					case "Ellipse":
					case "Circle":
					case "LineH":
					case "LineV":
					case "FramedRectangle":
					case "RoundedRectangle":
					case "Line1":
					case "Line2":
					case "Border":
					case "Cube1":
					case "Cube2":
					case "Junction":
					case "Cylinder1":
					case "Cylinder2":
					case "Cylinder3":
					case "Cylinder4":
					case "PlusLine":
					case "XLine":
					case "ThinCross":
					case "ThickCross":
						e =
							0;
						break a
					}
					e = e.Sh / 2 * e.tm * e.Ti()
				}
				c = Math.max( c, e )
			}
		}
		return c
	}

	g = D.prototype;
	g.Lg = function()
	{
		return!(this.type === Im || this.type === Jm)
	};
	g.re = function( a, b, c )
	{
		if( !1 === this.Hg )return null;
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		if( el( this ) )return null;
		var d = this.Ha, e = 1 / this.Ti(), f = this.Lg(), h = f ? a : Qa( v.Mb( a.x, a.y ), this.transform ), k = this.g, l = 10, m = 5;
		null !== k && (l = k.$o( "extraTouchArea" ), m = l / 2);
		if( db( -(m * e), -(m * e), d.width + l * e, d.height + l * e, h.x, h.y ) )
		{
			if( !this.Qg )
			{
				var e = this.xa.n, n = e.length, k = v.L(), m = (l = this.$D) ? this.Ye() : null;
				if( l && (m.Lg() ? Qa( k.set( a ), m.transform ) : k.set( a ), !m.Fa( k )) )return v.v( k ), f || v.v( h ), null;
				for( ; n--; )
				{
					var p = e[n];
					if( p.visible ||
						p === this.bc )if( p.Lg() ? Qa( k.set( a ), p.transform ) : k.set( a ), !l || p !== m )
					{
						var q = null;
						p instanceof D ? q = p.re( k, b, c ) : !0 === p.Hg && p.Fa( k ) && (q = p);
						if( null !== q && (null !== b && (q = b( q )), null !== q && (null === c || c( q ))) )return v.v( k ), f || v.v( h ), q
					}
				}
				v.v( k )
			}
			if( null === this.background && null === this.Am )return f || v.v( h ), null;
			a = db( 0, 0, d.width, d.height, h.x, h.y ) ? this : null;
			f || v.v( h );
			return a
		}
		f || v.v( h );
		return null
	};
	g.et = function( a, b, c, d )
	{
		if( !1 === this.Hg )return!1;
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		d instanceof I || d instanceof J || (d = new I( G ));
		var e = this.Ha, f = this.Lg(), h = f ? a : Qa( v.Mb( a.x, a.y ), this.transform );
		if( db( 0, 0, e.width, e.height, h.x, h.y ) )
		{
			if( !this.Qg )
			{
				for( var e = this.xa.n, k = e.length, l = v.L(); k--; )
				{
					var m = e[k];
					if( m.visible || m === this.bc )
					{
						m.Lg() ? Qa( l.set( a ), m.transform ) : l.set( a );
						var n = m, m = m instanceof D ? m : null;
						(null !== m ? m.et( l, b, c, d ) : n.Fa( l )) && !1 !== n.Hg && (null !== b && (n = b( n )), null === n || null !== c && !c( n ) || d.add( n ))
					}
				}
				v.v( l )
			}
			f ||
			v.v( h );
			return null !== this.background || null !== this.Am
		}
		f || v.v( h );
		return!1
	};
	g.Xj = function( a, b, c, d, e, f )
	{
		if( !1 === this.Hg )return!1;
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		var h = f;
		void 0 === f && (h = v.qh(), h.reset());
		h.multiply( this.transform );
		if( this.Fm( a, h ) )return bo( this, b, c, e ), void 0 === f && v.$e( h ), !0;
		if( this.yg( a, h ) )
		{
			if( !this.Qg )for( var k = this.xa.n, l = k.length; l--; )
			{
				var m = k[l];
				if( m.visible || m === this.bc )
				{
					var n = m.V, p = this.Ha;
					if( !(n.x > p.width || n.y > p.height || 0 > n.x + n.width || 0 > n.y + n.height) )
					{
						n = m;
						m = m instanceof D ? m : null;
						p = v.qh();
						p.set( h );
						if( null !== m ? m.Xj( a, b, c, d, e, p ) : Dm( n, a, d, p ) )null !==
						b && (n = b( n )), null === n || null !== c && !c( n ) || e.add( n );
						v.$e( p )
					}
				}
			}
			void 0 === f && v.$e( h );
			return d
		}
		void 0 === f && v.$e( h );
		return!1
	};
	function bo( a, b, c, d )
	{
		for( var e = a.xa.n, f = e.length; f--; )
		{
			var h = e[f];
			if( h.visible )
			{
				var k = h.V, l = a.Ha;
				k.x > l.width || k.y > l.height || 0 > k.x + k.width || 0 > k.y + k.height || (h instanceof D && bo( h, b, c, d ), null !== b && (h = b( h )), null === h || null !== c && !c( h ) || d.add( h ))
			}
		}
	}

	g.Lm = function( a, b, c, d, e, f )
	{
		if( !1 === this.Hg )return!1;
		void 0 === c && (c = null);
		void 0 === d && (d = null);
		var h = this.Ha, k = this.Lg(), l = k ? a : Qa( v.Mb( a.x, a.y ), this.transform ), m = k ? b : Qa( v.Mb( b.x, b.y ), this.transform ), n = l.sf( m ), p = 0 < l.x && l.x < h.width && 0 < l.y && l.y < h.height || Sa( l.x, l.y, 0, 0, 0, h.height ) < n || Sa( l.x, l.y, 0, h.height, h.width, h.height ) < n || Sa( l.x, l.y, h.width, h.height, h.width, 0 ) < n || Sa( l.x, l.y, h.width, 0, 0, 0 ) < n, h = 0 < l.x && l.x < h.width && 0 < l.y && l.y < h.height && Sa( l.x, l.y, 0, 0, 0, h.height ) < n && Sa( l.x, l.y, 0, h.height, h.width, h.height ) <
			n && Sa( l.x, l.y, h.width, h.height, h.width, 0 ) < n && Sa( l.x, l.y, h.width, 0, 0, 0 ) < n;
		k || (v.v( l ), v.v( m ));
		if( p )
		{
			if( !this.Qg )
			{
				k = v.L();
				l = v.L();
				m = this.xa.n;
				for( n = m.length; n--; )
				{
					var q = m[n];
					if( q.visible || q === this.bc )
					{
						var r = q.V, s = this.Ha;
						r.x > s.width || r.y > s.height || 0 > r.x + r.width || 0 > r.y + r.height || (q.Lg() ? (r = q.transform, Qa( k.set( a ), r ), Qa( l.set( b ), r )) : (k.set( a ), l.set( b )), r = q, q = q instanceof D ? q : null, null !== q ? !q.Lm( k, l, c, d, e, f ) : !r.JD( k, l, e )) || (null !== c && (r = c( r )), null === r || null !== d && !d( r ) || f.add( r ))
					}
				}
				v.v( k );
				v.v( l )
			}
			return e ?
				p : h
		}
		return!1
	};
	function Sn( a )
	{
		var b = a.B;
		if( void 0 === b || b === kc )b = null;
		null === b && a instanceof X && (a = a.Ra, null !== a && (b = a.B));
		null === b && (b = tb);
		return b
	}

	function Tn( a )
	{
		var b = a.C;
		if( void 0 === b || b === kc )b = null;
		null === b && a instanceof X && (a = a.Ra, null !== a && (b = a.C));
		null === b && (b = Fb);
		return b
	}

	D.prototype.add = D.prototype.add = function( a )
	{
		v.A( a, G, D, "add:element" );
		this.Cd( this.xa.count, a )
	};
	D.prototype.elt = D.prototype.da = function( a )
	{
		return this.xa.da( a )
	};
	D.prototype.insertAt = D.prototype.Cd = function( a, b )
	{
		b instanceof R && v.k( "Cannot add a Part to a Panel: " + b );
		if( this === b || this.tl( b ) )this === b && v.k( "Cannot make a Panel contain itself: " + this.toString() ), v.k( "Cannot make a Panel indirectly contain itself: " + this.toString() + " already contains " + b.toString() );
		var c = b.U;
		null !== c && c !== this && v.k( "Cannot add a GraphObject that already belongs to another Panel to this Panel: " + b.toString() + ", already contained by " + c.toString() + ", cannot be shared by this Panel: " +
			this.toString() );
		this.ia !== vk || b instanceof X || v.k( "Can only add Shapes to a Grid Panel, not: " + b );
		b.Bl( this );
		b.jm = null;
		if( null !== this.iE )
		{
			var d = b.data;
			null !== d && "object" === typeof d && (null === this.hg && (this.hg = new na( Object, D )), this.hg.add( d, b ))
		}
		var e = this.xa, d = -1;
		if( c === this )
		{
			for( var f = -1, h = this.xa.n, k = h.length, l = 0; l < k; l++ )if( h[l] === b )
			{
				f = l;
				break
			}
			if( -1 !== f )
			{
				if( f === a || f + 1 >= e.count && a >= e.count )return;
				e.Vc( f );
				d = f
			}
			else v.k( "element " + b.toString() + " has panel " + c.toString() + " but is not contained by it." )
		}
		if( 0 >
			a || a > e.count )a = e.count;
		e.Cd( a, b );
		this.P();
		b.P();
		null !== b.Ud ? this.Ch = !0 : b instanceof D && !0 === b.Ch && (this.Ch = !0);
		c = this.Y;
		null !== c && (c.em = null, c.xj = NaN, this.Ch && c instanceof S && (c.Ch = !0), c.Ch && (c.Yd = null), e = this.g, null !== e && e.la.ib || (-1 !== d && c.Lc( Df, "elements", this, b, null, d, null ), c.Lc( Cf, "elements", this, null, b, null, a )))
	};
	D.prototype.remove = D.prototype.remove = function( a )
	{
		v.A( a, G, D, "remove:element" );
		for( var b = this.xa.n, c = b.length, d = -1, e = 0; e < c; e++ )if( b[e] === a )
		{
			d = e;
			break
		}
		-1 !== d && this.Me( d )
	};
	D.prototype.removeAt = D.prototype.Vc = function( a )
	{
		0 <= a && this.Me( a )
	};
	D.prototype.Me = function( a )
	{
		var b = this.xa, c = b.da( a );
		c.jm = null;
		c.Bl( null );
		if( null !== this.hg )
		{
			var d = c.data;
			"object" === typeof d && this.hg.remove( d )
		}
		b.Vc( a );
		Qk( this, !1 );
		this.P();
		this.um === c && (this.um = null);
		b = this.Y;
		null !== b && (b.em = null, b.xj = NaN, b.Qd(), d = this.g, null !== d && d.la.ib || b.Lc( Df, "elements", this, c, null, a, null ))
	};
	v.u( D, {Cp: "rowCount"}, function()
	{
		return void 0 === this.Nd ? 0 : this.Nd.length
	} );
	D.prototype.getRowDefinition = D.prototype.Bd = function( a )
	{
		0 > a && v.va( a, ">= 0", D, "getRowDefinition:idx" );
		a = Math.round( a );
		var b = this.Nd;
		if( void 0 === b[a] )
		{
			var c = new tg;
			c.Bl( this );
			c.ee = !0;
			c.index = a;
			b[a] = c
		}
		return b[a]
	};
	D.prototype.removeRowDefinition = D.prototype.DE = function( a )
	{
		0 > a && v.va( a, ">= 0", D, "removeRowDefinition:idx" );
		a = Math.round( a );
		var b = this.Nd;
		this.Lc( Df, "coldefs", this, b[a], null, a, null );
		b[a] && delete b[a];
		this.P()
	};
	v.u( D, {Po: "columnCount"}, function()
	{
		return void 0 === this.Jd ? 0 : this.Jd.length
	} );
	D.prototype.getColumnDefinition = D.prototype.Ad = function( a )
	{
		0 > a && v.va( a, ">= 0", D, "getColumnDefinition:idx" );
		a = Math.round( a );
		var b = this.Jd;
		if( void 0 === b[a] )
		{
			var c = new tg;
			c.Bl( this );
			c.ee = !1;
			c.index = a;
			b[a] = c
		}
		return b[a]
	};
	D.prototype.removeColumnDefinition = D.prototype.zE = function( a )
	{
		0 > a && v.va( a, ">= 0", D, "removeColumnDefinition:idx" );
		a = Math.round( a );
		var b = this.Jd;
		this.Lc( Df, "coldefs", this, b[a], null, a, null );
		b[a] && delete b[a];
		this.P()
	};
	v.defineProperty( D, {qI: "rowSizing"}, function()
	{
		return void 0 === this.pm ? On : this.pm
	}, function( a )
	{
		if( void 0 !== this.pm )
		{
			var b = this.pm;
			b !== a && (a !== On && a !== Vn && v.k( "Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: " + a ), this.pm = a, this.P(), this.h( "rowSizing", b, a ))
		}
	} );
	v.defineProperty( D, {oG: "columnSizing"}, function()
	{
		return void 0 === this.Ol ? On : this.Ol
	}, function( a )
	{
		if( void 0 !== this.Ol )
		{
			var b = this.Ol;
			b !== a && (a !== On && a !== Vn && v.k( "Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: " + a ), this.Ol = a, this.P(), this.h( "columnSizing", b, a ))
		}
	} );
	v.defineProperty( D, {MK: "topIndex"}, function()
	{
		return void 0 === this.Ki ? 0 : this.Ki
	}, function( a )
	{
		if( void 0 !== this.Ki )
		{
			var b = this.Ki;
			b !== a && ((!isFinite( a ) || 0 > a) && v.k( "Panel.topIndex must be greater than zero and a real number, not: " + a ), this.Ki = a, this.P(), this.h( "topIndex", b, a ))
		}
	} );
	v.defineProperty( D, {YJ: "leftIndex"}, function()
	{
		return void 0 === this.xi ? 0 : this.xi
	}, function( a )
	{
		if( void 0 !== this.xi )
		{
			var b = this.xi;
			b !== a && ((!isFinite( a ) || 0 > a) && v.k( "Panel.leftIndex must be greater than zero and a real number, not: " + a ), this.xi = a, this.P(), this.h( "leftIndex", b, a ))
		}
	} );
	D.prototype.findRowForLocalY = function( a )
	{
		if( 0 > a )return-1;
		if( this.type !== Rm )return NaN;
		for( var b = 0, c = this.Nd, d = c.length, e = this.Ki; e < d; e++ )
		{
			var f = c[e];
			if( void 0 !== f && (b += f.total, a < b) )return e
		}
		return-1
	};
	D.prototype.findColumnForLocalX = function( a )
	{
		if( 0 > a )return-1;
		if( this.type !== Rm )return NaN;
		for( var b = 0, c = this.Jd, d = c.length, e = this.xi; e < d; e++ )
		{
			var f = c[e];
			if( void 0 !== f && (b += f.total, a < b) )return e
		}
		return-1
	};
	v.defineProperty( D, {data: "data"}, function()
	{
		return this.ke
	}, function( a )
	{
		var b = this.ke;
		if( b !== a )
		{
			var c = this instanceof R && !(this instanceof Tg);
			c && v.j( a, "object", D, "data" );
			Vg( this );
			this.ke = a;
			var d = this.g;
			null !== d && (c ? this instanceof W ? (null !== b && d.wk.remove( b ), null !== a && d.wk.add( a, this )) : this instanceof R && (null !== b && d.mi.remove( b ), null !== a && d.mi.add( a, this )) : (c = this.U, null !== c && null !== c.hg && (null !== b && c.hg.remove( b ), null !== a && c.hg.add( a, this ))));
			this.h( "data", b, a );
			null !== d && d.la.ib || null !== a && this.Hb()
		}
	} );
	v.defineProperty( D, {vH: "itemIndex"}, function()
	{
		return this.br
	}, function( a )
	{
		var b = this.br;
		b !== a && (this.br = a, this.h( "itemIndex", b, a ))
	} );
	function Zm( a )
	{
		a = a.tk;
		return null !== a && a.D
	}

	function Vg( a )
	{
		var b = a.tk;
		if( null === b )null !== a.data && v.k( "Template cannot have .data be non-null: " + a ), a.tk = b = new I( zg );
		else if( b.D )return;
		var c = new I( G );
		Xn( a, a, function( a, d )
		{
			var e = d.rc;
			if( null !== e )for( Vm( d, !1 ), e = e.i; e.next(); )
			{
				var f = e.value;
				f.mode === Bg && Vm( d, !0 );
				if( null !== f.dn )
				{
					var h = Cg( f, a, d );
					null !== h && (c.add( h ), null === h.uo && (h.uo = new I( zg )), h.uo.add( f ))
				}
				b.add( f )
			}
			if( d instanceof D && d.type === Rm )
			{
				if( 0 < d.Nd.length )for( e = d.Nd, f = e.length, h = 0; h < f; h++ )
				{
					var k = e[h];
					if( void 0 !== k && null !== k.rc )for( var l = k.rc.i; l.next(); )
					{
						var u =
							l.value;
						u.qg = k;
						u.ys = 2;
						u.Co = k.index;
						b.add( u )
					}
				}
				if( 0 < d.Jd.length )for( e = d.Jd, f = e.length, h = 0; h < f; h++ )if( k = e[h], void 0 !== k && null !== k.rc )for( l = k.rc.i; l.next(); )u = l.value, u.qg = k, u.ys = 1, u.Co = k.index, b.add( u )
			}
		} );
		for( var d = c.i; d.next(); )
		{
			var e = d.value;
			if( null !== e.uo )
			{
				Vm( e, !0 );
				for( var f = e.uo.i; f.next(); )
				{
					var h = f.value;
					null === e.rc && (e.rc = new I( zg ));
					e.rc.add( h )
				}
			}
			e.uo = null
		}
		for( d = b.i; d.next(); )if( e = d.value, f = e.qg, null !== f )
		{
			e.qg = null;
			var k = e.qx, l = k.indexOf( "." );
			0 < l && f instanceof D && (h = k.substring( 0, l ), k = k.substr( l +
				1 ), l = f.de( h ), null !== l ? (f = l, e.qx = k) : v.trace( 'Warning: unable to find GraphObject named "' + h + '" for Binding: ' + e.toString() ));
			f instanceof tg ? (e.El = v.md( f.U ), f.U.pn = e.El) : (e.El = v.md( f ), f.pn = e.El)
		}
		b.freeze();
		a instanceof R && a.Rd() && (fj( a, Infinity, Infinity ), a.Ec())
	}

	D.prototype.copyTemplate = function()
	{
		var a = this.copy();
		a.SI( function( a )
		{
			a instanceof D && (a.tk = null, a.ke = null);
			var c = a.rc;
			null !== c && (a.rc = null, c.each( function( c )
			{
				a.bind( c.copy() )
			} ))
		} );
		return a
	};
	D.prototype.updateTargetBindings = D.prototype.Hb = function( a )
	{
		var b = this.tk;
		if( null !== b )for( void 0 === a && (a = ""), b = b.i; b.next(); )
		{
			var c = b.value, d = c.YE;
			if( "" === a || "" === d || d === a )if( d = c.qx, null !== c.sG || "" !== d )
			{
				var d = this.data, e = c.dn;
				if( null !== e )d = "" === e ? this : "." === e ? this : ".." === e ? this : this.de( e );
				else
				{
					var f = this.g;
					null !== f && c.xt && (d = f.ba.bk)
				}
				if( null !== d )
				{
					var f = this, h = c.El;
					if( -1 !== h )
					{
						if( f = this.yw( h ), null === f )continue
					}
					else null !== c.qg && (f = c.qg);
					"." === e ? d = f : ".." === e && (d = f.U);
					e = c.ys;
					if( 0 !== e )
					{
						if( !(f instanceof
							D) )continue;
						h = f;
						1 === e ? f = h.Ad( c.Co ) : 2 === e && (f = h.Bd( c.Co ))
					}
					void 0 !== f && c.oF( f, d )
				}
			}
		}
	};
	v.defineProperty( D, {iE: "itemArray"}, function()
	{
		return this.sj
	}, function( a )
	{
		var b = this.sj;
		if( b !== a )
		{
			var c = this.g;
			null !== c && null !== b && tl( c, this );
			this.sj = a;
			null !== c && null !== a && pl( c, this );
			this.h( "itemArray", b, a );
			null !== c && c.la.ib || this.$z()
		}
	} );
	function Il( a )
	{
		return a.type === Li || a.type === sk || a.type === xi || a.type === Rm && 0 < a.xa.length && (a = a.xa.da( 0 ), a.Sf && a instanceof D && (a.type === Im || a.type === Jm)) ? !0 : !1
	}

	D.prototype.rebuildItemElements = D.prototype.$z = function()
	{
		var a = 0;
		for( Il( this ) && (a = 1); this.xa.length > a; )this.Me( this.xa.length - 1 );
		a = this.iE;
		if( null !== a )for( var b = v.Va( a ), c = 0; c < b; c++ )Hl( this, v.Pa( a, c ), c )
	};
	D.prototype.findItemPanelForData = D.prototype.LG = function( a )
	{
		if( void 0 === a || null === a || null === this.hg )return null;
		v.j( a, "object", D, "findItemPanelForData" );
		return this.hg.ja( a )
	};
	function Hl( a, b, c )
	{
		if( !(void 0 === b || null === b || 0 > c) )
		{
			var d;
			d = co( a, b );
			var e = a.wH, f = null;
			null !== e && (f = e.ja( d ));
			null === f && (eo || (eo = !0, v.trace( 'No item template Panel found for category "' + d + '" on ' + a ), v.trace( "  Using default item template." ), d = new D, e = new $g, e.bind( new zg( "text", "", Ef ) ), d.add( e ), fo = d), f = fo);
			d = f;
			null !== d && (Vg( d ), d = d.copy(), "object" === typeof b && (null === a.hg && (a.hg = new na( Object, D )), a.hg.add( b, d )), e = c, Il( a ) && e++, a.Cd( e, d ), Jl( a, e, c ), d.ke = null, d.data = b)
		}
	}

	function Jl( a, b, c )
	{
		for( a = a.xa; b < a.length; )
		{
			var d = a.da( b );
			if( d instanceof D )
			{
				var e = b, f = c;
				d.type === Im ? d.cc = e : d.type === Jm && (d.column = e);
				d.vH = f
			}
			b++;
			c++
		}
	}

	v.defineProperty( D, {WJ: "itemTemplate"}, function()
	{
		return null === this.ig ? null : this.ig.ja( "" )
	}, function( a )
	{
		if( null === this.ig )
		{
			if( null === a )return;
			this.ig = new na( "string", D )
		}
		var b = this.ig.ja( "" );
		b !== a && (v.A( a, D, D, "itemTemplate" ), (a instanceof R || a.Sf) && v.k( "Panel.itemTemplate must not be a Part or be Panel.isPanelMain: " + a ), this.ig.add( "", a ), this.h( "itemTemplate", b, a ), a = this.g, null !== a && a.la.ib || this.$z())
	} );
	v.defineProperty( D, {wH: "itemTemplateMap"}, function()
	{
		return this.ig
	}, function( a )
	{
		var b = this.ig;
		if( b !== a )
		{
			v.A( a, na, D, "itemTemplateMap" );
			for( var c = a.i; c.next(); )
			{
				var d = c.value;
				(d instanceof R || d.Sf) && v.k( "Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: " + d )
			}
			this.ig = a;
			this.h( "itemTemplateMap", b, a );
			a = this.g;
			null !== a && a.la.ib || this.$z()
		}
	} );
	v.defineProperty( D, {VJ: "itemCategoryProperty"}, function()
	{
		return this.Yn
	}, function( a )
	{
		var b = this.Yn;
		b !== a && ("string" !== typeof a && "function" !== typeof a && v.Gd( a, "string or function", D, "itemCategoryProperty" ), this.Yn = a, this.h( "itemCategoryProperty", b, a ))
	} );
	function co( a, b )
	{
		if( null === b )return"";
		var c = a.Yn, d = "";
		if( "function" === typeof c )d = c( b );
		else if( "string" === typeof c && "object" === typeof b )
		{
			if( "" === c )return"";
			d = v.qb( b, c )
		}
		else return"";
		if( void 0 === d )return"";
		if( "string" === typeof d )return d;
		v.k( "Panel.getCategoryForItemData found a non-string category for " + b + ": " + d );
		return""
	}

	var eo = !1, fo = null;
	v.defineProperty( D, {QJ: "isAtomic"}, function()
	{
		return this.Qg
	}, function( a )
	{
		var b = this.Qg;
		b !== a && (v.j( a, "boolean", D, "isAtomic" ), this.Qg = a, this.h( "isAtomic", b, a ))
	} );
	v.defineProperty( D, {$D: "isClipping"}, function()
	{
		return this.Pq
	}, function( a )
	{
		var b = this.Pq;
		b !== a && (v.j( a, "boolean", D, "isClipping" ), this.Pq = a, this.h( "isClipping", b, a ))
	} );
	function tg()
	{
		v.ec( this );
		this.Xg = null;
		this.gv = !0;
		this.Oc = 0;
		this.Ue = NaN;
		this.Bj = 0;
		this.zj = Infinity;
		this.Be = kc;
		this.kb = this.bb = 0;
		this.rc = null;
		this.qs = ho;
		this.Rh = sm;
		this.ks = this.Gj = null;
		this.ls = NaN;
		this.Ib = this.Jh = null;
		this.mq = !1
	}

	v.ea( "RowColumnDefinition", tg );
	tg.prototype.copy = function()
	{
		var a = new tg;
		a.gv = this.gv;
		a.Oc = this.Oc;
		a.Ue = this.Ue;
		a.Bj = this.Bj;
		a.zj = this.zj;
		a.Be = this.Be;
		a.bb = this.bb;
		a.kb = this.kb;
		a.Rh = this.Rh;
		a.qs = this.qs;
		a.Gj = null === this.Gj ? null : this.Gj.R();
		a.ks = this.ks;
		a.ls = this.ls;
		a.Jh = null;
		null !== this.Jh && (a.Jh = v.dl( this.Jh ));
		a.Ib = this.Ib;
		a.mq = this.mq;
		a.rc = this.rc;
		return a
	};
	tg.prototype.Ys = function( a )
	{
		v.A( a, tg, tg, "copyFrom:pd" );
		a.ee ? this.height = a.height : this.width = a.width;
		this.Zi = a.Zi;
		this.gf = a.gf;
		this.alignment = a.alignment;
		this.stretch = a.stretch;
		this.$t = a.$t;
		this.Gj = null === a.Gj ? null : a.Gj.R();
		this.Dp = a.Dp;
		this.Ep = a.Ep;
		this.Jh = null;
		a.Jh && (this.Jh = v.dl( a.Jh ));
		this.background = a.background;
		this.iz = a.iz;
		this.rc = a.rc
	};
	tg.prototype.toString = function()
	{
		return"RowColumnDefinition " + (this.ee ? "(Row " : "(Column ") + this.index + ") #" + v.md( this )
	};
	var ho;
	tg.Default = ho = v.p( tg, "Default", 0 );
	var Vn;
	tg.None = Vn = v.p( tg, "None", 1 );
	var On;
	tg.ProportionalExtra = On = v.p( tg, "ProportionalExtra", 2 );
	tg.prototype.Bl = function( a )
	{
		this.Xg = a
	};
	tg.prototype.computeEffectiveSpacingTop = tg.prototype.pD = function()
	{
		var a = 0;
		if( 0 !== this.index )
		{
			var b = this.Xg, c = this.Dp;
			null === c && null !== b && (c = this.ee ? b.ni : b.xh);
			null !== c && (a = this.Ep, isNaN( a ) && (a = null !== b ? this.ee ? b.zh : b.yh : 0))
		}
		b = this.RE;
		if( null === b )if( b = this.Xg, null !== b )b = b.hj;
		else return a;
		return a + (this.ee ? b.top : b.left)
	};
	tg.prototype.computeEffectiveSpacing = tg.prototype.pf = function()
	{
		var a = 0;
		if( 0 !== this.index )
		{
			var b = this.Xg, c = this.Dp;
			null === c && null !== b && (c = this.ee ? b.ni : b.xh);
			null !== c && (a = this.Ep, isNaN( a ) && (a = null !== b ? this.ee ? b.zh : b.yh : 0))
		}
		b = this.RE;
		if( null === b )if( b = this.Xg, null !== b )b = b.hj;
		else return a;
		return a + (this.ee ? b.top + b.bottom : b.left + b.right)
	};
	tg.prototype.$c = function( a, b, c, d, e )
	{
		var f = this.Xg;
		if( null !== f && (f.Lc( Af, a, this, b, c, d, e ), null !== this.rc && (b = f.g, null !== b && !b.xe && (f = f.Wo(), null !== f && (f = f.data, null !== f)))) )for( c = this.rc.i; c.next(); )c.value.sx( this, f, a, b )
	};
	v.u( tg, {U: "panel"}, function()
	{
		return this.Xg
	} );
	v.defineProperty( tg, {ee: "isRow"}, function()
	{
		return this.gv
	}, function( a )
	{
		this.gv = a
	} );
	v.defineProperty( tg, {index: "index"}, function()
	{
		return this.Oc
	}, function( a )
	{
		this.Oc = a
	} );
	v.defineProperty( tg, {height: "height"}, function()
	{
		return this.Ue
	}, function( a )
	{
		var b = this.Ue;
		b !== a && (0 > a && v.va( a, ">= 0", tg, "height" ), this.Ue = a, this.Ma = this.bb, null !== this.U && this.U.P(), this.$c( "height", b, a ))
	} );
	v.defineProperty( tg, {width: "width"}, function()
	{
		return this.Ue
	}, function( a )
	{
		var b = this.Ue;
		b !== a && (0 > a && v.va( a, ">= 0", tg, "width" ), this.Ue = a, this.Ma = this.bb, null !== this.U && this.U.P(), this.$c( "width", b, a ))
	} );
	v.defineProperty( tg, {Zi: "minimum"}, function()
	{
		return this.Bj
	}, function( a )
	{
		var b = this.Bj;
		b !== a && ((0 > a || !isFinite( a )) && v.va( a, ">= 0", tg, "minimum" ), this.Bj = a, this.Ma = this.bb, null !== this.U && this.U.P(), this.$c( "minimum", b, a ))
	} );
	v.defineProperty( tg, {gf: "maximum"}, function()
	{
		return this.zj
	}, function( a )
	{
		var b = this.zj;
		b !== a && (0 > a && v.va( a, ">= 0", tg, "maximum" ), this.zj = a, this.Ma = this.bb, null !== this.U && this.U.P(), this.$c( "maximum", b, a ))
	} );
	v.defineProperty( tg, {alignment: "alignment"}, function()
	{
		return this.Be
	}, function( a )
	{
		var b = this.Be;
		b.K( a ) || (this.Be = a.R(), null !== this.U && this.U.P(), this.$c( "alignment", b, a ))
	} );
	v.defineProperty( tg, {stretch: "stretch"}, function()
	{
		return this.Rh
	}, function( a )
	{
		var b = this.Rh;
		b !== a && (this.Rh = a, null !== this.U && this.U.P(), this.$c( "stretch", b, a ))
	} );
	v.defineProperty( tg, {RE: "separatorPadding"}, function()
	{
		return this.Gj
	}, function( a )
	{
		"number" === typeof a && (a = new eb( a ));
		var b = this.Gj;
		null !== a && null !== b && b.K( a ) || (null !== a && (a = a.R()), this.Gj = a, null !== this.U && this.U.P(), this.$c( "separatorPadding", b, a ))
	} );
	v.defineProperty( tg, {Dp: "separatorStroke"}, function()
	{
		return this.ks
	}, function( a )
	{
		var b = this.ks;
		b !== a && (null === a || "string" === typeof a || a instanceof ha) && (a instanceof ha && a.freeze(), this.ks = a, null !== this.U && this.U.P(), this.$c( "separatorStroke", b, a ))
	} );
	v.defineProperty( tg, {Ep: "separatorStrokeWidth"}, function()
	{
		return this.ls
	}, function( a )
	{
		var b = this.ls;
		b !== a && (this.ls = a, null !== this.U && this.U.P(), this.$c( "separatorStrokeWidth", b, a ))
	} );
	v.defineProperty( tg, {vI: "separatorDashArray"}, function()
	{
		return this.Jh
	}, function( a )
	{
		var b = this.Jh;
		if( b !== a )
		{
			null === a || Array.isArray( a ) || v.Gd( a, "Array", tg, "separatorDashArray:value" );
			if( null !== a )
			{
				for( var c = a.length, d = 0, e = 0; e < c; e++ )
				{
					var f = a[e];
					"number" === typeof f && 0 <= f && isFinite( f ) || v.k( "separatorDashArray value " + f + " at index " + e + " must be a positive number or zero." );
					d += f
				}
				if( 0 === d )
				{
					if( null === b )return;
					a = null
				}
			}
			this.Jh = a;
			null !== this.U && this.U.pa();
			this.$c( "separatorDashArray", b, a )
		}
	} );
	v.defineProperty( tg, {background: "background"}, function()
	{
		return this.Ib
	}, function( a )
	{
		var b = this.Ib;
		b !== a && (null === a || "string" === typeof a || a instanceof ha) && (a instanceof ha && a.freeze(), this.Ib = a, null !== this.U && this.U.pa(), this.$c( "background", b, a ))
	} );
	v.defineProperty( tg, {iz: "coversSeparators"}, function()
	{
		return this.mq
	}, function( a )
	{
		var b = this.mq;
		b !== a && (v.j( a, "boolean", tg, "coversSeparators" ), this.mq = a, null !== this.U && this.U.pa(), this.$c( "coversSeparators", b, a ))
	} );
	v.defineProperty( tg, {$t: "sizing"}, function()
	{
		return this.qs
	}, function( a )
	{
		var b = this.qs;
		b !== a && (this.qs = a, null !== this.U && this.U.P(), this.$c( "sizing", b, a ))
	} );
	function Un( a )
	{
		if( a.$t === ho )
		{
			var b = a.Xg;
			return a.ee ? b.qI : b.oG
		}
		return a.$t
	}

	v.defineProperty( tg, {Ma: "actual"}, function()
	{
		return this.bb
	}, function( a )
	{
		this.bb = isNaN( this.Ue ) ? Math.max( Math.min( this.zj, a ), this.Bj ) : Math.max( Math.min( this.zj, this.Ue ), this.Bj )
	} );
	v.defineProperty( tg, {total: "total"}, function()
	{
		return this.bb + this.pf()
	}, function( a )
	{
		this.bb = isNaN( this.Ue ) ? Math.max( Math.min( this.zj, a ), this.Bj ) : Math.max( Math.min( this.zj, this.Ue ), this.Bj );
		this.bb = Math.max( 0, this.bb - this.pf() )
	} );
	v.defineProperty( tg, {position: "position"}, function()
	{
		return this.kb
	}, function( a )
	{
		this.kb = a
	} );
	tg.prototype.bind = tg.prototype.bind = function( a )
	{
		a.qg = this;
		var b = this.U;
		if( null !== b )
		{
			var c = b.Wo();
			null !== c && Zm( c ) && v.k( "Cannot add a Binding to a RowColumnDefinition that is already frozen: " + a + " on " + b )
		}
		null === this.rc && (this.rc = new I( zg ));
		this.rc.add( a )
	};
	function X()
	{
		G.call( this );
		this.Ra = null;
		this.Ln = "None";
		this.Lh = !1;
		this.Iq = sm;
		this.tn = null;
		this.Dc = this.qd = "black";
		this.Sh = 1;
		this.yo = "butt";
		this.Ao = "miter";
		this.tm = 10;
		this.zo = null;
		this.ld = 0;
		this.Qh = this.Ph = kc;
		this.Ir = this.Hr = NaN;
		this.Qq = !1;
		this.Kr = null;
		this.On = this.Eo = "None";
		this.Nq = 1
	}

	v.Ia( X, G );
	v.ea( "Shape", X );
	X.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.Ra = this.Ra;
		a.Ln = this.Ln;
		a.Lh = this.Lh;
		a.Iq = this.Iq;
		a.tn = this.tn;
		a.qd = this.qd;
		a.Dc = this.Dc;
		a.Sh = this.Sh;
		a.yo = this.yo;
		a.Ao = this.Ao;
		a.tm = this.tm;
		null !== this.zo && (a.zo = v.dl( this.zo ));
		a.ld = this.ld;
		a.Ph = this.Ph.R();
		a.Qh = this.Qh.R();
		a.Hr = this.Hr;
		a.Ir = this.Ir;
		a.Qq = this.Qq;
		a.Kr = this.Kr;
		a.Eo = this.Eo;
		a.On = this.On;
		a.Nq = this.Nq
	};
	X.prototype.toString = function()
	{
		return"Shape(" + ("None" !== this.Ab ? this.Ab : "None" !== this.Kp ? this.Kp : this.pz) + ")#" + v.md( this )
	};
	function io( a, b, c, d )
	{
		var e = c.length;
		if( !(4 > e) )
		{
			for( var f = d.Ca, h = Math.max( 1, f.width ), f = f.height, k = c[0], l = c[1], m = 0, n = 0, p = 0, q = 0, r = 0, s = 0, t = q = 0, u = v.jb(), w = 2; w < e; w += 2 )m = c[w], n = c[w + 1], p = m - k, q = n - l, 0 === p && (p = .001), r = q / p, s = Math.atan2( q, p ), q = Math.sqrt( p * p + q * q ), u.push( [p, s, r, q] ), t += q, k = m, l = n;
			k = c[0];
			l = c[1];
			p = d.Ca.width;
			d instanceof X && (p -= d.lb);
			1 > p && (p = 1);
			c = p;
			for( var e = 0, m = c, n = h / 2, w = 0 === n ? !1 : !0, x = 0, q = u[x], p = q[0], s = q[1], r = q[2], q = q[3], z = 0; .1 <= t; )
			{
				0 === z && (w ? (m = c, e++, m -= n, t -= n, w = !1) : (m = c, e++), 0 === m && (m = 1));
				if( m > t )
				{
					v.sa( u );
					return
				}
				m > q ? (z = m - q, m = q) : z = 0;
				var A = Math.sqrt( m * m / (1 + r * r) );
				0 > p && (A = -A);
				k += A;
				l += r * A;
				a.translate( k, l );
				a.rotate( s );
				a.translate( -(h / 2), -(f / 2) );
				0 === z && d.Wj( a, b );
				a.translate( h / 2, f / 2 );
				a.rotate( -s );
				a.translate( -k, -l );
				t -= m;
				q -= m;
				if( 0 !== z )
				{
					x++;
					if( x === u.length )
					{
						v.sa( u );
						return
					}
					q = u[x];
					p = q[0];
					s = q[1];
					r = q[2];
					q = q[3];
					m = z
				}
			}
			v.sa( u )
		}
	}

	X.prototype.Wj = function( a, b )
	{
		if( null !== this.Dc || null !== this.qd )
		{
			null !== this.qd && Mm( this, a, this.qd, !0, !1 );
			null !== this.Dc && Mm( this, a, this.Dc, !1, !1 );
			var c = this.Sh;
			if( 0 === c )
			{
				var d = this.Y;
				d instanceof Tg && d.type === xi && "Selection" === d.gc && d.Yb instanceof X && d.Nf.Ye() === d.Yb && (c = d.Yb.lb)
			}
			a.lineWidth = c;
			a.lineJoin = this.Ao;
			a.lineCap = this.yo;
			a.miterLimit = this.tm;
			var e = !1;
			this.Y && b.$j( "drawShadows" ) && (e = this.Y.vl);
			var f = !0;
			null !== this.Dc && null === this.qd && (f = !1);
			var d = !1, h = !0, k = this.$E;
			null !== k && (d = !0, void 0 !==
				a.setLineDash ? (a.setLineDash( k ), a.lineDashOffset = this.ld) : void 0 !== a.webkitLineDash ? (a.webkitLineDash = k, a.webkitLineDashOffset = this.ld) : void 0 !== a.mozDash ? (a.mozDash = k, a.mozDashOffset = this.ld) : h = !1);
			var l = this.Ra;
			if( null !== l )
			{
				if( l.ia === Ge )a.beginPath(), d && !h ? zm( a, l.vc, l.Cc, l.vb, l.Bb, k, this.ld ) : (a.moveTo( l.vc, l.Cc ), a.lineTo( l.vb, l.Bb )), null !== this.qd && a.vg( this.qd ), 0 !== c && null !== this.Dc && a.bj();
				else if( l.ia === He )
				{
					var m = l.vc, n = l.Cc, p = l.vb, q = l.Bb, l = Math.min( m, p ), r = Math.min( n, q ), m = Math.abs( p - m ), n = Math.abs( q -
						n );
					null !== this.qd && (a.beginPath(), a.rect( l, r, m, n ), a.vg( this.qd ));
					if( null !== this.Dc )
					{
						var s = p = 0, t = 0;
						f && e && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0);
						d && !h ? (h = v.jb(), h.push( l ), h.push( r ), h.push( l + m ), h.push( r ), h.push( l + m ), h.push( r + n ), h.push( l ), h.push( r + n ), h.push( l ), h.push( r ), a.beginPath(), jo( a, h, k, this.ld ), a.bj(), v.sa( h )) : 0 !== c && (a.beginPath(), a.rect( l, r, m, n ), a.bj());
						f && e && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t)
					}
				}
				else if( l.ia ===
					Ie )m = l.vc, n = l.Cc, p = l.vb, q = l.Bb, l = Math.abs( p - m ) / 2, r = Math.abs( q - n ) / 2, m = Math.min( m, p ) + l, n = Math.min( n, q ) + r, a.beginPath(), a.moveTo( m, n - r ), a.bezierCurveTo( m + Wc * l, n - r, m + l, n - Wc * r, m + l, n ), a.bezierCurveTo( m + l, n + Wc * r, m + Wc * l, n + r, m, n + r ), a.bezierCurveTo( m - Wc * l, n + r, m - l, n + Wc * r, m - l, n ), a.bezierCurveTo( m - l, n - Wc * r, m - Wc * l, n - r, m, n - r ), a.closePath(), null !== this.qd && a.vg( this.qd ), d && !h && (h = v.jb(), Rd( m, n - r, m + Wc * l, n - r, m + l, n - Wc * r, m + l, n, .5, h ), Rd( m + l, n, m + l, n + Wc * r, m + Wc * l, n + r, m, n + r, .5, h ), Rd( m, n + r, m - Wc * l, n + r, m - l, n + Wc * r, m - l, n, .5, h ),
					Rd( m - l, n, m - l, n - Wc * r, m - Wc * l, n - r, m, n - r, .5, h ), a.beginPath(), jo( a, h, k, this.ld ), v.sa( h )), 0 !== c && null !== this.Dc && (f && e ? (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0, a.bj(), a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t) : a.bj());
				else if( l.ia === De )
				{
					r = l.jj;
					n = r.length;
					for( q = 0; q < n; q++ )
					{
						m = r.n[q];
						a.beginPath();
						a.moveTo( m.za, m.wa );
						for( var p = m.sb.n, s = p.length, u = null, t = 0; t < s; t++ )
						{
							var w = p[t];
							switch( w.ia )
							{
							case hf:
								a.moveTo( w.I, w.J );
								break;
							case $e:
								a.lineTo( w.I,
									w.J );
								break;
							case jf:
								a.bezierCurveTo( w.td, w.Ge, w.Yg, w.og, w.vb, w.Bb );
								break;
							case kf:
								a.quadraticCurveTo( w.td, w.Ge, w.vb, w.Bb );
								break;
							case lf:
								if( w.radiusX === w.radiusY )u = Math.PI / 180, a.arc( w.td, w.Ge, w.radiusX, w.ye * u, (w.ye + w.Bf) * u, 0 > w.Bf );
								else
								{
									var u = nf( w, m ), x = u.length;
									if( 0 === x )
									{
										a.lineTo( w.na, w.ua );
										break
									}
									for( var z = 0; z < x; z++ )
									{
										var A = u[z];
										0 === z && a.lineTo( A[0], A[1] );
										a.bezierCurveTo( A[2], A[3], A[4], A[5], A[6], A[7] )
									}
								}
								break;
							case mf:
								z = x = 0;
								if( null !== u && u.type === lf )
								{
									u = nf( u, m );
									A = u.length;
									if( 0 === A )
									{
										a.lineTo( w.na, w.ua );
										break
									}
									u =
										u[A - 1] || null;
									null !== u && (x = u[6], z = u[7])
								}
								else x = null !== u ? u.I : m.za, z = null !== u ? u.J : m.wa;
								u = of( w, m, x, z );
								x = u.length;
								if( 0 === x )
								{
									a.lineTo( w.na, w.ua );
									break
								}
								for( z = 0; z < x; z++ )A = u[z], a.bezierCurveTo( A[2], A[3], A[4], A[5], A[6], A[7] );
								break;
							default:
								v.k( "Segment not of valid type: " + w.ia )
							}
							w.Eh && a.closePath();
							u = w
						}
						e ? (t = s = p = 0, m.Vn ? (!0 === m.Sl && null !== this.qd ? (a.vg( this.qd ), f = !0) : f = !1, 0 !== c && null !== this.Dc && (f && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), d && !h || a.bj(),
							f && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t))) : (f && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), !0 === m.Sl && null !== this.qd && a.vg( this.qd ), 0 !== c && null !== this.Dc && (d && !h || a.bj()), f && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t))) : (!0 === m.Sl && null !== this.qd && a.vg( this.qd ), 0 === c || null === this.Dc || d && !h || a.bj())
					}
					if( d && !h )for( c = f, f = l.jj, h = f.length, l = 0; l < h; l++ )
					{
						r = f.n[l];
						a.beginPath();
						n = v.jb();
						n.push( r.za );
						n.push( r.wa );
						q = r.za;
						m = r.wa;
						p = q;
						s = m;
						t = r.sb.n;
						w = t.length;
						for( u = 0; u < w; u++ )
						{
							x = t[u];
							switch( x.ia )
							{
							case hf:
								jo( a, n, k, this.ld );
								n.length = 0;
								n.push( x.I );
								n.push( x.J );
								q = x.I;
								m = x.J;
								p = q;
								s = m;
								break;
							case $e:
								n.push( x.I );
								n.push( x.J );
								q = x.I;
								m = x.J;
								break;
							case jf:
								Rd( q, m, x.td, x.Ge, x.Yg, x.og, x.vb, x.Bb, .5, n );
								q = x.I;
								m = x.J;
								break;
							case kf:
								Vd( q, m, x.td, x.Ge, x.vb, x.Bb, .5, n );
								q = x.I;
								m = x.J;
								break;
							case lf:
								z = nf( x, r );
								A = z.length;
								if( 0 === A )
								{
									n.push( x.na );
									n.push( x.ua );
									q = x.na;
									m = x.ua;
									break
								}
								for( var H = 0; H < A; H++ )
								{
									var C = z[H];
									Rd( q, m, C[2], C[3], C[4], C[5], C[6], C[7], .5, n );
									q = C[6];
									m = C[7]
								}
								break;
							case mf:
								z = of( x, r, q, m );
								A = z.length;
								if( 0 === A )
								{
									n.push( x.na );
									n.push( x.ua );
									q = x.na;
									m = x.ua;
									break
								}
								for( H = 0; H < A; H++ )C = z[H], Rd( q, m, C[2], C[3], C[4], C[5], C[6], C[7], .5, n ), q = C[6], m = C[7];
								break;
							default:
								v.k( "Segment not of valid type: " + x.ia )
							}
							x.Eh && (n.push( p ), n.push( s ), jo( a, n, k, this.ld ))
						}
						jo( a, n, k, this.ld );
						v.sa( n );
						null !== this.Dc && (q = n = r = 0, c && e && (r = a.shadowOffsetX, n = a.shadowOffsetY, q = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), a.bj(), c && e && (a.shadowOffsetX = r, a.shadowOffsetY = n, a.shadowBlur = q))
					}
				}
				d &&
				(void 0 !== a.setLineDash ? (a.setLineDash( v.th ), a.lineDashOffset = 0) : void 0 !== a.webkitLineDash ? (a.webkitLineDash = v.th, a.webkitLineDashOffset = 0) : void 0 !== a.mozDash && (a.mozDash = null, a.mozDashOffset = 0));
				if( null !== this.Uw )
				{
					d = this.Uw;
					fj( d, Infinity, Infinity );
					k = d.Ca;
					d.Ec( 0, 0, k.width, k.height );
					c = this.ml;
					a.save();
					a.beginPath();
					k = v.jb();
					if( c.type === Ge )k.push( c.za ), k.push( c.wa ), k.push( c.I ), k.push( c.J ), io( a, b, k, d );
					else if( c.type === De )for( h = c.Ub.i; h.next(); )
					{
						l = h.value;
						k.length = 0;
						k.push( l.za );
						k.push( l.wa );
						f = l.za;
						r =
							l.wa;
						n = f;
						q = r;
						m = l.sb.n;
						p = m.length;
						for( s = 0; s < p; s++ )
						{
							t = m[s];
							switch( t.ia )
							{
							case hf:
								io( a, b, k, d );
								k.length = 0;
								k.push( t.I );
								k.push( t.J );
								f = t.I;
								r = t.J;
								n = f;
								q = r;
								break;
							case $e:
								k.push( t.I );
								k.push( t.J );
								f = t.I;
								r = t.J;
								break;
							case jf:
								Rd( f, r, t.td, t.Ge, t.Yg, t.og, t.vb, t.Bb, .5, k );
								f = t.I;
								r = t.J;
								break;
							case kf:
								Vd( f, r, t.td, t.Ge, t.vb, t.Bb, .5, k );
								f = t.I;
								r = t.J;
								break;
							case lf:
								c = nf( t, l );
								e = c.length;
								if( 0 === e )
								{
									k.push( t.na );
									k.push( t.ua );
									f = t.na;
									r = t.ua;
									break
								}
								for( w = 0; w < e; w++ )u = c[w], Rd( f, r, u[2], u[3], u[4], u[5], u[6], u[7], .5, k ), f = u[6], r = u[7];
								break;
							case mf:
								c =
									of( t, l, f, r );
								e = c.length;
								if( 0 === e )
								{
									k.push( t.na );
									k.push( t.ua );
									f = t.na;
									r = t.ua;
									break
								}
								for( w = 0; w < e; w++ )u = c[w], Rd( f, r, u[2], u[3], u[4], u[5], u[6], u[7], .5, k ), f = u[6], r = u[7];
								break;
							default:
								v.k( "Segment not of valid type: " + t.ia )
							}
							t.Eh && (k.push( n ), k.push( q ), io( a, b, k, d ))
						}
						io( a, b, k, d )
					}
					else if( c.type === He )k.push( c.za ), k.push( c.wa ), k.push( c.I ), k.push( c.wa ), k.push( c.I ), k.push( c.J ), k.push( c.za ), k.push( c.J ), k.push( c.za ), k.push( c.wa ), io( a, b, k, d );
					else if( c.type === Ie )
					{
						h = new Ee;
						h.za = c.I;
						h.wa = (c.wa + c.J) / 2;
						f = new wf( lf );
						f.ye = 0;
						f.Bf =
							360;
						f.na = (c.za + c.I) / 2;
						f.ua = (c.wa + c.J) / 2;
						f.radiusX = Math.abs( c.za - c.I ) / 2;
						f.radiusY = Math.abs( c.wa - c.J ) / 2;
						h.add( f );
						c = nf( f, h );
						e = c.length;
						if( 0 === e )k.push( f.na ), k.push( f.ua );
						else for( f = h.za, r = h.wa, w = 0; w < e; w++ )u = c[w], Rd( f, r, u[2], u[3], u[4], u[5], u[6], u[7], .5, k ), f = u[6], r = u[7];
						io( a, b, k, d )
					}
					v.sa( k );
					a.restore();
					Vc( a, !1 )
				}
			}
		}
	};
	function jo( a, b, c, d )
	{
		var e = b.length;
		if( !(4 > e) )
		{
			var f = .001, h = c.length, k = b[0], l = b[1];
			if( 4 === e )zm( a, k, l, b[2], b[3], c, d );
			else
			{
				a.moveTo( k, l );
				for( var m = f = 0, n = 0, p = 0, q = 0, r = p = 0, s = v.jb(), t = 2; t < e; t += 2 )f = b[t], m = b[t + 1], n = f - k, p = m - l, 0 === n && (n = .001), q = p / n, p = Math.sqrt( n * n + p * p ), s.push( [n, q, p] ), r += p, k = f, l = m;
				k = b[0];
				l = b[1];
				b = 0;
				for( var e = !0, f = c[b % h], m = 0 !== d, t = 0, p = s[t], n = p[0], q = p[1], p = p[2], u = 0; .1 <= r; )
				{
					0 === u && (f = c[b % h], b++, m && (d %= f, f -= d, m = !1));
					f > r && (f = r);
					f > p ? (u = f - p, f = p) : u = 0;
					var w = Math.sqrt( f * f / (1 + q * q) );
					0 > n && (w = -w);
					k += w;
					l +=
						q * w;
					e ? a.lineTo( k, l ) : a.moveTo( k, l );
					r -= f;
					p -= f;
					if( 0 !== u )
					{
						t++;
						if( t === s.length )
						{
							v.sa( s );
							return
						}
						p = s[t];
						n = p[0];
						q = p[1];
						p = p[2];
						f = u
					}
					else e = !e
				}
				v.sa( s )
			}
		}
	}

	X.prototype.getDocumentPoint = X.prototype.Xa = function( a, b )
	{
		void 0 === b && (b = new y);
		a.te() && v.k( "getDocumentPoint Spot must be a real, specific Spot, not: " + a.toString() );
		var c = this.Ha, d = this.lb;
		b.m( a.x * (c.width + d) - d / 2 + c.x + a.offsetX, a.y * (c.height + d) - d / 2 + c.y + a.offsetY );
		this.Zg.ub( b );
		return b
	};
	X.prototype.Uj = function( a, b )
	{
		var c = this.Ra;
		if( null === c || null === this.fill && null === this.stroke )return!1;
		var d = c.mb, e = this.lb / 2;
		c.type !== Ge || b || (e += 2);
		var f = v.bg();
		f.assign( d );
		f.Rf( e + 2, e + 2 );
		if( !f.Fa( a ) )return v.Vb( f ), !1;
		d = e + 1E-4;
		if( c.type === Ge )
		{
			if( null === this.stroke )return!1;
			d = (c.I - c.za) * (a.x - c.za) + (c.J - c.wa) * (a.y - c.wa);
			if( 0 > (c.za - c.I) * (a.x - c.I) + (c.wa - c.J) * (a.y - c.J) || 0 > d )return!1;
			v.Vb( f );
			return Jd( c.za, c.wa, c.I, c.J, e, a.x, a.y )
		}
		if( c.type === He )
		{
			var h = c.za, k = c.wa, l = c.I, m = c.J;
			f.x = Math.min( h, l );
			f.y = Math.min( k,
				m );
			f.width = Math.abs( l - h );
			f.height = Math.abs( m - k );
			if( null === this.fill )
			{
				f.Rf( -d, -d );
				if( f.Fa( a ) )return v.Vb( f ), !1;
				f.Rf( d, d )
			}
			null !== this.stroke && f.Rf( e, e );
			e = f.Fa( a );
			v.Vb( f );
			return e
		}
		if( c.type === Ie )
		{
			var h = c.za, k = c.wa, l = c.I, m = c.J, c = Math.min( h, l ), n = Math.min( k, m ), h = Math.abs( l - h ) / 2, k = Math.abs( m - k ) / 2, c = a.x - (c + h), n = a.y - (n + k);
			if( null === this.fill )
			{
				h -= d;
				k -= d;
				if( 0 >= h || 0 >= k || 1 >= c * c / (h * h) + n * n / (k * k) )return v.Vb( f ), !1;
				h += d;
				k += d
			}
			null !== this.stroke && (h += e, k += e);
			v.Vb( f );
			return 0 >= h || 0 >= k ? !1 : 1 >= c * c / (h * h) + n * n / (k * k)
		}
		if( c.type ===
			De )return v.Vb( f ), null === this.fill ? vf( c, a.x, a.y, e ) : c.Fa( a, e, 1 < this.lb, b );
		v.k( "Unknown Geometry type: " + c.type );
		return!1
	};
	X.prototype.mp = function( a, b, c, d )
	{
		var e = this.ya, f = this.Sh;
		a = Math.max( a, 0 );
		b = Math.max( b, 0 );
		var h;
		if( this.Lh )h = this.ml.mb;
		else
		{
			var k = this.Ab, l = Fd[k];
			if( void 0 === l )
			{
				var m = ko[k];
				"string" === typeof m && (m = ko[m]);
				"function" === typeof m ? (l = m( null, 100, 100 ), Fd[k] = l) : v.k( "Unsupported Figure: " + k )
			}
			h = l.mb
		}
		var k = h.width, l = h.height, m = h.width, n = h.height;
		switch( Em( this, !0 ) )
		{
		case Ni:
			d = c = 0;
			break;
		case Fe:
			m = Math.max( a - f, 0 );
			n = Math.max( b - f, 0 );
			break;
		case um:
			m = Math.max( a - f, 0 );
			d = 0;
			break;
		case tm:
			c = 0, n = Math.max( b - f, 0 )
		}
		isFinite( e.width ) &&
		(m = e.width);
		isFinite( e.height ) && (n = e.height);
		e = this.yf;
		h = this.jh;
		c = Math.max( c, h.width ) - f;
		d = Math.max( d, h.height ) - f;
		m = Math.min( e.width, m );
		n = Math.min( e.height, n );
		m = isFinite( m ) ? Math.max( c, m ) : Math.max( k, c );
		n = isFinite( n ) ? Math.max( d, n ) : Math.max( l, d );
		c = Oi( this );
		switch( c )
		{
		case Ni:
			break;
		case Fe:
			k = m;
			l = n;
			break;
		case Pi:
			c = Math.min( m / k, n / l );
			isFinite( c ) || (c = 1);
			k *= c;
			l *= c;
			break;
		default:
			v.k( c + " is not a valid geometryStretch." )
		}
		if( this.Lh )h = this.ml, e = k, d = l, c = h.copy(), h = h.mb, e /= h.width, d /= h.height, isFinite( e ) || (e = 1),
			isFinite( d ) || (d = 1), 1 === e && 1 === d || c.scale( e, d ), this.Ra = c;
		else if( null === this.Ra || this.Ra.Un !== a - f || this.Ra.Sn !== b - f )this.Ra = X.makeGeometry( this, k, l );
		h = this.Ra.mb;
		Infinity === a || Infinity === b ? Bm( this, h.x - f / 2, h.y - f / 2, 0 === a && 0 === k ? 0 : h.width + f, 0 === b && 0 === l ? 0 : h.height + f ) : Bm( this, -(f / 2), -(f / 2), m + f, n + f )
	};
	function Wn( a, b, c, d )
	{
		if( !1 !== dl( a ) )
		{
			a.kd.Oa();
			var e = a.Sh;
			0 === e && d instanceof Tg && d.type === xi && d.Yb instanceof X && (e = d.Yb.lb);
			e *= a.Tb;
			d instanceof W && null !== d.Ra ? (b = d.Ra.mb, Bm( a, b.x - e / 2, b.y - e / 2, b.width + e, b.height + e )) : Bm( a, -(e / 2), -(e / 2), b + e, c + e );
			a.kd.freeze();
			a.kd.G() || v.k( "Non-real measuredBounds has been set. Object " + a + ", measuredBounds: " + a.kd.toString() );
			Qk( a, !1 )
		}
	}

	function Oi( a )
	{
		var b = a.rz;
		return a.Lh ? b === sm ? Fe : b : b === sm ? Fd[a.Ab].Od : b
	}

	X.prototype.Ni = function( a, b, c, d )
	{
		Fm( this, a, b, c, d )
	};
	X.prototype.getNearestIntersectionPoint = X.prototype.PD = function( a, b, c )
	{
		return this.ap( a.x, a.y, b.x, b.y, c )
	};
	X.prototype.ap = function( a, b, c, d, e )
	{
		var f = this.transform, h = 1 / (f.m11 * f.m22 - f.m12 * f.m21), k = f.m22 * h, l = -f.m12 * h, m = -f.m21 * h, n = f.m11 * h, p = h * (f.m21 * f.dy - f.m22 * f.dx), q = h * (f.m12 * f.dx - f.m11 * f.dy), f = a * k + b * m + p, h = a * l + b * n + q, k = c * k + d * m + p, l = c * l + d * n + q, m = this.lb / 2, p = this.Ra;
		null === p && (fj( this, Infinity, Infinity ), p = this.Ra);
		q = p.mb;
		n = !1;
		if( p.type === Ge )if( 1.5 >= this.lb )n = Yd( p.vc, p.Cc, p.vb, p.Bb, f, h, k, l, e );
		else
		{
			var r = 0, s = 0;
			p.vc === p.vb ? (r = m, s = 0) : (b = (p.Bb - p.Cc) / (p.vb - p.vc), s = m / Math.sqrt( 1 + b * b ), r = s * b);
			d = v.jb();
			b = new y;
			Yd( p.vc +
				r, p.Cc + s, p.vb + r, p.Bb + s, f, h, k, l, b ) && d.push( b );
			b = new y;
			Yd( p.vc - r, p.Cc - s, p.vb - r, p.Bb - s, f, h, k, l, b ) && d.push( b );
			b = new y;
			Yd( p.vc + r, p.Cc + s, p.vc - r, p.Cc - s, f, h, k, l, b ) && d.push( b );
			b = new y;
			Yd( p.vb + r, p.Bb + s, p.vb - r, p.Bb - s, f, h, k, l, b ) && d.push( b );
			b = d.length;
			if( 0 === b )return v.sa( d ), !1;
			n = !0;
			s = Infinity;
			for( r = 0; r < b; r++ )
			{
				var k = d[r], t = (k.x - f) * (k.x - f) + (k.y - h) * (k.y - h);
				t < s && (s = t, e.x = k.x, e.y = k.y)
			}
			v.sa( d )
		}
		else if( p.type === He )b = q.x - m, n = Zd( b, q.y - m, q.x + q.width + m, q.y + q.height + m, f, h, k, l, e );
		else if( p.type === Ie )a:if( b = q.copy().Rf( m,
			m ), 0 === b.width )n = Yd( b.x, b.y, b.x, b.y + b.height, f, h, k, l, e );
		else if( 0 === b.height )n = Yd( b.x, b.y, b.x + b.width, b.y, f, h, k, l, e );
		else
		{
			a = b.width / 2;
			var u = b.height / 2;
			d = b.x + a;
			b = b.y + u;
			c = 9999;
			f !== k && (c = (h - l) / (f - k));
			if( 9999 > Math.abs( c ) )
			{
				n = h - b - c * (f - d);
				if( 0 > a * a * c * c + u * u - n * n )
				{
					e.x = NaN;
					e.y = NaN;
					n = !1;
					break a
				}
				m = Math.sqrt( a * a * c * c + u * u - n * n );
				k = (-(a * a * c * n) + a * u * m) / (u * u + a * a * c * c) + d;
				a = (-(a * a * c * n) - a * u * m) / (u * u + a * a * c * c) + d;
				l = c * (k - d) + n + b;
				b = c * (a - d) + n + b;
				d = Math.abs( (f - k) * (f - k) ) + Math.abs( (h - l) * (h - l) );
				h = Math.abs( (f - a) * (f - a) ) + Math.abs( (h - b) * (h -
					b) );
				d < h ? (e.x = k, e.y = l) : (e.x = a, e.y = b)
			}
			else
			{
				k = u * u;
				l = f - d;
				k -= k / (a * a) * l * l;
				if( 0 > k )
				{
					e.x = NaN;
					e.y = NaN;
					n = !1;
					break a
				}
				m = Math.sqrt( k );
				l = b + m;
				b -= m;
				d = Math.abs( l - h );
				h = Math.abs( b - h );
				d < h ? (e.x = f, e.y = l) : (e.x = f, e.y = b)
			}
			n = !0
		}
		else if( p.type === De )
		{
			var w = 0, x = 0, z = t = 0, q = v.L(), r = k - f, s = l - h, s = r * r + s * s;
			e.x = k;
			e.y = l;
			for( r = 0; r < p.Ub.count; r++ )for( var A = p.Ub.n[r], H = A.sb, w = A.za, x = A.wa, C = w, T = x, ba = 0; ba < H.count; ba++ )
			{
				var U = H.n[ba], M = U.type, t = U.I, z = U.J, aa = !1;
				switch( M )
				{
				case hf:
					C = t;
					T = z;
					break;
				case $e:
					aa = lo( w, x, t, z, f, h, k, l, q );
					break;
				case jf:
					var aa =
						U.qc, M = U.Kc, Ia = U.lh, oa = U.mh, aa = Wd( w, x, aa, M, Ia, oa, t, z, f, h, k, l, .5, q );
					break;
				case kf:
					aa = (w + 2 * U.qc) / 3;
					M = (x + 2 * U.Kc) / 3;
					Ia = (2 * U.qc + t) / 3;
					oa = (2 * U.qc + t) / 3;
					aa = Wd( w, x, aa, M, Ia, oa, t, z, f, h, k, l, .5, q );
					break;
				case lf:
				case mf:
					M = U.type === lf ? nf( U, A ) : of( U, A, w, x );
					Ia = M.length;
					if( 0 === Ia )
					{
						aa = lo( w, x, U.na, U.ua, f, h, k, l, q );
						break
					}
					for( z = 0; z < Ia; z++ )u = M[z], 0 === z && lo( w, x, u[0], u[1], f, h, k, l, q ) && (t = mo( f, h, q, s, e ), t < s && (s = t, n = !0)), Wd( u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], f, h, k, l, .5, q ) && (t = mo( f, h, q, s, e ), t < s && (s = t, n = !0));
					t = u[6];
					z = u[7];
					break;
				default:
					v.k( "Unknown Segment type: " + M )
				}
				w = t;
				x = z;
				aa && (t = mo( f, h, q, s, e ), t < s && (s = t, n = !0));
				U.Fw && (t = C, z = T, lo( w, x, t, z, f, h, k, l, q ) && (t = mo( f, h, q, s, e ), t < s && (s = t, n = !0)))
			}
			f = c - a;
			h = d - b;
			b = Math.sqrt( f * f + h * h );
			0 !== b && (f /= b, h /= b);
			e.x -= f * m;
			e.y -= h * m;
			v.v( q )
		}
		else v.k( "Unknown Geometry type: " + p.type );
		if( !n )return!1;
		this.transform.ub( e );
		return!0
	};
	function mo( a, b, c, d, e )
	{
		a = c.x - a;
		b = c.y - b;
		b = a * a + b * b;
		return b < d ? (e.x = c.x, e.y = c.y, b) : d
	}

	function lo( a, b, c, d, e, f, h, k, l )
	{
		var m = !1, n = (e - h) * (b - d) - (f - k) * (a - c);
		if( 0 === n )return!1;
		l.x = ((e * k - f * h) * (a - c) - (e - h) * (a * d - b * c)) / n;
		l.y = ((e * k - f * h) * (b - d) - (f - k) * (a * d - b * c)) / n;
		(a > c ? a - c : c - a) < (b > d ? b - d : d - b) ? (e = b < d ? b : d, a = b < d ? d : b, (l.y > e || Dc( l.y, e )) && (l.y < a || Dc( l.y, a )) && (m = !0)) : (e = a < c ? a : c, a = a < c ? c : a, (l.x > e || Dc( l.x, e )) && (l.x < a || Dc( l.x, a )) && (m = !0));
		return m
	}

	X.prototype.containedInRect = X.prototype.Fm = function( a, b )
	{
		if( void 0 === b )return a.Vj( this.V );
		var c = this.Ra;
		null === c && (fj( this, Infinity, Infinity ), c = this.Ra);
		var c = c.mb, d = this.lb / 2, e = !1, f = v.L();
		f.m( c.x - d, c.y - d );
		a.Fa( b.ub( f ) ) && (f.m( c.x - d, c.bottom + d ), a.Fa( b.ub( f ) ) && (f.m( c.right + d, c.bottom + d ), a.Fa( b.ub( f ) ) && (f.m( c.right + d, c.y - d ), a.Fa( b.ub( f ) ) && (e = !0))));
		v.v( f );
		return e
	};
	X.prototype.intersectsRect = X.prototype.yg = function( a, b )
	{
		if( this.Fm( a, b ) || void 0 === b && (b = this.transform, a.Vj( this.V )) )return!0;
		var c = v.qh();
		c.set( b );
		c.zz();
		var d = a.left, e = a.right, f = a.top, h = a.bottom, k = v.L();
		k.m( d, f );
		c.ub( k );
		if( this.Uj( k, !0 ) )return v.v( k ), !0;
		k.m( e, f );
		c.ub( k );
		if( this.Uj( k, !0 ) )return v.v( k ), !0;
		k.m( d, h );
		c.ub( k );
		if( this.Uj( k, !0 ) )return v.v( k ), !0;
		k.m( e, h );
		c.ub( k );
		if( this.Uj( k, !0 ) )return v.v( k ), !0;
		var l = v.L(), m = v.L();
		c.set( b );
		c.sE( this.transform );
		c.zz();
		l.x = e;
		l.y = f;
		l.transform( c );
		k.x = d;
		k.y =
			f;
		k.transform( c );
		var n = !1;
		no( this, k, l, m ) ? n = !0 : (k.x = e, k.y = h, k.transform( c ), no( this, k, l, m ) ? n = !0 : (l.x = d, l.y = h, l.transform( c ), no( this, k, l, m ) ? n = !0 : (k.x = d, k.y = f, k.transform( c ), no( this, k, l, m ) && (n = !0))));
		v.v( k );
		v.$e( c );
		v.v( l );
		v.v( m );
		return n
	};
	function no( a, b, c, d )
	{
		if( !a.PD( b, c, d ) )return!1;
		a = b.x;
		b = b.y;
		var e = c.x;
		c = c.y;
		var f = d.x;
		d = d.y;
		if( a === e )
		{
			var h = 0;
			a = 0;
			b < c ? (h = b, a = c) : (h = c, a = b);
			return d >= h && d <= a
		}
		a < e ? (h = a, a = e) : h = e;
		return f >= h && f <= a
	}

	X.prototype.JD = function( a, b, c )
	{
		function d( a, b )
		{
			for( var c = a.length, d = 0; d < c; d += 2 )if( b.To( a[d], a[d + 1] ) > e )return!0;
			return!1
		}

		if( c && null !== this.fill && this.Uj( a, !0 ) )return!0;
		var e = a.sf( b );
		b = e;
		1.5 < this.lb && (e = this.lb / 2 + Math.sqrt( e ), e *= e);
		var f = this.Ra;
		if( null === f && (fj( this, Infinity, Infinity ), f = this.Ra, null === f) )return!1;
		if( !c )
		{
			var h = f.mb, k = h.x, l = h.y, m = h.x + h.width, h = h.y + h.height;
			if( Ta( a.x, a.y, k, l ) <= e && Ta( a.x, a.y, m, l ) <= e && Ta( a.x, a.y, k, h ) <= e && Ta( a.x, a.y, m, h ) <= e )return!0
		}
		k = f.vc;
		l = f.Cc;
		m = f.vb;
		h = f.Bb;
		if( f.type ===
			Ge )
		{
			if( c = Sa( a.x, a.y, k, l, m, h ), f = (k - m) * (a.x - m) + (l - h) * (a.y - h), c <= (0 <= (m - k) * (a.x - k) + (h - l) * (a.y - l) && 0 <= f ? e : b) )return!0
		}
		else
		{
			if( f.type === He )return b = !1, c && (b = Sa( a.x, a.y, k, l, k, h ) <= e || Sa( a.x, a.y, k, l, m, l ) <= e || Sa( a.x, a.y, m, l, m, h ) <= e || Sa( a.x, a.y, k, h, m, h ) <= e), b;
			if( f.type === Ie )
			{
				b = a.x - (k + m) / 2;
				var f = a.y - (l + h) / 2, n = Math.abs( m - k ) / 2, p = Math.abs( h - l ) / 2;
				if( 0 === n || 0 === p )return c = Sa( a.x, a.y, k, l, m, h ), c <= e ? !0 : !1;
				if( c )
				{
					if( a = qe( n, p, b, f ), a * a <= e )return!0
				}
				else return Ta( b, f, -n, 0 ) >= e || Ta( b, f, 0, -p ) >= e || Ta( b, f, 0, p ) >= e || Ta( b, f, n, 0 ) >=
					e ? !1 : !0
			}
			else if( f.type === De )
			{
				h = f.mb;
				k = h.x;
				l = h.y;
				m = h.x + h.width;
				h = h.y + h.height;
				if( a.x > m && a.x < k && a.y > h && a.y < l && Sa( a.x, a.y, k, l, k, h ) > e && Sa( a.x, a.y, k, l, m, l ) > e && Sa( a.x, a.y, m, h, k, h ) > e && Sa( a.x, a.y, m, h, m, l ) > e )return!1;
				b = Math.sqrt( e );
				if( c )
				{
					if( null === this.fill ? vf( f, a.x, a.y, b ) : f.Fa( a, b, !0 ) )return!0
				}
				else
				{
					c = f.Ub;
					for( b = 0; b < c.count; b++ )
					{
						k = c.n[b];
						n = k.za;
						p = k.wa;
						if( a.To( n, p ) > e )return!1;
						l = k.sb.n;
						m = l.length;
						for( h = 0; h < m; h++ )
						{
							var q = l[h];
							switch( q.type )
							{
							case hf:
							case $e:
								n = q.I;
								p = q.J;
								if( a.To( n, p ) > e )return!1;
								break;
							case jf:
								f = v.jb();
								Rd( n, p, q.qc, q.Kc, q.lh, q.mh, q.I, q.J, .8, f );
								n = d( f, a );
								v.sa( f );
								if( n )return!1;
								n = q.I;
								p = q.J;
								if( a.To( n, p ) > e )return!1;
								break;
							case kf:
								f = v.jb();
								Vd( n, p, q.qc, q.Kc, q.I, q.J, .8, f );
								n = d( f, a );
								v.sa( f );
								if( n )return!1;
								n = q.I;
								p = q.J;
								if( a.To( n, p ) > e )return!1;
								break;
							case lf:
							case mf:
								var r = q.type === lf ? nf( q, k ) : of( q, k, n, p ), s = r.length;
								if( 0 === s )
								{
									n = q.na;
									p = q.ua;
									if( a.To( n, p ) > e )return!1;
									break
								}
								q = null;
								f = v.jb();
								for( b = 0; b < s; b++ )if( q = r[b], f.length = 0, Rd( q[0], q[1], q[2], q[3], q[4], q[5], q[6], q[7], .8, f ), d( f, a ) )return v.sa( f ), !1;
								v.sa( f );
								null !== q && (n =
									q[6], p = q[7]);
								break;
							default:
								v.k( "Unknown Segment type: " + q.type )
							}
						}
					}
					return!0
				}
			}
		}
		return!1
	};
	v.defineProperty( X, {ml: "geometry"}, function()
	{
		return this.Ra ? this.Ra : this.tn
	}, function( a )
	{
		var b = this.Ra;
		if( b !== a )
		{
			this.tn = null !== a ? this.Ra = a.freeze() : this.Ra = null;
			var c = this.Y;
			null !== c && (c.xj = NaN);
			this.Lh = !0;
			this.P();
			this.h( "geometry", b, a );
			a = this.Y;
			null !== a && 0 !== (this.fa & 1024) && Am( this, a, "geometryString" )
		}
	} );
	v.defineProperty( X, {SG: "geometryString"}, function()
	{
		return null === this.ml ? "" : this.ml.toString()
	}, function( a )
	{
		a = bf( a );
		var b = a.normalize();
		this.ml = a;
		this.position = a = v.Mb( -b.x, -b.y );
		v.v( a )
	} );
	v.defineProperty( X, {bE: "isGeometryPositioned"}, function()
	{
		return this.Qq
	}, function( a )
	{
		var b = this.Qq;
		b !== a && (this.Qq = a, this.P(), this.h( "isGeometryPositioned", b, a ))
	} );
	X.prototype.se = function()
	{
		this.Ra = null;
		this.P()
	};
	v.defineProperty( X, {fill: "fill"}, function()
	{
		return this.qd
	}, function( a )
	{
		var b = this.qd;
		b !== a && (a instanceof ha && a.freeze(), this.qd = a, this.pa(), this.h( "fill", b, a ))
	} );
	v.defineProperty( X, {stroke: "stroke"}, function()
	{
		return this.Dc
	}, function( a )
	{
		var b = this.Dc;
		b !== a && (a instanceof ha && a.freeze(), this.Dc = a, this.pa(), this.h( "stroke", b, a ))
	} );
	v.defineProperty( X, {lb: "strokeWidth"}, function()
	{
		return this.Sh
	}, function( a )
	{
		var b = this.Sh;
		if( b !== a )if( 0 <= a )
		{
			this.Sh = a;
			this.P();
			var c = this.Y;
			null !== c && (c.xj = NaN);
			this.h( "strokeWidth", b, a )
		}
		else v.va( a, "value >= 0", X, "strokeWidth:value" )
	} );
	v.defineProperty( X, {FK: "strokeCap"}, function()
	{
		return this.yo
	}, function( a )
	{
		var b = this.yo;
		b !== a && ("string" !== typeof a || "butt" !== a && "round" !== a && "square" !== a ? v.va( a, '"butt", "round", or "square"', X, "strokeCap" ) : (this.yo = a, this.pa(), this.h( "strokeCap", b, a )))
	} );
	v.defineProperty( X, {HK: "strokeJoin"}, function()
	{
		return this.Ao
	}, function( a )
	{
		var b = this.Ao;
		b !== a && ("string" !== typeof a || "miter" !== a && "bevel" !== a && "round" !== a ? v.va( a, '"miter", "bevel", or "round"', X, "strokeJoin" ) : (this.Ao = a, this.pa(), this.h( "strokeJoin", b, a )))
	} );
	v.defineProperty( X, {IK: "strokeMiterLimit"}, function()
	{
		return this.tm
	}, function( a )
	{
		var b = this.tm;
		if( b !== a )if( 1 <= a )
		{
			this.tm = a;
			this.pa();
			var c = this.Y;
			null !== c && (c.xj = NaN);
			this.h( "strokeMiterLimit", b, a )
		}
		else v.va( a, "value >= 1", X, "strokeWidth:value" )
	} );
	v.defineProperty( X, {$E: "strokeDashArray"}, function()
	{
		return this.zo
	}, function( a )
	{
		var b = this.zo;
		if( b !== a )
		{
			null === a || Array.isArray( a ) || v.Gd( a, "Array", X, "strokeDashArray:value" );
			if( null !== a )
			{
				for( var c = a.length, d = 0, e = 0; e < c; e++ )
				{
					var f = a[e];
					"number" === typeof f && 0 <= f && isFinite( f ) || v.k( "strokeDashArray:value " + f + " at index " + e + " must be a positive number or zero." );
					d += f
				}
				if( 0 === d )
				{
					if( null === b )return;
					a = null
				}
			}
			this.zo = a;
			this.pa();
			this.h( "strokeDashArray", b, a )
		}
	} );
	v.defineProperty( X, {GK: "strokeDashOffset"}, function()
	{
		return this.ld
	}, function( a )
	{
		var b = this.ld;
		b !== a && 0 <= a && (this.ld = a, this.pa(), this.h( "strokeDashOffset", b, a ))
	} );
	v.defineProperty( X, {Ab: "figure"}, function()
	{
		return this.Ln
	}, function( a )
	{
		var b = this.Ln;
		if( b !== a )
		{
			var c = ko[a];
			"function" === typeof c ? c = a : (c = ko[a.toLowerCase()]) || v.k( "Unknown Shape.figure: " + a );
			b !== c && (a = this.Y, null !== a && (a.xj = NaN), this.Ln = c, this.Lh = !1, this.se(), this.h( "figure", b, c ))
		}
	} );
	v.defineProperty( X, {Kp: "toArrow"}, function()
	{
		return this.Eo
	}, function( a )
	{
		var b = this.Eo;
		!0 === a ? a = "Standard" : !1 === a && (a = "");
		if( b !== a )
		{
			var c = oo( a );
			null === c ? v.k( "Unknown Shape.toArrow: " + a ) : b !== c && (this.Eo = c, this.Lh = !1, this.se(), po( this ), this.h( "toArrow", b, c ))
		}
	} );
	v.defineProperty( X, {pz: "fromArrow"}, function()
	{
		return this.On
	}, function( a )
	{
		var b = this.On;
		!0 === a ? a = "Standard" : !1 === a && (a = "");
		if( b !== a )
		{
			var c = oo( a );
			null === c ? v.k( "Unknown Shape.fromArrow: " + a ) : b !== c && (this.On = c, this.Lh = !1, this.se(), po( this ), this.h( "fromArrow", b, c ))
		}
	} );
	function po( a )
	{
		var b = a.g;
		null !== b && b.la.ib || (a.Ut = qo, "None" !== a.Eo ? (a.we = -1, a.Sj = rc) : "None" !== a.On && (a.we = 0, a.Sj = new L( 1 - rc.x, rc.y )))
	}

	v.defineProperty( X, {B: "spot1"}, function()
	{
		return this.Ph
	}, function( a )
	{
		v.A( a, L, X, "spot1" );
		var b = this.Ph;
		b.K( a ) || (this.Ph = a = a.R(), this.P(), this.h( "spot1", b, a ))
	} );
	v.defineProperty( X, {C: "spot2"}, function()
	{
		return this.Qh
	}, function( a )
	{
		v.A( a, L, X, "spot2" );
		var b = this.Qh;
		b.K( a ) || (this.Qh = a = a.R(), this.P(), this.h( "spot2", b, a ))
	} );
	v.defineProperty( X, {Ac: "parameter1"}, function()
	{
		return this.Hr
	}, function( a )
	{
		var b = this.Hr;
		b !== a && (this.Hr = a, this.se(), this.h( "parameter1", b, a ))
	} );
	v.defineProperty( X, {Lt: "parameter2"}, function()
	{
		return this.Ir
	}, function( a )
	{
		var b = this.Ir;
		b !== a && (this.Ir = a, this.se(), this.h( "parameter2", b, a ))
	} );
	v.u( X, {Ha: "naturalBounds"}, function()
	{
		if( null !== this.Ra )return this.Qc.assign( this.Ra.mb ), this.Qc;
		var a = this.ya;
		return new B( 0, 0, a.width, a.height )
	} );
	v.defineProperty( X, {Uw: "pathPattern"}, function()
	{
		return this.Kr
	}, function( a )
	{
		var b = this.Kr;
		b !== a && (this.Kr = a, this.pa(), this.h( "pathPattern", b, a ))
	} );
	v.defineProperty( X, {wK: "pathObject"}, function()
	{
		return this.Uw
	}, function( a )
	{
		this.Uw = a
	} );
	v.defineProperty( X, {rz: "geometryStretch"}, function()
	{
		return this.Iq
	}, function( a )
	{
		var b = this.Iq;
		b !== a && (v.pb( a, G, X, "geometryStretch" ), this.Iq = a, this.h( "geometryStretch", b, a ))
	} );
	v.defineProperty( X, {interval: "interval"}, function()
	{
		return this.Nq
	}, function( a )
	{
		var b = this.Nq;
		a = Math.floor( a );
		b !== a && 0 <= a && (this.Nq = a, null !== this.g && Zk( this.g ), this.P(), this.h( "interval", b, a ))
	} );
	X.makeGeometry = function( a, b, c )
	{
		var d = a.ya, e = d.width, d = d.height;
		void 0 !== b && !isNaN( b ) && isFinite( b ) && (e = b);
		void 0 !== c && !isNaN( c ) && isFinite( c ) && (d = c);
		isFinite( e ) || (e = 100);
		isFinite( d ) || (d = 100);
		b = null;
		"None" !== a.Kp ? b = Gd[a.Kp] : "None" !== a.pz ? b = Gd[a.pz] : (c = ko[a.Ab], "string" === typeof c && (c = ko[c]), void 0 === c && v.k( "Unknown Shape.figure: " + a.Ab ), b = c( a, e, d ), b.Un = e, b.Sn = d);
		null === b && (c = ko.Rectangle, "function" === typeof c && (b = c( a, e, d )));
		return b
	};
	X.getFigureGenerators = function()
	{
		var a = new na( "string", "function" ), b;
		for( b in ko )if( b !== b.toLowerCase() )
		{
			var c = ko[b];
			"function" === typeof c && a.add( b, c )
		}
		a.freeze();
		return a
	};
	X.defineFigureGenerator = function( a, b )
	{
		v.j( a, "string", X, "defineFigureGenerator:name" );
		"string" === typeof b ? "" !== b && ko[b] || v.k( "Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: " + b ) : v.j( b, "function", X, "defineFigureGenerator:func" );
		var c = a.toLowerCase();
		"" !== a && "none" !== c && a !== c || v.k( "Shape.defineFigureGenerator name must not be empty or None or all-lower-case: " + a );
		ko[a] = b;
		ko[c] = a
	};
	X.getArrowheadGeometries = function()
	{
		var a = new na( "string", re ), b;
		for( b in Gd )if( b !== b.toLowerCase() )
		{
			var c = Gd[b];
			c instanceof re && a.add( b, c )
		}
		a.freeze();
		return a
	};
	X.defineArrowheadGeometry = function( a, b )
	{
		v.j( a, "string", X, "defineArrowheadGeometry:name" );
		var c = null;
		"string" === typeof b ? (v.j( b, "string", X, "defineArrowheadGeometry:pathstr" ), c = bf( b, !1 )) : (v.A( b, re, X, "defineArrowheadGeometry:pathstr" ), c = b);
		var d = a.toLowerCase();
		"" !== a && "none" !== d && a !== d || v.k( "Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: " + a );
		Gd[a] = c;
		Gd[d] = a
	};
	function $g()
	{
		G.call( this );
		this.me = "";
		this.Dc = "black";
		this.Ah = "13px sans-serif";
		this.xd = "start";
		this.Sq = !0;
		this.Ul = this.Vl = !1;
		this.Rk = ro;
		this.wm = so;
		this.ov = this.Ee = 0;
		this.Nn = this.wy = this.xy = null;
		this.Jk = new to;
		this.Cq = !1;
		this.nf = this.Tk = this.zs = null;
		this.Jj = this.Ij = 0;
		this.zi = Infinity;
		this.jv = 0
	}

	v.Ia( $g, G );
	v.ea( "TextBlock", $g );
	var uo = new ta, vo = 0, wo = new ta, xo = 0, yo = "...", zo = "", Ao = (new Lc( null )).cl;
	$g.getEllipsis = function()
	{
		return yo
	};
	$g.setEllipsis = function( a )
	{
		yo = a;
		wo = new ta;
		xo = 0
	};
	$g.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.me = this.me;
		a.Dc = this.Dc;
		a.Ah = this.Ah;
		a.xd = this.xd;
		a.Sq = this.Sq;
		a.Vl = this.Vl;
		a.Ul = this.Ul;
		a.Rk = this.Rk;
		a.wm = this.wm;
		a.Ee = this.Ee;
		a.ov = this.ov;
		a.xy = this.xy;
		a.wy = this.wy;
		a.Nn = this.Nn;
		a.Jk.Ys( this.Jk );
		a.Cq = this.Cq;
		a.zs = this.zs;
		a.Tk = this.Tk;
		a.nf = this.nf;
		a.Ij = this.Ij;
		a.Jj = this.Jj;
		a.zi = this.zi;
		a.jv = this.jv
	};
	$g.prototype.toString = function()
	{
		return 22 < this.me.length ? 'TextBlock("' + this.me.substring( 0, 20 ) + '"...)' : 'TextBlock("' + this.me + '")'
	};
	var Bo;
	$g.None = Bo = v.p( $g, "None", 0 );
	var Co;
	$g.WrapFit = Co = v.p( $g, "WrapFit", 1 );
	var so;
	$g.WrapDesiredSize = so = v.p( $g, "WrapDesiredSize", 2 );
	var ro;
	$g.OverflowClip = ro = v.p( $g, "OverflowClip", 0 );
	var Do;
	$g.OverflowEllipsis = Do = v.p( $g, "OverflowEllipsis", 1 );
	$g.prototype.P = function()
	{
		G.prototype.P.call( this );
		this.wy = this.xy = null
	};
	v.defineProperty( $g, {font: "font"}, function()
	{
		return this.Ah
	}, function( a )
	{
		var b = this.Ah;
		b !== a && (this.Ah = a, this.Nn = null, this.P(), this.h( "font", b, a ))
	} );
	$g.isValidFont = function( a )
	{
		var b = Ao.font;
		if( a === b || "10px sans-serif" === a )return!0;
		Ao.font = "10px sans-serif";
		var c;
		Ao.font = a;
		var d = Ao.font;
		if( "10px sans-serif" !== d )return Ao.font = b, !0;
		Ao.font = "19px serif";
		c = Ao.font;
		Ao.font = a;
		d = Ao.font;
		Ao.font = b;
		return d !== c
	};
	v.defineProperty( $g, {text: "text"}, function()
	{
		return this.me
	}, function( a )
	{
		var b = this.me;
		a = null !== a && void 0 !== a ? a.toString() : "";
		b !== a && (this.me = a, this.P(), this.h( "text", b, a ))
	} );
	v.defineProperty( $g, {textAlign: "textAlign"}, function()
	{
		return this.xd
	}, function( a )
	{
		var b = this.xd;
		b !== a && ("start" === a || "end" === a || "left" === a || "right" === a || "center" === a ? (this.xd = a, this.pa(), this.h( "textAlign", b, a )) : v.va( a, '"start", "end", "left", "right", or "center"', $g, "textAlign" ))
	} );
	v.u( $g, {Ha: "naturalBounds"}, function()
	{
		if( !this.Qc.G() )
		{
			var a = Eo( this, this.me, this.Jk, 999999 ).width, b = Fo( this, a, this.Jk ), c = this.ya;
			isNaN( c.width ) || (a = c.width);
			isNaN( c.height ) || (b = c.height);
			Xa( this.Qc, a, b )
		}
		return this.Qc
	} );
	v.defineProperty( $g, {Jw: "isMultiline"}, function()
	{
		return this.Sq
	}, function( a )
	{
		var b = this.Sq;
		b !== a && (this.Sq = a, this.P(), this.h( "isMultiline", b, a ))
	} );
	v.defineProperty( $g, {UJ: "isUnderline"}, function()
	{
		return this.Vl
	}, function( a )
	{
		var b = this.Vl;
		b !== a && (this.Vl = a, this.pa(), this.h( "isUnderline", b, a ))
	} );
	v.defineProperty( $g, {TJ: "isStrikethrough"}, function()
	{
		return this.Ul
	}, function( a )
	{
		var b = this.Ul;
		b !== a && (this.Ul = a, this.pa(), this.h( "isStrikethrough", b, a ))
	} );
	v.defineProperty( $g, {rF: "wrap"}, function()
	{
		return this.wm
	}, function( a )
	{
		var b = this.wm;
		b !== a && (this.wm = a, this.P(), this.h( "wrap", b, a ))
	} );
	v.defineProperty( $g, {overflow: "overflow"}, function()
	{
		return this.Rk
	}, function( a )
	{
		var b = this.Rk;
		b !== a && (this.Rk = a, this.P(), this.h( "overflow", b, a ))
	} );
	v.defineProperty( $g, {stroke: "stroke"}, function()
	{
		return this.Dc
	}, function( a )
	{
		var b = this.Dc;
		b !== a && (a instanceof ha && a.freeze(), this.Dc = a, this.pa(), this.h( "stroke", b, a ))
	} );
	v.u( $g, {BH: "lineCount"}, function()
	{
		return this.Ee
	} );
	v.defineProperty( $g, {lz: "editable"}, function()
	{
		return this.Cq
	}, function( a )
	{
		var b = this.Cq;
		b !== a && (this.Cq = a, this.h( "editable", b, a ))
	} );
	v.defineProperty( $g, {aF: "textEditor"}, function()
	{
		return this.zs
	}, function( a )
	{
		var b = this.zs;
		b !== a && (a instanceof HTMLElement || v.k( "textEditor must be an HTMLElement, not: " + a ), this.zs = a, this.h( "textEditor", b, a ))
	} );
	v.defineProperty( $g, {mz: "errorFunction"}, function()
	{
		return this.nf
	}, function( a )
	{
		var b = this.nf;
		b !== a && (null !== a && v.j( a, "function", $g, "errorFunction" ), this.nf = a, this.h( "errorFunction", b, a ))
	} );
	$g.prototype.Wj = function( a, b )
	{
		if( null !== this.Dc && 0 !== this.me.length && null !== this.Ah )
		{
			var c = this.Ha.width, d = Go( this );
			a.textAlign = this.xd;
			Mm( this, a, this.Dc, !0, !1 );
			(this.Vl || this.Ul) && Mm( this, a, this.Dc, !1, !1 );
			var e = this.Jk, f = 0, h = !1, k = v.Mb( 0, 0 );
			this.Zg.ub( k );
			var l = v.Mb( 0, d );
			this.Zg.ub( l );
			var m = k.sf( l );
			v.v( k );
			v.v( l );
			k = b.scale;
			8 > m * k * k && (h = !0);
			b.lf !== a && (h = !1);
			!1 === b.$j( "textGreeking" ) && (h = !1);
			for( var m = this.Ij, k = this.Jj, l = this.Ee, n = 0; n < l; n++ )
			{
				var p = e.kf[n], q = e.Ce[n];
				p > c && (p = c);
				var f = f + m, r = q, q = a, s = f, t = c,
					u = d, w = 0;
				h ? ("start" === this.xd || "left" === this.xd ? w = 0 : "end" === this.xd || "right" === this.xd ? w = t - p : "center" === this.xd ? w = (t - p) / 2 : v.k( "textAlign must be start, end, left, right, or center: " + this.xd ), q.fillRect( 0 + w, s + .25 * u, p, 1 )) : ("start" === this.xd || "left" === this.xd ? w = 0 : "end" === this.xd || "right" === this.xd ? w = t : "center" === this.xd ? w = t / 2 : v.k( "textAlign must be start, end, left, right, or center: " + this.xd ), q.fillText( r, 0 + w, s + u - .25 * u ), r = u / 20 | 0, 0 === r && (r = 1), "end" === this.xd || "right" === this.xd ? w -= p : "center" === this.xd &&
					(w -= p / 2), this.Vl && (q.beginPath(), q.lineWidth = r, q.moveTo( 0 + w, s + u - .2 * u ), q.lineTo( 0 + w + p, s + u - .2 * u ), q.stroke()), this.Ul && (q.beginPath(), q.lineWidth = r, s = s + u - u / 2.2 | 0, 0 !== r % 2 && (s += .5), q.moveTo( 0 + w, s ), q.lineTo( 0 + w + p, s ), q.stroke()));
				f += d + k
			}
		}
	};
	$g.prototype.mp = function( a, b, c, d )
	{
		this.jv = a;
		var e = this.Jk;
		e.reset();
		var f = 0, h = 0;
		if( isNaN( this.ya.width ) )
		{
			f = this.me.replace( /\r\n/g, "\n" ).replace( /\r/g, "\n" );
			if( 0 === f.length )f = 0;
			else if( this.Jw )
			{
				for( var k = h = 0, l = !1; !l; )
				{
					var m = f.indexOf( "\n", k );
					-1 === m && (m = f.length, l = !0);
					k = Ho( f.substr( k, m - k ).replace( /^\s+|\s+$/g, "" ), this.Ah );
					k > h && (h = k);
					k = m + 1
				}
				f = h
			}
			else h = f.indexOf( "\n", 0 ), 0 <= h && (f = f.substr( 0, h )), f = k = Ho( f, this.Ah );
			f = Math.min( f, a / this.scale );
			f = Math.max( 8, f )
		}
		else f = this.ya.width;
		null !== this.U && (f = Math.min( f,
			this.U.yf.width ), f = Math.max( f, this.U.jh.width ));
		h = Fo( this, f, e );
		m = h = isNaN( this.ya.height ) ? Math.min( h, b / this.scale ) : this.ya.height;
		if( 0 !== e.Se && 1 !== e.Ce.length && this.Rk === Do && (b = this.Ah, l = this.Rk === Do ? Io( b ) : 0, k = this.Ij + this.Jj, k = Math.max( 0, Go( this ) + k ), m = Math.min( this.JH - 1, Math.max( Math.floor( m / k + .01 ) - 1, 0 ) ), !(m + 1 >= e.Ce.length)) )
		{
			k = e.Ce[m];
			for( a = Math.max( 1, a - l ); Ho( k, b ) > a && 1 < k.length; )k = k.substr( 0, k.length - 1 );
			k += yo;
			a = Ho( k, b );
			e.Ce[m] = k;
			e.Ce = e.Ce.slice( 0, m + 1 );
			e.kf[m] = a;
			e.kf = e.kf.slice( 0, m + 1 );
			e.Mi = e.Ce.length;
			e.Se = Math.max( e.Se, a );
			this.Ee = e.Mi
		}
		if( this.rF === Co || isNaN( this.ya.width ) )f = e.Se, isNaN( this.ya.width ) && (f = Math.max( 8, f ));
		f = Math.max( c, f );
		h = Math.max( d, h );
		Xa( this.Qc, f, h );
		Bm( this, 0, 0, f, h )
	};
	$g.prototype.Ni = function( a, b, c, d )
	{
		Fm( this, a, b, c, d )
	};
	function Eo( a, b, c, d )
	{
		b = b.replace( /^\s+|\s+$/g, "" );
		var e = 0, f = 0, h = 0, k = a.Ah, f = a.Ij + a.Jj, l = Math.max( 0, Go( a ) + f ), h = a.Rk === Do ? Io( k ) : 0;
		if( a.Ee >= a.zi )return new ia( 0, l );
		if( a.wm === Bo )
		{
			c.Mi = 1;
			f = Ho( b, k );
			if( 0 === h || f <= d )return c.Se = f, c.kf.push( c.Se ), c.Ce.push( b ), new ia( f, l );
			var m = Jo( b );
			b = b.substr( m.length );
			for( var n = Jo( b ), f = Ho( m + n, k ); 0 < n.length && f <= d; )m += n, b = b.substr( n.length ), n = Jo( b ), f = Ho( (m + n).replace( /^\s+|\s+$/g, "" ), k );
			m += n.replace( /^\s+|\s+$/g, "" );
			for( d = Math.max( 1, d - h ); Ho( m, k ) > d && 1 < m.length; )m = m.substr( 0,
					m.length - 1 );
			m += yo;
			h = Ho( m, k );
			c.kf.push( h );
			c.Se = h;
			c.Ce.push( m );
			return new ia( h, l )
		}
		var p = 0;
		0 === b.length && (p = 1, c.kf.push( 0 ), c.Ce.push( b ));
		for( ; 0 < b.length; )
		{
			m = Jo( b );
			for( b = b.substr( m.length ); Ho( m, k ) > d; )
			{
				n = 1;
				f = Ho( m.substr( 0, n ), k );
				for( h = 0; f <= d; )n++, h = f, f = Ho( m.substr( 0, n ), k );
				1 === n ? (c.kf[a.Ee + p] = f, e = Math.max( e, f )) : (c.kf[a.Ee + p] = h, e = Math.max( e, h ));
				n--;
				1 > n && (n = 1);
				c.Ce[a.Ee + p] = m.substr( 0, n );
				p++;
				m = m.substr( n );
				if( a.Ee + p > a.zi )break
			}
			n = Jo( b );
			for( f = Ho( m + n, k ); 0 < n.length && f <= d; )m += n, b = b.substr( n.length ), n = Jo( b ), f = Ho( (m +
				n).replace( /^\s+|\s+$/g, "" ), k );
			m = m.replace( /^\s+|\s+$/g, "" );
			if( "" !== m && (0 === n.length ? (c.kf.push( f ), e = Math.max( e, f )) : (h = Ho( m, k ), c.kf.push( h ), e = Math.max( e, h )), c.Ce.push( m ), p++, a.Ee + p > a.zi) )break
		}
		c.Mi = Math.min( a.zi, p );
		c.Se = Math.max( c.Se, e );
		return new ia( c.Se, l * c.Mi )
	}

	function Jo( a )
	{
		for( var b = a.length, c = 0; c < b && " " !== a.charAt( c ); )c++;
		for( ; c < b && " " === a.charAt( c ); )c++;
		return c >= b ? a : a.substr( 0, c )
	}

	function Ho( a, b )
	{
		zo !== b && (zo = Ao.font = b);
		return Ao.measureText( a ).width
	}

	function Go( a )
	{
		if( null !== a.Nn )return a.Nn;
		var b = a.Ah;
		zo !== b && (zo = Ao.font = b);
		var c = 0;
		void 0 !== uo[b] && 5E3 > vo ? c = uo[b] : (c = 1.3 * Ao.measureText( "M" ).width, uo[b] = c, vo++);
		return a.Nn = c
	}

	function Io( a )
	{
		zo !== a && (zo = Ao.font = a);
		var b = 0;
		void 0 !== wo[a] && 5E3 > xo ? b = wo[a] : (b = Ao.measureText( yo ).width, wo[a] = b, xo++);
		return b
	}

	function Fo( a, b, c )
	{
		var d = a.me.replace( /\r\n/g, "\n" ).replace( /\r/g, "\n" ), e = a.Ij + a.Jj, e = Math.max( 0, Go( a ) + e );
		if( 0 === d.length )return c.Se = 0, a.Ee = 1, e;
		if( !a.Jw )
		{
			var f = d.indexOf( "\n", 0 );
			0 <= f && (d = d.substr( 0, f ))
		}
		for( var f = 0, h = a.Ee = 0, k = -1, l = !1; !l; )k = d.indexOf( "\n", h ), -1 === k && (k = d.length, l = !0), h <= k && (h = d.substr( h, k - h ), a.wm !== Bo ? (c.Mi = 0, h = Eo( a, h, c, b ), f += h.height, a.Ee += c.Mi) : (Eo( a, h, c, b ), f += e, a.Ee++), a.Ee === a.zi && (l = !0)), h = k + 1;
		return a.ov = f
	}

	v.defineProperty( $g, {sA: "textValidation"}, function()
	{
		return this.Tk
	}, function( a )
	{
		var b = this.Tk;
		b !== a && (null !== a && v.j( a, "function", $g, "textValidation" ), this.Tk = a, this.h( "textValidation", b, a ))
	} );
	v.defineProperty( $g, {CK: "spacingAbove"}, function()
	{
		return this.Ij
	}, function( a )
	{
		var b = this.Ij;
		b !== a && (this.Ij = a, this.h( "spacingAbove", b, a ))
	} );
	v.defineProperty( $g, {DK: "spacingBelow"}, function()
	{
		return this.Jj
	}, function( a )
	{
		var b = this.Jj;
		b !== a && (this.Jj = a, this.h( "spacingBelow", b, a ))
	} );
	v.defineProperty( $g, {JH: "maxLines"}, function()
	{
		return this.zi
	}, function( a )
	{
		var b = this.zi;
		b !== a && (a = Math.floor( a ), 0 >= a && v.va( a, "> 0", $g, "maxLines" ), this.zi = a, this.h( "maxLines", b, a ), this.P())
	} );
	v.u( $g, {fK: "metrics"}, function()
	{
		return this.Jk
	} );
	function to()
	{
		this.Se = this.Mi = 0;
		this.kf = [];
		this.Ce = []
	}

	to.prototype.reset = function()
	{
		this.Se = this.Mi = 0;
		this.kf = [];
		this.Ce = []
	};
	to.prototype.Ys = function( a )
	{
		this.Mi = a.Mi;
		this.Se = a.Se;
		this.kf = v.dl( a.kf );
		this.Ce = v.dl( a.Ce )
	};
	v.u( to, {rJ: "arrSize"}, function()
	{
		return this.kf
	} );
	v.u( to, {sJ: "arrText"}, function()
	{
		return this.Ce
	} );
	v.u( to, {eK: "maxLineWidth"}, function()
	{
		return this.Se
	} );
	function kk()
	{
		G.call( this );
		this.Qe = null;
		this.ss = "";
		this.Hj = Cd;
		this.Pn = Fe;
		this.Bo = this.Kj = this.nf = null;
		this.ny = !1;
		this.Su = !0;
		this.so = null
	}

	v.Ia( kk, G );
	v.ea( "Picture", kk );
	kk.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.element = this.Qe;
		a.ss = this.ss;
		a.Hj = this.Hj.R();
		a.Pn = this.Pn;
		a.nf = this.nf;
		a.Kj = this.Kj;
		a.Su = this.Su;
		a.so = this.so
	};
	var Ko = new ta, Lo = 0, ek = [];

	function Mo()
	{
		var a = ek;
		if( 0 === a.length )for( var b = window.document.getElementsByTagName( "canvas" ), c = b.length, d = 0; d < c; d++ )
		{
			var e = b[d];
			e.parentElement && e.parentElement.S && a.push( e.parentElement.S )
		}
		return a
	}

	var No;
	kk.clearCache = No = function( a )
	{
		void 0 === a && (a = "");
		v.j( a, "string", kk, "clearCache:url" );
		"" !== a ? Ko[a] && (delete Ko[a], Lo--) : (Ko = new ta, Lo = 0)
	};
	kk.prototype.toString = function()
	{
		return"Picture(" + this.source + ")#" + v.md( this )
	};
	v.defineProperty( kk, {element: "element"}, function()
	{
		return this.Qe
	}, function( a )
	{
		var b = this.Qe;
		b !== a && (null === a || a instanceof HTMLImageElement || a instanceof HTMLVideoElement || a instanceof HTMLCanvasElement || v.k( "Picture.element must be an instance of Image, Canvas, or Video, not: " + a ), this.ny = a instanceof HTMLCanvasElement, this.Qe = a, null !== a && (!0 === a.complete || void 0 === a.complete ? (a.Xu instanceof Event && null !== this.nf && this.nf( this, a.Xu ), !0 === a.py && null !== this.Kj && this.Kj( this, null ), a.py = !0, this.ya.G() ||
			(Qk( this, !1 ), this.P())) : a.DB || (a.addEventListener( "load", function( b )
		{
			Oo( a, b )
		} ), a.addEventListener( "error", function( b )
		{
			Po( a, b )
		} ), a.DB = !0)), this.h( "element", b, a ), this.pa())
	} );
	v.defineProperty( kk, {source: "source"}, function()
	{
		return this.ss
	}, function( a )
	{
		var b = this.ss;
		if( b !== a )
		{
			v.j( a, "string", kk, "source" );
			this.ss = a;
			var c = Ko, d = this.g;
			if( void 0 !== c[a] )var e = c[a].Ko[0].source;
			else
			{
				30 < Lo && (No(), c = Ko);
				e = v.createElement( "img" );
				e.addEventListener( "load", function( a )
				{
					Oo( e, a )
				} );
				e.addEventListener( "error", function( a )
				{
					Po( e, a )
				} );
				e.DB = !0;
				e.src = a;
				var f = this.so;
				null !== f && (e.crossOrigin = f( this ));
				c[a] = new Qo( e );
				Lo++
			}
			null !== d && Ll( d, this );
			this.element = e;
			null !== d && Kl( d, this );
			this.P();
			this.pa();
			this.h( "source", b, a )
		}
	} );
	function Oo( a, b )
	{
		a.py = !0;
		a.Xu = !1;
		for( var c = null, d = Mo(), e = d.length, f = 0; f < e; f++ )
		{
			var h = d[f], k = h.mo.ja( a.src );
			if( null !== k )
			{
				e = k.length;
				for( f = 0; f < e; f++ )c = k[f], c.ya.G() || (h.pC.add( c ), h.ve()), null !== c.Kj && c.Kj( c, b );
				h.pa()
			}
		}
	}

	function Po( a, b )
	{
		a.Xu = b;
		for( var c = null, d = Mo(), e = d.length, f = 0; f < e; f++ )if( c = d[f].mo.ja( a.src ), null !== c )
		{
			for( var e = c.length, h = v.jb(), f = 0; f < e; f++ )h.push( c[f] );
			for( f = 0; f < e; f++ )c = h[f], null !== c.nf && c.nf( c, b );
			v.sa( h )
		}
	}

	v.defineProperty( kk, {BK: "sourceCrossOrigin"}, function()
	{
		return this.so
	}, function( a )
	{
		if( this.so !== a && (null !== a && v.j( a, "function", kk, "sourceCrossOrigin" ), this.so = a, null !== this.element) )
		{
			var b = this.element.src;
			null === a && "string" === typeof b ? this.element.crossOrigin = null : null !== a && (this.element.crossOrigin = a( this ))
		}
	} );
	v.defineProperty( kk, {aj: "sourceRect"}, function()
	{
		return this.Hj
	}, function( a )
	{
		var b = this.Hj;
		b.K( a ) || (v.A( a, B, kk, "sourceRect" ), this.Hj = a = a.R(), this.pa(), this.h( "sourceRect", b, a ))
	} );
	v.defineProperty( kk, {eH: "imageStretch"}, function()
	{
		return this.Pn
	}, function( a )
	{
		var b = this.Pn;
		b !== a && (v.pb( a, G, kk, "imageStretch" ), this.Pn = a, this.pa(), this.h( "imageStretch", b, a ))
	} );
	v.defineProperty( kk, {mz: "errorFunction"}, function()
	{
		return this.nf
	}, function( a )
	{
		var b = this.nf;
		b !== a && (null !== a && v.j( a, "function", kk, "errorFunction" ), this.nf = a, this.h( "errorFunction", b, a ))
	} );
	v.defineProperty( kk, {LK: "successFunction"}, function()
	{
		return this.Kj
	}, function( a )
	{
		var b = this.Kj;
		b !== a && (null !== a && v.j( a, "function", kk, "successFunction" ), this.Kj = a, this.h( "successFunction", b, a ))
	} );
	kk.prototype.Wj = function( a, b )
	{
		var c = this.Qe;
		if( null !== c )
		{
			var d = c.src;
			null !== d && "" !== d || v.k( 'Element has no source ("src") attribute: ' + c );
			if( !(c.Xu instanceof Event) && !0 === c.py )
			{
				var d = this.Ha, e = 0, f = 0, h = this.ny, k = h ? +c.width : c.naturalWidth, h = h ? +c.height : c.naturalHeight;
				void 0 === k && c.videoWidth && (k = c.videoWidth);
				void 0 === h && c.videoHeight && (h = c.videoHeight);
				k = k || d.width;
				h = h || d.height;
				if( 0 !== k && 0 !== h )
				{
					var l = k, m = h;
					this.aj.G() && (e = this.Hj.x, f = this.Hj.y, k = this.Hj.width, h = this.Hj.height);
					var n = k, p = h, q = this.Pn;
					switch( q )
					{
					case Ni:
						if( this.aj.G() )break;
						e += Math.max( (n - d.width) / 2, 0 );
						f += Math.max( (p - d.height) / 2, 0 );
						k = Math.min( d.width, n );
						h = Math.min( d.height, p );
						break;
					case Fe:
						n = d.width;
						p = d.height;
						break;
					case Pi:
					case Qi:
						var r = 0;
						q === Pi ? (r = Math.min( d.height / p, d.width / n ), n *= r, p *= r) : q === Qi && (r = Math.max( d.height / p, d.width / n ), n *= r, p *= r, e += (n - d.width) / 2 / n * k, f += (p - d.height) / 2 / p * h, k *= 1 / (n / d.width), h *= 1 / (p / d.height), n = d.width, p = d.height)
					}
					var q = this.Ti() * b.scale, s = k * h / (n * q * p * q), r = Ko[this.source], q = null;
					if( void 0 !== r && 16 < s )
					{
						2 > r.Ko.length &&
						(Ro( r, 4, l, m ), Ro( r, 16, l, m ));
						for( var l = r.Ko, m = l.length, q = l[0], t = 0; t < m; t++ )if( l[t].wp * l[t].wp < s )q = l[t];
						else break
					}
					if( !b.In )
					{
						if( null === this.Bo )if( null === this.Qe )this.Bo = !1;
						else
						{
							l = (new Lc( null )).cl;
							l.drawImage( this.Qe, 0, 0 );
							try
							{
								l.getImageData( 0, 0, 1, 1 ).data[3] && (this.Bo = !1), this.Bo = !1
							} catch( u )
							{
								this.Bo = !0
							}
						}
						if( this.Bo )return
					}
					if( b.$j( "pictureRatioOptimization" ) && !b.oy && void 0 !== r && null !== q && 1 !== q.wp )
					{
						a.save();
						r = q.wp;
						try
						{
							a.drawImage( q.source, e / r, f / r, Math.min( q.source.width, k / r ), Math.min( q.source.height, h / r ),
								Math.max( (d.width - n) / 2, 0 ), Math.max( (d.height - p) / 2, 0 ), Math.min( d.width, n ), Math.min( d.height, p ) )
						} catch( w )
						{
							this.Su = !1
						}
						a.restore()
					}
					else try
					{
						a.drawImage( c, e, f, k, h, Math.max( (d.width - n) / 2, 0 ), Math.max( (d.height - p) / 2, 0 ), Math.min( d.width, n ), Math.min( d.height, p ) )
					} catch( x )
					{
						this.Su = !1
					}
				}
			}
		}
	};
	v.u( kk, {Ha: "naturalBounds"}, function()
	{
		return this.Qc
	} );
	kk.prototype.mp = function( a, b, c, d )
	{
		var e = this.ya, f = Em( this, !0 ), h = this.Qe, k = this.ny;
		if( k || !this.vy && h && h.complete )this.vy = !0;
		null === h && (isFinite( a ) || (a = 0), isFinite( b ) || (b = 0));
		isFinite( e.width ) || f === Fe || f === um ? (isFinite( a ) || (a = this.aj.G() ? this.aj.width : k ? +h.width : h.naturalWidth), c = 0) : null !== h && !1 !== this.vy && (a = this.aj.G() ? this.aj.width : k ? +h.width : h.naturalWidth);
		isFinite( e.height ) || f === Fe || f === tm ? (isFinite( b ) || (b = this.aj.G() ? this.aj.height : k ? +h.height : h.naturalHeight), d = 0) : null !== h && !1 !== this.vy && (b =
			this.aj.G() ? this.aj.height : k ? +h.height : h.naturalHeight);
		isFinite( e.width ) && (a = e.width);
		isFinite( e.height ) && (b = e.height);
		e = this.yf;
		f = this.jh;
		c = Math.max( c, f.width );
		d = Math.max( d, f.height );
		a = Math.min( e.width, a );
		b = Math.min( e.height, b );
		a = Math.max( c, a );
		b = Math.max( d, b );
		null === h || h.complete || (isFinite( a ) || (a = 0), isFinite( b ) || (b = 0));
		Xa( this.Qc, a, b );
		Bm( this, 0, 0, a, b )
	};
	kk.prototype.Ni = function( a, b, c, d )
	{
		Fm( this, a, b, c, d )
	};
	function Qo( a )
	{
		this.Ko = [new So( a, 1 )]
	}

	function Ro( a, b, c, d )
	{
		var e = new Lc( null ), f = e.cl, h = 1 / b;
		e.width = c / b;
		e.height = d / b;
		b = new So( e.zd, b );
		c = a.Ko[a.Ko.length - 1];
		f.setTransform( h * c.wp, 0, 0, h * c.wp, 0, 0 );
		f.drawImage( c.source, 0, 0 );
		a.Ko.push( b )
	}

	function So( a, b )
	{
		this.source = a;
		this.wp = b
	}

	function ma()
	{
		this.o = new re;
		this.Rb = null
	}

	g = ma.prototype;
	g.reset = function()
	{
		this.o = new re;
		this.Rb = null
	};
	function N( a, b, c, d, e, f )
	{
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		void 0 !== e && !0 === e ? (null === a.Rb && v.k( "Need to call beginFigure first" ), d = new wf( hf ), d.I = b, d.J = c, a.Rb.sb.add( d )) : (a.Rb = new Ee, a.Rb.za = b, a.Rb.wa = c, a.Rb.tt = d, a.o.Ub.add( a.Rb ));
		void 0 !== f && (a.Rb.Vn = f)
	}

	function P( a )
	{
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		null === a.Rb && v.k( "Need to call beginFigure first" );
		var b = a.Rb.sb.length;
		0 < b && a.Rb.sb.da( b - 1 ).close()
	}

	function ef( a )
	{
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		null === a.Rb && v.k( "Need to call beginFigure first" );
		0 < a.Rb.sb.length && (a.Rb.tt = !0)
	}

	g.Ya = function( a )
	{
		null === this.o && v.k( "StreamGeometryContext has been closed" );
		null === this.Rb && v.k( "Need to call beginFigure first" );
		this.Rb.vl = a
	};
	g.moveTo = function( a, b, c )
	{
		void 0 === c && (c = !1);
		null === this.o && v.k( "StreamGeometryContext has been closed" );
		null === this.Rb && v.k( "Need to call beginFigure first" );
		var d = new wf( hf );
		d.I = a;
		d.J = b;
		c && d.close();
		this.Rb.sb.add( d )
	};
	g.lineTo = function( a, b, c )
	{
		void 0 === c && (c = !1);
		null === this.o && v.k( "StreamGeometryContext has been closed" );
		null === this.Rb && v.k( "Need to call beginFigure first" );
		var d = new wf( $e );
		d.I = a;
		d.J = b;
		c && d.close();
		this.Rb.sb.add( d )
	};
	function O( a, b, c, d, e, f, h, k )
	{
		void 0 === k && (k = !1);
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		null === a.Rb && v.k( "Need to call beginFigure first" );
		var l = new wf( jf );
		l.qc = b;
		l.Kc = c;
		l.lh = d;
		l.mh = e;
		l.I = f;
		l.J = h;
		k && l.close();
		a.Rb.sb.add( l )
	}

	function cf( a, b, c, d, e )
	{
		var f;
		void 0 === f && (f = !1);
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		null === a.Rb && v.k( "Need to call beginFigure first" );
		var h = new wf( kf );
		h.qc = b;
		h.Kc = c;
		h.I = d;
		h.J = e;
		f && h.close();
		a.Rb.sb.add( h )
	}

	g.arcTo = function( a, b, c, d, e, f, h )
	{
		void 0 === f && (f = 0);
		void 0 === h && (h = !1);
		null === this.o && v.k( "StreamGeometryContext has been closed" );
		null === this.Rb && v.k( "Need to call beginFigure first" );
		var k = new wf( lf );
		k.ye = a;
		k.Bf = b;
		k.na = c;
		k.ua = d;
		k.radiusX = e;
		k.radiusY = 0 !== f ? f : e;
		h && k.close();
		this.Rb.sb.add( k )
	};
	function df( a, b, c, d, e, f, h, k )
	{
		var l;
		void 0 === l && (l = !1);
		null === a.o && v.k( "StreamGeometryContext has been closed" );
		null === a.Rb && v.k( "Need to call beginFigure first" );
		b = new wf( mf, h, k, b, c, d, e, f );
		l && b.close();
		a.Rb.sb.add( b )
	}

	function To( a )
	{
		a = Uo( a );
		var b = v.jb();
		b[0] = a[0];
		for( var c = 1, d = 1; d < a.length; )b[c] = a[d], b[c + 1] = a[d], b[c + 2] = a[d + 1], d += 2, c += 3;
		v.sa( a );
		return b
	}

	function Uo( a )
	{
		var b = Vo( a ), c = v.jb(), d = Math.floor( b.length / 2 ), e = b.length - 1;
		a = 0 === a % 2 ? 2 : 1;
		for( var f = 0; f < e; f++ )
		{
			var h = b[f], k = b[f + 1], l = b[(d + f - 1) % e], m = b[(d + f + a) % e];
			c[2 * f] = h;
			c[2 * f + 1] = $d( h.x, h.y, l.x, l.y, k.x, k.y, m.x, m.y, new y )
		}
		c[c.length] = c[0];
		v.sa( b );
		return c
	}

	function Vo( a )
	{
		for( var b = v.jb(), c = 1.5 * Math.PI, d = 0, e = 0; e < a; e++ )d = 2 * Math.PI / a * e + c, b[e] = new y( .5 + .5 * Math.cos( d ), .5 + .5 * Math.sin( d ) );
		b.push( b[0] );
		return b
	}

	var ko = {None: "Rectangle", Rectangle: function( a, b, c )
	{
		a = new re;
		a.type = He;
		a.za = 0;
		a.wa = 0;
		a.I = b;
		a.J = c;
		return a
	}, Square: function( a, b, c )
	{
		a = new re;
		a.Od = Pi;
		a.type = He;
		a.za = 0;
		a.wa = 0;
		a.I = Math.min( b, c );
		a.J = Math.min( b, c );
		return a
	}, Ellipse: function( a, b, c )
	{
		a = new re;
		a.type = Ie;
		a.za = 0;
		a.wa = 0;
		a.I = b;
		a.J = c;
		a.B = Dd;
		a.C = Ed;
		return a
	}, Circle: function( a, b, c )
	{
		a = new re;
		a.Od = Pi;
		a.type = Ie;
		a.za = 0;
		a.wa = 0;
		a.I = Math.min( b, c );
		a.J = Math.min( b, c );
		a.B = Dd;
		a.C = Ed;
		return a
	}, Connector: "Ellipse", TriangleRight: function( a, b, c )
	{
		a = new re;
		var d = new Ee,
			e = new wf;
		e.I = b;
		e.J = .5 * c;
		d.sb.add( e );
		b = new wf;
		b.I = 0;
		b.J = c;
		d.sb.add( b.close() );
		a.Ub.add( d );
		a.B = new L( 0, .25 );
		a.C = new L( .5, .75 );
		return a
	}, TriangleDown: function( a, b, c )
	{
		a = new re;
		var d = new Ee, e = new wf;
		e.I = b;
		e.J = 0;
		d.sb.add( e );
		e = new wf;
		e.I = .5 * b;
		e.J = c;
		d.sb.add( e.close() );
		a.Ub.add( d );
		a.B = new L( .25, 0 );
		a.C = new L( .75, .5 );
		return a
	}, TriangleLeft: function( a, b, c )
	{
		a = new re;
		var d = new Ee;
		d.za = b;
		d.wa = c;
		var e = new wf;
		e.I = 0;
		e.J = .5 * c;
		d.sb.add( e );
		c = new wf;
		c.I = b;
		c.J = 0;
		d.sb.add( c.close() );
		a.Ub.add( d );
		a.B = new L( .5, .25 );
		a.C = new L( 1,
			.75 );
		return a
	}, TriangleUp: function( a, b, c )
	{
		a = new re;
		var d = new Ee;
		d.za = b;
		d.wa = c;
		var e = new wf;
		e.I = 0;
		e.J = c;
		d.sb.add( e );
		c = new wf;
		c.I = .5 * b;
		c.J = 0;
		d.sb.add( c.close() );
		a.Ub.add( d );
		a.B = new L( .25, .5 );
		a.C = new L( .75, 1 );
		return a
	}, Line1: function( a, b, c )
	{
		a = new re;
		a.type = Ge;
		a.za = 0;
		a.wa = 0;
		a.I = b;
		a.J = c;
		return a
	}, Line2: function( a, b, c )
	{
		a = new re;
		a.type = Ge;
		a.za = b;
		a.wa = 0;
		a.I = 0;
		a.J = c;
		return a
	}, MinusLine: "LineH", LineH: function( a, b, c )
	{
		a = new re;
		a.type = Ge;
		a.za = 0;
		a.wa = c / 2;
		a.I = b;
		a.J = c / 2;
		return a
	}, LineV: function( a, b, c )
	{
		a = new re;
		a.type =
			Ge;
		a.za = b / 2;
		a.wa = 0;
		a.I = b / 2;
		a.J = c;
		return a
	}, BarH: "Rectangle", BarV: "Rectangle", Curve1: function( a, b, c )
	{
		a = v.s();
		N( a, 0, 0, !1 );
		O( a, Wc * b, 0, 1 * b, (1 - Wc) * c, b, c );
		b = a.o;
		v.q( a );
		return b
	}, Curve2: function( a, b, c )
	{
		a = v.s();
		N( a, 0, 0, !1 );
		O( a, 0, Wc * c, (1 - Wc) * b, c, b, c );
		b = a.o;
		v.q( a );
		return b
	}, Curve3: function( a, b, c )
	{
		a = v.s();
		N( a, 1 * b, 0, !1 );
		O( a, 1 * b, Wc * c, Wc * b, 1 * c, 0, 1 * c );
		b = a.o;
		v.q( a );
		return b
	}, Curve4: function( a, b, c )
	{
		a = v.s();
		N( a, 1 * b, 0, !1 );
		O( a, (1 - Wc) * b, 0, 0, (1 - Wc) * c, 0, 1 * c );
		b = a.o;
		v.q( a );
		return b
	}, Alternative: "Triangle", Merge: "Triangle",
		Triangle: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0 * c, !0 );
			a.lineTo( 0 * b, 1 * c );
			a.lineTo( 1 * b, 1 * c, !0 );
			b = a.o;
			b.B = new L( .25, .5 );
			b.C = new L( .75, 1 );
			v.q( a );
			return b
		}, Decision: "Diamond", Diamond: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( 0, .5 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 1 * b, .5 * c, !0 );
			b = a.o;
			b.B = new L( .25, .25 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, Pentagon: function( a, b, c )
		{
			var d = Vo( 5 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 5 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .2, .22 );
			b.C = new L( .8,
				.9 );
			v.q( a );
			return b
		}, DataTransmission: "Hexagon", Hexagon: function( a, b, c )
		{
			var d = Vo( 6 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 6 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .07, .25 );
			b.C = new L( .93, .75 );
			v.q( a );
			return b
		}, Heptagon: function( a, b, c )
		{
			var d = Vo( 7 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 7 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .2, .15 );
			b.C = new L( .8, .85 );
			v.q( a );
			return b
		}, Octagon: function( a, b, c )
		{
			var d = Vo( 8 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 8 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .15, .15 );
			b.C = new L( .85, .85 );
			v.q( a );
			return b
		}, Nonagon: function( a, b, c )
		{
			var d = Vo( 9 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 9 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .17, .13 );
			b.C = new L( .82, .82 );
			v.q( a );
			return b
		}, Decagon: function( a, b, c )
		{
			var d = Vo( 10 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 10 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .16, .16 );
			b.C = new L( .84, .84 );
			v.q( a );
			return b
		},
		Dodecagon: function( a, b, c )
		{
			var d = Vo( 12 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 12 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .16, .16 );
			b.C = new L( .84, .84 );
			v.q( a );
			return b
		}, FivePointedStar: function( a, b, c )
		{
			var d = Uo( 5 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 10 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .312, .383 );
			b.C = new L( .693, .765 );
			v.q( a );
			return b
		}, SixPointedStar: function( a, b, c )
		{
			var d = Uo( 6 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 12 > e; e++ )a.lineTo( d[e].x *
				b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .17, .251 );
			b.C = new L( .833, .755 );
			v.q( a );
			return b
		}, SevenPointedStar: function( a, b, c )
		{
			var d = Uo( 7 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 14 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .363, .361 );
			b.C = new L( .641, .709 );
			v.q( a );
			return b
		}, EightPointedStar: function( a, b, c )
		{
			var d = Uo( 8 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 16 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .252, .255 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, NinePointedStar: function( a, b, c )
		{
			var d = Uo( 9 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 18 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .355, .361 );
			b.C = new L( .645, .651 );
			v.q( a );
			return b
		}, TenPointedStar: function( a, b, c )
		{
			var d = Uo( 10 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; 20 > e; e++ )a.lineTo( d[e].x * b, d[e].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .281, .261 );
			b.C = new L( .723, .748 );
			v.q( a );
			return b
		}, FivePointedBurst: function( a, b, c )
		{
			var d = To( 5 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x *
				b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .312, .383 );
			b.C = new L( .693, .765 );
			v.q( a );
			return b
		}, SixPointedBurst: function( a, b, c )
		{
			var d = To( 6 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .17, .251 );
			b.C = new L( .833, .755 );
			v.q( a );
			return b
		}, SevenPointedBurst: function( a, b, c )
		{
			var d = To( 7 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x *
				b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .363, .361 );
			b.C = new L( .641, .709 );
			v.q( a );
			return b
		}, EightPointedBurst: function( a, b, c )
		{
			var d = To( 8 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .252, .255 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, NinePointedBurst: function( a, b, c )
		{
			var d = To( 9 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x *
				b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .355, .361 );
			b.C = new L( .645, .651 );
			v.q( a );
			return b
		}, TenPointedBurst: function( a, b, c )
		{
			var d = To( 10 );
			a = v.s();
			N( a, d[0].x * b, d[0].y * c, !0 );
			for( var e = 1; e < d.length; e += 3 )O( a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c );
			v.sa( d );
			P( a );
			b = a.o;
			b.B = new L( .281, .261 );
			b.C = new L( .723, .748 );
			v.q( a );
			return b
		}, Cloud: function( a, b, c )
		{
			a = v.s();
			N( a, .08034461 * b, .1944299 * c, !0 );
			O( a, -.09239631 * b, .07836421 * c, .1406031 * b, -.0542823 * c, .2008615 *
				b, .05349299 * c );
			O( a, .2450511 * b, -.00697547 * c, .3776197 * b, -.01112067 * c, .4338609 * b, .074219 * c );
			O( a, .4539471 * b, 0, .6066018 * b, -.02526587 * c, .6558228 * b, .07004196 * c );
			O( a, .6914277 * b, -.01904177 * c, .8921095 * b, -.01220843 * c, .8921095 * b, .08370865 * c );
			O( a, 1.036446 * b, .04105738 * c, 1.020377 * b, .3022052 * c, .9147671 * b, .3194596 * c );
			O( a, 1.04448 * b, .360238 * c, .992256 * b, .5219009 * c, .9082935 * b, .562044 * c );
			O( a, 1.032337 * b, .5771781 * c, 1.018411 * b, .8120651 * c, .9212406 * b, .8217117 * c );
			O( a, 1.028411 * b, .9571472 * c, .8556702 * b, 1.052487 * c, .7592566 * b, .9156953 *
				c );
			O( a, .7431877 * b, 1.009325 * c, .5624123 * b, 1.021761 * c, .5101666 * b, .9310455 * c );
			O( a, .4820677 * b, 1.031761 * c, .3030112 * b, 1.002796 * c, .2609328 * b, .9344623 * c );
			O( a, .2329994 * b, 1.01518 * c, .03213784 * b, 1.01518 * c, .08034461 * b, .870098 * c );
			O( a, -.02812061 * b, .9032597 * c, -.01205169 * b, .6835638 * c, .06829292 * b, .6545475 * c );
			O( a, -.01812061 * b, .6089503 * c, -.00606892 * b, .4555777 * c, .06427569 * b, .4265613 * c );
			O( a, -.01606892 * b, .3892545 * c, -.01205169 * b, .1944299 * c, .08034461 * b, .1944299 * c );
			P( a );
			b = a.o;
			b.B = new L( .1, .1 );
			b.C = new L( .9, .9 );
			v.q( a );
			return b
		},
		Gate: "Crescent", Crescent: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			O( a, 1 * b, 0, 1 * b, 1 * c, 0, 1 * c );
			O( a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .511, .19 );
			b.C = new L( .776, .76 );
			v.q( a );
			return b
		}, FramedRectangle: function( a, b, c )
		{
			var d = v.s(), e = a ? a.Ac : NaN;
			a = a ? a.Lt : NaN;
			isNaN( e ) && (e = .1);
			isNaN( a ) && (a = .1);
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c, !0 );
			N( d, e * b, a * c, !1, !0 );
			d.lineTo( e * b, (1 - a) * c );
			d.lineTo( (1 - e) * b, (1 - a) * c );
			d.lineTo( (1 - e) * b, a * c, !0 );
			b = d.o;
			b.B = new L( e, a );
			b.C = new L( 1 - e, 1 - a );
			v.q( d );
			return b
		},
		Delay: "HalfEllipse", HalfEllipse: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			O( a, Wc * b, 0, 1 * b, (.5 - Wc / 2) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 + Wc / 2) * c, Wc * b, 1 * c, 0, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .2 );
			b.C = new L( .75, .8 );
			v.q( a );
			return b
		}, Heart: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 1 * c, !0 );
			O( a, .1 * b, .8 * c, 0, .5 * c, 0 * b, .3 * c );
			O( a, 0 * b, 0, .45 * b, 0, .5 * b, .3 * c );
			O( a, .55 * b, 0, 1 * b, 0, 1 * b, .3 * c );
			O( a, b, .5 * c, .9 * b, .8 * c, .5 * b, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( .15, .29 );
			b.C = new L( .86, .68 );
			v.q( a );
			return b
		}, Spade: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( .51 * b, .01 * c );
			O( a, .6 * b, .2 * c, b, .25 * c, b, .5 * c );
			O( a, b, .8 * c, .6 * b, .8 * c, .55 * b, .7 * c );
			O( a, .5 * b, .75 * c, .55 * b, .95 * c, .75 * b, c );
			a.lineTo( .25 * b, c );
			O( a, .45 * b, .95 * c, .5 * b, .75 * c, .45 * b, .7 * c );
			O( a, .4 * b, .8 * c, 0, .8 * c, 0, .5 * c );
			O( a, 0, .25 * c, .4 * b, .2 * c, .49 * b, .01 * c );
			P( a );
			b = a.o;
			b.B = new L( .19, .26 );
			b.C = new L( .8, .68 );
			v.q( a );
			return b
		}, Club: function( a, b, c )
		{
			a = v.s();
			N( a, .4 * b, .6 * c, !0 );
			O( a, .5 * b, .75 * c, .45 * b, .95 * c, .15 * b, 1 * c );
			a.lineTo( .85 * b, c );
			O( a, .55 * b, .95 * c, .5 * b, .75 * c, .6 * b, .6 * c );
			var d = .2, e = .3, f = 0, h = 4 * (Math.SQRT2 - 1) / 3 * d;
			O( a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) *
				b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			O( a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e + .05) * b, (.5 - h + f - .02) * c, .65 * b, .36771243 * c );
			d = .2;
			e = 0;
			f = -.3;
			h = 4 * (Math.SQRT2 - 1) / 3 * d;
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			O( a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d +
				e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, .35 * b, .36771243 * c );
			d = .2;
			e = -.3;
			f = 0;
			h = 4 * (Math.SQRT2 - 1) / 3 * d;
			O( a, (.5 + d + e - .05) * b, (.5 - h + f - .02) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, .4 * b, .6 * c );
			P( a );
			b = a.o;
			b.B = new L( .06, .39 );
			b.C = new L( .93, .58 );
			v.q( a );
			return b
		}, Ring: function( a, b, c )
		{
			a = v.s();
			var d = 4 * (Math.SQRT2 - 1) / 3 * .5;
			N( a, b, .5 *
				c, !0 );
			O( a, b, (.5 - d) * c, (.5 + d) * b, 0, .5 * b, 0 );
			O( a, (.5 - d) * b, 0, 0, (.5 - d) * c, 0, .5 * c );
			O( a, 0, (.5 + d) * c, (.5 - d) * b, c, .5 * b, c );
			O( a, (.5 + d) * b, c, b, (.5 + d) * c, b, .5 * c );
			d = 4 * (Math.SQRT2 - 1) / 3 * .4;
			N( a, .5 * b, .1 * c, !0, !0 );
			O( a, (.5 + d) * b, .1 * c, .9 * b, (.5 - d) * c, .9 * b, .5 * c );
			O( a, .9 * b, (.5 + d) * c, (.5 + d) * b, .9 * c, .5 * b, .9 * c );
			O( a, (.5 - d) * b, .9 * c, .1 * b, (.5 + d) * c, .1 * b, .5 * c );
			O( a, .1 * b, (.5 - d) * c, (.5 - d) * b, .1 * c, .5 * b, .1 * c );
			b = a.o;
			b.B = new L( .146, .146 );
			b.C = new L( .853, .853 );
			b.Od = Pi;
			v.q( a );
			return b
		}, YinYang: function( a, b, c )
		{
			var d = .5;
			a = v.s();
			d = .5;
			N( a, .5 * b, 0, !0 );
			a.arcTo( 270,
				180, .5 * b, .5 * b, .5 * b );
			O( a, 1 * b, d * c, 0, d * c, d * b, 0, !0 );
			var d = .1, e = .25;
			N( a, (.5 + d) * b, e * c, !0, !0 );
			a.arcTo( 0, -360, .5 * b, c * e, d * b );
			P( a );
			N( a, .5 * b, 0, !1 );
			a.arcTo( 270, -180, .5 * b, .5 * b, .5 * b );
			a.Ya( !1 );
			e = .75;
			N( a, (.5 + d) * b, e * c, !0 );
			a.arcTo( 0, 360, .5 * b, c * e, d * b );
			P( a );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, Peace: function( a, b, c )
		{
			a = v.s();
			var d = 4 * (Math.SQRT2 - 1) / 3 * .5;
			N( a, b, .5 * c, !0 );
			O( a, b, (.5 - d) * c, (.5 + d) * b, 0, .5 * b, 0 );
			O( a, (.5 - d) * b, 0, 0, (.5 - d) * c, 0, .5 * c );
			O( a, 0, (.5 + d) * c, (.5 - d) * b, c, .5 * b, c );
			O( a, (.5 + d) * b, c, b, (.5 + d) * c, b, .5 * c );
			d = 4 * (Math.SQRT2 - 1) / 3 * .4;
			N( a, .5 * b, .1 * c, !0, !0 );
			O( a, (.5 + d) * b, .1 * c, .9 * b, (.5 - d) * c, .9 * b, .5 * c );
			O( a, .9 * b, (.5 + d) * c, (.5 + d) * b, .9 * c, .5 * b, .9 * c );
			O( a, (.5 - d) * b, .9 * c, .1 * b, (.5 + d) * c, .1 * b, .5 * c );
			O( a, .1 * b, (.5 - d) * c, (.5 - d) * b, .1 * c, .5 * b, .1 * c );
			var d = .07, e = 0, f = -.707 * .11, h = 4 * (Math.SQRT2 - 1) / 3 * d;
			N( a, (.5 + d + e) * b, (.5 + f) * c, !0 );
			O( a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 + h + e) * b, (.5 + d + f) *
				c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			d = .07;
			e = -.707 * .11;
			f = .707 * .11;
			h = 4 * (Math.SQRT2 - 1) / 3 * d;
			N( a, (.5 + d + e) * b, (.5 + f) * c, !0 );
			O( a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			d = .07;
			e = .707 * .11;
			f = .707 * .11;
			h = 4 * (Math.SQRT2 - 1) / 3 * d;
			N( a, (.5 + d + e) * b, (.5 + f) * c, !0 );
			O( a, (.5 + d + e) * b, (.5 - h +
				f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			b = a.o;
			b.B = new L( .146, .146 );
			b.C = new L( .853, .853 );
			b.Od = Pi;
			v.q( a );
			return b
		}, NotAllowed: function( a, b, c )
		{
			var d = .5 * Wc, e = .5;
			a = v.s();
			N( a, .5 * b, (.5 - e) * c, !0 );
			O( a, (.5 - d) * b, (.5 - e) * c, (.5 - e) * b, (.5 - d) * c, (.5 - e) * b, .5 * c );
			O( a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b,
					(.5 + e) * c );
			O( a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 + e) * b, .5 * c );
			O( a, (.5 + e) * b, (.5 - d) * c, (.5 + d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c );
			var e = .4, d = .4 * Wc, f = v.L(), h = v.L(), k = v.L(), l = v.L();
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .42, f, h, k, l, l );
			var m = v.L(), n = v.L(), p = v.L();
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .58, l, l, p, m, n );
			var q = v.L(), r = v.L(), s = v.L();
			Sd( .5, .5 + e, .5 - d, .5 + e, .5 - e, .5 + d, .5 - e, .5, .42, q, r, s, l, l );
			var t = v.L(), u = v.L(), w = v.L();
			Sd( .5, .5 + e, .5 - d, .5 + e, .5 - e, .5 + d, .5 - e, .5, .58, l, l, w, t, u );
			N( a, w.x * b, w.y * c, !0, !0 );
			O( a, t.x * b,
					t.y * c, u.x * b, u.y * c, (.5 - e) * b, .5 * c );
			O( a, (.5 - e) * b, (.5 - d) * c, (.5 - d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c );
			O( a, f.x * b, f.y * c, h.x * b, h.y * c, k.x * b, k.y * c );
			a.lineTo( w.x * b, w.y * c );
			P( a );
			N( a, s.x * b, s.y * c, !0, !0 );
			a.lineTo( p.x * b, p.y * c );
			O( a, m.x * b, m.y * c, n.x * b, n.y * c, (.5 + e) * b, .5 * c );
			O( a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c );
			O( a, q.x * b, q.y * c, r.x * b, r.y * c, s.x * b, s.y * c );
			P( a );
			v.v( f );
			v.v( h );
			v.v( k );
			v.v( l );
			v.v( m );
			v.v( n );
			v.v( p );
			v.v( q );
			v.v( r );
			v.v( s );
			v.v( t );
			v.v( u );
			v.v( w );
			b = a.o;
			v.q( a );
			b.Od = Pi;
			return b
		}, Fragile: function( a, b, c )
		{
			a = v.s();
			N( a,
				0, 0, !0 );
			a.lineTo( .25 * b, 0 );
			a.lineTo( .2 * b, .15 * c );
			a.lineTo( .3 * b, .25 * c );
			a.lineTo( .29 * b, .33 * c );
			a.lineTo( .35 * b, .25 * c );
			a.lineTo( .3 * b, .15 * c );
			a.lineTo( .4 * b, 0 );
			a.lineTo( 1 * b, 0 );
			O( a, 1 * b, .25 * c, .75 * b, .5 * c, .55 * b, .5 * c );
			a.lineTo( .55 * b, .9 * c );
			a.lineTo( .7 * b, .9 * c );
			a.lineTo( .7 * b, 1 * c );
			a.lineTo( .3 * b, 1 * c );
			a.lineTo( .3 * b, .9 * c );
			a.lineTo( .45 * b, .9 * c );
			a.lineTo( .45 * b, .5 * c );
			O( a, .25 * b, .5 * c, 0, .25 * c, 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .25, 0 );
			b.C = new L( .75, .4 );
			v.q( a );
			return b
		}, HourGlass: function( a, b, c )
		{
			a = v.s();
			N( a, .65 * b, .5 * c, !0 );
			a.lineTo( 1 * b,
					1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( .35 * b, .5 * c );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, 0 );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, Lightning: function( a, b, c )
		{
			a = v.s();
			N( a, 0 * b, .55 * c, !0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( .25 * b, .45 * c );
			a.lineTo( .9 * b, .48 * c );
			a.lineTo( .4 * b, 1 * c );
			a.lineTo( .65 * b, .55 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, Parallelogram1: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = v.s();
			N( d, a * b, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( (1 - a) * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			b = d.o;
			b.B = new L( a, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( d );
			return b
		}, Input: "Output", Output: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !0 );
			a.lineTo( .1 * b, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( .9 * b, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( .1, 0 );
			b.C = new L( .9, 1 );
			v.q( a );
			return b
		}, Parallelogram2: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .25);
			var d = v.s();
			N( d, a * b, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( (1 - a) * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			b = d.o;
			b.B = new L( a, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( d );
			return b
		}, ThickCross: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .25);
			var d = v.s();
			N( d, (.5 - a / 2) * b, 0, !0 );
			d.lineTo( (.5 + a / 2) * b, 0 );
			d.lineTo( (.5 + a / 2) * b, (.5 - a / 2) * c );
			d.lineTo( 1 * b, (.5 -
				a / 2) * c );
			d.lineTo( 1 * b, (.5 + a / 2) * c );
			d.lineTo( (.5 + a / 2) * b, (.5 + a / 2) * c );
			d.lineTo( (.5 + a / 2) * b, 1 * c );
			d.lineTo( (.5 - a / 2) * b, 1 * c );
			d.lineTo( (.5 - a / 2) * b, (.5 + a / 2) * c );
			d.lineTo( 0, (.5 + a / 2) * c );
			d.lineTo( 0, (.5 - a / 2) * c );
			d.lineTo( (.5 - a / 2) * b, (.5 - a / 2) * c );
			P( d );
			b = d.o;
			b.B = new L( .5 - a / 2, .5 - a / 2 );
			b.C = new L( .5 + a / 2, .5 + a / 2 );
			v.q( d );
			return b
		}, ThickX: function( a, b, c )
		{
			a = .25 / Math.SQRT2;
			var d = v.s();
			N( d, .3 * b, 0, !0 );
			d.lineTo( .5 * b, .2 * c );
			d.lineTo( .7 * b, 0 );
			d.lineTo( 1 * b, .3 * c );
			d.lineTo( .8 * b, .5 * c );
			d.lineTo( 1 * b, .7 * c );
			d.lineTo( .7 * b, 1 * c );
			d.lineTo( .5 * b, .8 *
				c );
			d.lineTo( .3 * b, 1 * c );
			d.lineTo( 0, .7 * c );
			d.lineTo( .2 * b, .5 * c );
			d.lineTo( 0, .3 * c );
			P( d );
			b = d.o;
			b.B = new L( .5 - a, .5 - a );
			b.C = new L( .5 + a, .5 + a );
			v.q( d );
			return b
		}, ThinCross: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = .1);
			a = v.s();
			N( a, (.5 - d / 2) * b, 0, !0 );
			a.lineTo( (.5 + d / 2) * b, 0 );
			a.lineTo( (.5 + d / 2) * b, (.5 - d / 2) * c );
			a.lineTo( 1 * b, (.5 - d / 2) * c );
			a.lineTo( 1 * b, (.5 + d / 2) * c );
			a.lineTo( (.5 + d / 2) * b, (.5 + d / 2) * c );
			a.lineTo( (.5 + d / 2) * b, 1 * c );
			a.lineTo( (.5 - d / 2) * b, 1 * c );
			a.lineTo( (.5 - d / 2) * b, (.5 + d / 2) * c );
			a.lineTo( 0, (.5 + d / 2) * c );
			a.lineTo( 0, (.5 - d / 2) * c );
			a.lineTo( (.5 -
				d / 2) * b, (.5 - d / 2) * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, ThinX: function( a, b, c )
		{
			a = v.s();
			N( a, .1 * b, 0, !0 );
			a.lineTo( .5 * b, .4 * c );
			a.lineTo( .9 * b, 0 );
			a.lineTo( 1 * b, .1 * c );
			a.lineTo( .6 * b, .5 * c );
			a.lineTo( 1 * b, .9 * c );
			a.lineTo( .9 * b, 1 * c );
			a.lineTo( .5 * b, .6 * c );
			a.lineTo( .1 * b, 1 * c );
			a.lineTo( 0, .9 * c );
			a.lineTo( .4 * b, .5 * c );
			a.lineTo( 0, .1 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, RightTriangle: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .5 );
			b.C = new L( .5, 1 );
			v.q( a );
			return b
		}, RoundedIBeam: function( a, b, c )
		{
			a =
				v.s();
			N( a, 0, 0, !0 );
			a.lineTo( 1 * b, 0 );
			O( a, .5 * b, .25 * c, .5 * b, .75 * c, 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			O( a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0 );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, RoundedRectangle: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = 5);
			d = Math.min( d, b / 3 );
			d = Math.min( d, c / 3 );
			a = d * Wc;
			var e = v.s();
			N( e, d, 0, !0 );
			e.lineTo( b - d, 0 );
			O( e, b - a, 0, b, a, b, d );
			e.lineTo( b, c - d );
			O( e, b, c - a, b - a, c, b - d, c );
			e.lineTo( d, c );
			O( e, a, c, 0, c - a, 0, c - d );
			e.lineTo( 0, d );
			O( e, 0, a, a, 0, d, 0 );
			P( e );
			b = e.o;
			1 < a ? (b.B = new L( 0, 0, a, a ), b.C = new L( 1, 1, -a, -a )) : (b.B = tb, b.C = Fb);
			v.q( e );
			return b
		},
		Border: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = 5);
			d = Math.min( d, b / 3 );
			d = Math.min( d, c / 3 );
			a = v.s();
			N( a, d, 0, !0 );
			a.lineTo( b - d, 0 );
			O( a, b - 0, 0, b, 0, b, d );
			a.lineTo( b, c - d );
			O( a, b, c - 0, b - 0, c, b - d, c );
			a.lineTo( d, c );
			O( a, 0, c, 0, c - 0, 0, c - d );
			a.lineTo( 0, d );
			O( a, 0, 0, 0, 0, d, 0 );
			P( a );
			b = a.o;
			b.B = tb;
			b.C = Fb;
			v.q( a );
			return b
		}, SquareIBeam: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = .2);
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, d * c );
			a.lineTo( (.5 + d / 2) * b, d * c );
			a.lineTo( (.5 + d / 2) * b, (1 - d) * c );
			a.lineTo( 1 * b, (1 - d) * c );
			a.lineTo( 1 * b, 1 *
				c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, (1 - d) * c );
			a.lineTo( (.5 - d / 2) * b, (1 - d) * c );
			a.lineTo( (.5 - d / 2) * b, d * c );
			a.lineTo( 0, d * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, Trapezoid: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .2);
			var d = v.s();
			N( d, a * b, 0, !0 );
			d.lineTo( (1 - a) * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			b = d.o;
			b.B = new L( a, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( d );
			return b
		}, ManualLoop: "ManualOperation", ManualOperation: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = 0);
			a = v.s();
			N( a, d, 0, !0 );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( .9 * b, 1 * c );
			a.lineTo( .1 *
				b, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( .1, 0 );
			b.C = new L( .9, 1 );
			v.q( a );
			return b
		}, GenderMale: function( a, b, c )
		{
			a = v.s();
			var d = .4 * Wc, e = .4, f = v.L(), h = v.L(), k = v.L(), l = v.L();
			N( a, (.5 - e) * b, .5 * c, !0 );
			O( a, (.5 - e) * b, (.5 - d) * c, (.5 - d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c );
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .44, k, l, h, f, f );
			O( a, k.x * b, k.y * c, l.x * b, l.y * c, h.x * b, h.y * c );
			var m = v.Mb( h.x, h.y );
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .56, f, f, h, k, l );
			var n = v.Mb( h.x, h.y );
			a.lineTo( (.1 * m.x + .855) * b, .1 * m.y * c );
			a.lineTo( .85 * b, .1 * m.y * c );
			a.lineTo( .85 * b, 0 );
			a.lineTo( 1 *
				b, 0 );
			a.lineTo( 1 * b, .15 * c );
			a.lineTo( (.1 * n.x + .9) * b, .15 * c );
			a.lineTo( (.1 * n.x + .9) * b, (.1 * n.y + .05 * .9) * c );
			a.lineTo( n.x * b, n.y * c );
			O( a, k.x * b, k.y * c, l.x * b, l.y * c, (.5 + e) * b, .5 * c );
			O( a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c );
			O( a, (.5 - d) * b, (.5 + e) * c, (.5 - e) * b, (.5 + d) * c, (.5 - e) * b, .5 * c );
			e = .35;
			d = .35 * Wc;
			N( a, .5 * b, (.5 - e) * c, !0, !0 );
			O( a, (.5 - d) * b, (.5 - e) * c, (.5 - e) * b, (.5 - d) * c, (.5 - e) * b, .5 * c );
			O( a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c );
			O( a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 + e) * b, .5 * c );
			O( a, (.5 + e) * b, (.5 - d) * c, (.5 +
				d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c );
			N( a, (.5 - e) * b, .5 * c, !0 );
			v.v( f );
			v.v( h );
			v.v( k );
			v.v( l );
			v.v( m );
			v.v( n );
			b = a.o;
			b.B = new L( .202, .257 );
			b.C = new L( .692, .839 );
			b.Od = Pi;
			v.q( a );
			return b
		}, GenderFemale: function( a, b, c )
		{
			a = v.s();
			var d = .375, e = 0, f = -.125, h = 4 * (Math.SQRT2 - 1) / 3 * d;
			N( a, (.525 + e) * b, (.5 + d + f) * c, !0 );
			O( a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			O( a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 - d + e) * b,
					(.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.475 + e) * b, (.5 + d + f) * c );
			a.lineTo( .475 * b, .85 * c );
			a.lineTo( .425 * b, .85 * c );
			a.lineTo( .425 * b, .9 * c );
			a.lineTo( .475 * b, .9 * c );
			a.lineTo( .475 * b, 1 * c );
			a.lineTo( .525 * b, 1 * c );
			a.lineTo( .525 * b, .9 * c );
			a.lineTo( .575 * b, .9 * c );
			a.lineTo( .575 * b, .85 * c );
			a.lineTo( .525 * b, .85 * c );
			P( a );
			d = .325;
			e = 0;
			f = -.125;
			h = 4 * (Math.SQRT2 - 1) / 3 * d;
			N( a, (.5 + d + e) * b, (.5 + f) * c, !0, !0 );
			O( a, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c );
			O( a, (.5 - h + e) * b, (.5 + d + f) * c, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - d + e) * b, (.5 + f) * c );
			O( a, (.5 -
				d + e) * b, (.5 - h + f) * c, (.5 - h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c );
			O( a, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + d + e) * b, (.5 + f) * c );
			N( a, (.525 + e) * b, (.5 + d + f) * c, !0 );
			b = a.o;
			b.B = new L( .232, .136 );
			b.C = new L( .782, .611 );
			b.Od = Pi;
			v.q( a );
			return b
		}, PlusLine: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .5 * c, !1 );
			a.lineTo( 1 * b, .5 * c );
			a.moveTo( .5 * b, 0 );
			a.lineTo( .5 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, XLine: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !1 );
			a.lineTo( 1 * b, 0 );
			a.moveTo( 0, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, AsteriskLine: function( a, b, c )
		{
			a =
				v.s();
			var d = .2 / Math.SQRT2;
			N( a, d * b, (1 - d) * c, !1 );
			a.lineTo( (1 - d) * b, d * c );
			a.moveTo( d * b, d * c );
			a.lineTo( (1 - d) * b, (1 - d) * c );
			a.moveTo( 0 * b, .5 * c );
			a.lineTo( 1 * b, .5 * c );
			a.moveTo( .5 * b, 0 * c );
			a.lineTo( .5 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, CircleLine: function( a, b, c )
		{
			var d = .5 * Wc;
			a = v.s();
			N( a, 1 * b, .5 * c, !1 );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			b = a.o;
			b.B = new L( .146, .146 );
			b.C = new L( .853, .853 );
			b.Od = Pi;
			v.q( a );
			return b
		}, Pie: function( a, b, c )
		{
			a = v.s();
			var d = 4 * (Math.SQRT2 - 1) / 3 * .5;
			N( a, (.5 * Math.SQRT2 / 2 + .5) * b, (.5 - .5 * Math.SQRT2 / 2) * c, !0 );
			O( a, .7 * b, 0 * c, .5 * b, 0 * c, .5 * b, 0 * c );
			O( a, (.5 - d + 0) * b, 0 * c, 0 * b, (.5 - d + 0) * c, 0 * b, .5 * c );
			O( a, 0 * b, (.5 + d + 0) * c, (.5 - d + 0) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 + d + 0) * b, 1 * c, 1 * b, (.5 + d + 0) * c, 1 * b, .5 * c );
			a.lineTo( .5 * b, .5 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, PiePiece: function( a, b, c )
		{
			var d = Wc / Math.SQRT2 * .5, e = Math.SQRT2 / 2, f = 1 - Math.SQRT2 / 2;
			a = v.s();
			N( a, b, c, !0 );
			O( a, b, (1 - d) * c, (e + d) * b, (f + d) * c, e * b, f * c );
			a.lineTo( 0, c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, StopSign: function( a, b, c )
		{
			a = 1 / (Math.SQRT2 + 2);
			var d = v.s();
			N( d, a * b, 0, !0 );
			d.lineTo( (1 - a) * b, 0 );
			d.lineTo( 1 * b, a * c );
			d.lineTo( 1 * b, (1 - a) * c );
			d.lineTo( (1 - a) * b, 1 * c );
			d.lineTo( a * b, 1 * c );
			d.lineTo( 0, (1 - a) * c );
			d.lineTo( 0, a * c );
			P( d );
			b = d.o;
			b.B = new L( a / 2, a / 2 );
			b.C = new L( 1 - a / 2, 1 - a / 2 );
			v.q( d );
			return b
		}, LogicImplies: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			isNaN( d ) && (d = .2);
			a = v.s();
			N( a, (1 - d) * b, 0 * c, !1 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( (1 - d) * b, c );
			a.moveTo( 0, .5 * c );
			a.lineTo( b, .5 * c );
			b = a.o;
			b.B = tb;
			b.C = new L( .8, .5 );
			v.q( a );
			return b
		}, LogicIff: function( a, b, c )
		{
			var d = a ? a.Ac :
				NaN;
			isNaN( d ) && (d = .2);
			a = v.s();
			N( a, (1 - d) * b, 0 * c, !1 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( (1 - d) * b, c );
			a.moveTo( 0, .5 * c );
			a.lineTo( b, .5 * c );
			a.moveTo( d * b, 0 );
			a.lineTo( 0, .5 * c );
			a.lineTo( d * b, c );
			b = a.o;
			b.B = new L( .2, 0 );
			b.C = new L( .8, .5 );
			v.q( a );
			return b
		}, LogicNot: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, LogicAnd: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !1 );
			a.lineTo( .5 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			b.B = new L( .25, .5 );
			b.C = new L( .75, 1 );
			v.q( a );
			return b
		}, LogicOr: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 1 * b, 0 );
			b = a.o;
			b.B = new L( .219, 0 );
			b.C = new L( .78, .409 );
			v.q( a );
			return b
		}, LogicXor: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !1 );
			a.lineTo( .5 * b, 1 * c );
			a.moveTo( 0, .5 * c );
			a.lineTo( 1 * b, .5 * c );
			var d = .5 * Wc;
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, LogicTruth: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 1 * b, 0 );
			a.moveTo( .5 * b, 0 );
			a.lineTo( .5 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, LogicFalsity: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !1 );
			a.lineTo( 1 * b, 1 * c );
			a.moveTo( .5 * b, 1 * c );
			a.lineTo( .5 * b, 0 );
			b = a.o;
			v.q( a );
			return b
		}, LogicThereExists: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( 0, .5 * c );
			a.moveTo( 1 * b, .5 * c );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, LogicForAll: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 1 * b, 0 );
			a.moveTo( .25 * b, .5 * c );
			a.lineTo( .75 * b, .5 * c );
			b = a.o;
			b.B = new L( .25, 0 );
			b.C = new L( .75, .5 );
			v.q( a );
			return b
		}, LogicIsDefinedAs: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( b, 0 );
			a.moveTo( 0, .5 * c );
			a.lineTo( b, .5 * c );
			a.moveTo( 0, c );
			a.lineTo( b, c );
			b = a.o;
			b.B = new L( .01, .01 );
			b.C = new L( .99, .49 );
			v.q( a );
			return b
		}, LogicIntersect: function( a, b, c )
		{
			var d = .5 * Wc;
			a = v.s();
			N( a, 0, 1 * c, !1 );
			a.lineTo( 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			b.B = new L( 0, .5 );
			b.C = Fb;
			v.q( a );
			return b
		}, LogicUnion: function( a, b, c )
		{
			var d = .5 * Wc;
			a = v.s();
			N( a, 1 * b, 0, !1 );
			a.lineTo( 1 * b, .5 * c );
			O( a,
					1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			a.lineTo( 0, 0 );
			b = a.o;
			b.B = tb;
			b.C = new L( 1, .5 );
			v.q( a );
			return b
		}, Arrow: function( a, b, c )
		{
			var d = a ? a.Ac : NaN, e = a ? a.Lt : NaN;
			isNaN( d ) && (d = .3);
			isNaN( e ) && (e = .3);
			a = v.s();
			N( a, 0, (.5 - e / 2) * c, !0 );
			a.lineTo( (1 - d) * b, (.5 - e / 2) * c );
			a.lineTo( (1 - d) * b, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( (1 - d) * b, 1 * c );
			a.lineTo( (1 - d) * b, (.5 + e / 2) * c );
			a.lineTo( 0, (.5 + e / 2) * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .5 - e / 2 );
			d = $d( 0, .5 + e / 2, 1, .5 + e / 2, 1 - d, 1, 1, .5, v.L() );
			b.C = new L( d.x, d.y );
			v.v( d );
			v.q( a );
			return b
		},
		ISOProcess: "Chevron", Chevron: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .5 * b, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( .5 * b, .5 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, DoubleArrow: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .3 * b, .214 * c );
			a.lineTo( .3 * b, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( .3 * b, 1 * c );
			a.lineTo( .3 * b, .786 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			N( a, .3 * b, .214 * c, !1 );
			a.lineTo( .3 * b, .786 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		}, DoubleEndArrow: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( .7 * b, 1 * c );
			a.lineTo( .7 * b, .7 * c );
			a.lineTo( .3 * b, .7 * c );
			a.lineTo( .3 * b, 1 * c );
			a.lineTo( 0, .5 * c );
			a.lineTo( .3 * b, 0 );
			a.lineTo( .3 * b, .3 * c );
			a.lineTo( .7 * b, .3 * c );
			a.lineTo( .7 * b, 0 );
			P( a );
			b = a.o;
			c = $d( 0, .5, .3, 0, 0, .3, .3, .3, v.L() );
			b.B = new L( c.x, c.y );
			c = $d( .7, 1, 1, .5, .7, .7, 1, .7, c );
			b.C = new L( c.x, c.y );
			v.v( c );
			v.q( a );
			return b
		}, IBeamArrow: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( .7 * b, 1 * c );
			a.lineTo( .7 * b, .7 * c );
			a.lineTo( .2 * b, .7 * c );
			a.lineTo( .2 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( .2 * b, 0 );
			a.lineTo( .2 * b, .3 * c );
			a.lineTo( .7 * b, .3 * c );
			a.lineTo( .7 * b, 0 );
			P( a );
			b = a.o;
			b.B = new L( 0, .3 );
			c = $d( .7, 1, 1, .5, .7, .7, 1, .7, v.L() );
			b.C = new L( c.x, c.y );
			v.v( c );
			v.q( a );
			return b
		}, Pointer: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( 0, 1 * c );
			a.lineTo( .2 * b, .5 * c );
			a.lineTo( 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .2, .35 );
			c = $d( .2, .65, 1, .65, 0, 1, 1, .5, v.L() );
			b.C = new L( c.x, c.y );
			v.v( c );
			v.q( a );
			return b
		}, RoundedPointer: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( 0, 1 * c );
			O( a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .4, .35 );
			c = $d( .2, .65, 1, .65, 0, 1, 1, .5, v.L() );
			b.C = new L( c.x,
				c.y );
			v.v( c );
			v.q( a );
			return b
		}, SplitEndArrow: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( .7 * b, 1 * c );
			a.lineTo( .7 * b, .7 * c );
			a.lineTo( 0, .7 * c );
			a.lineTo( .2 * b, .5 * c );
			a.lineTo( 0, .3 * c );
			a.lineTo( .7 * b, .3 * c );
			a.lineTo( .7 * b, 0 );
			P( a );
			b = a.o;
			b.B = new L( .2, .3 );
			c = $d( .7, 1, 1, .5, .7, .7, 1, .7, v.L() );
			b.C = new L( c.x, c.y );
			v.v( c );
			v.q( a );
			return b
		}, MessageToUser: "SquareArrow", SquareArrow: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, .5 * c, !0 );
			a.lineTo( .7 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( .7 * b, 0 );
			P( a );
			b = a.o;
			b.B = tb;
			b.C = new L( .7, 1 );
			v.q( a );
			return b
		}, Cone1: function( a, b, c )
		{
			var d = .5 * Wc, e = .1 * Wc;
			a = v.s();
			N( a, 0, .9 * c, !0 );
			a.lineTo( .5 * b, 0 );
			a.lineTo( 1 * b, .9 * c );
			O( a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c );
			P( a );
			b = a.o;
			b.B = new L( .25, .5 );
			b.C = new L( .75, .97 );
			v.q( a );
			return b
		}, Cone2: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .9 * c, !0 );
			O( a, (1 - .85 / .9) * b, 1 * c, .85 / .9 * b, 1 * c, 1 * b, .9 * c );
			a.lineTo( .5 * b, 0 );
			a.lineTo( 0, .9 * c );
			P( a );
			N( a, 0, .9 * c, !1 );
			O( a, (1 - .85 / .9) * b, .8 * c, .85 / .9 * b, .8 * c, 1 * b, .9 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .5 );
			b.C = new L( .75, .82 );
			v.q( a );
			return b
		},
		Cube1: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 1 * c, !0 );
			a.lineTo( 1 * b, .85 * c );
			a.lineTo( 1 * b, .15 * c );
			a.lineTo( .5 * b, 0 * c );
			a.lineTo( 0 * b, .15 * c );
			a.lineTo( 0 * b, .85 * c );
			P( a );
			N( a, .5 * b, 1 * c, !1 );
			a.lineTo( .5 * b, .3 * c );
			a.lineTo( 0, .15 * c );
			a.moveTo( .5 * b, .3 * c );
			a.lineTo( 1 * b, .15 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .3 );
			b.C = new L( .5, .85 );
			v.q( a );
			return b
		}, Cube2: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .3 * c, !0 );
			a.lineTo( 0 * b, 1 * c );
			a.lineTo( .7 * b, c );
			a.lineTo( 1 * b, .7 * c );
			a.lineTo( 1 * b, 0 * c );
			a.lineTo( .3 * b, 0 * c );
			P( a );
			N( a, 0, .3 * c, !1 );
			a.lineTo( .7 * b, .3 * c );
			a.lineTo( 1 * b,
					0 * c );
			a.moveTo( .7 * b, .3 * c );
			a.lineTo( .7 * b, 1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .3 );
			b.C = new L( .7, 1 );
			v.q( a );
			return b
		}, MagneticData: "Cylinder1", Cylinder1: function( a, b, c )
		{
			var d = .5 * Wc, e = .1 * Wc;
			a = v.s();
			N( a, 0, .1 * c, !0 );
			O( a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c );
			a.lineTo( b, .9 * c );
			O( a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c );
			a.lineTo( 0, .1 * c );
			N( a, 0, .1 * c, !1 );
			O( a, 0, (.1 + e) * c, (.5 - d) * b, .2 * c, .5 * b, .2 * c );
			O( a, (.5 + d) * b, .2 * c, 1 * b, (.1 + e) * c, 1 * b, .1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0,
				.2 );
			b.C = new L( 1, .9 );
			v.q( a );
			return b
		}, Cylinder2: function( a, b, c )
		{
			var d = .5 * Wc, e = .1 * Wc;
			a = v.s();
			N( a, 0, .9 * c, !0 );
			a.lineTo( 0, .1 * c );
			O( a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c );
			a.lineTo( 1 * b, .9 * c );
			O( a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c );
			N( a, 0, .9 * c, !1 );
			O( a, 0, (.9 - e) * c, (.5 - d) * b, .8 * c, .5 * b, .8 * c );
			O( a, (.5 + d) * b, .8 * c, 1 * b, (.9 - e) * c, 1 * b, .9 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .1 );
			b.C = new L( 1, .8 );
			v.q( a );
			return b
		}, Cylinder3: function( a, b, c )
		{
			var d = .1 * Wc, e = .5 * Wc;
			a = v.s();
			N( a, .1 * b, 0, !0 );
			a.lineTo( .9 * b, 0 );
			O( a, (.9 + d) * b, 0, 1 * b, (.5 - e) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 + e) * c, (.9 + d) * b, 1 * c, .9 * b, 1 * c );
			a.lineTo( .1 * b, 1 * c );
			O( a, (.1 - d) * b, 1 * c, 0, (.5 + e) * c, 0, .5 * c );
			O( a, 0, (.5 - e) * c, (.1 - d) * b, 0, .1 * b, 0 );
			N( a, .1 * b, 0, !1 );
			O( a, (.1 + d) * b, 0, .2 * b, (.5 - e) * c, .2 * b, .5 * c );
			O( a, .2 * b, (.5 + e) * c, (.1 + d) * b, 1 * c, .1 * b, 1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .2, 0 );
			b.C = new L( .9, 1 );
			v.q( a );
			return b
		}, DirectData: "Cylinder4", Cylinder4: function( a, b, c )
		{
			var d = .1 * Wc, e = .5 * Wc;
			a = v.s();
			N( a, .9 * b, 0, !0 );
			O( a, (.9 + d) * b, 0, 1 * b, (.5 - e) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 +
				e) * c, (.9 + d) * b, 1 * c, .9 * b, 1 * c );
			a.lineTo( .1 * b, 1 * c );
			O( a, (.1 - d) * b, 1 * c, 0, (.5 + e) * c, 0, .5 * c );
			O( a, 0, (.5 - e) * c, (.1 - d) * b, 0, .1 * b, 0 );
			a.lineTo( .9 * b, 0 );
			N( a, .9 * b, 0, !1 );
			O( a, (.9 - d) * b, 0, .8 * b, (.5 - e) * c, .8 * b, .5 * c );
			O( a, .8 * b, (.5 + e) * c, (.9 - d) * b, 1 * c, .9 * b, 1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .1, 0 );
			b.C = new L( .8, 1 );
			v.q( a );
			return b
		}, Prism1: function( a, b, c )
		{
			a = v.s();
			N( a, .25 * b, .25 * c, !0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( b, .5 * c );
			a.lineTo( .5 * b, c );
			a.lineTo( 0, c );
			P( a );
			N( a, .25 * b, .25 * c, !1 );
			a.lineTo( .5 * b, c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .408, .172 );
			b.C = new L( .833,
				.662 );
			v.q( a );
			return b
		}, Prism2: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .25 * c, !0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( 1 * b, .25 * c );
			a.lineTo( .75 * b, .75 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			N( a, 0, c, !1 );
			a.lineTo( .25 * b, .5 * c );
			a.lineTo( b, .25 * c );
			a.moveTo( 0, .25 * c );
			a.lineTo( .25 * b, .5 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .5 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, Pyramid1: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( b, .75 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 0, .75 * c );
			P( a );
			N( a, .5 * b, 0, !1 );
			a.lineTo( .5 * b, 1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .367 );
			b.C = new L( .75,
				.875 );
			v.q( a );
			return b
		}, Pyramid2: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( b, .85 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 0, .85 * c );
			P( a );
			N( a, .5 * b, 0, !1 );
			a.lineTo( .5 * b, .7 * c );
			a.lineTo( 0, .85 * c );
			a.moveTo( .5 * b, .7 * c );
			a.lineTo( 1 * b, .85 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .367 );
			b.C = new L( .75, .875 );
			v.q( a );
			return b
		}, Actor: function( a, b, c )
		{
			var d = .2 * Wc, e = .1 * Wc, f = .5, h = .1;
			a = v.s();
			N( a, f * b, (h + .1) * c, !0 );
			O( a, (f - d) * b, (h + .1) * c, (f - .2) * b, (h + e) * c, (f - .2) * b, h * c );
			O( a, (f - .2) * b, (h - e) * c, (f - d) * b, (h - .1) * c, f * b, (h - .1) * c );
			O( a, (f + d) * b, (h - .1) * c,
					(f + .2) * b, (h - e) * c, (f + .2) * b, h * c );
			O( a, (f + .2) * b, (h + e) * c, (f + d) * b, (h + .1) * c, f * b, (h + .1) * c );
			d = .05;
			e = Wc * d;
			N( a, .5 * b, .2 * c, !0 );
			a.lineTo( .95 * b, .2 * c );
			f = .95;
			h = .25;
			O( a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c );
			a.lineTo( 1 * b, .6 * c );
			a.lineTo( .85 * b, .6 * c );
			a.lineTo( .85 * b, .35 * c );
			d = .025;
			e = Wc * d;
			f = .825;
			h = .35;
			O( a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c, f * b, (h - d) * c );
			O( a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c );
			a.lineTo( .8 * b, 1 * c );
			a.lineTo( .55 * b, 1 * c );
			a.lineTo( .55 * b, .7 * c );
			d = .05;
			e = Wc * d;
			f = .5;
			h = .7;
			O( a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c,
					f * b, (h - d) * c );
			O( a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c );
			a.lineTo( .45 * b, 1 * c );
			a.lineTo( .2 * b, 1 * c );
			a.lineTo( .2 * b, .35 * c );
			d = .025;
			e = Wc * d;
			f = .175;
			h = .35;
			O( a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c, f * b, (h - d) * c );
			O( a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c );
			a.lineTo( .15 * b, .6 * c );
			a.lineTo( 0 * b, .6 * c );
			a.lineTo( 0 * b, .25 * c );
			d = .05;
			e = Wc * d;
			f = .05;
			h = .25;
			O( a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c );
			a.lineTo( .5 * b, .2 * c );
			b = a.o;
			b.B = new L( .2, .2 );
			b.C = new L( .8, .65 );
			v.q( a );
			return b
		}, Card: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, 0 * c, !0 );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0 * b, 1 * c );
			a.lineTo( 0 * b, .2 * c );
			a.lineTo( .2 * b, 0 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .2 );
			b.C = Fb;
			v.q( a );
			return b
		}, Collate: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, .5 * c, !0 );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( .5 * b, .5 * c );
			N( a, .5 * b, .5 * c, !0 );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( .5 * b, .5 * c );
			b = a.o;
			b.B = new L( .25, 0 );
			b.C = new L( .75, .25 );
			v.q( a );
			return b
		}, CreateRequest: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			N( d, 0,
					a * c, !1 );
			d.lineTo( 1 * b, a * c );
			d.moveTo( 0, (1 - a) * c );
			d.lineTo( 1 * b, (1 - a) * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( 0, a );
			b.C = new L( 1, 1 - a );
			v.q( d );
			return b
		}, Database: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc, e = .1 * Wc;
			N( a, 1 * b, .1 * c, !0 );
			a.lineTo( 1 * b, .9 * c );
			O( a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c );
			a.lineTo( 0, .1 * c );
			O( a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c );
			N( a, 1 * b, .1 * c, !1 );
			O( a, 1 * b, (.1 + e) * c, (.5 + d) * b, .2 * c, .5 * b, .2 * c );
			O( a, (.5 - d) * b, .2 * c, 0, (.1 + e) * c, 0, .1 * c );
			a.moveTo( 1 * b, .2 * c );
			O( a, 1 * b, (.2 + e) * c, (.5 + d) * b, .3 * c, .5 * b, .3 * c );
			O( a, (.5 - d) * b, .3 * c, 0, (.2 + e) * c, 0, .2 * c );
			a.moveTo( 1 * b, .3 * c );
			O( a, 1 * b, (.3 + e) * c, (.5 + d) * b, .4 * c, .5 * b, .4 * c );
			O( a, (.5 - d) * b, .4 * c, 0, (.3 + e) * c, 0, .3 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .4 );
			b.C = new L( 1, .9 );
			v.q( a );
			return b
		}, StoredData: "DataStorage", DataStorage: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .75 * b, 0 );
			O( a, 1 * b, 0, 1 * b, 1 * c, .75 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			O( a, .25 * b, .9 * c, .25 * b, .1 * c, 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .226, 0 );
			b.C = new L( .81, 1 );
			v.q( a );
			return b
		}, DiskStorage: function( a, b, c )
		{
			a =
				v.s();
			var d = .5 * Wc, e = .1 * Wc;
			N( a, 1 * b, .1 * c, !0 );
			a.lineTo( 1 * b, .9 * c );
			O( a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c );
			a.lineTo( 0, .1 * c );
			O( a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c );
			N( a, 1 * b, .1 * c, !1 );
			O( a, 1 * b, (.1 + e) * c, (.5 + d) * b, .2 * c, .5 * b, .2 * c );
			O( a, (.5 - d) * b, .2 * c, 0, (.1 + e) * c, 0, .1 * c );
			a.moveTo( 1 * b, .2 * c );
			O( a, 1 * b, (.2 + e) * c, (.5 + d) * b, .3 * c, .5 * b, .3 * c );
			O( a, (.5 - d) * b, .3 * c, 0, (.2 + e) * c, 0, .2 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .3 );
			b.C = new L( 1, .9 );
			v.q( a );
			return b
		}, Display: function( a, b, c )
		{
			a = v.s();
			N( a, .25 * b, 0, !0 );
			a.lineTo( .75 * b, 0 );
			O( a, 1 * b, 0, 1 * b, 1 * c, .75 * b, 1 * c );
			a.lineTo( .25 * b, 1 * c );
			a.lineTo( 0, .5 * c );
			P( a );
			b = a.o;
			b.B = new L( .25, 0 );
			b.C = new L( .75, 1 );
			v.q( a );
			return b
		}, DividedEvent: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) ? a = .2 : .15 > a && (a = .15);
			var d = v.s(), e = .2 * Wc;
			N( d, 0, .2 * c, !0 );
			O( d, 0, (.2 - e) * c, (.2 - e) * b, 0, .2 * b, 0 );
			d.lineTo( .8 * b, 0 );
			O( d, (.8 + e) * b, 0, 1 * b, (.2 - e) * c, 1 * b, .2 * c );
			d.lineTo( 1 * b, .8 * c );
			O( d, 1 * b, (.8 + e) * c, (.8 + e) * b, 1 * c, .8 * b, 1 * c );
			d.lineTo( .2 * b, 1 * c );
			O( d, (.2 - e) * b, 1 * c, 0, (.8 + e) * c, 0, .8 * c );
			d.lineTo( 0, .2 * c );
			N( d, 0, a * c, !1 );
			d.lineTo( 1 * b, a * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( 0, a );
			b.C = new L( 1, 1 - a );
			v.q( d );
			return b
		}, DividedProcess: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			if( isNaN( a ) || .1 > a )a = .1;
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			N( d, 0, a * c, !1 );
			d.lineTo( 1 * b, a * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( 0, a );
			b.C = Fb;
			v.q( d );
			return b
		}, Document: function( a, b, c )
		{
			c /= .8;
			a = v.s();
			N( a, 0, .7 * c, !0 );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, .7 * c );
			O( a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c );
			P( a );
			b = a.o;
			b.B = tb;
			b.C = new L( 1, .6 );
			v.q( a );
			return b
		}, ExternalOrganization: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			if( isNaN( a ) || .2 > a )a = .2;
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			N( d, a * b, 0, !1 );
			d.lineTo( 0, a * c );
			d.moveTo( 1 * b, a * c );
			d.lineTo( (1 - a) * b, 0 );
			d.moveTo( 0, (1 - a) * c );
			d.lineTo( a * b, 1 * c );
			d.moveTo( (1 - a) * b, 1 * c );
			d.lineTo( 1 * b, (1 - a) * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( a / 2, a / 2 );
			b.C = new L( 1 - a / 2, 1 - a / 2 );
			v.q( d );
			return b
		}, ExternalProcess: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 0, .5 * c );
			P( a );
			N( a, .1 * b, .4 * c, !1 );
			a.lineTo( .1 * b, .6 * c );
			a.moveTo( .9 * b, .6 * c );
			a.lineTo( .9 * b, .4 * c );
			a.moveTo( .6 * b, .1 * c );
			a.lineTo( .4 * b, .1 * c );
			a.moveTo( .4 * b, .9 * c );
			a.lineTo( .6 * b, .9 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .25 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, File: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( 1 * b, .25 * c );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			N( a, .75 * b, 0, !1 );
			a.lineTo( .75 * b, .25 * c );
			a.lineTo( 1 * b, .25 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = Fb;
			v.q( a );
			return b
		}, Interrupt: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b,
					.5 * c, !0 );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, .5 * c );
			N( a, 1 * b, .5 * c, !1 );
			a.lineTo( 1 * b, 1 * c );
			N( a, 1 * b, .5 * c, !1 );
			a.lineTo( 1 * b, 0 );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( .5, .75 );
			v.q( a );
			return b
		}, InternalStorage: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			a = a ? a.Lt : NaN;
			isNaN( d ) && (d = .1);
			isNaN( a ) && (a = .1);
			var e = v.s();
			N( e, 0, 0, !0 );
			e.lineTo( 1 * b, 0 );
			e.lineTo( 1 * b, 1 * c );
			e.lineTo( 0, 1 * c );
			P( e );
			N( e, d * b, 0, !1 );
			e.lineTo( d * b, 1 * c );
			e.moveTo( 0, a * c );
			e.lineTo( 1 * b, a * c );
			e.Ya( !1 );
			b = e.o;
			b.B = new L( d, a );
			b.C = Fb;
			v.q( e );
			return b
		}, Junction: function( a, b, c )
		{
			a = v.s();
			var d = 1 / Math.SQRT2, e = (1 - 1 / Math.SQRT2) / 2, f = .5 * Wc;
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + f) * c, (.5 + f) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - f) * b, 1 * c, 0, (.5 + f) * c, 0, .5 * c );
			O( a, 0, (.5 - f) * c, (.5 - f) * b, 0, .5 * b, 0 );
			O( a, (.5 + f) * b, 0, 1 * b, (.5 - f) * c, 1 * b, .5 * c );
			N( a, (e + d) * b, (e + d) * c, !1 );
			a.lineTo( e * b, e * c );
			a.moveTo( e * b, (e + d) * c );
			a.lineTo( (e + d) * b, e * c );
			a.Ya( !1 );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, LinedDocument: function( a, b, c )
		{
			c /= .8;
			a = v.s();
			N( a, 0, .7 * c, !0 );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, .7 * c );
			O( a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c );
			P( a );
			N( a, .1 *
				b, 0, !1 );
			a.lineTo( .1 * b, .75 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .1, 0 );
			b.C = new L( 1, .6 );
			v.q( a );
			return b
		}, LoopLimit: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !0 );
			a.lineTo( 0, .25 * c );
			a.lineTo( .25 * b, 0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( 1 * b, .25 * c );
			a.lineTo( 1 * b, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = Fb;
			v.q( a );
			return b
		}, SequentialData: "MagneticTape", MagneticTape: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, .5 * b, 1 * c, !0 );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 +
				d) * c, (.5 + d) * b, .9 * c, .6 * b, .9 * c );
			a.lineTo( 1 * b, .9 * c );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( .5 * b, 1 * c );
			b = a.o;
			b.B = new L( .15, .15 );
			b.C = new L( .85, .8 );
			v.q( a );
			return b
		}, ManualInput: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, 0, !0 );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, .25 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = Fb;
			v.q( a );
			return b
		}, MessageFromUser: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .7);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( a * b, .5 * c );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			b = d.o;
			b.B = tb;
			b.C = new L( a, 1 );
			v.q( d );
			return b
		},
		MicroformProcessing: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .25);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( .5 * b, a * c );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( .5 * b, (1 - a) * c );
			d.lineTo( 0, 1 * c );
			P( d );
			b = d.o;
			b.B = new L( 0, a );
			b.C = new L( 1, 1 - a );
			v.q( d );
			return b
		}, MicroformRecording: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .75 * b, .25 * c );
			a.lineTo( 1 * b, .15 * c );
			a.lineTo( 1 * b, .85 * c );
			a.lineTo( .75 * b, .75 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( 1, .75 );
			v.q( a );
			return b
		}, MultiDocument: function( a, b, c )
		{
			c /= .8;
			a = v.s();
			N( a, b, 0, !0 );
			a.lineTo( b, .5 * c );
			O( a, .96 * b, .47 * c, .93 * b, .45 * c, .9 * b, .44 * c );
			a.lineTo( .9 * b, .6 * c );
			O( a, .86 * b, .57 * c, .83 * b, .55 * c, .8 * b, .54 * c );
			a.lineTo( .8 * b, .7 * c );
			O( a, .4 * b, .4 * c, .4 * b, 1 * c, 0, .7 * c );
			a.lineTo( 0, .2 * c );
			a.lineTo( .1 * b, .2 * c );
			a.lineTo( .1 * b, .1 * c );
			a.lineTo( .2 * b, .1 * c );
			a.lineTo( .2 * b, 0 );
			P( a );
			N( a, .1 * b, .2 * c, !1 );
			a.lineTo( .8 * b, .2 * c );
			a.lineTo( .8 * b, .54 * c );
			a.moveTo( .2 * b, .1 * c );
			a.lineTo( .9 * b, .1 * c );
			a.lineTo( .9 * b, .44 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( .8, .77 );
			v.q( a );
			return b
		}, MultiProcess: function( a, b, c )
		{
			a = v.s();
			N( a, .1 * b, .1 * c, !0 );
			a.lineTo( .2 * b, .1 * c );
			a.lineTo( .2 * b, 0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, .8 * c );
			a.lineTo( .9 * b, .8 * c );
			a.lineTo( .9 * b, .9 * c );
			a.lineTo( .8 * b, .9 * c );
			a.lineTo( .8 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, .2 * c );
			a.lineTo( .1 * b, .2 * c );
			P( a );
			N( a, .2 * b, .1 * c, !1 );
			a.lineTo( .9 * b, .1 * c );
			a.lineTo( .9 * b, .8 * c );
			a.moveTo( .1 * b, .2 * c );
			a.lineTo( .8 * b, .2 * c );
			a.lineTo( .8 * b, .9 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( 0, .2 );
			b.C = new L( .8, 1 );
			v.q( a );
			return b
		}, OfflineStorage: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = 1 - a, e = v.s();
			N( e, 0, 0, !0 );
			e.lineTo( 1 *
				b, 0 );
			e.lineTo( .5 * b, 1 * c );
			P( e );
			N( e, .5 * a * b, a * c, !1 );
			e.lineTo( (1 - .5 * a) * b, a * c );
			e.Ya( !1 );
			b = e.o;
			b.B = new L( d / 4 + .5 * a, a );
			b.C = new L( 3 * d / 4 + .5 * a, a + .5 * d );
			v.q( e );
			return b
		}, OffPageConnector: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( .75 * b, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( .75 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			b = a.o;
			b.B = tb;
			b.C = new L( .75, 1 );
			v.q( a );
			return b
		}, Or: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a,
					(.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			N( a, 1 * b, .5 * c, !1 );
			a.lineTo( 0, .5 * c );
			a.moveTo( .5 * b, 1 * c );
			a.lineTo( .5 * b, 0 );
			a.Ya( !1 );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, PaperTape: function( a, b, c )
		{
			c /= .8;
			a = v.s();
			N( a, 0, .7 * c, !0 );
			a.lineTo( 0, .3 * c );
			O( a, .5 * b, .6 * c, .5 * b, 0, 1 * b, .3 * c );
			a.lineTo( 1 * b, .7 * c );
			O( a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .49 );
			b.C = new L( 1, .75 );
			v.q( a );
			return b
		}, PrimitiveFromCall: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			a = a ? a.Lt : NaN;
			isNaN( d ) && (d = .1);
			isNaN( a ) && (a = .3);
			var e = v.s();
			N( e, 0, 0, !0 );
			e.lineTo( 1 * b, 0 );
			e.lineTo( (1 -
				a) * b, .5 * c );
			e.lineTo( 1 * b, 1 * c );
			e.lineTo( 0, 1 * c );
			P( e );
			b = e.o;
			b.B = new L( d, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( e );
			return b
		}, PrimitiveToCall: function( a, b, c )
		{
			var d = a ? a.Ac : NaN;
			a = a ? a.Lt : NaN;
			isNaN( d ) && (d = .1);
			isNaN( a ) && (a = .3);
			var e = v.s();
			N( e, 0, 0, !0 );
			e.lineTo( (1 - a) * b, 0 );
			e.lineTo( 1 * b, .5 * c );
			e.lineTo( (1 - a) * b, 1 * c );
			e.lineTo( 0, 1 * c );
			P( e );
			b = e.o;
			b.B = new L( d, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( e );
			return b
		}, Subroutine: "Procedure", Procedure: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0,
					1 * c );
			P( d );
			N( d, (1 - a) * b, 0, !1 );
			d.lineTo( (1 - a) * b, 1 * c );
			d.moveTo( a * b, 0 );
			d.lineTo( a * b, 1 * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( a, 0 );
			b.C = new L( 1 - a, 1 );
			v.q( d );
			return b
		}, Process: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( 0, 1 * c );
			P( d );
			N( d, a * b, 0, !1 );
			d.lineTo( a * b, 1 * c );
			d.Ya( !1 );
			b = d.o;
			b.B = new L( a, 0 );
			b.C = Fb;
			v.q( d );
			return b
		}, Sort: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( .5 * b, 1 * c );
			a.lineTo( 0, .5 * c );
			P( a );
			N( a, 0, .5 * c, !1 );
			a.lineTo( 1 * b, .5 *
				c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, .25 );
			b.C = new L( .75, .5 );
			v.q( a );
			return b
		}, Start: function( a, b, c )
		{
			a = v.s();
			N( a, .25 * b, 0, !0 );
			N( a, .25 * b, 0, !0 );
			a.arcTo( 270, 180, .75 * b, .5 * c, .25 * b, .5 * c );
			a.arcTo( 90, 180, .25 * b, .5 * c, .25 * b, .5 * c );
			N( a, .25 * b, 0, !1 );
			a.lineTo( .25 * b, 1 * c );
			a.moveTo( .75 * b, 0 );
			a.lineTo( .75 * b, 1 * c );
			a.Ya( !1 );
			b = a.o;
			b.B = new L( .25, 0 );
			b.C = new L( .75, 1 );
			v.q( a );
			return b
		}, Terminator: function( a, b, c )
		{
			a = v.s();
			N( a, .25 * b, 0, !0 );
			a.arcTo( 270, 180, .75 * b, .5 * c, .25 * b, .5 * c );
			a.arcTo( 90, 180, .25 * b, .5 * c, .25 * b, .5 * c );
			b = a.o;
			b.B = new L( .23, 0 );
			b.C = new L( .77, 1 );
			v.q( a );
			return b
		}, TransmittalTape: function( a, b, c )
		{
			a = a ? a.Ac : NaN;
			isNaN( a ) && (a = .1);
			var d = v.s();
			N( d, 0, 0, !0 );
			d.lineTo( 1 * b, 0 );
			d.lineTo( 1 * b, 1 * c );
			d.lineTo( .75 * b, (1 - a) * c );
			d.lineTo( 0, (1 - a) * c );
			P( d );
			b = d.o;
			b.B = tb;
			b.C = new L( 1, 1 - a );
			v.q( d );
			return b
		}, AndGate: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 0, 0, !0 );
			a.lineTo( .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			b = a.o;
			b.B = tb;
			b.C = new L( .55, 1 );
			v.q( a );
			return b
		}, Buffer: function( a, b, c )
		{
			a = v.s();
			N( a,
				0, 0, !0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( 0, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( .5, .75 );
			v.q( a );
			return b
		}, Clock: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			N( a, 1 * b, .5 * c, !1 );
			a.lineTo( 1 * b, .5 * c );
			N( a, .8 * b, .75 * c, !1 );
			a.lineTo( .8 * b, .25 * c );
			a.lineTo( .6 * b, .25 * c );
			a.lineTo( .6 * b, .75 * c );
			a.lineTo( .4 * b, .75 * c );
			a.lineTo( .4 * b, .25 * c );
			a.lineTo( .2 * b, .25 * c );
			a.lineTo( .2 *
				b, .75 * c );
			a.Ya( !1 );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, Ground: function( a, b, c )
		{
			a = v.s();
			N( a, .5 * b, 0, !1 );
			a.lineTo( .5 * b, .4 * c );
			a.moveTo( .2 * b, .6 * c );
			a.lineTo( .8 * b, .6 * c );
			a.moveTo( .3 * b, .8 * c );
			a.lineTo( .7 * b, .8 * c );
			a.moveTo( .4 * b, 1 * c );
			a.lineTo( .6 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, Inverter: function( a, b, c )
		{
			a = v.s();
			var d = .1 * Wc;
			N( a, .8 * b, .5 * c, !0 );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( .8 * b, .5 * c );
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + d) * c, (.9 + d) * b, .6 * c, .9 * b, .6 * c );
			O( a, (.9 - d) * b, .6 * c, .8 * b, (.5 + d) * c, .8 * b, .5 * c );
			O( a, .8 * b, (.5 - d) * c, (.9 - d) * b, .4 *
				c, .9 * b, .4 * c );
			O( a, (.9 + d) * b, .4 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( .4, .75 );
			v.q( a );
			return b
		}, NandGate: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc, e = .4 * Wc, f = .1 * Wc;
			N( a, .8 * b, .5 * c, !0 );
			O( a, .8 * b, (.5 + e) * c, (.4 + d) * b, 1 * c, .4 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( .4 * b, 0 );
			O( a, (.4 + d) * b, 0, .8 * b, (.5 - e) * c, .8 * b, .5 * c );
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + f) * c, (.9 + f) * b, .6 * c, .9 * b, .6 * c );
			O( a, (.9 - f) * b, .6 * c, .8 * b, (.5 + f) * c, .8 * b, .5 * c );
			O( a, .8 * b, (.5 - f) * c, (.9 - f) * b, .4 * c, .9 * b, .4 * c );
			O( a, (.9 + f) * b, .4 * c, 1 * b, (.5 - f) * c, 1 * b, .5 *
				c );
			b = a.o;
			b.B = new L( 0, .05 );
			b.C = new L( .55, .95 );
			v.q( a );
			return b
		}, NorGate: function( a, b, c )
		{
			a = v.s();
			var d = .5, e = Wc * d, f = 0, h = .5;
			N( a, .8 * b, .5 * c, !0 );
			O( a, .7 * b, (h + e) * c, (f + e) * b, (h + d) * c, 0, 1 * c );
			O( a, .25 * b, .75 * c, .25 * b, .25 * c, 0, 0 );
			O( a, (f + e) * b, (h - d) * c, .7 * b, (h - e) * c, .8 * b, .5 * c );
			d = .1;
			e = .1 * Wc;
			f = .9;
			h = .5;
			N( a, (f - d) * b, h * c, !0 );
			O( a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c );
			O( a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c );
			O( a, (f + d) * b, (h + e) * c, (f + e) * b, (h + d) * c, f * b, (h + d) * c );
			O( a, (f - e) * b, (h + d) * c, (f - d) * b, (h + e) * c, (f - d) * b, h * c );
			b = a.o;
			b.B =
				new L( .2, .25 );
			b.C = new L( .6, .75 );
			v.q( a );
			return b
		}, OrGate: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 0, 0, !0 );
			O( a, (0 + d + d) * b, 0 * c, .8 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, .8 * b, (.5 + d) * c, (0 + d + d) * b, 1 * c, 0, 1 * c );
			O( a, .25 * b, .75 * c, .25 * b, .25 * c, 0, 0 );
			P( a );
			b = a.o;
			b.B = new L( .2, .25 );
			b.C = new L( .75, .75 );
			v.q( a );
			return b
		}, XnorGate: function( a, b, c )
		{
			a = v.s();
			var d = .5, e = Wc * d, f = .2, h = .5;
			N( a, .1 * b, 0, !1 );
			O( a, .35 * b, .25 * c, .35 * b, .75 * c, .1 * b, 1 * c );
			N( a, .8 * b, .5 * c, !0 );
			O( a, .7 * b, (h + e) * c, (f + e) * b, (h + d) * c, .2 * b, 1 * c );
			O( a, .45 * b, .75 * c, .45 * b, .25 * c, .2 * b, 0 );
			O( a, (f + e) *
				b, (h - d) * c, .7 * b, (h - e) * c, .8 * b, .5 * c );
			d = .1;
			e = .1 * Wc;
			f = .9;
			h = .5;
			N( a, (f - d) * b, h * c, !0 );
			O( a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c );
			O( a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c );
			O( a, (f + d) * b, (h + e) * c, (f + e) * b, (h + d) * c, f * b, (h + d) * c );
			O( a, (f - e) * b, (h + d) * c, (f - d) * b, (h + e) * c, (f - d) * b, h * c );
			b = a.o;
			b.B = new L( .4, .25 );
			b.C = new L( .65, .75 );
			v.q( a );
			return b
		}, XorGate: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, .1 * b, 0, !1 );
			O( a, .35 * b, .25 * c, .35 * b, .75 * c, .1 * b, 1 * c );
			N( a, .2 * b, 0, !0 );
			O( a, (.2 + d) * b, 0 * c, .9 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, .9 * b, (.5 + d) *
				c, (.2 + d) * b, 1 * c, .2 * b, 1 * c );
			O( a, .45 * b, .75 * c, .45 * b, .25 * c, .2 * b, 0 );
			P( a );
			b = a.o;
			b.B = new L( .4, .25 );
			b.C = new L( .8, .75 );
			v.q( a );
			return b
		}, Capacitor: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 0, 1 * c );
			a.moveTo( 1 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, Resistor: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .5 * c, !1 );
			a.lineTo( .1 * b, 0 );
			a.lineTo( .2 * b, 1 * c );
			a.lineTo( .3 * b, 0 );
			a.lineTo( .4 * b, 1 * c );
			a.lineTo( .5 * b, 0 );
			a.lineTo( .6 * b, 1 * c );
			a.lineTo( .7 * b, .5 * c );
			b = a.o;
			v.q( a );
			return b
		}, Inductor: function( a, b, c )
		{
			a = v.s();
			var d = .1 * Wc, e = .1;
			N( a, (e - .5 *
				d) * b, c, !1 );
			O( a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0 );
			e = .3;
			O( a, (e + .1) * b, 0, (e + d) * b, c, e * b, c );
			O( a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0 );
			e = .5;
			O( a, (e + .1) * b, 0, (e + d) * b, c, e * b, c );
			O( a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0 );
			e = .7;
			O( a, (e + .1) * b, 0, (e + d) * b, c, e * b, c );
			O( a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0 );
			e = .9;
			O( a, (e + .1) * b, 0, (e + d) * b, c, (e + .5 * d) * b, c );
			b = a.o;
			v.q( a );
			return b
		}, ACvoltageSource: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 0 * b, .5 * c, !1 );
			O( a, 0 * b, (.5 - d) * c, (.5 - d) * b, 0 * c, .5 * b, 0 * c );
			O( a, (.5 + d) * b, 0 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 + d) *
				c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0 * b, (.5 + d) * c, 0 * b, .5 * c );
			a.moveTo( .1 * b, .5 * c );
			O( a, .5 * b, 0 * c, .5 * b, 1 * c, .9 * b, .5 * c );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, DCvoltageSource: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .75 * c, !1 );
			a.lineTo( 0, .25 * c );
			a.moveTo( 1 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, Diode: function( a, b, c )
		{
			a = v.s();
			N( a, 1 * b, 0, !1 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			a.lineTo( 1 * b, .5 * c );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			b.B = new L( 0, .25 );
			b.C = new L( .5, .75 );
			v.q( a );
			return b
		}, Wifi: function( a, b, c )
		{
			var d = b, e = c;
			b *= .38;
			c *= .6;
			a = v.s();
			var f = .8 * Wc, h = .8, k = 0, l = .5, d = (d - b) / 2, e = (e - c) / 2;
			N( a, k * b + d, (l + h) * c + e, !0 );
			O( a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e );
			O( a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e );
			O( a, k * b + d, (l - h) * c + e, (k - h + .5 * f) * b + d, (l - f) * c + e, (k - h + .5 * f) * b + d, l * c + e );
			O( a, (k - h + .5 * f) * b + d, (l + f) * c + e, k * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e );
			P( a );
			f = .4 * Wc;
			h = .4;
			k = .2;
			l = .5;
			N( a, k * b + d, (l + h) * c + e, !0 );
			O( a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e );
			O( a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k *
				b + d, (l - h) * c + e );
			O( a, k * b + d, (l - h) * c + e, (k - h + .5 * f) * b + d, (l - f) * c + e, (k - h + .5 * f) * b + d, l * c + e );
			O( a, (k - h + .5 * f) * b + d, (l + f) * c + e, k * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e );
			P( a );
			f = .2 * Wc;
			h = .2;
			l = k = .5;
			N( a, (k - h) * b + d, l * c + e, !0 );
			O( a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e );
			O( a, (k + f) * b + d, (l - h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e );
			O( a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e );
			O( a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e );
			f = .4 * Wc;
			h = .4;
			k = .8;
			l = .5;
			N( a, k * b + d, (l - h) * c + e, !0 );
			O( a, (k + f) * b + d, (l -
				h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e );
			O( a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e );
			O( a, k * b + d, (l + h) * c + e, (k + h - .5 * f) * b + d, (l + f) * c + e, (k + h - .5 * f) * b + d, l * c + e );
			O( a, (k + h - .5 * f) * b + d, (l - f) * c + e, k * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e );
			P( a );
			f = .8 * Wc;
			h = .8;
			k = 1;
			l = .5;
			N( a, k * b + d, (l - h) * c + e, !0 );
			O( a, (k + f) * b + d, (l - h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e );
			O( a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e );
			O( a, k * b + d, (l + h) * c + e, (k + h - .5 * f) * b + d, (l + f) * c + e, (k + h - .5 * f) * b + d, l * c + e );
			O( a, (k + h - .5 * f) * b + d, (l - f) * c +
				e, k * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, Email: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !0 );
			a.lineTo( 1 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, 0 );
			P( a );
			N( a, 0, 0, !1 );
			a.lineTo( .5 * b, .6 * c );
			a.lineTo( 1 * b, 0 );
			a.moveTo( 0, 1 * c );
			a.lineTo( .45 * b, .54 * c );
			a.moveTo( 1 * b, 1 * c );
			a.lineTo( .55 * b, .54 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		}, Ethernet: function( a, b, c )
		{
			a = v.s();
			N( a, .35 * b, 0, !0 );
			a.lineTo( .65 * b, 0 );
			a.lineTo( .65 * b, .4 * c );
			a.lineTo( .35 * b, .4 * c );
			a.lineTo( .35 * b, 0 );
			P( a );
			N( a, .1 * b, 1 * c, !0, !0 );
			a.lineTo( .4 * b, 1 * c );
			a.lineTo( .4 * b, .6 * c );
			a.lineTo( .1 * b, .6 * c );
			a.lineTo( .1 * b, 1 * c );
			P( a );
			N( a, .6 * b, 1 * c, !0, !0 );
			a.lineTo( .9 * b, 1 * c );
			a.lineTo( .9 * b, .6 * c );
			a.lineTo( .6 * b, .6 * c );
			a.lineTo( .6 * b, 1 * c );
			P( a );
			N( a, 0, .5 * c, !1 );
			a.lineTo( 1 * b, .5 * c );
			a.moveTo( .5 * b, .5 * c );
			a.lineTo( .5 * b, .4 * c );
			a.moveTo( .75 * b, .5 * c );
			a.lineTo( .75 * b, .6 * c );
			a.moveTo( .25 * b, .5 * c );
			a.lineTo( .25 * b, .6 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		}, Power: function( a, b, c )
		{
			a = v.s();
			var d = .4 * Wc, e = .4, f = v.L(), h = v.L(), k = v.L(), l = v.L();
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .5, f, f, h, k, l );
			var m = v.Mb( h.x,
				h.y );
			N( a, h.x * b, h.y * c, !0 );
			O( a, k.x * b, k.y * c, l.x * b, l.y * c, (.5 + e) * b, .5 * c );
			O( a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c );
			O( a, (.5 - d) * b, (.5 + e) * c, (.5 - e) * b, (.5 + d) * c, (.5 - e) * b, .5 * c );
			Sd( .5 - e, .5, .5 - e, .5 - d, .5 - d, .5 - e, .5, .5 - e, .5, k, l, h, f, f );
			O( a, k.x * b, k.y * c, l.x * b, l.y * c, h.x * b, h.y * c );
			d = .3 * Wc;
			e = .3;
			Sd( .5 - e, .5, .5 - e, .5 - d, .5 - d, .5 - e, .5, .5 - e, .5, k, l, h, f, f );
			a.lineTo( h.x * b, h.y * c );
			O( a, l.x * b, l.y * c, k.x * b, k.y * c, (.5 - e) * b, .5 * c );
			O( a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c );
			O( a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 +
				e) * b, .5 * c );
			Sd( .5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .5, f, f, h, k, l );
			O( a, l.x * b, l.y * c, k.x * b, k.y * c, h.x * b, h.y * c );
			P( a );
			N( a, .45 * b, 0, !0 );
			a.lineTo( .45 * b, .5 * c );
			a.lineTo( .55 * b, .5 * c );
			a.lineTo( .55 * b, 0 );
			P( a );
			v.v( f );
			v.v( h );
			v.v( k );
			v.v( l );
			v.v( m );
			b = a.o;
			b.B = new L( .25, .55 );
			b.C = new L( .75, .8 );
			v.q( a );
			return b
		}, Fallout: function( a, b, c )
		{
			a = v.s();
			var d = .5 * Wc;
			N( a, 0 * b, .5 * c, !0 );
			O( a, 0 * b, (.5 - d) * c, (.5 - d) * b, 0 * c, .5 * b, 0 * c );
			O( a, (.5 + d) * b, 0 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0 * b, (.5 + d) * c, 0 * b,
					.5 * c );
			var e = d = 0;
			N( a, (.3 + d) * b, (.8 + e) * c, !0, !0 );
			a.lineTo( (.5 + d) * b, (.5 + e) * c );
			a.lineTo( (.1 + d) * b, (.5 + e) * c );
			a.lineTo( (.3 + d) * b, (.8 + e) * c );
			d = .4;
			e = 0;
			P( a );
			N( a, (.3 + d) * b, (.8 + e) * c, !0, !0 );
			a.lineTo( (.5 + d) * b, (.5 + e) * c );
			a.lineTo( (.1 + d) * b, (.5 + e) * c );
			a.lineTo( (.3 + d) * b, (.8 + e) * c );
			d = .2;
			e = -.3;
			P( a );
			N( a, (.3 + d) * b, (.8 + e) * c, !0, !0 );
			a.lineTo( (.5 + d) * b, (.5 + e) * c );
			a.lineTo( (.1 + d) * b, (.5 + e) * c );
			a.lineTo( (.3 + d) * b, (.8 + e) * c );
			P( a );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}, IrritationHazard: function( a, b, c )
		{
			a = v.s();
			N( a, .2 * b, 0 * c, !0 );
			a.lineTo( .5 * b, .3 * c );
			a.lineTo( .8 *
				b, 0 * c );
			a.lineTo( 1 * b, .2 * c );
			a.lineTo( .7 * b, .5 * c );
			a.lineTo( 1 * b, .8 * c );
			a.lineTo( .8 * b, 1 * c );
			a.lineTo( .5 * b, .7 * c );
			a.lineTo( .2 * b, 1 * c );
			a.lineTo( 0 * b, .8 * c );
			a.lineTo( .3 * b, .5 * c );
			a.lineTo( 0 * b, .2 * c );
			P( a );
			b = a.o;
			b.B = new L( .3, .3 );
			b.C = new L( .7, .7 );
			v.q( a );
			return b
		}, ElectricalHazard: function( a, b, c )
		{
			a = v.s();
			N( a, .37 * b, 0 * c, !0 );
			a.lineTo( .5 * b, .11 * c );
			a.lineTo( .77 * b, .04 * c );
			a.lineTo( .33 * b, .49 * c );
			a.lineTo( 1 * b, .37 * c );
			a.lineTo( .63 * b, .86 * c );
			a.lineTo( .77 * b, .91 * c );
			a.lineTo( .34 * b, 1 * c );
			a.lineTo( .34 * b, .78 * c );
			a.lineTo( .44 * b, .8 * c );
			a.lineTo( .65 *
				b, .56 * c );
			a.lineTo( 0 * b, .68 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, FireHazard: function( a, b, c )
		{
			a = v.s();
			N( a, .1 * b, 1 * c, !0 );
			O( a, -.25 * b, .63 * c, .45 * b, .44 * c, .29 * b, 0 * c );
			O( a, .48 * b, .17 * c, .54 * b, .35 * c, .51 * b, .42 * c );
			O( a, .59 * b, .29 * c, .58 * b, .28 * c, .59 * b, .18 * c );
			O( a, .8 * b, .34 * c, .88 * b, .43 * c, .75 * b, .6 * c );
			O( a, .87 * b, .48 * c, .88 * b, .43 * c, .88 * b, .31 * c );
			O( a, 1.17 * b, .76 * c, .82 * b, .8 * c, .9 * b, 1 * c );
			P( a );
			b = a.o;
			b.B = new L( .05, .645 );
			b.C = new L( .884, .908 );
			v.q( a );
			return b
		}, BpmnActivityLoop: function( a, b, c )
		{
			a = v.s();
			var d = 4 * (Math.SQRT2 - 1) / 3 * .5;
			N( a, .65 * b, 1 * c,
				!1 );
			O( a, (1 - d + 0) * b, 1 * c, 1 * b, (.5 + d + 0) * c, 1 * b, .5 * c );
			O( a, 1 * b, (.5 - d + 0) * c, (.5 + d + 0) * b, 0 * c, .5 * b, 0 * c );
			O( a, (.5 - d + 0) * b, 0 * c, 0 * b, (.5 - d + 0) * c, 0 * b, .5 * c );
			O( a, 0 * b, (.5 + d + 0) * c, (.5 - d + 0) * b, 1 * c, .35 * b, .98 * c );
			a.moveTo( .25 * b, .8 * c );
			a.lineTo( .35 * b, 1 * c );
			a.lineTo( .1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, BpmnActivityParallel: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 0, 1 * c );
			a.moveTo( .5 * b, 0 );
			a.lineTo( .5 * b, 1 * c );
			a.moveTo( 1 * b, 0 );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, BpmnActivitySequential: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			a.lineTo( 1 *
				b, 0 );
			a.moveTo( 0, .5 * c );
			a.lineTo( 1 * b, .5 * c );
			a.moveTo( 0, 1 * c );
			a.lineTo( 1 * b, 1 * c );
			b = a.o;
			v.q( a );
			return b
		}, BpmnActivityAdHoc: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			N( a, 1 * b, 1 * c, !1 );
			N( a, 0, .5 * c, !1 );
			O( a, .2 * b, .35 * c, .3 * b, .35 * c, .5 * b, .5 * c );
			O( a, .7 * b, .65 * c, .8 * b, .65 * c, 1 * b, .5 * c );
			b = a.o;
			v.q( a );
			return b
		}, BpmnActivityCompensation: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .5 * c, !0 );
			a.lineTo( .5 * b, 0 );
			a.lineTo( .5 * b, .5 * c );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 1 * b, 0 );
			a.lineTo( .5 * b, .5 * c );
			a.lineTo( .5 * b, 1 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, BpmnTaskMessage: function( a, b, c )
		{
			a = v.s();
			N( a, 0, .2 * c, !0 );
			a.lineTo( 1 * b, .2 * c );
			a.lineTo( 1 * b, .8 * c );
			a.lineTo( 0, .8 * c );
			a.lineTo( 0, .8 * c );
			P( a );
			N( a, 0, .2 * c, !1 );
			a.lineTo( .5 * b, .5 * c );
			a.lineTo( 1 * b, .2 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		}, BpmnTaskScript: function( a, b, c )
		{
			a = v.s();
			N( a, .7 * b, 1 * c, !0 );
			a.lineTo( .3 * b, 1 * c );
			O( a, .6 * b, .5 * c, 0, .5 * c, .3 * b, 0 );
			a.lineTo( .7 * b, 0 );
			O( a, .4 * b, .5 * c, 1 * b, .5 * c, .7 * b, 1 * c );
			P( a );
			N( a, .45 * b, .73 * c, !1 );
			a.lineTo( .7 * b, .73 * c );
			a.moveTo( .38 * b, .5 * c );
			a.lineTo( .63 * b, .5 * c );
			a.moveTo( .31 * b, .27 * c );
			a.lineTo( .56 * b, .27 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		},
		BpmnTaskUser: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			N( a, .335 * b, (1 - .555) * c, !0 );
			a.lineTo( .335 * b, .595 * c );
			a.lineTo( .665 * b, .595 * c );
			a.lineTo( .665 * b, (1 - .555) * c );
			O( a, .88 * b, .46 * c, .98 * b, .54 * c, 1 * b, .68 * c );
			a.lineTo( 1 * b, 1 * c );
			a.lineTo( 0, 1 * c );
			a.lineTo( 0, .68 * c );
			O( a, .02 * b, .54 * c, .12 * b, .46 * c, .335 * b, (1 - .555) * c );
			a.lineTo( .365 * b, .405 * c );
			var d = .5 - .285, e = Math.PI / 4, f = 4 * (1 - Math.cos( e )) / (3 * Math.sin( e )), e = f * d, f = f * d;
			O( a, (.5 - (e + d) / 2) * b, (d + (d + f) / 2) * c, (.5 - d) * b, (d + f) * c, (.5 - d) * b, d * c );
			O( a, (.5 - d) * b, (d - f) * c, (.5 - e) * b, (d - d) * c, .5 * b, (d - d) * c );
			O( a, (.5 + e) * b, (d - d) * c, (.5 + d) * b, (d - f) * c, (.5 + d) * b, d * c );
			O( a, (.5 + d) * b, (d + f) * c, (.5 + (e + d) / 2) * b, (d + (d + f) / 2) * c, .635 * b, .405 * c );
			a.lineTo( .635 * b, .405 * c );
			a.lineTo( .665 * b, (1 - .555) * c );
			a.lineTo( .665 * b, .595 * c );
			a.lineTo( .335 * b, .595 * c );
			N( a, .2 * b, 1 * c, !1 );
			a.lineTo( .2 * b, .8 * c );
			N( a, .8 * b, 1 * c, !1 );
			a.lineTo( .8 * b, .8 * c );
			b = a.o;
			v.q( a );
			return b
		}, BpmnEventConditional: function( a, b, c )
		{
			a = v.s();
			N( a, .1 * b, 0, !0 );
			a.lineTo( .9 * b, 0 );
			a.lineTo( .9 * b, 1 * c );
			a.lineTo( .1 * b, 1 * c );
			P( a );
			N( a, .2 * b, .2 * c, !1 );
			a.lineTo( .8 * b, .2 * c );
			a.moveTo( .2 * b, .4 * c );
			a.lineTo( .8 *
				b, .4 * c );
			a.moveTo( .2 * b, .6 * c );
			a.lineTo( .8 * b, .6 * c );
			a.moveTo( .2 * b, .8 * c );
			a.lineTo( .8 * b, .8 * c );
			a.Ya( !1 );
			b = a.o;
			v.q( a );
			return b
		}, BpmnEventError: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 1 * c, !0 );
			a.lineTo( .33 * b, 0 );
			a.lineTo( .66 * b, .5 * c );
			a.lineTo( 1 * b, 0 );
			a.lineTo( .66 * b, 1 * c );
			a.lineTo( .33 * b, .5 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, BpmnEventEscalation: function( a, b, c )
		{
			a = v.s();
			N( a, 0, 0, !1 );
			N( a, 1 * b, 1 * c, !1 );
			N( a, .1 * b, 1 * c, !0 );
			a.lineTo( .5 * b, 0 );
			a.lineTo( .9 * b, 1 * c );
			a.lineTo( .5 * b, .5 * c );
			P( a );
			b = a.o;
			v.q( a );
			return b
		}, BpmnEventTimer: function( a, b, c )
		{
			a =
				v.s();
			var d = .5 * Wc;
			N( a, 1 * b, .5 * c, !0 );
			O( a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c );
			O( a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c );
			O( a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0 );
			O( a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c );
			N( a, .5 * b, 0, !1 );
			a.lineTo( .5 * b, .15 * c );
			a.moveTo( .5 * b, 1 * c );
			a.lineTo( .5 * b, .85 * c );
			a.moveTo( 0, .5 * c );
			a.lineTo( .15 * b, .5 * c );
			a.moveTo( 1 * b, .5 * c );
			a.lineTo( .85 * b, .5 * c );
			a.moveTo( .5 * b, .5 * c );
			a.lineTo( .58 * b, .1 * c );
			a.moveTo( .5 * b, .5 * c );
			a.lineTo( .78 * b, .54 * c );
			a.Ya( !1 );
			b = a.o;
			b.Od = Pi;
			v.q( a );
			return b
		}}, Wo;
	for( Wo in ko )ko[Wo.toLowerCase()] = Wo;
	var Xo = {"": "", Standard: "F1 m 0,0 l 8,4 -8,4 2,-4 z", Backward: "F1 m 8,0 l -2,4 2,4 -8,-4 z", Triangle: "F1 m 0,0 l 8,4.62 -8,4.62 z", BackwardTriangle: "F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z", Boomerang: "F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z", BackwardBoomerang: "F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z", SidewaysV: "m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z", BackwardV: "m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z", OpenTriangle: "m 0,0 l 8,4 -8,4", BackwardOpenTriangle: "m 8,0 l -8,4 8,4", OpenTriangleLine: "m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",
		BackwardOpenTriangleLine: "m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8", OpenTriangleTop: "m 0,0 l 8,4 m 0,4", BackwardOpenTriangleTop: "m 8,0 l -8,4 m 0,4", OpenTriangleBottom: "m 0,8 l 8,-4", BackwardOpenTriangleBottom: "m 0,4 l 8,4", HalfTriangleTop: "F1 m 0,0 l 0,4 8,0 z m 0,8", BackwardHalfTriangleTop: "F1 m 8,0 l 0,4 -8,0 z m 0,8", HalfTriangleBottom: "F1 m 0,4 l 0,4 8,-4 z", BackwardHalfTriangleBottom: "F1 m 8,4 l 0,4 -8,-4 z", ForwardSemiCircle: "m 4,0 b 270 180 0 4 4", BackwardSemiCircle: "m 4,8 b 90 180 0 -4 4", Feather: "m 0,0 l 3,4 -3,4",
		BackwardFeather: "m 3,0 l -3,4 3,4", DoubleFeathers: "m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4", BackwardDoubleFeathers: "m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4", TripleFeathers: "m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4", BackwardTripleFeathers: "m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4", ForwardSlash: "m 0,8 l 5,-8", BackSlash: "m 0,0 l 5,8", DoubleForwardSlash: "m 0,8 l 4,-8 m -2,8 l 4,-8", DoubleBackSlash: "m 0,0 l 4,8 m -2,-8 l 4,8", TripleForwardSlash: "m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",
		TripleBackSlash: "m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8", Fork: "m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4", BackwardFork: "m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4", LineFork: "m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4", BackwardLineFork: "m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8", CircleFork: "F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4", BackwardCircleFork: "F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3", CircleLineFork: "F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",
		BackwardCircleLineFork: "F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3", Circle: "F1 m 8,4 b 0 360 -4 0 4 z", Block: "F1 m 0,0 l 0,8 8,0 0,-8 z", StretchedDiamond: "F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z", Diamond: "F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z", Chevron: "F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z", StretchedChevron: "F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z", NormalArrow: "F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z", X: "m 0,0 l 8,8 m 0,-8 l -8,8", TailedNormalArrow: "F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",
		DoubleTriangle: "F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z", BigEndArrow: "F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z", ConcaveTailArrow: "F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z", RoundedTriangle: "F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z", SimpleArrow: "F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z", AccelerationArrow: "F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z", BoxArrow: "F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
		TriangleLine: "F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8", CircleEndedArrow: "F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z", DynamicWidthArrow: "F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z", EquilibriumArrow: "m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3", FastForward: "F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z", Kite: "F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z", HalfArrowTop: "F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8", HalfArrowBottom: "F1 m 0,8 l 4,-4 4,0 -8,4 z",
		OpposingDirectionDoubleArrow: "F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z", PartialDoubleTriangle: "F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z", LineCircle: "F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z", DoubleLineCircle: "F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z", TripleLineCircle: "F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z", CircleLine: "F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8", DiamondCircle: "F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z", PlusCircle: "F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
		OpenRightTriangleTop: "m 8,0 l 0,4 -8,0 m 0,4", OpenRightTriangleBottom: "m 8,8 l 0,-4 -8,0", Line: "m 0,0 l 0,8", DoubleLine: "m 0,0 l 0,8 m 2,0 l 0,-8", TripleLine: "m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8", PentagonArrow: "F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};

	function oo( a )
	{
		if( null !== Xo )
		{
			for( var b in Xo )
			{
				var c = bf( Xo[b], !1 );
				Gd[b] = c;
				b.toLowerCase() !== b && (Gd[b.toLowerCase()] = b)
			}
			Xo = null
		}
		b = Gd[a];
		if( void 0 === b )
		{
			b = a.toLowerCase();
			if( "none" === b )return"None";
			b = Gd[b]
		}
		return"string" === typeof b ? b : b instanceof re ? a : null
	}

	function R( a )
	{
		0 === arguments.length ? D.call( this ) : D.call( this, a );
		this.Q = 311807;
		this.Ik = this.fi = "";
		this.Xr = this.Ur = this.gs = this.dr = null;
		this.js = "";
		this.di = this.hs = this.qm = null;
		this.Wr = "";
		this.oo = null;
		this.Vr = Bd;
		this.Yr = "";
		this.po = null;
		this.me = "";
		this.kv = this.gq = this.uk = null;
		this.yi = (new y( NaN, NaN )).freeze();
		this.ir = "";
		this.Nk = null;
		this.jr = tb;
		this.sr = hd;
		this.lr = id;
		this.zq = null;
		this.er = Yo;
		this.sm = gd;
		this.rm = "gray";
		this.pg = 4;
		this.YB = -1;
		this.Ls = NaN;
		this.xF = new B;
		this.em = null;
		this.xj = NaN
	}

	v.Ia( R, D );
	v.ea( "Part", R );
	R.prototype.cloneProtected = function( a )
	{
		D.prototype.cloneProtected.call( this, a );
		a.Q = this.Q & -4097 | 49152;
		a.fi = this.fi;
		a.Ik = this.Ik;
		a.dr = this.dr;
		a.gs = this.gs;
		a.Ur = this.Ur;
		a.Xr = this.Xr;
		a.js = this.js;
		a.hs = this.hs;
		a.di = null;
		a.Wr = this.Wr;
		a.Vr = this.Vr.R();
		a.Yr = this.Yr;
		a.me = this.me;
		a.gq = this.gq;
		a.yi.assign( this.yi );
		a.ir = this.ir;
		a.jr = this.jr.R();
		a.sr = this.sr.R();
		a.lr = this.lr.R();
		a.zq = this.zq;
		a.er = this.er;
		a.sm = this.sm.R();
		a.rm = this.rm;
		a.pg = this.pg;
		a.Ls = this.Ls
	};
	R.prototype.Xh = function( a )
	{
		D.prototype.Xh.call( this, a );
		a.ql();
		a.qm = null;
		a.oo = null;
		a.po = null;
		a.Nk = null;
		a.em = null
	};
	R.prototype.toString = function()
	{
		var a = v.af( Object.getPrototypeOf( this ) ) + "#" + v.md( this );
		null !== this.data && (a += "(" + Ef( this.data ) + ")");
		return a
	};
	R.LayoutNone = 0;
	var ml;
	R.LayoutAdded = ml = 1;
	var ul;
	R.LayoutRemoved = ul = 2;
	R.LayoutShown = 4;
	R.LayoutHidden = 8;
	R.LayoutNodeSized = 16;
	var Yl;
	R.LayoutGroupLayout = Yl = 32;
	R.LayoutNodeReplaced = 64;
	var Yo;
	R.LayoutStandard = Yo = ml | ul | 28 | Yl | 64;
	R.LayoutAll = 16777215;
	R.prototype.$m = function( a, b, c, d, e, f, h )
	{
		var k = this.g;
		null !== k && (a === Cf && "elements" === b ? e instanceof D ? nl( e, function( a )
		{
			pl( k, a );
			ol( k, a )
		} ) : e instanceof kk && Kl( k, e ) : a === Df && "elements" === b && (e instanceof D ? nl( e, function( a )
		{
			tl( k, a );
			sl( k, a )
		} ) : e instanceof kk && Ll( k, e )), k.Lc( a, b, c, d, e, f, h ))
	};
	R.prototype.updateTargetBindings = R.prototype.Hb = function( a )
	{
		D.prototype.Hb.call( this, a );
		if( null !== this.data )
		{
			a = this.xa.n;
			for( var b = a.length, c = 0; c < b; c++ )
			{
				var d = a[c];
				d instanceof D && nl( d, function( a )
				{
					null !== a.data && a.Hb()
				} )
			}
		}
	};
	R.prototype.updateRelationshipsFromData = function()
	{
		var a = this.data;
		if( null !== a )
		{
			var b = this.g;
			if( null !== b )
			{
				var c = b.ba;
				if( c instanceof Q )
				{
					var d = c.Nm( a ), b = b.OG( d ), e = this.Sa;
					b !== e && (b = null !== e ? c.gb( e.data ) : void 0, e = c.tp, "function" === typeof e ? e( a, b ) : a[e] = b, c.kx( a, d ))
				}
			}
		}
	};
	v.u( R, {fw: "adornments"}, function()
	{
		return null === this.di ? xa : this.di.kE
	} );
	R.prototype.findAdornment = R.prototype.Uo = function( a )
	{
		var b = this.di;
		return null === b ? null : b.ja( a )
	};
	R.prototype.addAdornment = R.prototype.Wk = function( a, b )
	{
		if( null !== b )
		{
			var c = null, d = this.di;
			null !== d && (c = d.ja( a ));
			if( c !== b )
			{
				if( null !== c )
				{
					var e = c.g;
					null !== e && e.remove( c )
				}
				null === d && (this.di = d = new na( "string", Tg ));
				b.fi !== a && (b.gc = a);
				d.add( a, b );
				c = this.g;
				null !== c && (c.add( b ), b.data = this.data)
			}
		}
	};
	R.prototype.removeAdornment = R.prototype.$i = function( a )
	{
		var b = this.di;
		if( null !== b )
		{
			var c = b.ja( a );
			if( null !== c )
			{
				var d = c.g;
				null !== d && d.remove( c )
			}
			b.remove( a );
			0 === b.count && (this.di = null)
		}
	};
	R.prototype.clearAdornments = R.prototype.Us = function()
	{
		var a = this.di;
		if( null !== a )
		{
			for( var b = v.jb(), a = a.i; a.next(); )b.push( a.key );
			for( var a = b.length, c = 0; c < a; c++ )this.$i( b[c] );
			v.sa( b )
		}
	};
	R.prototype.updateAdornments = function()
	{
		var a = this.g;
		if( null !== a )
		{
			a:{
				if( this.hb && this.sI )
				{
					var b = this.Vt;
					if( !(null !== b && this.V.G() && this.isVisible() && b.wl() && b.V.G()) )break a;
					var c = this.Uo( "Selection" );
					if( null === c )
					{
						c = this.tI;
						null === c && (c = this instanceof W ? a.FH : this instanceof V ? a.$G : a.WH);
						if( !(c instanceof Tg) )break a;
						Vg( c );
						c = c.copy();
						null !== c && (c.gc = "Selection", c.Yb = b)
					}
					if( null !== c )
					{
						var d = c.placeholder;
						if( null !== d )
						{
							var e = b.Ti(), f = 0;
							b instanceof X && (f = b.lb);
							var h = v.Fl();
							h.m( (b.Ha.width + f) * e, (b.Ha.height +
								f) * e );
							d.ya = h;
							v.Yj( h )
						}
						c.angle = b.nl();
						c.type !== xi && (d = v.L(), c.location = b.Xa( tb, d ), v.v( d ));
						this.Wk( "Selection", c );
						break a
					}
				}
				this.$i( "Selection" )
			}
			Zo( this, a );
			for( a = this.fw; a.next(); )b = a.value, b.Hb(), b.P()
		}
	};
	function Zo( a, b )
	{
		b.Za.Oe.each( function( b )
		{
			b.isEnabled && b.updateAdornments( a )
		} );
		b.Za.updateAdornments( a )
	}

	v.u( R, {layer: "layer"}, function()
	{
		return this.kv
	} );
	v.u( R, {g: "diagram"}, function()
	{
		var a = this.kv;
		return null !== a ? a.g : null
	} );
	v.defineProperty( R, {Uf: "layerName"}, function()
	{
		return this.Ik
	}, function( a )
	{
		var b = this.Ik;
		if( b !== a )
		{
			v.j( a, "string", R, "layerName" );
			var c = this.g;
			if( null === c || null !== c.ct( a ) && !c.Qp )if( this.Ik = a, null !== c && c.pc(), this.h( "layerName", b, a ), b = this.layer, null !== b && b.name !== a && (c = b.g, null !== c && (a = c.ct( a ), null !== a && a !== b)) )
			{
				var d = b.Me( -1, this, !0 );
				0 <= d && c.Lc( Df, "parts", b, this, null, d, !0 );
				b.visible !== a.visible && this.od( a.visible );
				d = a.dp( 99999999, this, !0 );
				0 <= d && c.Lc( Cf, "parts", a, null, this, !0, d );
				d = this.yt;
				if( null !==
					d )
				{
					var e = c.Qa;
					c.Qa = !0;
					d( this, b, a );
					c.Qa = e
				}
			}
		}
	} );
	v.defineProperty( R, {yt: "layerChanged"}, function()
	{
		return this.dr
	}, function( a )
	{
		var b = this.dr;
		b !== a && (null !== a && v.j( a, "function", R, "layerChanged" ), this.dr = a, this.h( "layerChanged", b, a ))
	} );
	v.defineProperty( R, {kn: "zOrder"}, function()
	{
		return this.Ls
	}, function( a )
	{
		var b = this.Ls;
		if( b !== a )
		{
			v.j( a, "number", R, "zOrder" );
			this.Ls = a;
			var c = this.layer;
			null !== c && bk( c, -1, this );
			this.h( "zOrder", b, a );
			a = this.g;
			null !== a && a.pa()
		}
	} );
	R.prototype.invalidateAdornments = R.prototype.Qd = function()
	{
		var a = this.g;
		null !== a && (xk( a ), 0 !== (this.Q & 16384) !== !0 && (this.Q |= 16384, a.ve()))
	};
	function Xj( a )
	{
		0 !== (a.Q & 16384) !== !1 && (a.updateAdornments(), a.Q &= -16385)
	}

	function Wm( a )
	{
		if( !1 === fl( a ) )
		{
			var b = a.g;
			null !== b && (b.gg.add( a ), a instanceof S && !b.la.ib && a.cf(), b.ve());
			$o( a, !0 );
			a.ti()
		}
	}

	function ap( a )
	{
		if( !1 !== fl( a ) )
		{
			var b = a.position, c = a.location;
			c.G() && b.G() || bp( a, b, c );
			var c = a.mc, d = c.copy();
			c.Oa();
			c.x = b.x;
			c.y = b.y;
			c.freeze();
			a.Sw( d, c );
			$o( a, !1 )
		}
	}

	v.u( R, {bc: "locationObject"}, function()
	{
		if( null === this.Nk )
		{
			var a = this.Hz;
			"" !== a ? (a = this.de( a ), this.Nk = null !== a ? a : this) : this.Nk = this instanceof Tg ? this.type !== xi && null !== this.placeholder ? this.placeholder : this : this
		}
		return this.Nk.visible ? this.Nk : this
	} );
	v.defineProperty( R, {PH: "minLocation"}, function()
	{
		return this.sr
	}, function( a )
	{
		var b = this.sr;
		b.K( a ) || (this.sr = a = a.R(), this.h( "minLocation", b, a ))
	} );
	v.defineProperty( R, {KH: "maxLocation"}, function()
	{
		return this.lr
	}, function( a )
	{
		var b = this.lr;
		b.K( a ) || (this.lr = a = a.R(), this.h( "maxLocation", b, a ))
	} );
	v.defineProperty( R, {Hz: "locationObjectName"}, function()
	{
		return this.ir
	}, function( a )
	{
		var b = this.ir;
		b !== a && (this.ir = a, this.Nk = null, Qm( this ), this.h( "locationObjectName", b, a ))
	} );
	v.defineProperty( R, {ef: "locationSpot"}, function()
	{
		return this.jr
	}, function( a )
	{
		var b = this.jr;
		b.K( a ) || (this.jr = a = a.R(), Qm( this ), this.h( "locationSpot", b, a ))
	} );
	R.prototype.move = function( a )
	{
		this.position = a
	};
	R.prototype.moveTo = R.prototype.moveTo = function( a, b )
	{
		var c = v.Mb( a, b );
		this.move( c );
		v.v( c )
	};
	R.prototype.isVisible = function()
	{
		if( !this.visible )return!1;
		var a = this.layer;
		if( null !== a && !a.visible )return!1;
		a = this.g;
		if( null !== a && (a = a.Na, a.df && (a = a.gm.ja( this ), null !== a && a.$w)) )return!0;
		a = this.Sa;
		return null === a || a.fe && a.isVisible() ? !0 : !1
	};
	R.prototype.od = function( a )
	{
		var b = this.g;
		a ? (this.H( 4 ), this.Qd(), null !== b && b.gg.add( this )) : (this.H( 8 ), this.Us());
		this.ql();
		null !== b && (b.pc(), b.pa())
	};
	R.prototype.findObject = R.prototype.de = function( a )
	{
		if( this.name === a )return this;
		var b = this.em;
		null === b && (this.em = b = new ta);
		if( void 0 !== b[a] )return b[a];
		for( var c = this.xa.n, d = c.length, e = 0; e < d; e++ )
		{
			var f = c[e];
			if( f.name === a )return b[a] = f;
			if( f instanceof D )if( null === f.sj && null === f.ig )
			{
				if( f = f.de( a ), null !== f )return b[a] = f
			}
			else if( Il( f ) && (f = f.xa.first(), null !== f && f.name === a) )return b[a] = f
		}
		return b[a] = null
	};
	function cp( a, b, c, d )
	{
		void 0 === d && (d = new y);
		c = c.te() ? Ab : c;
		var e = b.Ha;
		d.m( e.width * c.x + c.offsetX, e.height * c.y + c.offsetY );
		if( null === b || b === a )return d;
		b.transform.ub( d );
		for( b = b.U; null !== b && b !== a; )b.transform.ub( d ), b = b.U;
		a.Mk.ub( d );
		d.offset( -a.kd.x, -a.kd.y );
		return d
	}

	R.prototype.ensureBounds = R.prototype.tf = function()
	{
		fj( this, Infinity, Infinity );
		this.Ec()
	};
	function ak( a, b )
	{
		var c = a.xF, d;
		isNaN( a.xj ) && (a.xj = ao( a ));
		d = a.xj;
		var e = 2 * d;
		if( !a.vl )return c.m( b.x - 1 - d, b.y - 1 - d, b.width + 2 + e, b.height + 2 + e ), c;
		d = b.x;
		var e = b.y, f = b.width, h = b.height, k = a.shadowBlur, l = a.yI, f = f + k, h = h + k;
		d -= k / 2;
		e -= k / 2;
		0 < l.x ? f += l.x : (d += l.x, f -= l.x);
		0 < l.y ? h += l.y : (e += l.y, h -= l.y);
		c.m( d - 1, e - 1, f + 2, h + 2 );
		return c
	}

	R.prototype.Ec = function()
	{
		this.ti();
		if( !1 === el( this ) )ap( this );
		else
		{
			var a = this.mc, b = v.bg();
			b.assign( a );
			a.Oa();
			var c = Wj( this );
			this.Ni( 0, 0, this.kd.width, this.kd.height );
			var d = this.position;
			bp( this, d, this.location );
			a.x = d.x;
			a.y = d.y;
			a.freeze();
			this.Sw( b, a );
			b.K( a ) ? this.zf( c ) : !this.Rd() || K( b.width, a.width ) && K( b.height, a.height ) || 0 <= this.YB && this.H( 16 );
			v.Vb( b );
			$o( this, !1 )
		}
	};
	R.prototype.Sw = function( a, b )
	{
		Gm( this, !1 );
		var c = this.g;
		if( null !== c )
		{
			var d = !1;
			if( !1 === c.pj && a.G() )
			{
				var e = c.ae, f = c.padding, h = e.x + f.left, k = e.y + f.top, l = e.width - 2 * f.right, e = e.height - 2 * f.bottom;
				a.x > h && a.y > k && a.right < l && a.bottom < e && b.x > h && b.y > k && b.right < l && b.bottom < e && (d = !0)
			}
			0 !== (this.Q & 65536) !== !0 && a.K( b ) || ql( this, d, c );
			c.pa();
			a.K( b ) || this.ql()
		}
	};
	v.defineProperty( R, {location: "location"}, function()
	{
		return this.yi
	}, function( a )
	{
		var b = this.yi;
		if( !b.K( a ) )
		{
			a = a.R();
			var c;
			c = a;
			if( this instanceof W )c = !1;
			else
			{
				this.yi = c;
				if( !1 === el( this ) )
				{
					Wm( this );
					var d = this.kb;
					if( d.G() )
					{
						var e = d.copy();
						d.m( d.x + (c.x - b.x), d.y + (c.y - b.y) );
						dp( this, this.g, d, e );
						this.h( "position", e, d )
					}
				}
				c = !0
			}
			c && this.h( "location", b, a )
		}
	} );
	R.prototype.lA = function( a, b )
	{
		if( this instanceof W || !a.G() )return!1;
		var c = this.g;
		if( null !== c && (dp( this, c, a, b ), !0 === c.la.ib) )return!0;
		this.kb = a;
		c = this.yi;
		if( c.G() )
		{
			var d = c.copy();
			c.m( c.x + (a.x - b.x), c.y + (a.y - b.y) );
			this.h( "location", d, c )
		}
		!1 === fl( this ) && !1 === el( this ) && (Wm( this ), ap( this ));
		return!0
	};
	function dp( a, b, c, d )
	{
		null === b || a instanceof Tg || (b = b.Na, b.uc && Kj( b, a, "position", d.copy(), c.copy(), !1 ))
	}

	R.prototype.mx = function( a, b )
	{
		var c = this.yi, d = this.kb;
		fl( this ) || el( this ) ? c.m( NaN, NaN ) : c.m( c.x + a - d.x, c.y + b - d.y );
		d.m( a, b );
		Wm( this )
	};
	function bp( a, b, c )
	{
		var d = v.L(), e = a.ef, f = a.bc;
		e.te() && v.k( "determineOffset: Part's locationSpot must be real: " + e.toString() );
		var h = f.Ha, k = f instanceof X ? f.lb : 0;
		d.Zt( 0, 0, h.width + k, h.height + k, e );
		if( f !== a )for( d.offset( -k / 2, -k / 2 ), f.transform.ub( d ), e = f.U; null !== e && e !== a; )e.transform.ub( d ), e = e.U;
		a.Mk.ub( d );
		d.offset( -a.kd.x, -a.kd.y );
		e = a.g;
		c.G() ? (f = b.x, h = b.y, b.m( c.x - d.x, c.y - d.y ), null !== e && (c = e.Na, (k = c.qj) || !c.uc || a instanceof Tg || Kj( c, a, "position", new y( f, h ), b, !1 ), k || b.x === f && b.y === h || (k = e.tb, e.tb = !0, a.h( "position",
			new y( f, h ), b ), e.tb = k))) : b.G() && (f = c.copy(), c.m( b.x + d.x, b.y + d.y ), c.K( f ) || null === e || (k = e.tb, e.tb = !0, a.h( "location", f, c ), e.tb = k));
		v.v( d );
		a.ti()
	}

	function ql( a, b, c )
	{
		Hm( a, !1 );
		a instanceof S && fm( c, a );
		a.layer.Gc || b || c.pc();
		b = a.mc;
		var d = c.rb;
		d.G() ? (Wj( a ) ? $a( b, d ) || a.zf( !1 ) : b.yg( d ) && a.zf( !0 ), a.updateAdornments()) : c.Ek = !0
	}

	R.prototype.ul = function()
	{
		return!0
	};
	function Yj( a, b )
	{
		var c = a.mc;
		if( 0 !== c.width && 0 !== c.height && !isNaN( c.x ) && !isNaN( c.y ) && a.isVisible() )
		{
			var d = a.transform;
			null !== a.nc && (Mm( a, b, a.nc, !0, !0 ), b.fillRect( c.x, c.y, c.width, c.height ));
			null === a.nc && null === a.Ib && (Mm( a, b, "rgba(0,0,0,0.4)", !0, !1 ), b.fillRect( c.x, c.y, c.width, c.height ));
			null !== a.Ib && (d.ut() || b.transform( d.m11, d.m12, d.m21, d.m22, d.dx, d.dy ), c = a.Ha, Mm( a, b, a.Ib, !0, !1 ), b.fillRect( 0, 0, c.width, c.height ), d.ut() || (c = 1 / (d.m11 * d.m22 - d.m12 * d.m21), b.transform( d.m22 * c, -d.m12 * c, -d.m21 * c, d.m11 * c, c * (d.m21 *
				d.dy - d.m22 * d.dx), c * (d.m12 * d.dx - d.m11 * d.dy) )))
		}
	}

	R.prototype.Rd = function()
	{
		return!0
	};
	v.defineProperty( R, {gc: "category"}, function()
	{
		return this.fi
	}, function( a )
	{
		var b = this.fi;
		if( b !== a )
		{
			v.j( a, "string", R, "category" );
			var c = this.g, d = this.data, e = null;
			if( null !== c && null !== d && !(this instanceof Tg) )
			{
				var f = c.ba.la;
				f.isEnabled && !f.ib && (e = this.clone(), e.xa.Tc( this.xa ))
			}
			this.fi = a;
			this.h( "category", b, a );
			null === c || null === d || this instanceof Tg ? (e = this.Nf, null !== e && (a = e.di, null !== a && a.remove( b ), e.Wk( this.gc, this ))) : (f = c.ba, f.la.ib || (this instanceof W ? (f instanceof Q ? f.SE( d, a ) : f instanceof Pf && f.wI( d,
				a ), c = Sl( c, a ), null !== c && (Vg( c ), c = c.copy(), null !== c && ep( this, c, b, a ))) : (null !== f && f.ix( d, a ), c = Pl( c, d, a ), null !== c && (Vg( c ), c = c.copy(), null === c || c instanceof W || (c.location = this.location, ep( this, c, b, a )))), null !== e && (b = this.clone(), b.xa.Tc( this.xa ), this.h( "self", e, b ))))
		}
	} );
	v.defineProperty( R, {self: "self"}, function()
	{
		return this
	}, function( a )
	{
		ep( this, a, this.gc, a.gc )
	} );
	var fp = !1;

	function ep( a, b, c, d )
	{
		b.constructor === a.constructor || fp || (fp = !0, v.trace( 'Should not change the class of the Part when changing category from "' + c + '" to "' + d + '"' ), v.trace( "  Old class: " + v.af( a ) + ", new class: " + v.af( b ) + ", part: " + a.toString() ));
		a.Us();
		var e = a.data;
		c = a.Uf;
		var f = a.hb, h = a.gh, k = !0, l = !0, m = !1;
		if( a instanceof S )var n = a, k = n.Xi, l = n.nd, m = n.gu;
		b.Xh( a );
		b.cloneProtected( a );
		a.fi = d;
		a.P();
		a.pa();
		b = a.g;
		d = !0;
		null !== b && (d = b.tb, b.tb = !0);
		a.ke = e;
		null !== e && a.Hb();
		null !== b && (b.tb = d);
		e = a.Uf;
		e !== c && (a.Ik = c,
			a.Uf = e);
		a instanceof S && (n = a, n.Xi = k, n.nd = l, n.gu = m, n.Rd() && n.H( 64 ));
		a.hb = f;
		a.gh = h
	}

	R.prototype.canCopy = function()
	{
		if( !this.xG )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.Tj )return!1;
		a = a.g;
		return null === a ? !0 : a.Tj ? !0 : !1
	};
	R.prototype.canDelete = function()
	{
		if( !this.CG )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.ym )return!1;
		a = a.g;
		return null === a ? !0 : a.ym ? !0 : !1
	};
	R.prototype.canEdit = function()
	{
		if( !this.FI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.jw )return!1;
		a = a.g;
		return null === a ? !0 : a.jw ? !0 : !1
	};
	R.prototype.canGroup = function()
	{
		if( !this.aH )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.gw )return!1;
		a = a.g;
		return null === a ? !0 : a.gw ? !0 : !1
	};
	R.prototype.canMove = function()
	{
		if( !this.UH )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.$k )return!1;
		a = a.g;
		return null === a ? !0 : a.$k ? !0 : !1
	};
	R.prototype.canReshape = function()
	{
		if( !this.hI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.hw )return!1;
		a = a.g;
		return null === a ? !0 : a.hw ? !0 : !1
	};
	R.prototype.canResize = function()
	{
		if( !this.iI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.Ts )return!1;
		a = a.g;
		return null === a ? !0 : a.Ts ? !0 : !1
	};
	R.prototype.canRotate = function()
	{
		if( !this.lI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.iw )return!1;
		a = a.g;
		return null === a ? !0 : a.iw ? !0 : !1
	};
	R.prototype.canSelect = function()
	{
		if( !this.Al )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.of )return!1;
		a = a.g;
		return null === a ? !0 : a.of ? !0 : !1
	};
	v.defineProperty( R, {xG: "copyable"}, function()
	{
		return 0 !== (this.Q & 1)
	}, function( a )
	{
		var b = 0 !== (this.Q & 1);
		b !== a && (this.Q ^= 1, this.h( "copyable", b, a ))
	} );
	v.defineProperty( R, {CG: "deletable"}, function()
	{
		return 0 !== (this.Q & 2)
	}, function( a )
	{
		var b = 0 !== (this.Q & 2);
		b !== a && (this.Q ^= 2, this.h( "deletable", b, a ))
	} );
	v.defineProperty( R, {FI: "textEditable"}, function()
	{
		return 0 !== (this.Q & 4)
	}, function( a )
	{
		var b = 0 !== (this.Q & 4);
		b !== a && (this.Q ^= 4, this.h( "textEditable", b, a ), this.Qd())
	} );
	v.defineProperty( R, {aH: "groupable"}, function()
	{
		return 0 !== (this.Q & 8)
	}, function( a )
	{
		var b = 0 !== (this.Q & 8);
		b !== a && (this.Q ^= 8, this.h( "groupable", b, a ))
	} );
	v.defineProperty( R, {UH: "movable"}, function()
	{
		return 0 !== (this.Q & 16)
	}, function( a )
	{
		var b = 0 !== (this.Q & 16);
		b !== a && (this.Q ^= 16, this.h( "movable", b, a ))
	} );
	v.defineProperty( R, {sI: "selectionAdorned"}, function()
	{
		return 0 !== (this.Q & 32)
	}, function( a )
	{
		var b = 0 !== (this.Q & 32);
		b !== a && (this.Q ^= 32, this.h( "selectionAdorned", b, a ), this.Qd())
	} );
	v.defineProperty( R, {Cz: "isInDocumentBounds"}, function()
	{
		return 0 !== (this.Q & 64)
	}, function( a )
	{
		var b = 0 !== (this.Q & 64);
		if( b !== a )
		{
			this.Q ^= 64;
			var c = this.g;
			null !== c && c.pc();
			this.h( "isInDocumentBounds", b, a )
		}
	} );
	v.defineProperty( R, {fE: "isLayoutPositioned"}, function()
	{
		return 0 !== (this.Q & 128)
	}, function( a )
	{
		var b = 0 !== (this.Q & 128);
		b !== a && (this.Q ^= 128, this.h( "isLayoutPositioned", b, a ), this.H( a ? 4 : 8 ))
	} );
	v.defineProperty( R, {Al: "selectable"}, function()
	{
		return 0 !== (this.Q & 256)
	}, function( a )
	{
		var b = 0 !== (this.Q & 256);
		b !== a && (this.Q ^= 256, this.h( "selectable", b, a ), this.Qd())
	} );
	v.defineProperty( R, {hI: "reshapable"}, function()
	{
		return 0 !== (this.Q & 512)
	}, function( a )
	{
		var b = 0 !== (this.Q & 512);
		b !== a && (this.Q ^= 512, this.h( "reshapable", b, a ), this.Qd())
	} );
	v.defineProperty( R, {iI: "resizable"}, function()
	{
		return 0 !== (this.Q & 1024)
	}, function( a )
	{
		var b = 0 !== (this.Q & 1024);
		b !== a && (this.Q ^= 1024, this.h( "resizable", b, a ), this.Qd())
	} );
	v.defineProperty( R, {lI: "rotatable"}, function()
	{
		return 0 !== (this.Q & 2048)
	}, function( a )
	{
		var b = 0 !== (this.Q & 2048);
		b !== a && (this.Q ^= 2048, this.h( "rotatable", b, a ), this.Qd())
	} );
	v.defineProperty( R, {hb: "isSelected"}, function()
	{
		return 0 !== (this.Q & 4096)
	}, function( a )
	{
		var b = 0 !== (this.Q & 4096);
		if( b !== a )
		{
			var c = this.g;
			if( !a || this.canSelect() && !(null !== c && c.selection.count >= c.LH) )
			{
				this.Q ^= 4096;
				var d = !1;
				if( null !== c )
				{
					d = c.tb;
					c.tb = !0;
					var e = c.selection;
					e.Oa();
					a ? e.add( this ) : e.remove( this );
					e.freeze()
				}
				this.h( "isSelected", b, a );
				this.Qd();
				a = this.uI;
				null !== a && a( this );
				null !== c && (c.ve(), c.tb = d)
			}
		}
	} );
	v.defineProperty( R, {gh: "isHighlighted"}, function()
	{
		return 0 !== (this.Q & 524288)
	}, function( a )
	{
		var b = 0 !== (this.Q & 524288);
		if( b !== a )
		{
			this.Q ^= 524288;
			var c = this.g;
			null !== c && (c = c.Pm, c.Oa(), a ? c.add( this ) : c.remove( this ), c.freeze());
			this.h( "isHighlighted", b, a );
			this.pa()
		}
	} );
	v.defineProperty( R, {vl: "isShadowed"}, function()
	{
		return 0 !== (this.Q & 8192)
	}, function( a )
	{
		var b = 0 !== (this.Q & 8192);
		b !== a && (this.Q ^= 8192, this.h( "isShadowed", b, a ), this.pa())
	} );
	function fl( a )
	{
		return 0 !== (a.Q & 32768)
	}

	function $o( a, b )
	{
		a.Q = b ? a.Q | 32768 : a.Q & -32769
	}

	function Hm( a, b )
	{
		a.Q = b ? a.Q | 65536 : a.Q & -65537
	}

	function Wj( a )
	{
		return 0 !== (a.Q & 131072)
	}

	R.prototype.zf = function( a )
	{
		this.Q = a ? this.Q | 131072 : this.Q & -131073
	};
	function gp( a, b )
	{
		a.Q = b ? a.Q | 1048576 : a.Q & -1048577
	}

	v.defineProperty( R, {YD: "isAnimated"}, function()
	{
		return 0 !== (this.Q & 262144)
	}, function( a )
	{
		var b = 0 !== (this.Q & 262144);
		b !== a && (this.Q ^= 262144, this.h( "isAnimated", b, a ))
	} );
	v.defineProperty( R, {hA: "selectionObjectName"}, function()
	{
		return this.js
	}, function( a )
	{
		var b = this.js;
		b !== a && (this.js = a, this.qm = null, this.h( "selectionObjectName", b, a ))
	} );
	v.defineProperty( R, {tI: "selectionAdornmentTemplate"}, function()
	{
		return this.gs
	}, function( a )
	{
		var b = this.gs;
		b !== a && (this instanceof W && (a.type = xi), this.gs = a, this.h( "selectionAdornmentTemplate", b, a ))
	} );
	v.u( R, {Vt: "selectionObject"}, function()
	{
		if( null === this.qm )
		{
			var a = this.hA;
			null !== a && "" !== a ? (a = this.de( a ), this.qm = null !== a ? a : this) : this instanceof W ? (a = this.path, this.qm = null !== a ? a : this) : this.qm = this
		}
		return this.qm
	} );
	v.defineProperty( R, {uI: "selectionChanged"}, function()
	{
		return this.hs
	}, function( a )
	{
		var b = this.hs;
		b !== a && (null !== a && v.j( a, "function", R, "selectionChanged" ), this.hs = a, this.h( "selectionChanged", b, a ))
	} );
	v.defineProperty( R, {GE: "resizeAdornmentTemplate"}, function()
	{
		return this.Ur
	}, function( a )
	{
		var b = this.Ur;
		b !== a && (this.Ur = a, this.h( "resizeAdornmentTemplate", b, a ))
	} );
	v.defineProperty( R, {IE: "resizeObjectName"}, function()
	{
		return this.Wr
	}, function( a )
	{
		var b = this.Wr;
		b !== a && (this.Wr = a, this.oo = null, this.h( "resizeObjectName", b, a ))
	} );
	v.u( R, {HE: "resizeObject"}, function()
	{
		if( null === this.oo )
		{
			var a = this.IE;
			null !== a && "" !== a ? (a = this.de( a ), this.oo = null !== a ? a : this) : this.oo = this
		}
		return this.oo
	} );
	v.defineProperty( R, {jI: "resizeCellSize"}, function()
	{
		return this.Vr
	}, function( a )
	{
		var b = this.Vr;
		b.K( a ) || (this.Vr = a = a.R(), this.h( "resizeCellSize", b, a ))
	} );
	v.defineProperty( R, {mI: "rotateAdornmentTemplate"}, function()
	{
		return this.Xr
	}, function( a )
	{
		var b = this.Xr;
		b !== a && (this.Xr = a, this.h( "rotateAdornmentTemplate", b, a ))
	} );
	v.defineProperty( R, {nI: "rotateObjectName"}, function()
	{
		return this.Yr
	}, function( a )
	{
		var b = this.Yr;
		b !== a && (this.Yr = a, this.po = null, this.h( "rotateObjectName", b, a ))
	} );
	v.u( R, {KE: "rotateObject"}, function()
	{
		if( null === this.po )
		{
			var a = this.nI;
			null !== a && "" !== a ? (a = this.de( a ), this.po = null !== a ? a : this) : this.po = this
		}
		return this.po
	} );
	v.defineProperty( R, {text: "text"}, function()
	{
		return this.me
	}, function( a )
	{
		var b = this.me;
		b !== a && (this.me = a, this.h( "text", b, a ))
	} );
	v.defineProperty( R, {Sa: "containingGroup"}, function()
	{
		return this.uk
	}, function( a )
	{
		if( this.Rd() )
		{
			var b = this.uk;
			if( b !== a )
			{
				null === a || this !== a && !a.Zh( this ) || (this === a && v.k( "Cannot make a Group a member of itself: " + this.toString() ), v.k( "Cannot make a Group indirectly contain itself: " + this.toString() + " already contains " + a.toString() ));
				this.H( ul );
				var c = this.g;
				null !== b ? hp( b, this ) : this instanceof V && null !== c && c.Uk.remove( this );
				this.uk = a;
				null !== a ? ip( a, this ) : this instanceof V && null !== c && c.Uk.add( this );
				this.H( ml );
				if( null !== c )
				{
					var d = this.data, e = c.ba;
					null !== d && e instanceof Q && e.kx( d, e.gb( null !== a ? a.data : null ) )
				}
				d = this.rD;
				null !== d && (e = !0, null !== c && (e = c.Qa, c.Qa = !0), d( this, b, a ), null !== c && (c.Qa = e));
				if( this instanceof V )for( c = new J( R ), Sg( c, this, !0, 0, !0 ), c = c.i; c.next(); )if( d = c.value, d instanceof S )for( d = d.ue; d.next(); )Nl( d.value );
				if( this instanceof S )for( d = this.ue; d.next(); )Nl( d.value );
				this.h( "containingGroup", b, a );
				null !== a && (b = a.layer, null !== b && bk( b, -1, a ))
			}
		}
		else v.k( "cannot set the Part.containingGroup of a Link or Adornment" )
	} );
	g = R.prototype;
	g.ql = function()
	{
		var a = this.Sa;
		null !== a && (a.P(), null !== a.Gb && a.Gb.P(), a.cf())
	};
	g.pa = function()
	{
		var a = this.g;
		null !== a && !el( this ) && !fl( this ) && this.isVisible() && this.mc.G() && a.pa( ak( this, this.mc ) )
	};
	g.pt = function( a )
	{
		a || (a = this.uk, null !== a && ip( a, this ))
	};
	g.qt = function( a )
	{
		a || (a = this.uk, null !== a && hp( a, this ))
	};
	g.Km = function()
	{
		var a = this.data;
		if( null !== a )
		{
			var b = this.g;
			null !== b && (b = b.ba, null !== b && b.bx( a ))
		}
	};
	v.defineProperty( R, {rD: "containingGroupChanged"}, function()
	{
		return this.gq
	}, function( a )
	{
		var b = this.gq;
		b !== a && (null !== a && v.j( a, "function", R, "containingGroupChanged" ), this.gq = a, this.h( "containingGroupChanged", b, a ))
	} );
	R.prototype.findSubGraphLevel = function()
	{
		return jp( this, this )
	};
	function jp( a, b )
	{
		var c = b.Sa;
		return null !== c ? 1 + jp( a, c ) : b instanceof S && (c = b.ge, null !== c) ? jp( a, c ) : 0
	}

	R.prototype.findTopLevelPart = function()
	{
		return kp( this, this )
	};
	function kp( a, b )
	{
		var c = b.Sa;
		return null !== c ? kp( a, c ) : b instanceof S && (c = b.ge, null !== c) ? kp( a, c ) : b
	}

	v.u( R, {fp: "isTopLevel"}, function()
	{
		return null !== this.Sa || this instanceof S && this.vf ? !1 : !0
	} );
	R.prototype.isMemberOf = R.prototype.Zh = function( a )
	{
		return a instanceof V ? lp( this, this, a ) : !1
	};
	function lp( a, b, c )
	{
		if( b === c || null === c )return!1;
		var d = b.Sa;
		return null === d || d !== c && !lp( a, d, c ) ? b instanceof S && (b = b.ge, null !== b) ? lp( a, b, c ) : !1 : !0
	}

	R.prototype.findCommonContainingGroup = R.prototype.KG = function( a )
	{
		if( null === a )return null;
		if( this === a )return this.Sa;
		for( var b = this; null !== b; )b instanceof V && gp( b, !0 ), b = b.Sa;
		for( var c = null, b = a; null !== b; )
		{
			if( 0 !== (b.Q & 1048576) )
			{
				c = b;
				break
			}
			b = b.Sa
		}
		for( b = this; null !== b; )b instanceof V && gp( b, !1 ), b = b.Sa;
		return c
	};
	v.defineProperty( R, {AH: "layoutConditions"}, function()
	{
		return this.er
	}, function( a )
	{
		var b = this.er;
		b !== a && (this.er = a, this.h( "layoutConditions", b, a ))
	} );
	R.prototype.canLayout = function()
	{
		if( !this.fE || !this.isVisible() )return!1;
		var a = this.layer;
		return null !== a && a.Gc || this instanceof S && this.vf ? !1 : !0
	};
	R.prototype.invalidateLayout = R.prototype.H = function( a )
	{
		void 0 === a && (a = 16777215);
		var b;
		this.fE && 0 !== (a & this.AH) ? (b = this.layer, null !== b && b.Gc || this instanceof S && this.vf ? b = !1 : (b = this.g, b = null !== b && b.la.ib ? !1 : !0)) : b = !1;
		if( b )if( b = this.uk, null !== b )
		{
			var c = b.Pb;
			null !== c ? c.H() : b.H( a )
		}
		else a = this.g, null !== a && (c = a.Pb, null !== c && c.H())
	};
	function rl( a )
	{
		if( !a.isVisible() )return!1;
		a = a.layer;
		return null !== a && a.Gc ? !1 : !0
	}

	v.defineProperty( R, {CD: "dragComputation"}, function()
	{
		return this.zq
	}, function( a )
	{
		var b = this.zq;
		b !== a && (null !== a && v.j( a, "function", R, "dragComputation" ), this.zq = a, this.h( "dragComputation", b, a ))
	} );
	v.defineProperty( R, {yI: "shadowOffset"}, function()
	{
		return this.sm
	}, function( a )
	{
		var b = this.sm;
		b.K( a ) || (this.sm = a = a.R(), this.pa(), this.h( "shadowOffset", b, a ))
	} );
	v.defineProperty( R, {shadowColor: "shadowColor"}, function()
	{
		return this.rm
	}, function( a )
	{
		var b = this.rm;
		b !== a && (this.rm = a, this.pa(), this.h( "shadowColor", b, a ))
	} );
	v.defineProperty( R, {shadowBlur: "shadowBlur"}, function()
	{
		return this.pg
	}, function( a )
	{
		var b = this.pg;
		b !== a && (this.pg = a, this.pa(), this.h( "shadowBlur", b, a ))
	} );
	function Tg( a )
	{
		0 === arguments.length ? R.call( this, Si ) : R.call( this, a );
		this.Q &= -257;
		this.Ik = "Adornment";
		this.Gb = this.Mg = this.Db = null
	}

	v.Ia( Tg, R );
	v.ea( "Adornment", Tg );
	Tg.prototype.toString = function()
	{
		var a = this.Nf;
		return"Adornment(" + this.gc + ")" + (null !== a ? a.toString() : "")
	};
	Tg.prototype.updateRelationshipsFromData = function()
	{
	};
	Tg.prototype.Vm = function( a )
	{
		var b = this.Yb.Y, c = this.Yb;
		if( b instanceof W && c instanceof X )
		{
			var d = b.path, c = d.Ra;
			b.Vm( a );
			c = d.Ra;
			a = this.xa.n;
			b = a.length;
			for( d = 0; d < b; d++ )
			{
				var e = a[d];
				e.Sf && e instanceof X && (e.Ra = c)
			}
		}
	};
	v.u( Tg, {placeholder: "placeholder"}, function()
	{
		return this.Gb
	} );
	v.defineProperty( Tg, {Yb: "adornedObject"}, function()
	{
		return this.Db
	}, function( a )
	{
		var b = this.Nf, c = null;
		null !== a && (c = a.Y);
		null === b || null !== a && b === c || b.$i( this.gc );
		this.Db = a;
		null !== c && c.Wk( this.gc, this )
	} );
	v.u( Tg, {Nf: "adornedPart"}, function()
	{
		var a = this.Db;
		return null !== a ? a.Y : null
	} );
	Tg.prototype.ul = function()
	{
		var a = this.Db;
		if( null === a )return!0;
		a = a.Y;
		return null === a || !el( a )
	};
	Tg.prototype.Rd = function()
	{
		return!1
	};
	v.u( Tg, {Sa: "containingGroup"}, function()
	{
		return null
	} );
	Tg.prototype.$m = function( a, b, c, d, e, f, h )
	{
		if( a === Cf && "elements" === b )if( e instanceof Mi )
		{
			var k = e;
			null === this.Gb ? this.Gb = k : this.Gb !== k && v.k( "Cannot insert a second Placeholder into the visual tree of an Adornment." )
		}
		else e instanceof D && (k = e.bt( function( a )
			{
				return a instanceof Mi
			} ), k instanceof Mi && (null === this.Gb ? this.Gb = k : this.Gb !== k && v.k( "Cannot insert a second Placeholder into the visual tree of an Adornment." )));
		else a === Df && "elements" === b && null !== this.Gb && (d === this.Gb ? this.Gb = null : d instanceof D &&
			this.Gb.tl( d ) && (this.Gb = null));
		R.prototype.$m.call( this, a, b, c, d, e, f, h )
	};
	Tg.prototype.updateAdornments = function()
	{
	};
	Tg.prototype.Km = function()
	{
	};
	function S( a )
	{
		0 === arguments.length ? R.call( this, Si ) : R.call( this, a );
		this.fc = new I( W );
		this.Zn = this.Lk = this.gr = this.fr = null;
		this.Yq = !0;
		this.Is = !1;
		this.Ds = null;
		this.Zp = this.Zq = !0;
		this.$p = fd;
		this.Yd = this.uh = null;
		this.Mr = mp;
		this.Qj = !1
	}

	v.Ia( S, R );
	v.ea( "Node", S );
	S.prototype.cloneProtected = function( a )
	{
		R.prototype.cloneProtected.call( this, a );
		a.fr = this.fr;
		a.gr = this.gr;
		a.Lk = this.Lk;
		a.Yq = this.Yq;
		a.Is = this.Is;
		a.Ds = this.Ds;
		a.Zq = this.Zq;
		a.Zp = this.Zp;
		a.$p = this.$p.R();
		a.Mr = this.Mr
	};
	S.prototype.Xh = function( a )
	{
		R.prototype.Xh.call( this, a );
		a.cf();
		a.uh = this.uh;
		a.Yd = null
	};
	var np;
	S.DirectionDefault = np = v.p( S, "DirectionDefault", 0 );
	S.DirectionAbsolute = v.p( S, "DirectionAbsolute", 1 );
	var op;
	S.DirectionRotatedNode = op = v.p( S, "DirectionRotatedNode", 2 );
	var ym;
	S.DirectionRotatedNodeOrthogonal = ym = v.p( S, "DirectionRotatedNodeOrthogonal", 3 );
	S.SpreadingNone = v.p( S, "SpreadingNone", 10 );
	var mp;
	S.SpreadingEvenly = mp = v.p( S, "SpreadingEvenly", 11 );
	var pp;
	S.SpreadingPacked = pp = v.p( S, "SpreadingPacked", 12 );
	function qp( a, b )
	{
		null !== b && (null === a.uh && (a.uh = new J( lk )), a.uh.add( b ))
	}

	function rp( a, b, c, d )
	{
		if( null === b || null === a.uh )return null;
		for( var e = a.uh.i; e.next(); )
		{
			var f = e.value;
			if( f.sp === a && f.It === b && f.Vw === c && f.Ww === d || f.sp === b && f.It === a && f.Vw === d && f.Ww === c )return f
		}
		return null
	}

	S.prototype.invalidateLinkBundle = function( a, b, c )
	{
		if( void 0 === b || null === b )b = "";
		if( void 0 === c || null === c )c = "";
		a = rp( this, a, b, c );
		null !== a && a.Qm()
	};
	S.prototype.$m = function( a, b, c, d, e, f, h )
	{
		a === Cf && "elements" === b ? this.Yd = null : a === Df && "elements" === b && (null === this.g ? this.Yd = null : d instanceof G && Xn( this, d, function( a, b )
		{
			Xm( a, b, !0 )
		} ));
		R.prototype.$m.call( this, a, b, c, d, e, f, h )
	};
	S.prototype.invalidateConnectedLinks = S.prototype.cf = function( a )
	{
		void 0 === a && (a = null);
		for( var b = this.ue; b.next(); )
		{
			var c = b.value;
			null !== a && a.contains( c ) || (sp( this, c.bd ), sp( this, c.Hd ), c.ic())
		}
	};
	function sp( a, b )
	{
		if( null !== b )
		{
			b.km = null;
			var c = a.Sa;
			null === c || c.fe || sp( c, c.jl( "" ) )
		}
	}

	S.prototype.ul = function()
	{
		return!0
	};
	v.defineProperty( S, {bI: "portSpreading"}, function()
	{
		return this.Mr
	}, function( a )
	{
		var b = this.Mr;
		b !== a && (this.Mr = a, this.h( "portSpreading", b, a ), a = this.g, null !== a && a.la.ib || this.cf())
	} );
	v.defineProperty( S, {jD: "avoidable"}, function()
	{
		return this.Zp
	}, function( a )
	{
		var b = this.Zp;
		if( b !== a )
		{
			this.Zp = a;
			var c = this.g;
			null !== c && fm( c, this );
			this.h( "avoidable", b, a )
		}
	} );
	v.defineProperty( S, {gG: "avoidableMargin"}, function()
	{
		return this.$p
	}, function( a )
	{
		"number" === typeof a ? a = new eb( a ) : v.A( a, eb, S, "avoidableMargin" );
		var b = this.$p;
		if( !b.K( a ) )
		{
			this.$p = a = a.R();
			var c = this.g;
			null !== c && fm( c, this );
			this.h( "avoidableMargin", b, a )
		}
	} );
	S.prototype.canAvoid = function()
	{
		return this.jD && !this.vf
	};
	S.prototype.getAvoidableRect = function( a )
	{
		a.set( this.V );
		a.ew( this.gG );
		return a
	};
	S.prototype.findVisibleNode = function()
	{
		for( var a = this; null !== a && !a.isVisible(); )a = a.Sa;
		return a
	};
	S.prototype.isVisible = function()
	{
		if( !R.prototype.isVisible.call( this ) )return!1;
		var a = !0, b = !0, c = this.g;
		if( null !== c )
		{
			a = c.Na;
			if( a.df && (a = a.gm.ja( this ), null !== a && a.$w) )return!0;
			a = c.Sd;
			b = c.vA === hk
		}
		if( b )
		{
			if( c = this.kl(), null !== c && !c.nd )return!1
		}
		else if( c = a ? this.MG() : this.NG(), 0 < c.count && c.all( function( a )
		{
			return!a.nd
		} ) )return!1;
		c = this.ge;
		return null !== c ? c.isVisible() : !0
	};
	S.prototype.od = function( a )
	{
		R.prototype.od.call( this, a );
		for( var b = this.ue; b.next(); )b.value.od( a )
	};
	v.u( S, {ue: "linksConnected"}, function()
	{
		return this.fc.i
	} );
	S.prototype.findLinksConnected = S.prototype.GD = function( a )
	{
		void 0 === a && (a = null);
		if( null === a )return this.fc.i;
		var b = new Aa( this.fc ), c = this;
		b.Ym = function( b )
		{
			return b.T === c && b.xg === a || b.Z === c && b.rh === a
		};
		return b
	};
	S.prototype.findLinksOutOf = S.prototype.zw = function( a )
	{
		void 0 === a && (a = null);
		var b = new Aa( this.fc ), c = this;
		b.Ym = function( b )
		{
			return b.T !== c ? !1 : null === a ? !0 : b.xg === a
		};
		return b
	};
	S.prototype.findLinksInto = S.prototype.wg = function( a )
	{
		void 0 === a && (a = null);
		var b = new Aa( this.fc ), c = this;
		b.Ym = function( b )
		{
			return b.Z !== c ? !1 : null === a ? !0 : b.rh === a
		};
		return b
	};
	S.prototype.findNodesConnected = S.prototype.HD = function( a )
	{
		void 0 === a && (a = null);
		for( var b = null, c = null, d = this.fc.i; d.next(); )
		{
			var e = d.value;
			if( e.T === this )
			{
				if( null === a || e.xg === a )e = e.Z, null !== b ? b.add( e ) : null !== c && c !== e ? (b = new J( S ), b.add( c ), b.add( e )) : c = e
			}
			else e.Z !== this || null !== a && e.rh !== a || (e = e.T, null !== b ? b.add( e ) : null !== c && c !== e ? (b = new J( S ), b.add( c ), b.add( e )) : c = e)
		}
		return null !== b ? b.i : null !== c ? new ya( c ) : xa
	};
	S.prototype.findNodesOutOf = S.prototype.NG = function( a )
	{
		void 0 === a && (a = null);
		for( var b = null, c = null, d = this.fc.i; d.next(); )
		{
			var e = d.value;
			e.T !== this || null !== a && e.xg !== a || (e = e.Z, null !== b ? b.add( e ) : null !== c && c !== e ? (b = new J( S ), b.add( c ), b.add( e )) : c = e)
		}
		return null !== b ? b.i : null !== c ? new ya( c ) : xa
	};
	S.prototype.findNodesInto = S.prototype.MG = function( a )
	{
		void 0 === a && (a = null);
		for( var b = null, c = null, d = this.fc.i; d.next(); )
		{
			var e = d.value;
			e.Z !== this || null !== a && e.rh !== a || (e = e.T, null !== b ? b.add( e ) : null !== c && c !== e ? (b = new J( S ), b.add( c ), b.add( e )) : c = e)
		}
		return null !== b ? b.i : null !== c ? new ya( c ) : xa
	};
	S.prototype.findLinksBetween = function( a, b, c )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		var d = new Aa( this.fc ), e = this;
		d.Ym = function( d )
		{
			return(d.T !== e || d.Z !== a || null !== b && d.xg !== b || null !== c && d.rh !== c) && (d.T !== a || d.Z !== e || null !== c && d.xg !== c || null !== b && d.rh !== b) ? !1 : !0
		};
		return d
	};
	S.prototype.findLinksTo = function( a, b, c )
	{
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		var d = new Aa( this.fc ), e = this;
		d.Ym = function( d )
		{
			return d.T !== e || d.Z !== a || null !== b && d.xg !== b || null !== c && d.rh === c ? !1 : !0
		};
		return d
	};
	v.defineProperty( S, {CH: "linkConnected"}, function()
	{
		return this.fr
	}, function( a )
	{
		var b = this.fr;
		b !== a && (null !== a && v.j( a, "function", S, "linkConnected" ), this.fr = a, this.h( "linkConnected", b, a ))
	} );
	v.defineProperty( S, {DH: "linkDisconnected"}, function()
	{
		return this.gr
	}, function( a )
	{
		var b = this.gr;
		b !== a && (null !== a && v.j( a, "function", S, "linkDisconnected" ), this.gr = a, this.h( "linkDisconnected", b, a ))
	} );
	v.defineProperty( S, {Ow: "linkValidation"}, function()
	{
		return this.Lk
	}, function( a )
	{
		var b = this.Lk;
		b !== a && (null !== a && v.j( a, "function", S, "linkValidation" ), this.Lk = a, this.h( "linkValidation", b, a ))
	} );
	function tp( a, b, c )
	{
		sp( a, c );
		if( !a.fc.contains( b ) )
		{
			a.fc.add( b );
			var d = a.CH;
			if( null !== d )
			{
				var e = !0, f = a.g;
				null !== f && (e = f.Qa, f.Qa = !0);
				d( a, b, c );
				null !== f && (f.Qa = e)
			}
			b.Hc && (c = b.T, b = b.Z, null !== c && null !== b && c !== b && (d = !0, f = a.g, null !== f && (d = f.Sd), a = d ? b : c, e = d ? c : b, a.Qj || (a.Qj = e), !e.Xi || null !== f && f.la.ib || (d ? c === e && (e.Xi = !1) : b === e && (e.Xi = !1))))
		}
	}

	function up( a, b, c )
	{
		sp( a, c );
		if( a.fc.remove( b ) )
		{
			var d = a.DH, e = a.g;
			if( null !== d )
			{
				var f = !0;
				null !== e && (f = e.Qa, e.Qa = !0);
				d( a, b, c );
				null !== e && (e.Qa = f)
			}
			b.Hc && (c = !0, null !== e && (c = e.Sd), a = c ? b.Z : b.T, b = c ? b.T : b.Z, null !== a && (a.Qj = !1), null === b || b.Xi || (0 === b.fc.count ? (b.Qj = null, null !== e && e.la.ib || (b.Xi = !0)) : Zl( b )))
		}
	}

	function Zl( a )
	{
		a.Qj = !1;
		if( 0 !== a.fc.count )
		{
			var b = !0, c = a.g;
			if( null === c || !c.la.ib )
			{
				null !== c && (b = c.Sd);
				for( c = a.fc.i; c.next(); )
				{
					var d = c.value;
					if( d.Hc )if( b )
					{
						if( d.T === a )
						{
							a.Xi = !1;
							return
						}
					}
					else if( d.Z === a )
					{
						a.Xi = !1;
						return
					}
				}
				a.Xi = !0
			}
		}
	}

	S.prototype.updateRelationshipsFromData = function()
	{
		R.prototype.updateRelationshipsFromData.call( this );
		var a = this.data;
		if( null !== a )
		{
			var b = this.g;
			if( null !== b )
			{
				var c = b.ba;
				if( c instanceof Pf )
				{
					var d = c.Om( a ), b = b.Ze( d ), e = this.kl();
					b !== e && (b = null !== e ? c.gb( e.data ) : void 0, e = c.vp, "function" === typeof e ? e( a, b ) : a[e] = b, c.ph( a, d ))
				}
			}
		}
	};
	S.prototype.pt = function( a )
	{
		R.prototype.pt.call( this, a );
		a || (Zl( this ), a = this.Zn, null !== a && vp( a, this ))
	};
	S.prototype.qt = function( a )
	{
		R.prototype.qt.call( this, a );
		a || (a = this.Zn, null !== a && null !== a.De && (a.De.remove( this ), a.P()))
	};
	S.prototype.Km = function()
	{
		if( 0 < this.fc.count )
		{
			var a = this.g;
			if( null !== a )for( var b = a.nb.BD, c = this.fc.copy().i; c.next(); )
			{
				var d = c.value;
				b ? a.remove( d ) : (d.T === this && (d.T = null), d.Z === this && (d.Z = null))
			}
		}
		this.ge = null;
		R.prototype.Km.call( this )
	};
	v.u( S, {vf: "isLinkLabel"}, function()
	{
		return null !== this.Zn
	} );
	v.defineProperty( S, {ge: "labeledLink"}, function()
	{
		return this.Zn
	}, function( a )
	{
		var b = this.Zn;
		if( b !== a )
		{
			var c = this.g, d = this.data;
			if( null !== b && (null !== b.De && (b.De.remove( this ), b.P()), null !== c && null !== d && !c.la.ib) )
			{
				var e = b.data, f = c.ba;
				if( null !== e && f instanceof Q )
				{
					var h = f.gb( d );
					void 0 !== h && f.BE( e, h )
				}
			}
			this.Zn = a;
			null !== a && (vp( a, this ), null === c || null === d || c.la.ib || (e = a.data, f = c.ba, null !== e && f instanceof Q && (h = f.gb( d ), void 0 !== h && f.Vy( e, h ))));
			Qm( this );
			this.h( "labeledLink", b, a )
		}
	} );
	S.prototype.findPort = S.prototype.jl = function( a )
	{
		if( null === this.Yd )
		{
			if( "" === a && !1 === this.Ch )return this;
			Ym( this )
		}
		var b = this.Yd.ja( a );
		return null !== b || "" !== a && (b = this.Yd.ja( "" ), null !== b) ? b : this
	};
	v.u( S, {port: "port"}, function()
	{
		return this.jl( "" )
	} );
	v.u( S, {ports: "ports"}, function()
	{
		null === this.Yd && Ym( this );
		return this.Yd.kE
	} );
	function Ym( a )
	{
		null === a.Yd ? a.Yd = new na( "string", G ) : a.Yd.clear();
		Xn( a, a, function( a, c )
		{
			var d = c.Ud;
			null !== d && a.Yd.add( d, c )
		} );
		0 === a.Yd.count && a.Yd.add( "", a )
	}

	function Xm( a, b, c )
	{
		var d = b.Ud;
		if( null !== d && (null !== a.Yd && a.Yd.remove( d ), b = a.g, null !== b && c) )
		{
			c = null;
			for( d = a.GD( d ); d.next(); )a = d.value, null === c && (c = v.jb()), c.push( a );
			if( null !== c )
			{
				for( d = 0; d < c.length; d++ )a = c[d], b.remove( a );
				v.sa( c )
			}
		}
	}

	S.prototype.isInTreeOf = function( a )
	{
		if( null === a || a === this )return!1;
		var b = !0, c = this.g;
		null !== c && (b = c.Sd);
		c = this;
		if( b )for( ; c !== a; )
		{
			for( var b = null, d = c.fc.i; d.next(); )
			{
				var e = d.value;
				if( e.Hc && (b = e.T, b !== c && b !== this) )break
			}
			if( b === this || null === b || b === c )return!1;
			c = b
		}
		else for( ; c !== a; )
		{
			b = null;
			for( d = c.fc.i; d.next() && (e = d.value, !e.Hc || (b = e.Z, b === c || b === this)); );
			if( b === this || null === b || b === c )return!1;
			c = b
		}
		return!0
	};
	S.prototype.findTreeRoot = function()
	{
		var a = !0, b = this.g;
		null !== b && (a = b.Sd);
		b = this;
		if( a )for( ; ; )
		{
			for( var a = null, c = b.fc.i; c.next(); )
			{
				var d = c.value;
				if( d.Hc && (a = d.T, a !== b && a !== this) )break
			}
			if( a === this )return this;
			if( null === a || a === b )return b;
			b = a
		}
		else for( ; ; )
		{
			a = null;
			for( c = b.fc.i; c.next() && (d = c.value, !d.Hc || (a = d.Z, a === b || a === this)); );
			if( a === this )return this;
			if( null === a || a === b )return b;
			b = a
		}
	};
	S.prototype.findCommonTreeParent = function( a )
	{
		if( null === a )return null;
		if( this === a )return this;
		for( var b = this; null !== b; )gp( b, !0 ), b = b.kl();
		for( var c = null, b = a; null !== b; )
		{
			if( 0 !== (b.Q & 1048576) )
			{
				c = b;
				break
			}
			b = b.kl()
		}
		for( b = this; null !== b; )gp( b, !1 ), b = b.kl();
		return c
	};
	S.prototype.findTreeParentLink = S.prototype.Xo = function()
	{
		var a = !0, b = this.g;
		null !== b && (a = b.Sd);
		b = this.fc.i;
		if( a )for( ; b.next(); )
		{
			if( a = b.value, a.Hc && a.T !== this )return a
		}
		else for( ; b.next(); )if( a = b.value, a.Hc && a.Z !== this )return a;
		return null
	};
	S.prototype.findTreeParentNode = S.prototype.kl = function()
	{
		var a = this.Qj;
		if( null === a )return null;
		if( a instanceof S )return a;
		var b = !0, a = this.g;
		null !== a && (b = a.Sd);
		a = this.fc.i;
		if( b )for( ; a.next(); )
		{
			if( b = a.value, b.Hc && (b = b.T, b !== this) )return this.Qj = b
		}
		else for( ; a.next(); )if( b = a.value, b.Hc && (b = b.Z, b !== this) )return this.Qj = b;
		return this.Qj = null
	};
	S.prototype.findTreeParentChain = function()
	{
		function a( b, d )
		{
			if( null !== b )
			{
				d.add( b );
				var e = b.Xo();
				null !== e && (d.add( e ), a( b.kl(), d ))
			}
		}

		var b = new J( R );
		a( this, b );
		return b
	};
	S.prototype.findTreeLevel = function()
	{
		return wp( this, this )
	};
	function wp( a, b )
	{
		var c = b.kl();
		return null === c ? 0 : 1 + wp( a, c )
	}

	S.prototype.findTreeChildrenLinks = S.prototype.Bw = function()
	{
		var a = !0, b = this.g;
		null !== b && (a = b.Sd);
		if( a )
		{
			var a = new Aa( this.fc ), c = this;
			a.Ym = function( a )
			{
				return a.Hc && a.T === c ? !0 : !1
			}
		}
		else a = new Aa( this.fc ), c = this, a.Ym = function( a )
		{
			return a.Hc && a.Z === c ? !0 : !1
		};
		return a
	};
	S.prototype.findTreeChildrenNodes = S.prototype.KD = function()
	{
		var a = !0, b = this.g;
		null !== b && (a = b.Sd);
		var c = b = null, d = this.fc.i;
		if( a )for( ; d.next(); )a = d.value, a.Hc && a.T === this && (a = a.Z, null !== b ? b.add( a ) : null !== c && c !== a ? (b = new I( S ), b.add( c ), b.add( a )) : c = a);
		else for( ; d.next(); )a = d.value, a.Hc && a.Z === this && (a = a.T, null !== b ? b.add( a ) : null !== c && c !== a ? (b = new I( S ), b.add( c ), b.add( a )) : c = a);
		return null !== b ? b.i : null !== c ? new ya( c ) : xa
	};
	S.prototype.findTreeParts = function( a )
	{
		void 0 === a && (a = Infinity);
		v.j( a, "number", S, "collapseTree:level" );
		var b = new J( R );
		Sg( b, this, !1, a, !0 );
		return b
	};
	S.prototype.collapseTree = S.prototype.collapseTree = function( a )
	{
		void 0 === a && (a = 1);
		v.Ve( a, S, "collapseTree:level" );
		1 > a && (a = 1);
		var b = this.g;
		if( null !== b && !b.fh )
		{
			b.fh = !0;
			var c = new J( S );
			c.add( this );
			xp( this, c, b.Sd, a, b.Na, this, b.vA === hk );
			b.fh = !1
		}
	};
	function xp( a, b, c, d, e, f, h )
	{
		if( 1 < d )for( var k = c ? a.zw() : a.wg(); k.next(); )
		{
			var l = k.value;
			l.Hc && (l = l.uz( a ), null === l || l === a || b.contains( l ) || (b.add( l ), xp( l, b, c, d - 1, e, f, h )))
		}
		else yp( a, b, c, e, f, h )
	}

	function yp( a, b, c, d, e, f )
	{
		for( var h = e === a ? !0 : a.nd, k = c ? a.zw() : a.wg(); k.next(); )
		{
			var l = k.value;
			l.Hc && (l = l.uz( a ), null === l || l === a || b.contains( l ) || (b.add( l ), h && (f && Tj( d, l, e ), l.ql(), l.od( !1 )), l.nd && (l.gu = l.nd, yp( l, b, c, d, e, f ))))
		}
		a.nd = !1
	}

	S.prototype.expandTree = S.prototype.expandTree = function( a )
	{
		void 0 === a && (a = 2);
		v.Ve( a, S, "expandTree:level" );
		2 > a && (a = 2);
		var b = this.g;
		if( null !== b && !b.fh )
		{
			b.fh = !0;
			var c = new J( S );
			c.add( this );
			zp( this, c, b.Sd, a, b.Na, this, b.vA === hk );
			b.fh = !1
		}
	};
	function zp( a, b, c, d, e, f, h )
	{
		for( var k = f === a ? !1 : a.nd, l = c ? a.zw() : a.wg(); l.next(); )
		{
			var m = l.value;
			m.Hc && (k || m.Mf || m.ic(), m = m.uz( a ), null !== m && m !== a && !b.contains( m ) && (b.add( m ), k || (m.od( !0 ), m.ql(), h && Sj( e, m, f )), 2 < d || m.gu)) && (m.gu = !1, zp( m, b, c, d - 1, e, f, h ))
		}
		a.nd = !0
	}

	v.defineProperty( S, {nd: "isTreeExpanded"}, function()
	{
		return this.Yq
	}, function( a )
	{
		var b = this.Yq;
		if( b !== a )
		{
			this.Yq = a;
			var c = this.g;
			this.h( "isTreeExpanded", b, a );
			b = this.MI;
			if( null !== b )
			{
				var d = !0;
				null !== c && (d = c.Qa, c.Qa = !0);
				b( this );
				null !== c && (c.Qa = d)
			}
			null !== c && c.la.ib ? this.od( a ) : a ? this.expandTree() : this.collapseTree()
		}
	} );
	v.defineProperty( S, {gu: "wasTreeExpanded"}, function()
	{
		return this.Is
	}, function( a )
	{
		var b = this.Is;
		b !== a && (this.Is = a, this.h( "wasTreeExpanded", b, a ))
	} );
	v.defineProperty( S, {MI: "treeExpandedChanged"}, function()
	{
		return this.Ds
	}, function( a )
	{
		var b = this.Ds;
		b !== a && (null !== a && v.j( a, "function", S, "treeExpandedChanged" ), this.Ds = a, this.h( "treeExpandedChanged", b, a ))
	} );
	v.defineProperty( S, {Xi: "isTreeLeaf"}, function()
	{
		return this.Zq
	}, function( a )
	{
		var b = this.Zq;
		b !== a && (this.Zq = a, this.h( "isTreeLeaf", b, a ))
	} );
	function W()
	{
		R.call( this, xi );
		this.fg = null;
		this.Bh = "";
		this.rg = this.Hq = null;
		this.Th = "";
		this.Cs = null;
		this.Tr = this.Sr = this.Rr = !1;
		this.$q = !0;
		this.Rp = Ai;
		this.lq = 0;
		this.oq = Ai;
		this.pq = NaN;
		this.mm = fn;
		this.rs = .5;
		this.De = null;
		this.Zc = (new I( y )).freeze();
		this.qo = this.Fe = null;
		this.Mf = !1;
		this.Gv = null;
		this.Jy = !1;
		this.Mg = this.Fn = this.Bn = this.ei = this.ri = this.Ra = null;
		this.My = new y;
		this.HC = this.FC = null;
		this.Mx = !1;
		this.ga = null
	}

	v.Ia( W, R );
	v.ea( "Link", W );
	W.prototype.cloneProtected = function( a )
	{
		R.prototype.cloneProtected.call( this, a );
		a.Bh = this.Bh;
		a.Hq = this.Hq;
		a.Th = this.Th;
		a.Cs = this.Cs;
		a.Rr = this.Rr;
		a.Sr = this.Sr;
		a.Tr = this.Tr;
		a.$q = this.$q;
		a.Rp = this.Rp;
		a.lq = this.lq;
		a.oq = this.oq;
		a.pq = this.pq;
		a.mm = this.mm;
		a.rs = this.rs;
		null !== this.ga && (a.ga = this.ga.copy())
	};
	W.prototype.Xh = function( a )
	{
		R.prototype.Xh.call( this, a );
		this.Bh = a.Bh;
		this.Th = a.Th;
		a.Fe = null;
		a.ic();
		a.ei = this.ei
	};
	var fn;
	W.Normal = fn = v.p( W, "Normal", 1 );
	W.Orthogonal = v.p( W, "Orthogonal", 2 );
	W.AvoidsNodes = v.p( W, "AvoidsNodes", 6 );
	var Ap;
	W.AvoidsNodesStraight = Ap = v.p( W, "AvoidsNodesStraight", 7 );
	var Ai;
	W.None = Ai = v.p( W, "None", 0 );
	var Hi;
	W.Bezier = Hi = v.p( W, "Bezier", 9 );
	var zi;
	W.JumpGap = zi = v.p( W, "JumpGap", 10 );
	var yi;
	W.JumpOver = yi = v.p( W, "JumpOver", 11 );
	var cn;
	W.End = cn = v.p( W, "End", 17 );
	var dn;
	W.Scale = dn = v.p( W, "Scale", 18 );
	var en;
	W.Stretch = en = v.p( W, "Stretch", 19 );
	var qo;
	W.OrientAlong = qo = v.p( W, "OrientAlong", 21 );
	var Bp;
	W.OrientPlus90 = Bp = v.p( W, "OrientPlus90", 22 );
	var Cp;
	W.OrientMinus90 = Cp = v.p( W, "OrientMinus90", 23 );
	var Dp;
	W.OrientOpposite = Dp = v.p( W, "OrientOpposite", 24 );
	var Ep;
	W.OrientUpright = Ep = v.p( W, "OrientUpright", 25 );
	var Fp;
	W.OrientPlus90Upright = Fp = v.p( W, "OrientPlus90Upright", 26 );
	var Gp;
	W.OrientMinus90Upright = Gp = v.p( W, "OrientMinus90Upright", 27 );
	var Hp;
	W.OrientUpright45 = Hp = v.p( W, "OrientUpright45", 28 );
	W.prototype.Le = function()
	{
		null === this.ga && (this.ga = new xm)
	};
	W.prototype.ul = function()
	{
		var a = this.T;
		if( null !== a )
		{
			var b = a.findVisibleNode();
			null !== b && (a = b);
			if( el( a ) || fl( a ) )return!1
		}
		a = this.Z;
		return null !== a && (b = a.findVisibleNode(), null !== b && (a = b), el( a ) || fl( a )) ? !1 : !0
	};
	W.prototype.lA = function()
	{
		return!1
	};
	W.prototype.Rd = function()
	{
		return!1
	};
	W.prototype.computeAngle = function( a, b, c )
	{
		a = 0;
		switch( b )
		{
		default:
		case Ai:
			a = 0;
			break;
		case qo:
			a = c;
			break;
		case Bp:
			a = c + 90;
			break;
		case Cp:
			a = c - 90;
			break;
		case Dp:
			a = c + 180;
			break;
		case Ep:
			a = ne( c );
			90 < a && 270 > a && (a -= 180);
			break;
		case Fp:
			a = ne( c + 90 );
			90 < a && 270 > a && (a -= 180);
			break;
		case Gp:
			a = ne( c - 90 );
			90 < a && 270 > a && (a -= 180);
			break;
		case Hp:
			a = ne( c );
			if( 45 < a && 135 > a || 225 < a && 315 > a )return 0;
			90 < a && 270 > a && (a -= 180)
		}
		return ne( a )
	};
	v.defineProperty( W, {T: "fromNode"}, function()
	{
		return this.fg
	}, function( a )
	{
		var b = this.fg;
		if( b !== a )
		{
			var c = this.bd;
			null !== b && (this.rg !== b && up( b, this, c ), Ip( this ), this.H( ul ));
			this.fg = a;
			null !== a && this.od( a.isVisible() );
			this.ri = null;
			this.ic();
			var d = this.g;
			if( null !== d )
			{
				var e = this.data, f = d.ba;
				if( null !== e )if( f instanceof Q )
				{
					var h = null !== a ? a.data : null;
					f.jx( e, f.gb( h ) )
				}
				else f instanceof Pf && (h = null !== a ? a.data : null, d.Sd ? f.ph( e, f.gb( h ) ) : (null !== b && f.ph( b.data, void 0 ), f.ph( h, f.gb( null !== this.rg ? this.rg.data : null ) )))
			}
			e =
				this.bd;
			f = this.ND;
			null !== f && (h = !0, null !== d && (h = d.Qa, d.Qa = !0), f( this, c, e ), null !== d && (d.Qa = h));
			null !== a && (this.rg !== a && tp( a, this, e ), Jp( this ), this.H( ml ));
			this.h( "fromNode", b, a );
			Nl( this )
		}
	} );
	v.defineProperty( W, {xg: "fromPortId"}, function()
	{
		return this.Bh
	}, function( a )
	{
		var b = this.Bh;
		if( b !== a )
		{
			var c = this.bd;
			null !== c && sp( this.T, c );
			Ip( this );
			this.Bh = a;
			var d = this.bd;
			null !== d && sp( this.T, d );
			var e = this.g;
			if( null !== e )
			{
				var f = this.data, h = e.ba;
				null !== f && h instanceof Q && h.jA( f, a )
			}
			c !== d && (this.ri = null, this.ic(), f = this.ND, null !== f && (h = !0, null !== e && (h = e.Qa, e.Qa = !0), f( this, c, d ), null !== e && (e.Qa = h)));
			Jp( this );
			this.h( "fromPortId", b, a )
		}
	} );
	v.u( W, {bd: "fromPort"}, function()
	{
		var a = this.fg;
		return null === a ? null : a.jl( this.Bh )
	} );
	v.defineProperty( W, {ND: "fromPortChanged"}, function()
	{
		return this.Hq
	}, function( a )
	{
		var b = this.Hq;
		b !== a && (null !== a && v.j( a, "function", W, "fromPortChanged" ), this.Hq = a, this.h( "fromPortChanged", b, a ))
	} );
	v.defineProperty( W, {Z: "toNode"}, function()
	{
		return this.rg
	}, function( a )
	{
		var b = this.rg;
		if( b !== a )
		{
			var c = this.Hd;
			null !== b && (this.fg !== b && up( b, this, c ), Ip( this ), this.H( ul ));
			this.rg = a;
			null !== a && this.od( a.isVisible() );
			this.ri = null;
			this.ic();
			var d = this.g;
			if( null !== d )
			{
				var e = this.data, f = d.ba;
				if( null !== e )if( f instanceof Q )
				{
					var h = null !== a ? a.data : null;
					f.nx( e, f.gb( h ) )
				}
				else f instanceof Pf && (h = null !== a ? a.data : null, d.Sd ? (null !== b && f.ph( b.data, void 0 ), f.ph( h, f.gb( null !== this.fg ? this.fg.data : null ) )) : f.ph( e, f.gb( h ) ))
			}
			e =
				this.Hd;
			f = this.cF;
			null !== f && (h = !0, null !== d && (h = d.Qa, d.Qa = !0), f( this, c, e ), null !== d && (d.Qa = h));
			null !== a && (this.fg !== a && tp( a, this, e ), Jp( this ), this.H( ml ));
			this.h( "toNode", b, a );
			Nl( this )
		}
	} );
	v.defineProperty( W, {rh: "toPortId"}, function()
	{
		return this.Th
	}, function( a )
	{
		var b = this.Th;
		if( b !== a )
		{
			var c = this.Hd;
			null !== c && sp( this.Z, c );
			Ip( this );
			this.Th = a;
			var d = this.Hd;
			null !== d && sp( this.Z, d );
			var e = this.g;
			if( null !== e )
			{
				var f = this.data, h = e.ba;
				null !== f && h instanceof Q && h.mA( f, a )
			}
			c !== d && (this.ri = null, this.ic(), f = this.cF, null !== f && (h = !0, null !== e && (h = e.Qa, e.Qa = !0), f( this, c, d ), null !== e && (e.Qa = h)));
			Jp( this );
			this.h( "toPortId", b, a )
		}
	} );
	v.u( W, {Hd: "toPort"}, function()
	{
		var a = this.rg;
		return null === a ? null : a.jl( this.Th )
	} );
	v.defineProperty( W, {cF: "toPortChanged"}, function()
	{
		return this.Cs
	}, function( a )
	{
		var b = this.Cs;
		b !== a && (null !== a && v.j( a, "function", W, "toPortChanged" ), this.Cs = a, this.h( "toPortChanged", b, a ))
	} );
	v.defineProperty( W, {xb: "fromSpot"}, function()
	{
		return null !== this.ga ? this.ga.nj : kc
	}, function( a )
	{
		this.Le();
		var b = this.ga.nj;
		b.K( a ) || (a = a.R(), this.ga.nj = a, this.h( "fromSpot", b, a ), this.ic())
	} );
	v.defineProperty( W, {ll: "fromEndSegmentLength"}, function()
	{
		return null !== this.ga ? this.ga.lj : NaN
	}, function( a )
	{
		this.Le();
		var b = this.ga.lj;
		b !== a && (0 > a && v.va( a, ">= 0", W, "fromEndSegmentLength" ), this.ga.lj = a, this.h( "fromEndSegmentLength", b, a ), this.ic())
	} );
	v.defineProperty( W, {jt: "fromEndSegmentDirection"}, function()
	{
		return null !== this.ga ? this.ga.kj : np
	}, function( a )
	{
		this.Le();
		var b = this.ga.kj;
		b !== a && (this.ga.kj = a, this.h( "fromEndSegmentDirection", b, a ), this.ic())
	} );
	v.defineProperty( W, {kt: "fromShortLength"}, function()
	{
		return null !== this.ga ? this.ga.mj : NaN
	}, function( a )
	{
		this.Le();
		var b = this.ga.mj;
		b !== a && (this.ga.mj = a, this.h( "fromShortLength", b, a ), this.ic())
	} );
	v.defineProperty( W, {yb: "toSpot"}, function()
	{
		return null !== this.ga ? this.ga.Pj : kc
	}, function( a )
	{
		this.Le();
		var b = this.ga.Pj;
		b.K( a ) || (a = a.R(), this.ga.Pj = a, this.h( "toSpot", b, a ), this.ic())
	} );
	v.defineProperty( W, {Gl: "toEndSegmentLength"}, function()
	{
		return null !== this.ga ? this.ga.Nj : NaN
	}, function( a )
	{
		this.Le();
		var b = this.ga.Nj;
		b !== a && (0 > a && v.va( a, ">= 0", W, "toEndSegmentLength" ), this.ga.Nj = a, this.h( "toEndSegmentLength", b, a ), this.ic())
	} );
	v.defineProperty( W, {du: "toEndSegmentDirection"}, function()
	{
		return null !== this.ga ? this.ga.Mj : np
	}, function( a )
	{
		this.Le();
		var b = this.ga.Mj;
		b !== a && (this.ga.Mj = a, this.h( "toEndSegmentDirection", b, a ), this.ic())
	} );
	v.defineProperty( W, {eu: "toShortLength"}, function()
	{
		return null !== this.ga ? this.ga.Oj : NaN
	}, function( a )
	{
		this.Le();
		var b = this.ga.Oj;
		b !== a && (this.ga.Oj = a, this.h( "toShortLength", b, a ), this.ic())
	} );
	function Nl( a )
	{
		var b = a.T, c = a.Z;
		null !== b ? null !== c ? Kp( a, b.KG( c ) ) : Kp( a, null ) : Kp( a, null )
	}

	function Kp( a, b )
	{
		var c = a.uk;
		if( c !== b )
		{
			null !== c && hp( c, a );
			a.uk = b;
			null !== b && ip( b, a );
			var d = a.rD;
			if( null !== d )
			{
				var e = !0, f = a.g;
				null !== f && (e = f.Qa, f.Qa = !0);
				d( a, c, b );
				null !== f && (f.Qa = e)
			}
			!a.Mf || a.FC !== c && a.HC !== c || a.ic()
		}
	}

	W.prototype.ql = function()
	{
		var a = this.Sa;
		null !== a && this.T !== a && this.Z !== a && a.pw && R.prototype.ql.call( this )
	};
	W.prototype.getOtherNode = W.prototype.uz = function( a )
	{
		var b = this.T;
		return a === b ? this.Z : b
	};
	W.prototype.getOtherPort = function( a )
	{
		var b = this.bd;
		return a === b ? this.Hd : b
	};
	v.u( W, {SJ: "isLabeledLink"}, function()
	{
		return null === this.De ? !1 : 0 < this.De.count
	} );
	v.u( W, {Tf: "labelNodes"}, function()
	{
		return null === this.De ? xa : this.De.i
	} );
	function vp( a, b )
	{
		null === a.De && (a.De = new J( S ));
		a.De.add( b );
		a.P()
	}

	W.prototype.pt = function( a )
	{
		R.prototype.pt.call( this, a );
		Lp( this ) && Bi( this, this.V );
		a || (a = this.fg, null !== a && tp( a, this, this.bd ), a = this.rg, null !== a && tp( a, this, this.Hd ), Jp( this ))
	};
	W.prototype.qt = function( a )
	{
		R.prototype.qt.call( this, a );
		Lp( this ) && Bi( this, this.V );
		a || (a = this.fg, null !== a && up( a, this, this.bd ), a = this.rg, null !== a && up( a, this, this.Hd ), Ip( this ))
	};
	W.prototype.Km = function()
	{
		this.Mf = !0;
		if( null !== this.De )
		{
			var a = this.g;
			if( null !== a )for( var b = this.De.copy().i; b.next(); )a.remove( b.value )
		}
		b = this.data;
		null !== b && (a = this.g, null !== a && (a = a.ba, a instanceof Q ? a.ax( b ) : a instanceof Pf && a.ph( b, void 0 )))
	};
	W.prototype.updateRelationshipsFromData = function()
	{
		var a = this.data;
		if( null !== a )
		{
			var b = this.g;
			if( null !== b )
			{
				var c = b.ba;
				if( c instanceof Q )
				{
					var d = c.ol( a ), e = b.Ze( d ), f = this.T;
					e !== f && (e = null !== f ? c.gb( f.data ) : void 0, f = c.ip, "function" === typeof f ? f( a, e ) : a[f] = e, c.jx( a, d ));
					d = c.pl( a );
					e = b.Ze( d );
					f = this.Z;
					e !== f && (e = null !== f ? c.gb( f.data ) : void 0, f = c.kp, "function" === typeof f ? f( a, e ) : a[f] = e, c.nx( a, d ));
					var h = c.Zj( a );
					if( 0 < h.length || 0 < this.Tf.count )
					{
						if( 1 === h.length && 1 === this.Tf.count && (b = h[0], d = this.Tf.first(), c.gb( d.data ) ===
							b) )return;
						var d = (new J).Tc( h ), k = new J;
						this.Tf.each( function( a )
						{
							null !== a.data && (a = c.gb( a.data ), void 0 !== a && k.add( a ))
						} );
						b = k.copy();
						b.bA( d );
						d = d.copy();
						d.bA( k );
						if( 0 < b.count || 0 < d.count )h.length = 0, k.each( function( a )
						{
							h.push( a )
						} ), b.each( function( b )
						{
							c.BE( a, b )
						} ), d.each( function( b )
						{
							c.Vy( a, b )
						} )
					}
				}
			}
		}
	};
	W.prototype.move = function( a )
	{
		var b = this.position, c = b.x;
		isNaN( c ) && (c = 0);
		b = b.y;
		isNaN( b ) && (b = 0);
		c = a.x - c;
		b = a.y - b;
		R.prototype.move.call( this, a );
		this.xl( c, b );
		for( a = this.Tf; a.next(); )
		{
			var d = a.value, e = d.position;
			d.moveTo( e.x + c, e.y + b )
		}
	};
	v.defineProperty( W, {eI: "relinkableFrom"}, function()
	{
		return this.Rr
	}, function( a )
	{
		var b = this.Rr;
		b !== a && (this.Rr = a, this.h( "relinkableFrom", b, a ), this.Qd())
	} );
	v.defineProperty( W, {fI: "relinkableTo"}, function()
	{
		return this.Sr
	}, function( a )
	{
		var b = this.Sr;
		b !== a && (this.Sr = a, this.h( "relinkableTo", b, a ), this.Qd())
	} );
	W.prototype.canRelinkFrom = function()
	{
		if( !this.eI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.zm )return!1;
		a = a.g;
		return null === a || a.zm ? !0 : !1
	};
	W.prototype.canRelinkTo = function()
	{
		if( !this.fI )return!1;
		var a = this.layer;
		if( null === a )return!0;
		if( !a.zm )return!1;
		a = a.g;
		return null === a || a.zm ? !0 : !1
	};
	v.defineProperty( W, {Qt: "resegmentable"}, function()
	{
		return this.Tr
	}, function( a )
	{
		var b = this.Tr;
		b !== a && (this.Tr = a, this.h( "resegmentable", b, a ), this.Qd())
	} );
	v.defineProperty( W, {Hc: "isTreeLink"}, function()
	{
		return this.$q
	}, function( a )
	{
		var b = this.$q;
		b !== a && (this.$q = a, this.h( "isTreeLink", b, a ), null !== this.T && Zl( this.T ), null !== this.Z && Zl( this.Z ))
	} );
	v.u( W, {path: "path"}, function()
	{
		var a = this.Ye();
		return a instanceof X ? a : null
	} );
	v.u( W, {an: "routeBounds"}, function()
	{
		this.gn();
		var a = new B;
		var b = Infinity, c = Infinity, d = this.oa;
		if( 0 === d )a.m( NaN, NaN, 0, 0 );
		else
		{
			if( 1 === d )d = this.l( 0 ), b = Math.min( d.x, b ), c = Math.min( d.y, c ), a.m( d.x, d.y, 0, 0 );
			else if( 2 === d )
			{
				var e = this.l( 0 ), f = this.l( 1 ), b = Math.min( e.x, f.x ), c = Math.min( e.y, f.y );
				a.m( e.x, e.y, 0, 0 );
				a.dj( f )
			}
			else if( this.computeCurve() === Hi && 3 <= d && !this.jc )if( e = this.l( 0 ), b = e.x, c = e.y, a.m( b, c, 0, 0 ), 3 === d )d = this.l( 1 ), b = Math.min( d.x, b ), c = Math.min( d.y, c ), f = this.l( 2 ), b = Math.min( f.x, b ), c = Math.min( f.y, c ), Qd( e.x,
				e.y, d.x, d.y, d.x, d.y, f.x, f.y, .5, a );
			else for( var h = 3; h < d; h += 3 )
				{
					var k = this.l( h - 2 );
					h + 3 >= d && (h = d - 1);
					var l = this.l( h - 1 ), f = this.l( h );
					Qd( e.x, e.y, k.x, k.y, l.x, l.y, f.x, f.y, .5, a );
					b = Math.min( f.x, b );
					c = Math.min( f.y, c );
					e = f
				}
			else for( e = this.l( 0 ), f = this.l( 1 ), b = Math.min( e.x, f.x ), c = Math.min( e.y, f.y ), a.m( e.x, e.y, 0, 0 ), a.dj( f ), h = 2; h < d; h++ )e = this.l( h ), b = Math.min( e.x, b ), c = Math.min( e.y, c ), a.dj( e );
			this.My.m( b - a.x, c - a.y )
		}
		return this.Gv = a
	} );
	v.u( W, {qE: "midPoint"}, function()
	{
		this.gn();
		return this.computeMidPoint( new y )
	} );
	W.prototype.computeMidPoint = function( a )
	{
		var b = this.oa;
		if( 0 === b )return a.assign( Ad ), a;
		if( 1 === b )return a.assign( this.l( 0 ) ), a;
		if( 2 === b )
		{
			var c = this.l( 0 ), d = this.l( 1 );
			a.m( (c.x + d.x) / 2, (c.y + d.y) / 2 );
			return a
		}
		if( this.computeCurve() === Hi && 3 <= b && !this.jc )
		{
			if( 3 === b )return this.l( 1 );
			var c = (b - 1) / 3 | 0, e = 3 * (c / 2 | 0);
			if( 1 === c % 2 )
			{
				var c = this.l( e ), d = this.l( e + 1 ), f = this.l( e + 2 ), e = this.l( e + 3 ), b = d.x, h = d.y, d = f.x, k = f.y, f = (b + d) / 2, l = (h + k) / 2, h = ((c.y + h) / 2 + l) / 2, k = (l + (k + e.y) / 2) / 2;
				a.x = (((c.x + b) / 2 + f) / 2 + (f + (d + e.x) / 2) / 2) / 2;
				a.y = (h + k) / 2
			}
			else a.assign( this.l( e ) );
			return a
		}
		e = 0;
		f = v.jb();
		for( h = 0; h < b - 1; h++ )c = 0, c = this.l( h ), d = this.l( h + 1 ), Dc( c.x, d.x ) ? (c = d.y - c.y, 0 > c && (c = -c)) : Dc( c.y, d.y ) ? (c = d.x - c.x, 0 > c && (c = -c)) : c = Math.sqrt( c.sf( d ) ), f.push( c ), e += c;
		for( d = h = c = 0; c < e / 2 && h < b; )
		{
			d = f[h];
			if( c + d > e / 2 )break;
			c += d;
			h++
		}
		v.sa( f );
		b = this.l( h );
		f = this.l( h + 1 );
		b.x === f.x ? b.y > f.y ? a.m( b.x, b.y - (e / 2 - c) ) : a.m( b.x, b.y + (e / 2 - c) ) : b.y === f.y ? b.x > f.x ? a.m( b.x - (e / 2 - c), b.y ) : a.m( b.x + (e / 2 - c), b.y ) : (c = (e / 2 - c) / d, a.m( b.x + c * (f.x - b.x), b.y + c * (f.y - b.y) ));
		return a
	};
	v.u( W, {pE: "midAngle"}, function()
	{
		this.gn();
		return this.computeMidAngle()
	} );
	W.prototype.computeMidAngle = function()
	{
		var a = this.oa;
		if( 2 > a )return NaN;
		if( this.computeCurve() === Hi && 4 <= a && !this.jc )
		{
			var b = (a - 1) / 3 | 0, c = 3 * (b / 2 | 0);
			if( 1 === b % 2 )
			{
				var c = Math.floor( c ), b = this.l( c ), d = this.l( c + 1 ), a = this.l( c + 2 ), c = this.l( c + 3 ), e = d.x, d = d.y, f = a.x, a = a.y, h = (e + f) / 2, k = (d + a) / 2;
				return Wa( ((b.x + e) / 2 + h) / 2, ((b.y + d) / 2 + k) / 2, (h + (f + c.x) / 2) / 2, (k + (a + c.y) / 2) / 2 )
			}
			if( 0 < c && c + 1 < a )return b = this.l( c - 1 ), d = this.l( c + 1 ), b.xc( d )
		}
		c = a / 2 | 0;
		if( 0 === a % 2 )return b = this.l( c - 1 ), d = this.l( c ), 4 <= a && b.Fc( d ) && (b = this.l( c - 2 ), a = this.l( c + 1 ),
			c = b.sf( d ), e = d.sf( a ), !(c > e + 10)) ? e > c + 10 ? d.xc( a ) : b.xc( a ) : b.xc( d );
		b = this.l( c - 1 );
		d = this.l( c );
		a = this.l( c + 1 );
		c = b.sf( d );
		e = d.sf( a );
		return c > e + 10 ? b.xc( d ) : e > c + 10 ? d.xc( a ) : b.xc( a )
	};
	v.defineProperty( W, {points: "points"}, function()
	{
		return this.Zc
	}, function( a )
	{
		var b = this.Zc;
		if( b !== a )
		{
			var c = null;
			if( Array.isArray( a ) )
			{
				var d = 0 === a.length % 2;
				if( d )for( var e = 0; e < a.length; e++ )if( "number" !== typeof a[e] || isNaN( a[e] ) )
				{
					d = !1;
					break
				}
				if( d )for( c = new I( y ), d = 0; d < a.length / 2; d++ )e = (new y( a[2 * d], a[2 * d + 1] )).freeze(), c.add( e );
				else
				{
					for( var f = !0, d = 0; d < a.length; d++ )if( e = a[d], !v.Ta( e ) || "number" !== typeof e.x || isNaN( e.x ) || "number" !== typeof e.y || isNaN( e.y ) )
					{
						f = !1;
						break
					}
					if( f )for( c = new I( y ), d = 0; d < a.length; d++ )e =
						a[d], c.add( (new y( e.x, e.y )).freeze() );
					else v.k( "Link.points array must contain only an even number of numbers or objects with x and y properties, not: " + a )
				}
			}
			else if( a instanceof I )for( c = a.copy(), a = c.i; a.next(); )a.value.freeze();
			else v.k( "Link.points value is not an instance of List or Array: " + a );
			c.freeze();
			this.Zc = c;
			this.se();
			this.P();
			Mp( this );
			a = this.g;
			null !== a && (a.Sm || a.la.ib || a.Pw.add( this ), a.Na.uc && (this.qo = c));
			this.h( "points", b, c )
		}
	} );
	v.u( W, {oa: "pointsCount"}, function()
	{
		return this.Zc.count
	} );
	W.prototype.getPoint = W.prototype.l = function( a )
	{
		return this.Zc.n[a]
	};
	W.prototype.setPoint = W.prototype.Af = function( a, b )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.Ig( a, b )
	};
	W.prototype.setPointAt = W.prototype.W = function( a, b, c )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.Ig( a, new y( b, c ) )
	};
	W.prototype.insertPoint = function( a, b )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.Cd( a, b )
	};
	W.prototype.insertPointAt = W.prototype.w = function( a, b, c )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.Cd( a, new y( b, c ) )
	};
	W.prototype.addPoint = W.prototype.Uh = function( a )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.add( a )
	};
	W.prototype.addPointAt = W.prototype.Yk = function( a, b )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.add( new y( a, b ) )
	};
	W.prototype.removePoint = W.prototype.CE = function( a )
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.Vc( a )
	};
	W.prototype.clearPoints = W.prototype.Oo = function()
	{
		null === this.Fe && v.k( "Call Link.startRoute before modifying the points of the route." );
		this.Zc.clear()
	};
	W.prototype.movePoints = W.prototype.xl = function( a, b )
	{
		for( var c = new I( y ), d = this.Zc.i; d.next(); )
		{
			var e = d.value;
			c.add( (new y( e.x + a, e.y + b )).freeze() )
		}
		c.freeze();
		d = this.Zc;
		this.Zc = c;
		this.P();
		Mp( this );
		e = this.g;
		null !== e && e.Na.uc && (this.qo = c);
		this.h( "points", d, c )
	};
	W.prototype.startRoute = W.prototype.Cl = function()
	{
		null === this.Fe && (this.Fe = this.Zc, this.Zc = this.Zc.copy())
	};
	W.prototype.commitRoute = W.prototype.Pi = function()
	{
		if( null !== this.Fe )
		{
			for( var a = this.Fe, b = this.Zc, c = Infinity, d = Infinity, e = a.n, f = e.length, h = 0; h < f; h++ )var k = e[h], c = Math.min( k.x, c ), d = Math.min( k.y, d );
			for( var l = Infinity, m = Infinity, n = b.n, p = n.length, h = 0; h < p; h++ )k = n[h], l = Math.min( k.x, l ), m = Math.min( k.y, m ), k.freeze();
			b.freeze();
			if( p === f )for( h = 0; h < p; h++ )
			{
				if( f = e[h], k = n[h], f.x - c !== k.x - l || f.y - d !== k.y - m )
				{
					this.P();
					this.se();
					break
				}
			}
			else this.P(), this.se();
			this.Fe = null;
			c = this.g;
			null !== c && c.Na.uc && (this.qo = b);
			Mp( this );
			this.h( "points", a, b )
		}
	};
	W.prototype.rollbackRoute = W.prototype.kI = function()
	{
		null !== this.Fe && (this.Zc = this.Fe, this.Fe = null)
	};
	function Mp( a )
	{
		0 === a.Zc.count ? a.Mf = !1 : (a.Mf = !0, a.Bn = a.l( 0 ).copy(), a.Fn = a.l( a.oa - 1 ).copy(), Np( a, !1 ))
	}

	W.prototype.invalidateRoute = W.prototype.ic = function()
	{
		if( !this.Jy )
		{
			var a = this.g;
			if( !a || !(a.Pw.contains( this ) || a.la.ib || a.Na.uH && !a.Na.df) )if( a = this.path, null !== a )
			{
				if( this.Mf )
				{
					var b = this.bd;
					null !== b && (b = b.km, null !== b && b.Qm());
					b = this.Hd;
					null !== b && (b = b.km, null !== b && b.Qm())
				}
				this.Mf = !1;
				this.P();
				a.P()
			}
		}
	};
	v.defineProperty( W, {Jp: "suspendsRouting"}, function()
	{
		return this.Jy
	}, function( a )
	{
		this.Jy = a
	} );
	W.prototype.updateRoute = W.prototype.gn = function()
	{
		if( !this.Mf && !this.Mx )
		{
			var a = !0;
			try
			{
				this.Mx = !0, this.Cl(), a = this.computePoints()
			} finally
			{
				this.Mx = !1, a ? this.Pi() : this.kI()
			}
		}
	};
	W.prototype.computePoints = function()
	{
		var a = this.g;
		if( null === a )return!1;
		var b = this.T, c = null;
		null === b ? (a.nm || (a.Hv = new X, a.Hv.ya = jd, a.Hv.lb = 0, a.nm = new S, a.nm.add( a.Hv ), a.nm.tf()), this.Bn && (a.nm.position = a.nm.location = this.Bn, a.nm.tf(), b = a.nm, c = a.Hv)) : c = this.bd;
		if( null !== c && !b.isVisible() )
		{
			var d = b.findVisibleNode();
			null !== d && d !== b ? (b = d, c = d.jl( "" )) : b = d
		}
		this.FC = b;
		if( null === b || null === c || !b.location.G() || !c.V.G() )return!1;
		var d = this.Z, e = null;
		null === d ? (a.om || (a.Iv = new X, a.Iv.ya = jd, a.Iv.lb = 0, a.om = new S, a.om.add( a.Iv ),
			a.om.tf()), this.Fn && (a.om.position = a.om.location = this.Fn, a.om.tf(), d = a.om, e = a.Iv)) : e = this.Hd;
		null === e || d.isVisible() || (a = d.findVisibleNode(), null !== a && a !== d ? (d = a, e = a.jl( "" )) : d = a);
		this.HC = d;
		if( null === d || null === e )return!1;
		if( !d.location.G() || !e.V.G() )return v.SF || (v.SF = !0, v.trace( 'Caution: Failure routing "' + this + '" probably because the .toNode has no real location or because the .toPort is not visible.' )), !1;
		var a = this.oa, f = Op( this, c ), h = Pp( this, e ), k = c === e && null !== c, l = this.jc, m = this.Je === Hi;
		this.ri =
				k && !l ? m = !0 : !1;
		var n = this.Ps === Ai || k;
		if( l || f !== sb || h !== sb || k )
		{
			m = this.rl;
			n && (l && m || k) && this.Oo();
			var p = k ? this.computeCurviness() : 0, q = this.getLinkPoint( b, c, f, !0, l, d, e ), r = 0, s = 0, t = 0;
			if( l || f !== sb || k )
			{
				var u = this.computeEndSegmentLength( b, c, f, !0 ), t = this.getLinkDirection( b, c, q, f, !0, l, d, e );
				k && (t -= l ? 90 : 30, 0 > p && (t -= 180));
				0 > t ? t += 360 : 360 <= t && (t -= 360);
				k && (u += Math.abs( p ));
				0 === t ? r = u : 90 === t ? s = u : 180 === t ? r = -u : 270 === t ? s = -u : (r = u * Math.cos( t * Math.PI / 180 ), s = u * Math.sin( t * Math.PI / 180 ));
				if( f.te() && k )
				{
					var w = c.Xa( Ab, v.L() ), x =
						v.Mb( w.x + 1E3 * r, w.y + 1E3 * s );
					this.getLinkPointFromPoint( b, c, w, x, !0, q );
					v.v( w );
					v.v( x )
				}
			}
			var u = this.getLinkPoint( d, e, h, !1, l, b, c ), z = 0, A = 0, H = 0;
			if( l || h !== sb || k )w = this.computeEndSegmentLength( d, e, h, !1 ), H = this.getLinkDirection( d, e, u, h, !1, l, b, c ), k && (H += l ? 0 : 30, 0 > p && (H += 180)), 0 > H ? H += 360 : 360 <= H && (H -= 360), k && (w += Math.abs( p )), 0 === H ? z = w : 90 === H ? A = w : 180 === H ? z = -w : 270 === H ? A = -w : (z = w * Math.cos( H * Math.PI / 180 ), A = w * Math.sin( H * Math.PI / 180 )), h.te() && k && (w = e.Xa( Ab, v.L() ), x = v.Mb( w.x + 1E3 * z, w.y + 1E3 * A ), this.getLinkPointFromPoint( d,
				e, w, x, !1, u ), v.v( w ), v.v( x ));
			e = q;
			if( l || f !== sb || k )e = new y( q.x + r, q.y + s );
			c = u;
			if( l || h !== sb || k )c = new y( u.x + z, u.y + A );
			!n && !l && f === sb && 3 < a && this.adjustPoints( 0, q, a - 2, c ) ? this.Af( a - 1, u ) : !n && !l && h === sb && 3 < a && this.adjustPoints( 1, e, a - 1, u ) ? this.Af( 0, q ) : !n && !l && 4 < a && this.adjustPoints( 1, e, a - 2, c ) ? (this.Af( 0, q ), this.Af( a - 1, u )) : !n && l && 6 <= a && !m && this.adjustPoints( 1, e, a - 2, c ) ? (this.Af( 0, q ), this.Af( a - 1, u )) : (this.Oo(), this.Uh( q ), (l || f !== sb || k) && this.Uh( e ), l && this.addOrthoPoints( e, t, c, H, b, d ), (l || h !== sb || k) && this.Uh( c ), this.Uh( u ))
		}
		else f = !1, !n && 3 <= a && (n = this.getLinkPoint( b, c, sb, !0, !1, d, e ), h = this.getLinkPoint( d, e, sb, !1, !1, b, c ), f = this.adjustPoints( 0, n, a - 1, h )) && (n = this.getLinkPoint( b, c, sb, !0, !1, d, e ), h = this.getLinkPoint( d, e, sb, !1, !1, b, c ), this.adjustPoints( 0, n, a - 1, h )), f || (this.Oo(), m ? (a = this.getLinkPoint( b, c, sb, !0, !1, d, e ), n = this.getLinkPoint( d, e, sb, !1, !1, b, c ), f = n.x - a.x, h = n.y - a.y, k = this.computeCurviness(), m = l = 0, q = a.x + f / 3, t = a.y + h / 3, r = q, s = t, K( h, 0 ) ? s = 0 < f ? s - k : s + k : (l = -f / h, m = Math.sqrt( k * k / (l * l + 1) ), 0 > k && (m = -m), r = (0 > h ? -1 : 1) * m + q, s = l * (r - q) + t), q =
			a.x + 2 * f / 3, t = a.y + 2 * h / 3, u = q, z = t, K( h, 0 ) ? z = 0 < f ? z - k : z + k : (u = (0 > h ? -1 : 1) * m + q, z = l * (u - q) + t), this.Oo(), this.Uh( a ), this.Yk( r, s ), this.Yk( u, z ), this.Uh( n ), this.Af( 0, this.getLinkPoint( b, c, sb, !0, !1, d, e ) ), this.Af( 3, this.getLinkPoint( d, e, sb, !1, !1, b, c ) )) : (a = d, d = this.getLinkPoint( b, c, sb, !0, !1, a, e ), e = this.getLinkPoint( a, e, sb, !1, !1, b, c ), this.hasCurviness() ? (h = e.x - d.x, b = e.y - d.y, c = this.computeCurviness(), a = d.x + h / 2, n = d.y + b / 2, f = a, k = n, K( b, 0 ) ? k = 0 < h ? k - c : k + c : (h = -h / b, f = Math.sqrt( c * c / (h * h + 1) ), 0 > c && (f = -f), f = (0 > b ? -1 : 1) * f + a, k = h * (f -
			a) + n), this.Uh( d ), this.Yk( f, k )) : this.Uh( d ), this.Uh( e )));
		return!0
	};
	function Qp( a, b )
	{
		Math.abs( b.x - a.x ) > Math.abs( b.y - a.y ) ? (b.x = b.x >= a.x ? a.x + 9E9 : a.x - 9E9, b.y = a.y) : (b.y = b.y >= a.y ? a.y + 9E9 : a.y - 9E9, b.x = a.x);
		return b
	}

	W.prototype.getLinkPointFromPoint = function( a, b, c, d, e, f )
	{
		void 0 === f && (f = new y);
		if( null === a || null === b )return f.assign( c ), f;
		a.isVisible() || (e = a.findVisibleNode(), null !== e && e !== a && (b = e.port));
		var h = e = 0, k = 0, l = 0;
		a = null;
		e = b.U;
		null === e || e.Lg() || (e = e.U);
		if( null === e )e = d.x, h = d.y, k = c.x, l = c.y;
		else
		{
			a = e.Zg;
			e = 1 / (a.m11 * a.m22 - a.m12 * a.m21);
			var k = a.m22 * e, l = -a.m12 * e, m = -a.m21 * e, n = a.m11 * e, p = e * (a.m21 * a.dy - a.m22 * a.dx), q = e * (a.m12 * a.dx - a.m11 * a.dy);
			e = d.x * k + d.y * m + p;
			h = d.x * l + d.y * n + q;
			k = c.x * k + c.y * m + p;
			l = c.x * l + c.y * n + q
		}
		b.ap( e, h, k, l,
			f );
		null !== a && f.transform( a );
		return f
	};
	function Rp( a, b )
	{
		var c = b.km;
		null === c && (c = new Sp, c.port = b, c.Jc = b.Y, b.km = c);
		return Tp( c, a )
	}

	W.prototype.getLinkPoint = function( a, b, c, d, e, f, h, k )
	{
		void 0 === k && (k = new y);
		if( c.cd() )return b.Xa( c, k ), k;
		if( c.Vi() && (c = Rp( this, b ), null !== c) )
		{
			k.assign( c.jp );
			if( e && this.gx === Ap )
			{
				var l = Rp( this, h );
				if( null !== l && c.Im < l.Im )
				{
					c = v.L();
					var l = v.L(), m = new B( b.Xa( tb, c ), b.Xa( Fb, l ) ), n = this.computeSpot( !d );
					a = this.getLinkPoint( f, h, n, !d, e, a, b, l );
					a.x >= m.x && a.x <= m.x + m.width ? k.x = a.x : a.y >= m.y && a.y <= m.y + m.height && (k.y = a.y);
					v.v( c );
					v.v( l )
				}
			}
			return k
		}
		f = b.Xa( Ab, v.L() );
		l = c = null;
		this.oa > (e ? 6 : 2) ? (l = d ? this.l( 1 ) : this.l( this.oa - 2 ), e &&
			(l = Qp( f, l.copy() ))) : (c = v.L(), l = h.Xa( Ab, c ), e && (l = Qp( f, l )), v.v( c ));
		this.getLinkPointFromPoint( a, b, f, l, d, k );
		v.v( f );
		return k
	};
	W.prototype.getLinkDirection = function( a, b, c, d, e, f, h, k )
	{
		a:if( d.cd() )c = d.x > d.y ? d.x > 1 - d.y ? 0 : d.x < 1 - d.y ? 270 : 315 : d.x < d.y ? d.x > 1 - d.y ? 90 : d.x < 1 - d.y ? 180 : 135 : .5 > d.x ? 225 : .5 < d.x ? 45 : 0;
		else
		{
			if( d.Vi() )
			{
				var l = Rp( this, b );
				if( null !== l )switch( l.he )
				{
				case v.ed:
					c = 270;
					break a;
				case v.Nc:
					c = 180;
					break a;
				default:
				case v.Xc:
					c = 0;
					break a;
				case v.Wc:
					c = 90;
					break a
				}
			}
			var l = b.Xa( Ab, v.L() ), m = null, n = null;
			this.oa > (f ? 6 : 2) ? (n = e ? this.l( 1 ) : this.l( this.oa - 2 ), n = f ? Qp( l, n.copy() ) : c) : (m = v.L(), n = k.Xa( Ab, m ), v.v( m ));
			c = 0;
			c = Math.abs( n.x - l.x ) > Math.abs( n.y -
				l.y ) ? n.x >= l.x ? 0 : 180 : n.y >= l.y ? 90 : 270;
			v.v( l )
		}
		d.te() && h.Zh( a ) && (c += 180, 360 <= c && (c -= 360));
		a = np;
		a = e ? this.jt : this.du;
		a === np && (a = e ? b.jt : b.du);
		switch( a )
		{
		case op:
			b = b.nl();
			c += b;
			360 <= c && (c -= 360);
			break;
		case np:
		case ym:
			b = b.nl();
			if( 0 === b )break;
			45 <= b && 135 > b ? c += 90 : 135 <= b && 225 > b ? c += 180 : 225 <= b && 315 > b && (c += 270);
			360 <= c && (c -= 360)
		}
		return c
	};
	W.prototype.computeEndSegmentLength = function( a, b, c, d )
	{
		if( null !== b && c.Vi() && (a = Rp( this, b ), null !== a) )return a.vw;
		a = NaN;
		a = d ? this.ll : this.Gl;
		null !== b && isNaN( a ) && (a = d ? b.ll : b.Gl);
		isNaN( a ) && (a = 10);
		return a
	};
	W.prototype.computeSpot = function( a )
	{
		return a ? Op( this, this.bd ) : Pp( this, this.Hd )
	};
	function Op( a, b )
	{
		if( null === b )return Ab;
		var c = a.xb;
		c.Uc() && (void 0 === b && (b = a.bd), null !== b && (c = b.xb));
		return c === kc ? sb : c
	}

	function Pp( a, b )
	{
		if( null === b )return Ab;
		var c = a.yb;
		c.Uc() && (void 0 === b && (b = a.Hd), null !== b && (c = b.yb));
		return c === kc ? sb : c
	}

	W.prototype.computeOtherPoint = function( a, b )
	{
		var c = b.Xa( Ab ), d;
		d = b.km;
		d = null !== d ? Tp( d, this ) : null;
		null !== d && (c = d.jp);
		return c
	};
	W.prototype.computeShortLength = function( a )
	{
		return a ? Up( this ) : Vp( this )
	};
	function Up( a )
	{
		var b = a.kt;
		isNaN( b ) && (a = a.bd, null !== a && (b = a.kt));
		return isNaN( b ) ? 0 : b
	}

	function Vp( a )
	{
		var b = a.eu;
		isNaN( b ) && (a = a.Hd, null !== a && (b = a.eu));
		return isNaN( b ) ? 0 : b
	}

	W.prototype.Xj = function( a, b, c, d, e, f )
	{
		if( !1 === this.Hg )return!1;
		void 0 === b && (b = null);
		void 0 === c && (c = null);
		var h = f;
		void 0 === f && (h = v.qh(), h.reset());
		h.multiply( this.transform );
		if( this.Fm( a, h ) )return bo( this, b, c, e ), void 0 === f && v.$e( h ), !0;
		if( this.yg( a, h ) )
		{
			var k = !1;
			if( !this.Qg )for( var l = this.xa.n, m = l.length; m--; )
			{
				var n = l[m];
				if( n.visible || n === this.bc )
				{
					var p = n.V, q = this.Ha;
					if( !(p.x > q.width || p.y > q.height || 0 > p.x + p.width || 0 > p.y + p.height) )
					{
						p = v.qh();
						p.set( h );
						if( n instanceof D )k = n.Xj( a, b, c, d, e, p );
						else if( this.path ===
							n )
						{
							var k = n, r = a, s = d, q = p;
							if( !1 === k.Hg )k = !1;
							else if( q.multiply( k.transform ), s )b:{
								var t = r, u = q;
								if( k.Fm( t, u ) )k = !0;
								else
								{
									if( void 0 === u && (u = k.transform, t.Vj( k.V )) )
									{
										k = !0;
										break b
									}
									var q = t.left, r = t.right, s = t.top, t = t.bottom, w = v.L(), x = v.L(), z = v.L(), A = v.qh();
									A.set( u );
									A.sE( k.transform );
									A.zz();
									x.x = r;
									x.y = s;
									x.transform( A );
									w.x = q;
									w.y = s;
									w.transform( A );
									u = !1;
									no( k, w, x, z ) ? u = !0 : (w.x = r, w.y = t, w.transform( A ), no( k, w, x, z ) ? u = !0 : (x.x = q, x.y = t, x.transform( A ), no( k, w, x, z ) ? u = !0 : (w.x = q, w.y = s, w.transform( A ), no( k, w, x, z ) && (u = !0))));
									v.$e( A );
									v.v( w );
									v.v( x );
									v.v( z );
									k = u
								}
							}
							else k = k.Fm( r, q )
						}
						else k = Dm( n, a, d, p );
						k && (null !== b && (n = b( n )), n && (null === c || c( n )) && e.add( n ));
						v.$e( p )
					}
				}
			}
			void 0 === f && v.$e( h );
			return k || null !== this.background || null !== this.Am
		}
		void 0 === f && v.$e( h );
		return!1
	};
	v.u( W, {jc: "isOrthogonal"}, function()
	{
		return 2 === (this.mm.value & 2)
	} );
	v.u( W, {rl: "isAvoiding"}, function()
	{
		return 4 === (this.mm.value & 4)
	} );
	W.prototype.computeCurve = function()
	{
		if( null === this.ri )
		{
			var a = this.bd, b = this.jc;
			this.ri = null !== a && a === this.Hd && !b
		}
		return this.ri ? Hi : this.Je
	};
	W.prototype.computeCorner = function()
	{
		if( this.Je === Hi )return 0;
		var a = this.gz;
		if( isNaN( a ) || 0 > a )a = 10;
		return a
	};
	W.prototype.findMidLabel = function()
	{
		for( var a = this.path, b = this.xa.n, c = b.length, d = 0; d < c; d++ )
		{
			var e = b[d];
			if( e !== a && !e.Sf && (-Infinity === e.we || isNaN( e.we )) )return e
		}
		for( a = this.Tf; a.next(); )if( b = a.value, -Infinity === b.we || isNaN( b.we ) )return b;
		return null
	};
	W.prototype.computeSpacing = function()
	{
		if( !this.isVisible() )return 0;
		var a;
		a = Math.max( 14, this.computeThickness() );
		var b = this.bd, c = this.Hd;
		if( null !== b && null !== c )
		{
			var d = this.findMidLabel();
			if( null !== d )
			{
				var e = d.Ha, f = d.margin, h = isNaN( e.width ) ? 30 : e.width * d.scale + f.left + f.right, e = isNaN( e.height ) ? 14 : e.height * d.scale + f.top + f.bottom, d = d.Ut;
				d === qo || d === Ep || d === Dp ? a = Math.max( a, e ) : d === Cp || d === Gp || d === Bp || d === Fp ? a = Math.max( a, h ) : (b = b.Xa( Ab ).xc( c.Xa( Ab ) ) / 180 * Math.PI, a = Math.max( a, Math.abs( Math.sin( b ) * h ) + Math.abs( Math.cos( b ) *
					e ) + 1 ));
				this.Je === Hi && (a *= 1.333)
			}
		}
		return a
	};
	W.prototype.arrangeBundledLinks = function( a, b )
	{
		if( b )for( var c = 0; c < a.length; c++ )a[c].ic()
	};
	W.prototype.computeCurviness = function()
	{
		var a = this.rw;
		if( isNaN( a ) )
		{
			var a = 16, b = this.ei;
			if( null !== b )
			{
				for( var c = v.jb(), d = 0, e = b.links, f = 0; f < e.length; f++ )
				{
					var h = e[f], h = h.computeSpacing();
					c.push( h );
					d += h
				}
				d = -d / 2;
				for( f = 0; f < e.length; f++ )
				{
					h = e[f];
					if( h === this )
					{
						a = d + c[f] / 2;
						break
					}
					d += c[f]
				}
				b.sp === this.T && (a = -a);
				v.sa( c )
			}
		}
		return a
	};
	W.prototype.computeThickness = function()
	{
		if( !this.isVisible() )return 0;
		var a = this.path;
		return null !== a ? Math.max( a.lb, 1 ) : 1
	};
	W.prototype.hasCurviness = function()
	{
		return!isNaN( this.rw ) || null !== this.ei
	};
	W.prototype.adjustPoints = function( a, b, c, d )
	{
		var e = this.Ps;
		if( this.jc )
		{
			if( e === dn )return!1;
			e === en && (e = cn)
		}
		switch( e )
		{
		case dn:
			var f = this.l( a ), h = this.l( c );
			if( !f.Fc( b ) || !h.Fc( d ) )
			{
				var e = f.x, f = f.y, k = h.x - e, l = h.y - f, m = Math.sqrt( k * k + l * l );
				if( !Dc( m, 0 ) )
				{
					var n = 0;
					Dc( k, 0 ) ? n = 0 > l ? -Math.PI / 2 : Math.PI / 2 : (n = Math.atan( l / Math.abs( k ) ), 0 > k && (n = Math.PI - n));
					var h = b.x, p = b.y, l = d.x - h, q = d.y - p, r = Math.sqrt( l * l + q * q ), k = 0;
					Dc( l, 0 ) ? k = 0 > q ? -Math.PI / 2 : Math.PI / 2 : (k = Math.atan( q / Math.abs( l ) ), 0 > l && (k = Math.PI - k));
					m = r / m;
					n = k - n;
					this.Af( a, b );
					for( a +=
								 1; a < c; a++ )b = this.l( a ), k = b.x - e, l = b.y - f, b = Math.sqrt( k * k + l * l ), Dc( b, 0 ) || (q = 0, Dc( k, 0 ) ? q = 0 > l ? -Math.PI / 2 : Math.PI / 2 : (q = Math.atan( l / Math.abs( k ) ), 0 > k && (q = Math.PI - q)), k = q + n, b *= m, this.W( a, h + b * Math.cos( k ), p + b * Math.sin( k ) ));
					this.Af( c, d )
				}
			}
			return!0;
		case en:
			f = this.l( a );
			p = this.l( c );
			if( !f.Fc( b ) || !p.Fc( d ) )
			{
				var e = f.x, f = f.y, h = p.x, p = p.y, m = (h - e) * (h - e) + (p - f) * (p - f), k = b.x, n = b.y, l = d.x, q = d.y, r = 0, s = 1;
				0 !== l - k ? (r = (q - n) / (l - k), s = Math.sqrt( 1 + 1 / (r * r) )) : r = 9E9;
				this.Af( a, b );
				for( a += 1; a < c; a++ )
				{
					b = this.l( a );
					var t = b.x, u = b.y, w = .5;
					0 !== m && (w =
						((e - t) * (e - h) + (f - u) * (f - p)) / m);
					var x = e + w * (h - e), z = f + w * (p - f);
					b = Math.sqrt( (t - x) * (t - x) + (u - z) * (u - z) );
					u < r * (t - x) + z && (b = -b);
					0 < r && (b = -b);
					t = k + w * (l - k);
					w = n + w * (q - n);
					0 !== r ? (b = t + b / s, this.W( a, b, w - (b - t) / r )) : this.W( a, t, w + b )
				}
				this.Af( c, d )
			}
			return!0;
		case cn:
			return this.jc && (e = this.l( a ), f = this.l( a + 1 ), h = this.l( a + 2 ), K( e.y, f.y ) ? K( f.x, h.x ) ? this.W( a + 1, f.x, b.y ) : K( f.y, h.y ) && this.W( a + 1, b.x, f.y ) : K( e.x, f.x ) && (K( f.y, h.y ) ? this.W( a + 1, b.x, f.y ) : K( f.x, h.x ) && this.W( a + 1, f.x, b.y )), e = this.l( c ), f = this.l( c - 1 ), h = this.l( c - 2 ), K( e.y, f.y ) ? K( f.x, h.x ) ?
				this.W( c - 1, f.x, d.y ) : K( f.y, h.y ) && this.W( c - 1, d.x, f.y ) : K( e.x, f.x ) && (K( f.y, h.y ) ? this.W( c - 1, d.x, f.y ) : K( f.x, h.x ) && this.W( c - 1, f.x, d.y ))), this.Af( a, b ), this.Af( c, d ), !0;
		default:
			return!1
		}
	};
	W.prototype.addOrthoPoints = function( a, b, c, d, e, f )
	{
		b = -45 <= b && 45 > b ? 0 : 45 <= b && 135 > b ? 90 : 135 <= b && 225 > b ? 180 : 270;
		d = -45 <= d && 45 > d ? 0 : 45 <= d && 135 > d ? 90 : 135 <= d && 225 > d ? 180 : 270;
		var h = e.V.copy(), k = f.V.copy();
		if( h.G() && k.G() )
		{
			h.Rf( 8, 8 );
			k.Rf( 8, 8 );
			h.dj( a );
			k.dj( c );
			var l, m;
			if( 0 === b )if( c.x > a.x || 270 === d && c.y < a.y && k.right > a.x || 90 === d && c.y > a.y && k.right > a.x )l = new y( c.x, a.y ), m = new y( c.x, (a.y + c.y) / 2 ), 180 === d ? (l.x = this.computeMidOrthoPosition( a.x, c.x, !1 ), m.x = l.x, m.y = c.y) : 270 === d && c.y < a.y || 90 === d && c.y > a.y ? (l.x = a.x < k.left ? this.computeMidOrthoPosition( a.x,
				k.left, !1 ) : a.x < k.right && (270 === d && a.y < k.top || 90 === d && a.y > k.bottom) ? this.computeMidOrthoPosition( a.x, c.x, !1 ) : k.right, m.x = l.x, m.y = c.y) : 0 === d && a.x < k.left && a.y > k.top && a.y < k.bottom && (l.x = a.x, l.y = a.y < c.y ? Math.min( c.y, k.top ) : Math.max( c.y, k.bottom ), m.y = l.y);
			else
			{
				l = new y( a.x, c.y );
				m = new y( (a.x + c.x) / 2, c.y );
				if( 180 === d || 90 === d && c.y < h.top || 270 === d && c.y > h.bottom )180 === d && (k.Fa( a ) || h.Fa( c )) ? l.y = this.computeMidOrthoPosition( a.y, c.y, !0 ) : c.y < a.y && (180 === d || 90 === d) ? l.y = this.computeMidOrthoPosition( h.top, Math.max( c.y,
					k.bottom ), !0 ) : c.y > a.y && (180 === d || 270 === d) && (l.y = this.computeMidOrthoPosition( h.bottom, Math.min( c.y, k.top ), !0 )), m.x = c.x, m.y = l.y;
				if( l.y > h.top && l.y < h.bottom )if( c.x >= h.left && c.x <= a.x || a.x <= k.right && a.x >= c.x )
				{
					if( 90 === d || 270 === d )l = new y( Math.max( (a.x + c.x) / 2, a.x ), a.y ), m = new y( l.x, c.y )
				}
				else l.y = 270 === d || (0 === d || 180 === d) && c.y < a.y ? Math.min( c.y, 0 === d ? h.top : Math.min( h.top, k.top ) ) : Math.max( c.y, 0 === d ? h.bottom : Math.max( h.bottom, k.bottom ) ), m.x = c.x, m.y = l.y
			}
			else if( 180 === b )if( c.x < a.x || 270 === d && c.y < a.y && k.left < a.x ||
				90 === d && c.y > a.y && k.left < a.x )l = new y( c.x, a.y ), m = new y( c.x, (a.y + c.y) / 2 ), 0 === d ? (l.x = this.computeMidOrthoPosition( a.x, c.x, !1 ), m.x = l.x, m.y = c.y) : 270 === d && c.y < a.y || 90 === d && c.y > a.y ? (l.x = a.x > k.right ? this.computeMidOrthoPosition( a.x, k.right, !1 ) : a.x > k.left && (270 === d && a.y < k.top || 90 === d && a.y > k.bottom) ? this.computeMidOrthoPosition( a.x, c.x, !1 ) : k.left, m.x = l.x, m.y = c.y) : 180 === d && a.x > k.right && a.y > k.top && a.y < k.bottom && (l.x = a.x, l.y = a.y < c.y ? Math.min( c.y, k.top ) : Math.max( c.y, k.bottom ), m.y = l.y);
			else
			{
				l = new y( a.x, c.y );
				m = new y( (a.x +
					c.x) / 2, c.y );
				if( 0 === d || 90 === d && c.y < h.top || 270 === d && c.y > h.bottom )0 === d && (k.Fa( a ) || h.Fa( c )) ? l.y = this.computeMidOrthoPosition( a.y, c.y, !0 ) : c.y < a.y && (0 === d || 90 === d) ? l.y = this.computeMidOrthoPosition( h.top, Math.max( c.y, k.bottom ), !0 ) : c.y > a.y && (0 === d || 270 === d) && (l.y = this.computeMidOrthoPosition( h.bottom, Math.min( c.y, k.top ), !0 )), m.x = c.x, m.y = l.y;
				if( l.y > h.top && l.y < h.bottom )if( c.x <= h.right && c.x >= a.x || a.x >= k.left && a.x <= c.x )
				{
					if( 90 === d || 270 === d )l = new y( Math.min( (a.x + c.x) / 2, a.x ), a.y ), m = new y( l.x, c.y )
				}
				else l.y = 270 ===
						d || (0 === d || 180 === d) && c.y < a.y ? Math.min( c.y, 180 === d ? h.top : Math.min( h.top, k.top ) ) : Math.max( c.y, 180 === d ? h.bottom : Math.max( h.bottom, k.bottom ) ), m.x = c.x, m.y = l.y
			}
			else if( 90 === b )if( c.y > a.y || 180 === d && c.x < a.x && k.bottom > a.y || 0 === d && c.x > a.x && k.bottom > a.y )l = new y( a.x, c.y ), m = new y( (a.x + c.x) / 2, c.y ), 270 === d ? (l.y = this.computeMidOrthoPosition( a.y, c.y, !0 ), m.x = c.x, m.y = l.y) : 180 === d && c.x < a.x || 0 === d && c.x > a.x ? (l.y = a.y < k.top ? this.computeMidOrthoPosition( a.y, k.top, !0 ) : a.y < k.bottom && (180 === d && a.x < k.left || 0 === d && a.x > k.right) ?
				this.computeMidOrthoPosition( a.y, c.y, !0 ) : k.bottom, m.x = c.x, m.y = l.y) : 90 === d && a.y < k.top && a.x > k.left && a.x < k.right && (l.x = a.x < c.x ? Math.min( c.x, k.left ) : Math.max( c.x, k.right ), l.y = a.y, m.x = l.x);
			else
			{
				l = new y( c.x, a.y );
				m = new y( c.x, (a.y + c.y) / 2 );
				if( 270 === d || 0 === d && c.x < h.left || 180 === d && c.x > h.right )270 === d && (k.Fa( a ) || h.Fa( c )) ? l.x = this.computeMidOrthoPosition( a.x, c.x, !1 ) : c.x < a.x && (270 === d || 0 === d) ? l.x = this.computeMidOrthoPosition( h.left, Math.max( c.x, k.right ), !1 ) : c.x > a.x && (270 === d || 180 === d) && (l.x = this.computeMidOrthoPosition( h.right,
					Math.min( c.x, k.left ), !1 )), m.x = l.x, m.y = c.y;
				if( l.x > h.left && l.x < h.right )if( c.y >= h.top && c.y <= a.y || a.y <= k.bottom && a.y >= c.y )
				{
					if( 0 === d || 180 === d )l = new y( a.x, Math.max( (a.y + c.y) / 2, a.y ) ), m = new y( c.x, l.y )
				}
				else l.x = 180 === d || (90 === d || 270 === d) && c.x < a.x ? Math.min( c.x, 90 === d ? h.left : Math.min( h.left, k.left ) ) : Math.max( c.x, 90 === d ? h.right : Math.max( h.right, k.right ) ), m.x = l.x, m.y = c.y
			}
			else if( c.y < a.y || 180 === d && c.x < a.x && k.top < a.y || 0 === d && c.x > a.x && k.top < a.y )l = new y( a.x, c.y ), m = new y( (a.x + c.x) / 2, c.y ), 90 === d ? (l.y = this.computeMidOrthoPosition( a.y,
				c.y, !0 ), m.x = c.x, m.y = l.y) : 180 === d && c.x < a.x || 0 === d && c.x >= a.x ? (l.y = a.y > k.bottom ? this.computeMidOrthoPosition( a.y, k.bottom, !0 ) : a.y > k.top && (180 === d && a.x < k.left || 0 === d && a.x > k.right) ? this.computeMidOrthoPosition( a.y, c.y, !0 ) : k.top, m.x = c.x, m.y = l.y) : 270 === d && a.y > k.bottom && a.x > k.left && a.x < k.right && (l.x = a.x < c.x ? Math.min( c.x, k.left ) : Math.max( c.x, k.right ), l.y = a.y, m.x = l.x);
			else
			{
				l = new y( c.x, a.y );
				m = new y( c.x, (a.y + c.y) / 2 );
				if( 90 === d || 0 === d && c.x < h.left || 180 === d && c.x > h.right )90 === d && (k.Fa( a ) || h.Fa( c )) ? l.x = this.computeMidOrthoPosition( a.x,
					c.x, !1 ) : c.x < a.x && (90 === d || 0 === d) ? l.x = this.computeMidOrthoPosition( h.left, Math.max( c.x, k.right ), !1 ) : c.x > a.x && (90 === d || 180 === d) && (l.x = this.computeMidOrthoPosition( h.right, Math.min( c.x, k.left ), !1 )), m.x = l.x, m.y = c.y;
				if( l.x > h.left && l.x < h.right )if( c.y <= h.bottom && c.y >= a.y || a.y >= k.top && a.y <= c.y )
				{
					if( 0 === d || 180 === d )l = new y( a.x, Math.min( (a.y + c.y) / 2, a.y ) ), m = new y( c.x, l.y )
				}
				else l.x = 180 === d || (90 === d || 270 === d) && c.x < a.x ? Math.min( c.x, 270 === d ? h.left : Math.min( h.left, k.left ) ) : Math.max( c.x, 270 === d ? h.right : Math.max( h.right,
						k.right ) ), m.x = l.x, m.y = c.y
			}
			var n = l, p = m;
			if( this.rl )
			{
				var q = this.g, r;
				(r = null === q) || (q.Na.df ? r = !1 : (r = q.Wa, r = r instanceof Xg ? !r.Wv || r.lH : !0), r = !r);
				if( r || h.Fa( c ) && !f.Zh( e ) || k.Fa( a ) && !e.Zh( f ) || e === f || this.layer.Gc )a = !1;
				else if( e = am( q, !0, this.Sa, null ), e.hp( Math.min( a.x, n.x ), Math.min( a.y, n.y ), Math.abs( a.x - n.x ), Math.abs( a.y - n.y ) ) && e.hp( Math.min( n.x, p.x ), Math.min( n.y, p.y ), Math.abs( n.x - p.x ), Math.abs( n.y - p.y ) ) && e.hp( Math.min( p.x, c.x ), Math.min( p.y, c.y ), Math.abs( p.x - c.x ), Math.abs( p.y - c.y ) ) )a = !1;
				else if( h = h.copy().ci( k ),
					h.Rf( 2 * e.No, 2 * e.Lo ), Wp( e, a, b, c, d, h ), k = Xp( e, c.x, c.y ), e.abort || 999999 !== k || (dm( e ), k = e.XE, h.Rf( e.No * k, e.Lo * k ), Wp( e, a, b, c, d, h ), k = Xp( e, c.x, c.y )), e.abort || 999999 !== k || (dm( e ), k = e.lE, h.Rf( e.No * k, e.Lo * k ), Wp( e, a, b, c, d, h ), k = Xp( e, c.x, c.y )), !e.abort && 999999 === k && e.pF && (dm( e ), Wp( e, a, b, c, d, e.mb ), k = Xp( e, c.x, c.y )), !e.abort && 999999 > k && 0 !== Xp( e, c.x, c.y ) )
				{
					Yp( this, e, c.x, c.y, d, !0 );
					d = this.l( 2 );
					if( 4 > this.oa )0 === b || 180 === b ? (d.x = a.x, d.y = c.y) : (d.x = c.x, d.y = a.y), this.W( 2, d.x, d.y ), this.w( 3, d.x, d.y );
					else if( c = this.l( 3 ), 0 === b ||
						180 === b )K( d.x, c.x ) ? (b = 0 === b ? Math.max( d.x, a.x ) : Math.min( d.x, a.x ), this.W( 2, b, a.y ), this.W( 3, b, c.y )) : K( d.y, c.y ) ? (Math.abs( a.y - d.y ) <= e.Lo / 2 && (this.W( 2, d.x, a.y ), this.W( 3, c.x, a.y )), this.w( 2, d.x, a.y )) : this.W( 2, a.x, d.y );
					else if( 90 === b || 270 === b )K( d.y, c.y ) ? (b = 90 === b ? Math.max( d.y, a.y ) : Math.min( d.y, a.y ), this.W( 2, a.x, b ), this.W( 3, c.x, b )) : K( d.x, c.x ) ? (Math.abs( a.x - d.x ) <= e.No / 2 && (this.W( 2, a.x, d.y ), this.W( 3, a.x, c.y )), this.w( 2, a.x, d.y )) : this.W( 2, d.x, a.y );
					a = !0
				}
				else a = !1
			}
			else a = !1;
			a || (this.Uh( l ), this.Uh( m ))
		}
	};
	W.prototype.computeMidOrthoPosition = function( a, b )
	{
		if( this.hasCurviness() )
		{
			var c = this.computeCurviness();
			return(a + b) / 2 + c
		}
		return(a + b) / 2
	};
	function Gh( a )
	{
		if( !a.rl )return!1;
		var b = a.points.n, c = b.length;
		if( 4 > c )return!1;
		a = am( a.g, !0, a.Sa, null );
		for( var d = 1; d < c - 2; d++ )
		{
			var e = b[d], f = b[d + 1];
			if( !a.hp( Math.min( e.x, f.x ), Math.min( e.y, f.y ), Math.abs( e.x - f.x ), Math.abs( e.y - f.y ) ) )return!0
		}
		return!1
	}

	function Yp( a, b, c, d, e, f )
	{
		var h = b.No, k = b.Lo, l = Xp( b, c, d ), m = c, n = d;
		for( 0 === e ? m += h : 90 === e ? n += k : 180 === e ? m -= h : n -= k; 1 < l && Xp( b, m, n ) === l - 1; )c = m, d = n, 0 === e ? m += h : 90 === e ? n += k : 180 === e ? m -= h : n -= k, l -= 1;
		if( f )
		{
			if( 1 < l )if( 180 === e || 0 === e )c = Math.floor( c / h ) * h + h / 2;
			else if( 90 === e || 270 === e )d = Math.floor( d / k ) * k + k / 2
		}
		else c = Math.floor( c / h ) * h + h / 2, d = Math.floor( d / k ) * k + k / 2;
		1 < l && (f = e, m = c, n = d, 0 === e ? (f = 90, n += k) : 90 === e ? (f = 180, m -= h) : 180 === e ? (f = 270, n -= k) : 270 === e && (f = 0, m += h), Xp( b, m, n ) === l - 1 ? Yp( a, b, m, n, f, !1 ) : (m = c, n = d, 0 === e ? (f = 270, n -= k) : 90 ===
			e ? (f = 0, m += h) : 180 === e ? (f = 90, n += k) : 270 === e && (f = 180, m -= h), Xp( b, m, n ) === l - 1 && Yp( a, b, m, n, f, !1 )));
		a.Yk( c, d )
	}

	W.prototype.findClosestSegment = function( a )
	{
		var b = a.x;
		a = a.y;
		for( var c = this.l( 0 ), d = this.l( 1 ), e = Sa( b, a, c.x, c.y, d.x, d.y ), f = 0, h = 1; h < this.oa - 1; h++ )
		{
			var c = this.l( h + 1 ), k = Sa( b, a, d.x, d.y, c.x, c.y ), d = c;
			k < e && (f = h, e = k)
		}
		return f
	};
	W.prototype.invalidateGeometry = W.prototype.se = function()
	{
		this.Ra = null
	};
	v.u( W, {ml: "geometry"}, function()
	{
		null === this.Ra && (this.gn(), this.Ra = this.makeGeometry());
		return this.Ra
	} );
	W.prototype.Vm = function( a )
	{
		if( !a )
		{
			if( !1 === this.Mf )return;
			a = this.Ye();
			if( null !== this.Ra && (null === a || null !== a.ml) )return
		}
		this.Ra = this.makeGeometry();
		a = this.path;
		if( null !== a )
		{
			a.Ra = this.Ra;
			for( var b = this.xa.n, c = b.length, d = 0; d < c; d++ )
			{
				var e = b[d];
				e !== a && e.Sf && e instanceof X && (e.Ra = this.Ra)
			}
		}
	};
	W.prototype.makeGeometry = function()
	{
		var a = this.oa;
		if( 2 > a )
		{
			var b = new re( De ), c = new Ee( 0, 0 );
			b.Ub.add( c );
			return b
		}
		var d = !1, b = this.g;
		null !== b && Lp( this ) && b.xk.contains( this ) && null !== this.Gv && (d = !0);
		var c = b = 0, e = this.l( 0 ).copy(), f = e.copy(), b = this.Zc.n, h = this.computeCurve();
		if( h === Hi && 3 <= a && !Dc( this.Hp, 0 ) )if( 3 === a )var k = this.l( 1 ), b = Math.min( e.x, k.x ), c = Math.min( e.y, k.y ), k = this.l( 2 ), b = Math.min( b, k.x ), c = Math.min( c, k.y );
		else
		{
			if( this.jc )for( k = 0; k < a; k++ )c = b[k], f.x = Math.min( c.x, f.x ), f.y = Math.min( c.y, f.y );
			else for( k =
									3; k < a; k += 3 )k + 3 >= a && (k = a - 1), b = this.l( k ), f.x = Math.min( b.x, f.x ), f.y = Math.min( b.y, f.y );
			b = f.x;
			c = f.y
		}
		else
		{
			for( k = 0; k < a; k++ )c = b[k], f.x = Math.min( c.x, f.x ), f.y = Math.min( c.y, f.y );
			b = f.x;
			c = f.y
		}
		b -= this.My.x;
		c -= this.My.y;
		e.x -= b;
		e.y -= c;
		if( 2 === a )
		{
			var l = this.l( 1 ).copy();
			l.x -= b;
			l.y -= c;
			0 !== Up( this ) && Zp( this, e, !0, f );
			0 !== Vp( this ) && Zp( this, l, !1, f );
			b = new re( Ge );
			b.za = e.x;
			b.wa = e.y;
			b.I = l.x;
			b.J = l.y
		}
		else
		{
			l = v.s();
			0 !== Up( this ) && Zp( this, e, !0, f );
			N( l, e.x, e.y, !1, !1 );
			if( h === Hi && 3 <= a && !Dc( this.Hp, 0 ) )if( 3 === a )k = this.l( 1 ), a = k.x - b, d = k.y -
				c, k = this.l( 2 ).copy(), k.x -= b, k.y -= c, 0 !== Vp( this ) && Zp( this, k, !1, f ), O( l, a, d, a, d, k.x, k.y );
			else if( this.jc )
			{
				for( var f = new y( b, c ), e = this.l( 1 ).copy(), h = new y( b, c ), a = new y( b, c ), d = this.l( 0 ), m = null, n = this.Hp / 3, k = 1; k < this.oa - 1; k++ )
				{
					var m = this.l( k ), p = d, q = m, r = this.l( $p( this, m, k, !1 ) );
					if( !Dc( p.x, q.x ) || !Dc( q.x, r.x ) )if( !Dc( p.y, q.y ) || !Dc( q.y, r.y ) )
					{
						var s = n, t = h, u = a;
						isNaN( s ) && (s = this.Hp / 3);
						var w = p.x, p = p.y, x = q.x, q = q.y, z = r.x, r = r.y, A = s * aq( w, p, x, q ), s = s * aq( x, q, z, r );
						Dc( p, q ) && Dc( x, z ) && (x > w ? r > q ? (t.x = x - A, t.y = q - A, u.x = x + s, u.y = q +
							s) : (t.x = x - A, t.y = q + A, u.x = x + s, u.y = q - s) : r > q ? (t.x = x + A, t.y = q - A, u.x = x - s, u.y = q + s) : (t.x = x + A, t.y = q + A, u.x = x - s, u.y = q - s));
						Dc( w, x ) && Dc( q, r ) && (q > p ? (z > x ? (t.x = x - A, t.y = q - A, u.x = x + s) : (t.x = x + A, t.y = q - A, u.x = x - s), u.y = q + s) : (z > x ? (t.x = x - A, t.y = q + A, u.x = x + s) : (t.x = x + A, t.y = q + A, u.x = x - s), u.y = q - s));
						if( Dc( w, x ) && Dc( x, z ) || Dc( p, q ) && Dc( q, r ) )w = .5 * (w + z), p = .5 * (p + r), t.x = w, t.y = p, u.x = w, u.y = p;
						1 === k ? (e.x = .5 * (d.x + m.x), e.y = .5 * (d.y + m.y)) : 2 === k && Dc( d.x, this.l( 0 ).x ) && Dc( d.y, this.l( 0 ).y ) && (e.x = .5 * (d.x + m.x), e.y = .5 * (d.y + m.y));
						O( l, e.x - b, e.y - c, h.x - b, h.y -
							c, m.x - b, m.y - c );
						f.set( h );
						e.set( a );
						d = m
					}
				}
				k = d.x;
				d = d.y;
				f = this.l( this.oa - 1 );
				k = .5 * (k + f.x);
				d = .5 * (d + f.y);
				O( l, a.x - b, a.y - c, k - b, d - c, f.x - b, f.y - c )
			}
			else for( k = 3; k < a; k += 3 )d = this.l( k - 2 ), k + 3 >= a && (k = a - 1), f = this.l( k - 1 ), e = this.l( k ), k === a - 1 && 0 !== Vp( this ) && (e = e.copy(), Zp( this, e, !1, Xc )), O( l, d.x - b, d.y - c, f.x - b, f.y - c, e.x - b, e.y - c );
			else
			{
				f = v.L();
				f.assign( this.l( 0 ) );
				for( k = 1; k < a; )
				{
					k = $p( this, f, k, 1 < k );
					t = this.l( k );
					if( k >= a - 1 )
					{
						f !== t && (0 !== Vp( this ) && (t = t.copy(), Zp( this, t, !1, Xc )), bq( this, l, -b, -c, f, t, d ));
						break
					}
					k = $p( this, t, k + 1, k < a - 3 );
					e =
						l;
					h = -b;
					m = -c;
					n = f;
					u = this.l( k );
					w = f;
					p = d;
					K( n.y, t.y ) && K( t.x, u.x ) ? (s = this.computeCorner(), s = Math.min( s, Math.abs( t.x - n.x ) / 2 ), s = x = Math.min( s, Math.abs( u.y - t.y ) / 2 ), K( s, 0 ) ? (bq( this, e, h, m, n, t, p ), w.assign( t )) : (q = t.x, z = t.y, r = q, A = z, q = t.x > n.x ? t.x - s : t.x + s, A = u.y > t.y ? t.y + x : t.y - x, bq( this, e, h, m, n, new y( q, z ), p ), cf( e, t.x + h, t.y + m, r + h, A + m ), w.m( r, A ))) : K( n.x, t.x ) && K( t.y, u.y ) ? (s = this.computeCorner(), x = Math.min( s, Math.abs( t.y - n.y ) / 2 ), x = s = Math.min( x, Math.abs( u.x - t.x ) / 2 ), K( s, 0 ) ? (bq( this, e, h, m, n, t, p ), w.assign( t )) : (q = t.x, A = z = t.y,
						z = t.y > n.y ? t.y - x : t.y + x, r = u.x > t.x ? t.x + s : t.x - s, bq( this, e, h, m, n, new y( q, z ), p ), cf( e, t.x + h, t.y + m, r + h, A + m ), w.m( r, A ))) : (bq( this, e, h, m, n, t, p ), w.assign( t ))
				}
				v.v( f )
			}
			b = l.o;
			v.q( l )
		}
		return b
	};
	function aq( a, b, c, d )
	{
		a = c - a;
		if( isNaN( a ) || Infinity === a || -Infinity === a )return NaN;
		0 > a && (a = -a);
		b = d - b;
		if( isNaN( b ) || Infinity === b || -Infinity === b )return NaN;
		0 > b && (b = -b);
		return Dc( a, 0 ) ? b : Dc( b, 0 ) ? a : Math.sqrt( a * a + b * b )
	}

	function Zp( a, b, c, d )
	{
		var e = a.oa;
		if( !(2 > e) )if( c )
		{
			var f = a.l( 1 );
			c = f.x - d.x;
			d = f.y - d.y;
			f = aq( b.x, b.y, c, d );
			0 !== f && (e = 2 === e ? .5 * f : f, a = Up( a ), a > e && (a = e), c = a * (c - b.x) / f, a = a * (d - b.y) / f, b.x += c, b.y += a)
		}
		else f = a.l( e - 2 ), c = f.x - d.x, d = f.y - d.y, f = aq( b.x, b.y, c, d ), 0 !== f && (e = 2 === e ? .5 * f : f, a = Vp( a ), a > e && (a = e), c = a * (b.x - c) / f, a = a * (b.y - d) / f, b.x -= c, b.y -= a)
	}

	function $p( a, b, c, d )
	{
		for( var e = a.oa, f = b; Dc( b.x, f.x ) && Dc( b.y, f.y ); )
		{
			if( c >= e )return e - 1;
			f = a.l( c++ )
		}
		if( !Dc( b.x, f.x ) && !Dc( b.y, f.y ) )return c - 1;
		for( var h = f; Dc( b.x, f.x ) && Dc( f.x, h.x ) && (!d || (b.y >= f.y ? f.y >= h.y : f.y <= h.y)) || Dc( b.y, f.y ) && Dc( f.y, h.y ) && (!d || (b.x >= f.x ? f.x >= h.x : f.x <= h.x)); )
		{
			if( c >= e )return e - 1;
			h = a.l( c++ )
		}
		return c - 2
	}

	function bq( a, b, c, d, e, f, h )
	{
		if( !h && Lp( a ) )
		{
			h = [];
			var k = 0;
			a.isVisible() && (k = cq( a, e, f, h ));
			var l = e.x, l = e.y;
			if( 0 < k )if( K( e.y, f.y ) )if( e.x < f.x )for( var m = 0; m < k; )
			{
				var n = Math.max( e.x, Math.min( h[m++] - 5, f.x - 10 ) );
				b.lineTo( n + c, f.y + d );
				for( var l = n + c, p = Math.min( n + 10, f.x ); m < k; )
				{
					var q = h[m];
					if( q < p + 10 )m++, p = Math.min( q + 5, f.x );
					else break
				}
				q = (n + p) / 2 + c;
				q = f.y - 10 + d;
				n = p + c;
				p = f.y + d;
				a.Je === zi ? N( b, n, p, !1, !1 ) : O( b, l, q, n, q, n, p )
			}
			else for( m = k - 1; 0 <= m; )
				{
					n = Math.min( e.x, Math.max( h[m--] + 5, f.x + 10 ) );
					b.lineTo( n + c, f.y + d );
					l = n + c;
					for( p = Math.max( n - 10,
						f.x ); 0 <= m; )if( q = h[m], q > p - 10 )m--, p = Math.max( q - 5, f.x );
					else break;
					q = f.y - 10 + d;
					n = p + c;
					p = f.y + d;
					a.Je === zi ? N( b, n, p, !1, !1 ) : O( b, l, q, n, q, n, p )
				}
			else if( K( e.x, f.x ) )if( e.y < f.y )for( m = 0; m < k; )
			{
				n = Math.max( e.y, Math.min( h[m++] - 5, f.y - 10 ) );
				b.lineTo( f.x + c, n + d );
				l = n + d;
				for( p = Math.min( n + 10, f.y ); m < k; )if( q = h[m], q < p + 10 )m++, p = Math.min( q + 5, f.y );
				else break;
				q = f.x - 10 + c;
				n = f.x + c;
				p += d;
				a.Je === zi ? N( b, n, p, !1, !1 ) : O( b, q, l, q, p, n, p )
			}
			else for( m = k - 1; 0 <= m; )
				{
					n = Math.min( e.y, Math.max( h[m--] + 5, f.y + 10 ) );
					b.lineTo( f.x + c, n + d );
					l = n + d;
					for( p = Math.max( n - 10, f.y ); 0 <=
						m; )if( q = h[m], q > p - 10 )m--, p = Math.max( q - 5, f.y );
					else break;
					q = f.x - 10 + c;
					n = f.x + c;
					p += d;
					a.Je === zi ? N( b, n, p, !1, !1 ) : O( b, q, l, q, p, n, p )
				}
		}
		b.lineTo( f.x + c, f.y + d )
	}

	function cq( a, b, c, d )
	{
		var e = a.g;
		if( null === e || b.K( c ) )return 0;
		for( e = e.Nw; e.next(); )
		{
			var f = e.value;
			if( null !== f && f.visible )for( var f = f.wb.n, h = f.length, k = 0; k < h; k++ )
			{
				var l = f[k];
				if( l instanceof W )
				{
					if( l === a )return 0 < d.length && d.sort( function( a, b )
					{
						return a - b
					} ), d.length;
					if( l.isVisible() && Lp( l ) )
					{
						var m = l.an;
						m.G() && a.an.yg( m ) && !a.usesSamePort( l ) && (m = l.path, null !== m && m.wl() && dq( b, c, d, l ))
					}
				}
			}
		}
		0 < d.length && d.sort( function( a, b )
		{
			return a - b
		} );
		return d.length
	}

	function dq( a, b, c, d )
	{
		for( var e = K( a.y, b.y ), f = d.oa, h = d.l( 0 ), k = v.L(), l = 1; l < f; l++ )
		{
			var m = d.l( l );
			if( l < f - 1 )
			{
				var n = d.l( l + 1 );
				if( h.y === m.y && m.y === n.y )
				{
					if( m.x > h.x && n.x > m.x || m.x < h.x && n.x < m.x )m = n, l++
				}
				else h.x === m.x && m.x === n.x && (m.y > h.y && n.y > m.y || m.y < h.y && n.y < m.y) && (m = n, l++)
			}
			a:{
				var n = k, p = a.x, q = a.y, r = b.x, s = b.y, t = h.x, h = h.y, u = m.x, w = m.y;
				if( !K( p, r ) )
				{
					if( K( q, s ) && K( t, u ) && Math.min( p, r ) < t && Math.max( p, r ) > t && Math.min( h, w ) < q && Math.max( h, w ) > q && !K( h, w ) )
					{
						n.x = t;
						n.y = q;
						n = !0;
						break a
					}
				}
				else if( !K( q, s ) && K( h, w ) && Math.min( q, s ) < h && Math.max( q,
					s ) > h && Math.min( t, u ) < p && Math.max( t, u ) > p && !K( t, u ) )
				{
					n.x = p;
					n.y = h;
					n = !0;
					break a
				}
				n.x = 0;
				n.y = 0;
				n = !1
			}
			n && (e ? c.push( k.x ) : c.push( k.y ));
			h = m
		}
		v.v( k )
	}

	v.u( W, {gt: "firstPickIndex"}, function()
	{
		return 2 >= this.oa ? 0 : this.jc || Op( this ) !== sb ? 1 : 0
	} );
	v.u( W, {Mw: "lastPickIndex"}, function()
	{
		var a = this.oa;
		return 0 === a ? 0 : 2 >= a ? a - 1 : this.jc || Pp( this ) !== sb ? a - 2 : a - 1
	} );
	function Lp( a )
	{
		a = a.Je;
		return a === yi || a === zi
	}

	function Np( a, b )
	{
		if( b || Lp( a ) )
		{
			var c = a.g;
			null === c || c.xk.contains( a ) || null === a.Gv || c.xk.add( a, a.Gv )
		}
	}

	function Bi( a, b )
	{
		var c = a.layer;
		if( null !== c && c.visible && !c.Gc )
		{
			var d = c.g;
			if( null !== d )for( var e = !1, d = d.Nw; d.next(); )
			{
				var f = d.value;
				if( f.visible )if( f === c )for( var e = !0, h = !1, f = f.wb.n, k = f.length, l = 0; l < k; l++ )
				{
					var m = f[l];
					m instanceof W && (m === a ? h = !0 : h && eq( a, m, b ))
				}
				else if( e )for( f = f.wb.n, k = f.length, l = 0; l < k; l++ )m = f[l], m instanceof W && eq( a, m, b )
			}
		}
	}

	function eq( a, b, c )
	{
		if( null !== b && null !== b.Ra && Lp( b ) )
		{
			var d = b.an;
			d.G() && (a.an.yg( d ) || c.yg( d )) && (a.usesSamePort( b ) || b.se())
		}
	}

	W.prototype.usesSamePort = function( a )
	{
		var b = this.oa, c = a.oa;
		if( 0 < b && 0 < c )
		{
			var d = this.l( 0 ), e = a.l( 0 );
			if( d.Fc( e ) )return!0;
			b = this.l( b - 1 );
			a = a.l( c - 1 );
			if( b.Fc( a ) || d.Fc( a ) || b.Fc( e ) )return!0
		}
		else if( this.T === a.T || this.Z === a.Z || this.T === a.Z || this.Z === a.T )return!0;
		return!1
	};
	W.prototype.isVisible = function()
	{
		if( !R.prototype.isVisible.call( this ) )return!1;
		var a = this.Sa, b = !0, c = this.g;
		null !== c && (b = c.Sd);
		c = this.T;
		if( null !== c )
		{
			if( this.Hc && b && !c.nd )return!1;
			if( c === a )return!0;
			c = c.findVisibleNode();
			if( null === c || c === a )return!1
		}
		c = this.Z;
		if( null !== c )
		{
			if( this.Hc && !b && !c.nd )return!1;
			if( c === a )return!0;
			b = c.findVisibleNode();
			if( null === b || b === a )return!1
		}
		return!0
	};
	W.prototype.od = function( a )
	{
		R.prototype.od.call( this, a );
		null !== this.ei && this.ei.Qm();
		if( null !== this.De )for( var b = this.De.i; b.next(); )b.value.od( a )
	};
	v.defineProperty( W, {Ps: "adjusting"}, function()
	{
		return this.Rp
	}, function( a )
	{
		var b = this.Rp;
		b !== a && (this.Rp = a, this.h( "adjusting", b, a ))
	} );
	v.defineProperty( W, {gz: "corner"}, function()
	{
		return this.lq
	}, function( a )
	{
		var b = this.lq;
		b !== a && (this.lq = a, this.se(), this.h( "corner", b, a ))
	} );
	v.defineProperty( W, {Je: "curve"}, function()
	{
		return this.oq
	}, function( a )
	{
		var b = this.oq;
		b !== a && (this.oq = a, this.ic(), this.se(), Np( this, b === zi || b === yi || a === zi || a === yi ), this.h( "curve", b, a ))
	} );
	v.defineProperty( W, {rw: "curviness"}, function()
	{
		return this.pq
	}, function( a )
	{
		var b = this.pq;
		b !== a && (this.pq = a, this.ic(), this.se(), this.h( "curviness", b, a ))
	} );
	v.defineProperty( W, {gx: "routing"}, function()
	{
		return this.mm
	}, function( a )
	{
		var b = this.mm;
		b !== a && (this.mm = a, this.ri = null, this.ic(), Np( this, 2 === (b.value & 2) || 2 === (a.value & 2) ), this.h( "routing", b, a ))
	} );
	v.defineProperty( W, {Hp: "smoothness"}, function()
	{
		return this.rs
	}, function( a )
	{
		var b = this.rs;
		b !== a && (this.rs = a, this.se(), this.h( "smoothness", b, a ))
	} );
	function Jp( a )
	{
		var b = a.fg;
		if( null !== b )
		{
			var c = a.rg;
			if( null !== c )
			{
				var d = a.Bh;
				a = a.Th;
				for( var e = null, f = null, h = b.fc.n, k = h.length, l = 0; l < k; l++ )
				{
					var m = h[l];
					if( m.fg === b && m.Bh === d && m.rg === c && m.Th === a || m.fg === c && m.Bh === a && m.rg === b && m.Th === d )null === f ? f = m : (null === e && (e = [], e.push( f )), e.push( m ))
				}
				if( null !== e )
				{
					f = rp( b, c, d, a );
					null === f && (f = new lk, f.sp = b, f.Vw = d, f.It = c, f.Ww = a, qp( b, f ), qp( c, f ));
					f.links = e;
					for( l = 0; l < e.length; l++ )m = e[l], m.ei = f;
					f.Qm()
				}
			}
		}
	}

	function Ip( a )
	{
		var b = a.ei;
		null !== b && (a.ei = null, a = b.links.indexOf( a ), 0 <= a && (v.Vh( b.links, a ), b.Qm()))
	}

	function lk()
	{
		v.ec( this );
		this.ev = !1;
		this.Ww = this.It = this.Vw = this.sp = null;
		this.links = []
	}

	lk.prototype.Qm = function()
	{
		if( !this.ev )
		{
			var a = this.links;
			0 < a.length && (a = a[0].g, null !== a && a.GB.add( this ))
		}
		this.ev = !0
	};
	lk.prototype.xA = function()
	{
		if( this.ev )
		{
			this.ev = !1;
			var a = this.links;
			if( 0 < a.length )
			{
				var b = a[0], c = b.g;
				b.arrangeBundledLinks( a, null === c || c.Sm );
				1 === a.length && (b.ei = null, a.length = 0)
			}
			0 === a.length && (a = this.sp, null !== this && null !== a.uh && a.uh.remove( this ), a = this.It, null !== this && null !== a.uh && a.uh.remove( this ))
		}
	};
	v.Pd( lk, {sp: !0, Vw: !0, It: !0, Ww: !0, links: !0, spacing: !0} );
	function bm()
	{
		v.ec( this );
		this.oA = this.group = null;
		this.rt = !0;
		this.abort = !1;
		this.mg = this.lg = 1;
		this.nr = this.mr = -1;
		this.je = this.ie = 8;
		this.oc = null;
		this.pF = !1;
		this.XE = 22;
		this.lE = 111
	}

	v.Pd( bm, {group: !0, oA: !0, rt: !0, abort: !0, pF: !0, XE: !0, lE: !0} );
	bm.prototype.initialize = function( a )
	{
		if( !(0 >= a.width || 0 >= a.height) )
		{
			var b = a.y, c = a.x + a.width, d = a.y + a.height;
			this.lg = Math.floor( (a.x - this.ie) / this.ie ) * this.ie;
			this.mg = Math.floor( (b - this.je) / this.je ) * this.je;
			this.mr = Math.ceil( (c + 2 * this.ie) / this.ie ) * this.ie;
			this.nr = Math.ceil( (d + 2 * this.je) / this.je ) * this.je;
			a = 1 + (Math.ceil( (this.mr - this.lg) / this.ie ) | 0);
			b = 1 + (Math.ceil( (this.nr - this.mg) / this.je ) | 0);
			if( null === this.oc || this.Fo < a - 1 || this.Go < b - 1 )
			{
				c = [];
				for( d = 0; d <= a; d++ )
				{
					for( var e = [], f = 0; f <= b; f++ )e[f] = 0;
					c[d] = e
				}
				this.oc =
					c;
				this.Fo = a - 1;
				this.Go = b - 1
			}
			if( null !== this.oc )for( a = 0; a <= this.Fo; a++ )for( b = 0; b <= this.Go; b++ )this.oc[a][b] = 999999
		}
	};
	v.u( bm, {mb: null}, function()
	{
		return new B( this.lg, this.mg, this.mr - this.lg, this.nr - this.mg )
	} );
	v.defineProperty( bm, {No: null}, function()
	{
		return this.ie
	}, function( a )
	{
		0 < a && a !== this.ie && (this.ie = a, this.initialize( this.mb ))
	} );
	v.defineProperty( bm, {Lo: null}, function()
	{
		return this.je
	}, function( a )
	{
		0 < a && a !== this.je && (this.je = a, this.initialize( this.mb ))
	} );
	function fq( a, b, c )
	{
		return a.lg <= b && b <= a.mr && a.mg <= c && c <= a.nr
	}

	function Xp( a, b, c )
	{
		if( !fq( a, b, c ) )return 0;
		b -= a.lg;
		b /= a.ie;
		c -= a.mg;
		c /= a.je;
		return a.oc[b | 0][c | 0]
	}

	function em( a, b, c )
	{
		fq( a, b, c ) && (b -= a.lg, b /= a.ie, c -= a.mg, c /= a.je, a.oc[b | 0][c | 0] = 0)
	}

	function dm( a )
	{
		if( null !== a.oc )for( var b = 0; b <= a.Fo; b++ )for( var c = 0; c <= a.Go; c++ )1 <= a.oc[b][c] && (a.oc[b][c] |= 999999)
	}

	bm.prototype.hp = function( a, b, c, d )
	{
		if( a > this.mr || a + c < this.lg || b > this.nr || b + d < this.mg )return!0;
		a = (a - this.lg) / this.ie | 0;
		b = (b - this.mg) / this.je | 0;
		c = Math.max( 0, c ) / this.ie + 1 | 0;
		var e = Math.max( 0, d ) / this.je + 1 | 0;
		0 > a && (c += a, a = 0);
		0 > b && (e += b, b = 0);
		if( 0 > c || 0 > e )return!0;
		d = Math.min( a + c - 1, this.Fo ) | 0;
		for( c = Math.min( b + e - 1, this.Go ) | 0; a <= d; a++ )for( e = b; e <= c; e++ )if( 0 === this.oc[a][e] )return!1;
		return!0
	};
	function gq( a, b, c, d, e, f, h, k, l )
	{
		if( !(b < f || b > h || c < k || c > l) )
		{
			var m, n;
			m = b | 0;
			n = c | 0;
			var p = a.oc[m][n];
			if( 1 <= p && 999999 > p )for( e ? n += d : m += d, p += 1; f <= m && m <= h && k <= n && n <= l && !(p >= a.oc[m][n]); )a.oc[m][n] = p, p += 1, e ? n += d : m += d;
			m = e ? n : m;
			if( e )if( 0 < d )for( c += d; c < m; c += d )gq( a, b, c, 1, !e, f, h, k, l ), gq( a, b, c, -1, !e, f, h, k, l );
			else for( c += d; c > m; c += d )gq( a, b, c, 1, !e, f, h, k, l ), gq( a, b, c, -1, !e, f, h, k, l );
			else if( 0 < d )for( b += d; b < m; b += d )gq( a, b, c, 1, !e, f, h, k, l ), gq( a, b, c, -1, !e, f, h, k, l );
			else for( b += d; b > m; b += d )gq( a, b, c, 1, !e, f, h, k, l ), gq( a, b, c, -1, !e, f, h,
					k, l )
		}
	}

	function hq( a, b, c, d, e, f, h, k, l, m, n )
	{
		for( var p = b | 0, q = c | 0, r = a.oc[p][q]; 0 === r && p > k && p < l && q > m && q < n; )if( h ? q += f : p += f, r = a.oc[p][q], 1 >= Math.abs( p - d ) && 1 >= Math.abs( q - e ) )return a.abort = !0, 0;
		p = b | 0;
		q = c | 0;
		r = a.oc[p][q];
		b = 1;
		for( a.oc[p][q] = b; 0 === r && p > k && p < l && q > m && q < n; )h ? q += f : p += f, r = a.oc[p][q], a.oc[p][q] = b, b += 1;
		return h ? q : p
	}

	function Wp( a, b, c, d, e, f )
	{
		if( null !== a.oc )
		{
			a.abort = !1;
			var h = b.x, k = b.y;
			if( fq( a, h, k ) )
			{
				var h = h - a.lg, h = h / a.ie, k = k - a.mg, k = k / a.je, l = d.x, m = d.y;
				if( fq( a, l, m ) )if( l -= a.lg, l /= a.ie, m -= a.mg, m /= a.je, 1 >= Math.abs( h - l ) && 1 >= Math.abs( k - m ) )a.abort = !0;
				else
				{
					var n = f.x;
					b = f.y;
					d = f.x + f.width;
					var p = f.y + f.height, n = n - a.lg, n = n / a.ie;
					b -= a.mg;
					b /= a.je;
					d -= a.lg;
					d /= a.ie;
					p -= a.mg;
					p /= a.je;
					f = Math.max( 0, Math.min( a.Fo, n | 0 ) );
					d = Math.min( a.Fo, Math.max( 0, d | 0 ) );
					b = Math.max( 0, Math.min( a.Go, b | 0 ) );
					var p = Math.min( a.Go, Math.max( 0, p | 0 ) ), h = h | 0, k = k | 0, l = l | 0,
						m = m | 0, n = h, q = k, r = 0 === c || 90 === c ? 1 : -1;
					(c = 90 === c || 270 === c) ? q = hq( a, h, k, l, m, r, c, f, d, b, p ) : n = hq( a, h, k, l, m, r, c, f, d, b, p );
					if( !a.abort )
					{
						a:{
							c = 0 === e || 90 === e ? 1 : -1;
							e = 90 === e || 270 === e;
							for( var r = l | 0, s = m | 0, t = a.oc[r][s]; 0 === t && r > f && r < d && s > b && s < p; )if( e ? s += c : r += c, t = a.oc[r][s], 1 >= Math.abs( r - h ) && 1 >= Math.abs( s - k ) )
							{
								a.abort = !0;
								break a
							}
							r = l | 0;
							s = m | 0;
							t = a.oc[r][s];
							for( a.oc[r][s] = 999999; 0 === t && r > f && r < d && s > b && s < p; )e ? s += c : r += c, t = a.oc[r][s], a.oc[r][s] = 999999
						}
						a.abort || (gq( a, n, q, 1, !1, f, d, b, p ), gq( a, n, q, -1, !1, f, d, b, p ), gq( a, n, q, 1, !0, f, d,
							b, p ), gq( a, n, q, -1, !0, f, d, b, p ))
					}
				}
			}
		}
	}

	function Sp()
	{
		v.ec( this );
		this.port = this.Jc = null;
		this.Yf = [];
		this.rp = !1
	}

	v.Pd( Sp, {Jc: !0, port: !0, Yf: !0, rp: !0} );
	Sp.prototype.toString = function()
	{
		for( var a = this.Yf, b = this.Jc.toString() + " " + a.length.toString() + ":", c = 0; c < a.length; c++ )
		{
			var d = a[c];
			null !== d && (b += "\n  " + d.toString())
		}
		return b
	};
	function iq( a, b, c, d )
	{
		b = b.offsetY;
		switch( b )
		{
		case v.Wc:
			return 90;
		case v.Nc:
			return 180;
		case v.ed:
			return 270;
		case v.Xc:
			return 0
		}
		switch( b )
		{
		case v.Wc | v.ed:
			return 180 < c ? 270 : 90;
		case v.Nc | v.Xc:
			return 90 < c && 270 >= c ? 180 : 0
		}
		a = 180 * Math.atan2( a.height, a.width ) / Math.PI;
		switch( b )
		{
		case v.Nc | v.ed:
			return c > a && c <= 180 + a ? 180 : 270;
		case v.ed | v.Xc:
			return c > 180 - a && c <= 360 - a ? 270 : 0;
		case v.Xc | v.Wc:
			return c > a && c <= 180 + a ? 90 : 0;
		case v.Wc | v.Nc:
			return c > 180 - a && c <= 360 - a ? 180 : 90;
		case v.Nc | v.ed | v.Xc:
			return 90 < c && c <= 180 + a ? 180 : c > 180 + a && c <= 360 -
				a ? 270 : 0;
		case v.ed | v.Xc | v.Wc:
			return 180 < c && c <= 360 - a ? 270 : c > a && 180 >= c ? 90 : 0;
		case v.Xc | v.Wc | v.Nc:
			return c > a && c <= 180 - a ? 90 : c > 180 - a && 270 >= c ? 180 : 0;
		case v.Wc | v.Nc | v.ed:
			return c > 180 - a && c <= 180 + a ? 180 : c > 180 + a ? 270 : 90
		}
		d && b !== (v.Nc | v.ed | v.Xc | v.Wc) && (c -= 15, 0 > c && (c += 360));
		return c > a && c < 180 - a ? 90 : c >= 180 - a && c <= 180 + a ? 180 : c > 180 + a && c < 360 - a ? 270 : 0
	}

	Sp.prototype.Qm = function()
	{
		this.Yf.length = 0
	};
	function Tp( a, b )
	{
		var c = a.Yf;
		if( 0 === c.length )
		{
			a:if( !a.rp )
			{
				c = a.rp;
				a.rp = !0;
				var d, e = null, f = a.Jc, f = f instanceof V ? f : null;
				if( null === f || f.fe )d = a.Jc.GD( a.port.Ud );
				else
				{
					if( !f.V.G() )
					{
						a.rp = c;
						break a
					}
					e = f;
					d = e.FD()
				}
				var h = a.Yf.length = 0, k = a.port.Xa( tb, v.L() ), l = a.port.Xa( Fb, v.L() ), f = v.gk( k.x, k.y, 0, 0 );
				f.dj( l );
				v.v( k );
				v.v( l );
				k = v.Mb( f.x + f.width / 2, f.y + f.height / 2 );
				for( d = d.i; d.next(); )if( l = d.value, l.isVisible() )
				{
					var m = sb, n = l.bd === a.port || l.T.Zh( e ), m = n ? Op( l, a.port ) : Pp( l, a.port );
					if( m.Vi() && (n = n ? l.Hd : l.bd, null !== n) )
					{
						var p =
							n.Y;
						if( null !== p )
						{
							var n = l.computeOtherPoint( p, n ), p = k.xc( n ), m = iq( f, m, p, l.jc ), q = 0;
							0 === m ? (q = v.Xc, 180 < p && (p -= 360)) : q = 90 === m ? v.Wc : 180 === m ? v.Nc : v.ed;
							m = a.Yf[h];
							void 0 === m ? (m = new jq( l, p, q ), a.Yf[h] = m) : (m.link = l, m.angle = p, m.he = q);
							m.Tw.set( n );
							h++
						}
					}
				}
				v.v( k );
				a.Yf.sort( Sp.prototype.VH );
				e = a.Yf.length;
				k = -1;
				for( h = d = 0; h < e; h++ )m = a.Yf[h], void 0 !== m && (m.he !== k && (k = m.he, d = 0), m.cp = d, d++);
				k = -1;
				d = 0;
				for( h = e - 1; 0 <= h; h-- )m = a.Yf[h], void 0 !== m && (m.he !== k && (k = m.he, d = m.cp + 1), m.Im = d);
				h = a.Yf;
				n = a.port;
				e = a.Jc.bI;
				k = v.L();
				d = v.L();
				l = v.L();
				m = v.L();
				n.Xa( tb, k );
				n.Xa( vb, d );
				n.Xa( Fb, l );
				n.Xa( Db, m );
				var r = q = p = n = 0;
				if( e === pp )for( var s = 0; s < h.length; s++ )
				{
					var t = h[s];
					if( null !== t )
					{
						var u = t.link.computeThickness();
						switch( t.he )
						{
						case v.Wc:
							q += u;
							break;
						case v.Nc:
							r += u;
							break;
						case v.ed:
							n += u;
							break;
						default:
						case v.Xc:
							p += u
						}
					}
				}
				for( var w = 0, x = 0, z = 1, s = 0; s < h.length; s++ )if( t = h[s], null !== t )
				{
					var A, H;
					if( w !== t.he )
					{
						w = t.he;
						switch( w )
						{
						case v.Wc:
							A = l;
							H = m;
							break;
						case v.Nc:
							A = m;
							H = k;
							break;
						case v.ed:
							A = k;
							H = d;
							break;
						default:
						case v.Xc:
							A = d, H = l
						}
						var C = H.x - A.x;
						H = H.y - A.y;
						switch( w )
						{
						case v.Wc:
							q >
							Math.abs( C ) ? (z = Math.abs( C ) / q, q = Math.abs( C )) : z = 1;
							break;
						case v.Nc:
							r > Math.abs( H ) ? (z = Math.abs( H ) / r, r = Math.abs( H )) : z = 1;
							break;
						case v.ed:
							n > Math.abs( C ) ? (z = Math.abs( C ) / n, n = Math.abs( C )) : z = 1;
							break;
						default:
						case v.Xc:
							p > Math.abs( H ) ? (z = Math.abs( H ) / p, p = Math.abs( H )) : z = 1
						}
						x = 0
					}
					var T = t.jp;
					if( e === pp )
					{
						u = t.link.computeThickness();
						u *= z;
						T.set( A );
						switch( w )
						{
						case v.Wc:
							T.x = A.x + C / 2 + q / 2 - x - u / 2;
							break;
						case v.Nc:
							T.y = A.y + H / 2 + r / 2 - x - u / 2;
							break;
						case v.ed:
							T.x = A.x + C / 2 - n / 2 + x + u / 2;
							break;
						default:
						case v.Xc:
							T.y = A.y + H / 2 - p / 2 + x + u / 2
						}
						x += u
					}
					else u = .5,
						e === mp && (u = (t.cp + 1) / (t.Im + 1)), T.x = A.x + C * u, T.y = A.y + H * u
				}
				v.v( k );
				v.v( d );
				v.v( l );
				v.v( m );
				A = a.Yf;
				for( C = 0; C < A.length; C++ )H = A[C], null !== H && (H.vw = a.computeEndSegmentLength( H ));
				a.rp = c;
				v.Vb( f )
			}
			c = a.Yf
		}
		for( f = 0; f < c.length; f++ )if( A = c[f], null !== A && A.link === b )return A;
		return null
	}

	Sp.prototype.VH = function( a, b )
	{
		return a === b ? 0 : null === a ? -1 : null === b ? 1 : a.he < b.he ? -1 : a.he > b.he ? 1 : a.angle < b.angle ? -1 : a.angle > b.angle ? 1 : 0
	};
	Sp.prototype.computeEndSegmentLength = function( a )
	{
		var b = a.link, c = b.computeEndSegmentLength( this.Jc, this.port, sb, b.bd === this.port ), d = a.cp;
		if( 0 > d )return c;
		var e = a.Im;
		if( 1 >= e || !b.jc )return c;
		var b = a.Tw, f = a.jp;
		if( a.he === v.Nc || a.he === v.Wc )d = e - 1 - d;
		return((a = a.he === v.Nc || a.he === v.Xc) ? b.y < f.y : b.x < f.x) ? c + 8 * d : (a ? b.y === f.y : b.x === f.x) ? c : c + 8 * (e - 1 - d)
	};
	function jq( a, b, c )
	{
		this.link = a;
		this.angle = b;
		this.he = c;
		this.Tw = new y;
		this.Im = this.cp = 0;
		this.jp = new y;
		this.vw = 0
	}

	v.Pd( jq, {link: !0, angle: !0, he: !0, Tw: !0, cp: !0, Im: !0, jp: !0, vw: !0} );
	jq.prototype.toString = function()
	{
		return this.link.toString() + " " + this.angle.toString() + " " + this.he.toString() + ":" + this.cp.toString() + "/" + this.Im.toString() + " " + this.jp.toString() + " " + this.vw.toString() + " " + this.Tw.toString()
	};
	function xm()
	{
		this.Pj = this.nj = kc;
		this.Nj = this.lj = NaN;
		this.Mj = this.kj = np;
		this.Oj = this.mj = NaN
	}

	xm.prototype.copy = function()
	{
		var a = new xm;
		a.nj = this.nj.R();
		a.Pj = this.Pj.R();
		a.lj = this.lj;
		a.Nj = this.Nj;
		a.kj = this.kj;
		a.Mj = this.Mj;
		a.mj = this.mj;
		a.Oj = this.Oj;
		return a
	};
	function V( a )
	{
		0 === arguments.length ? S.call( this, Si ) : S.call( this, a );
		this.pr = new J( R );
		this.io = new J( V );
		this.Ok = this.qr = this.or = null;
		this.Fs = !1;
		this.Wq = !0;
		this.Hs = !1;
		this.Gb = this.vs = null;
		this.dq = !1;
		this.eq = !0;
		this.Mq = this.fq = !1;
		this.Wd = new Yf;
		this.Wd.group = this;
		this.By = !1
	}

	v.Ia( V, S );
	v.ea( "Group", V );
	V.prototype.cloneProtected = function( a )
	{
		S.prototype.cloneProtected.call( this, a );
		a.or = this.or;
		a.qr = this.qr;
		a.Ok = this.Ok;
		a.Fs = this.Fs;
		a.Wq = this.Wq;
		a.Hs = this.Hs;
		a.vs = this.vs;
		var b = a.bt( function( a )
		{
			return a instanceof Mi
		} );
		a.Gb = b instanceof Mi ? b : null;
		a.dq = this.dq;
		a.eq = this.eq;
		a.fq = this.fq;
		a.Mq = this.Mq;
		null !== this.Wd ? (a.Wd = this.Wd.copy(), a.Wd.group = a) : (null !== a.Wd && (a.Wd.group = null), a.Wd = null)
	};
	V.prototype.Xh = function( a )
	{
		S.prototype.Xh.call( this, a );
		var b = a.Vo();
		for( a = a.Ic; a.next(); )
		{
			var c = a.value;
			c.P();
			c.H( 8 );
			c.Us();
			if( c instanceof S )c.cf( b );
			else if( c instanceof W )for( c = c.Tf; c.next(); )c.value.cf( b )
		}
	};
	V.prototype.$m = function( a, b, c, d, e, f, h )
	{
		if( a === Cf && "elements" === b )if( e instanceof Mi )
		{
			var k = e;
			null === this.Gb ? this.Gb = k : this.Gb !== k && v.k( "Cannot insert a second Placeholder into the visual tree of a Group." )
		}
		else e instanceof D && (k = e.bt( function( a )
			{
				return a instanceof Mi
			} ), k instanceof Mi && (null === this.Gb ? this.Gb = k : this.Gb !== k && v.k( "Cannot insert a second Placeholder into the visual tree of a Group." )));
		else a === Df && "elements" === b && null !== this.Gb && (d === this.Gb ? this.Gb = null : d instanceof D && this.Gb.tl( d ) &&
			(this.Gb = null));
		S.prototype.$m.call( this, a, b, c, d, e, f, h )
	};
	V.prototype.Ni = function( a, b, c, d )
	{
		this.Nk = this.Gb;
		D.prototype.Ni.call( this, a, b, c, d )
	};
	V.prototype.ul = function()
	{
		if( !S.prototype.ul.call( this ) )return!1;
		for( var a = this.Ic; a.next(); )
		{
			var b = a.value;
			if( b instanceof S )
			{
				if( b.isVisible() && el( b ) )return!1
			}
			else if( b instanceof W && b.isVisible() && el( b ) && b.T !== this && b.Z !== this )return!1
		}
		return!0
	};
	v.u( V, {placeholder: "placeholder"}, function()
	{
		return this.Gb
	} );
	v.defineProperty( V, {qD: "computesBoundsAfterDrag"}, function()
	{
		return this.dq
	}, function( a )
	{
		var b = this.dq;
		b !== a && (v.j( a, "boolean", V, "computesBoundsAfterDrag" ), this.dq = a, this.h( "computesBoundsAfterDrag", b, a ))
	} );
	v.defineProperty( V, {pw: "computesBoundsIncludingLinks"}, function()
	{
		return this.eq
	}, function( a )
	{
		v.j( a, "boolean", V, "computesBoundsIncludingLinks" );
		var b = this.eq;
		b !== a && (this.eq = a, this.h( "computesBoundsIncludingLinks", b, a ))
	} );
	v.defineProperty( V, {rG: "computesBoundsIncludingLocation"}, function()
	{
		return this.fq
	}, function( a )
	{
		v.j( a, "boolean", V, "computesBoundsIncludingLocation" );
		var b = this.fq;
		b !== a && (this.fq = a, this.h( "computesBoundsIncludingLocation", b, a ))
	} );
	v.defineProperty( V, {bH: "handlesDragDropForMembers"}, function()
	{
		return this.Mq
	}, function( a )
	{
		v.j( a, "boolean", V, "handlesDragDropForMembers" );
		var b = this.Mq;
		b !== a && (this.Mq = a, this.h( "handlesDragDropForMembers", b, a ))
	} );
	v.u( V, {Ic: "memberParts"}, function()
	{
		return this.pr.i
	} );
	function ip( a, b )
	{
		if( a.pr.add( b ) )
		{
			b instanceof V && a.io.add( b );
			var c = a.MH;
			if( null !== c )
			{
				var d = !0, e = a.g;
				null !== e && (d = e.Qa, e.Qa = !0);
				c( a, b );
				null !== e && (e.Qa = d)
			}
			a.isVisible() && a.fe || b.od( !1 )
		}
		b instanceof W && !a.pw || (c = a.Gb, null === c && (c = a), c.P())
	}

	function hp( a, b )
	{
		if( a.pr.remove( b ) )
		{
			b instanceof V && a.io.remove( b );
			var c = a.NH;
			if( null !== c )
			{
				var d = !0, e = a.g;
				null !== e && (d = e.Qa, e.Qa = !0);
				c( a, b );
				null !== e && (e.Qa = d)
			}
			a.isVisible() && a.fe || b.od( !0 )
		}
		b instanceof W && !a.pw || (c = a.Gb, null === c && (c = a), c.P())
	}

	V.prototype.Km = function()
	{
		if( 0 < this.pr.count )
		{
			var a = this.g;
			if( null !== a )for( var b = this.pr.copy().i; b.next(); )a.remove( b.value )
		}
		S.prototype.Km.call( this )
	};
	v.defineProperty( V, {Pb: "layout"}, function()
	{
		return this.Wd
	}, function( a )
	{
		var b = this.Wd;
		b !== a && (null !== a && v.A( a, Yf, V, "layout" ), null !== b && (b.g = null, b.group = null), this.Wd = a, null !== a && (a.g = this.g, a.group = this), this.h( "layout", b, a ))
	} );
	v.defineProperty( V, {MH: "memberAdded"}, function()
	{
		return this.or
	}, function( a )
	{
		var b = this.or;
		b !== a && (null !== a && v.j( a, "function", V, "memberAdded" ), this.or = a, this.h( "memberAdded", b, a ))
	} );
	v.defineProperty( V, {NH: "memberRemoved"}, function()
	{
		return this.qr
	}, function( a )
	{
		var b = this.qr;
		b !== a && (null !== a && v.j( a, "function", V, "memberRemoved" ), this.qr = a, this.h( "memberRemoved", b, a ))
	} );
	v.defineProperty( V, {Lz: "memberValidation"}, function()
	{
		return this.Ok
	}, function( a )
	{
		var b = this.Ok;
		b !== a && (null !== a && v.j( a, "function", V, "memberValidation" ), this.Ok = a, this.h( "memberValidation", b, a ))
	} );
	V.prototype.canAddMembers = function( a )
	{
		var b = this.g;
		if( null === b )return!1;
		b = b.nb;
		for( a = Zg( a ).i; a.next(); )if( !b.isValidMember( this, a.value ) )return!1;
		return!0
	};
	V.prototype.addMembers = function( a, b )
	{
		var c = this.g;
		if( null === c )return!1;
		for( var c = c.nb, d = !0, e = Zg( a ).i; e.next(); )
		{
			var f = e.value;
			!b || c.isValidMember( this, f ) ? f.Sa = this : d = !1
		}
		return d
	};
	v.defineProperty( V, {OI: "ungroupable"}, function()
	{
		return this.Fs
	}, function( a )
	{
		var b = this.Fs;
		b !== a && (v.j( a, "boolean", V, "ungroupable" ), this.Fs = a, this.h( "ungroupable", b, a ))
	} );
	V.prototype.canUngroup = function()
	{
		if( !this.OI )return!1;
		var a = this.layer;
		if( null !== a && !a.kw )return!1;
		a = a.g;
		return null === a || a.kw ? !0 : !1
	};
	V.prototype.cf = function( a )
	{
		void 0 === a && (a = null);
		S.prototype.cf.call( this, a );
		for( var b = this.FD(); b.next(); )
		{
			var c = b.value;
			if( null === a || !a.contains( c ) )
			{
				var d = c.T;
				null !== d && d !== this && d.Zh( this ) && !d.isVisible() ? c.ic() : (d = c.Z, null !== d && d !== this && d.Zh( this ) && !d.isVisible() && c.ic())
			}
		}
	};
	V.prototype.findExternalLinksConnected = V.prototype.FD = function()
	{
		var a = this.Vo();
		a.add( this );
		for( var b = new J( W ), c = a.i; c.next(); )
		{
			var d = c.value;
			if( d instanceof S )for( d = d.ue; d.next(); )
			{
				var e = d.value;
				a.contains( e ) || b.add( e )
			}
		}
		return b.i
	};
	V.prototype.findExternalNodesConnected = function()
	{
		var a = this.Vo();
		a.add( this );
		for( var b = new J( S ), c = a.i; c.next(); )
		{
			var d = c.value;
			if( d instanceof S )for( d = d.ue; d.next(); )
			{
				var e = d.value, f = e.T;
				a.contains( f ) && f !== this || b.add( f );
				e = e.Z;
				a.contains( e ) && e !== this || b.add( e )
			}
		}
		return b.i
	};
	V.prototype.findContainingGroupChain = function()
	{
		function a( b, d )
		{
			null !== b && (d.add( b ), a( b.Sa, d ))
		}

		var b = new J( R );
		a( this, b );
		return b
	};
	V.prototype.findSubGraphParts = V.prototype.Vo = function()
	{
		var a = new J( R );
		Sg( a, this, !0, 0, !0 );
		a.remove( this );
		return a
	};
	V.prototype.od = function( a )
	{
		S.prototype.od.call( this, a );
		for( var b = this.Ic; b.next(); )b.value.od( a )
	};
	V.prototype.collapseSubGraph = V.prototype.collapseSubGraph = function()
	{
		var a = this.g;
		if( null !== a && !a.fh )
		{
			a.fh = !0;
			var b = this.Vo();
			kq( this, b, a.Na, this );
			a.fh = !1
		}
	};
	function kq( a, b, c, d )
	{
		for( var e = a.Ic; e.next(); )
		{
			var f = e.value;
			f.od( !1 );
			if( f instanceof V )
			{
				var h = f;
				h.fe && (h.zA = h.fe, kq( h, b, c, d ))
			}
			if( f instanceof S )f.cf( b ), Tj( c, f, d );
			else if( f instanceof W )for( f = f.Tf; f.next(); )f.value.cf( b )
		}
		a.fe = !1
	}

	V.prototype.expandSubGraph = V.prototype.expandSubGraph = function()
	{
		var a = this.g;
		if( null !== a && !a.fh )
		{
			a.fh = !0;
			var b = this.Vo();
			lq( this, b, a.Na, this );
			a.fh = !1
		}
	};
	function lq( a, b, c, d )
	{
		for( var e = a.Ic; e.next(); )
		{
			var f = e.value;
			f.od( !0 );
			if( f instanceof V )
			{
				var h = f;
				h.zA && (h.zA = !1, lq( h, b, c, d ))
			}
			if( f instanceof S )f.cf( b ), Sj( c, f, d );
			else if( f instanceof W )for( f = f.Tf; f.next(); )f.value.cf( b )
		}
		a.fe = !0
	}

	v.defineProperty( V, {fe: "isSubGraphExpanded"}, function()
	{
		return this.Wq
	}, function( a )
	{
		var b = this.Wq;
		if( b !== a )
		{
			v.j( a, "boolean", V, "isSubGraphExpanded" );
			this.Wq = a;
			var c = this.g;
			this.h( "isSubGraphExpanded", b, a );
			b = this.DI;
			if( null !== b )
			{
				var d = !0;
				null !== c && (d = c.Qa, c.Qa = !0);
				b( this );
				null !== c && (c.Qa = d)
			}
			null !== c && c.la.ib ? null !== this.Gb && this.Gb.P() : a ? this.expandSubGraph() : this.collapseSubGraph()
		}
	} );
	v.defineProperty( V, {zA: "wasSubGraphExpanded"}, function()
	{
		return this.Hs
	}, function( a )
	{
		var b = this.Hs;
		b !== a && (v.j( a, "boolean", V, "wasSubGraphExpanded" ), this.Hs = a, this.h( "wasSubGraphExpanded", b, a ))
	} );
	v.defineProperty( V, {DI: "subGraphExpandedChanged"}, function()
	{
		return this.vs
	}, function( a )
	{
		var b = this.vs;
		b !== a && (null !== a && v.j( a, "function", V, "subGraphExpandedChanged" ), this.vs = a, this.h( "subGraphExpandedChanged", b, a ))
	} );
	V.prototype.move = function( a )
	{
		var b = this.position, c = b.x;
		isNaN( c ) && (c = 0);
		b = b.y;
		isNaN( b ) && (b = 0);
		var c = a.x - c, b = a.y - b, d = v.Mb( c, b );
		S.prototype.move.call( this, a );
		for( a = this.Vo().i; a.next(); )
		{
			var e = a.value;
			if( !(e instanceof W || e instanceof S && e.vf) )
			{
				var f = e.position, h = e.location;
				f.G() ? (d.x = f.x + c, d.y = f.y + b, e.position = d) : h.G() && (d.x = h.x + c, d.y = h.y + b, e.location = d)
			}
		}
		for( a.reset(); a.next(); )e = a.value, e instanceof W && (f = e.position, d.x = f.x + c, d.y = f.y + b, e.move( d ));
		v.v( d )
	};
	function Mi()
	{
		G.call( this );
		this.Te = ed;
		this.as = new B( NaN, NaN, NaN, NaN )
	}

	v.Ia( Mi, G );
	v.ea( "Placeholder", Mi );
	Mi.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.Te = this.Te.R();
		a.as = this.as.copy()
	};
	Mi.prototype.Uj = function( a )
	{
		if( null === this.background && null === this.Am )return!1;
		var b = this.Ha;
		return db( 0, 0, b.width, b.height, a.x, a.y )
	};
	Mi.prototype.mp = function()
	{
		var a = this.Y;
		null !== a && (a instanceof V || a instanceof Tg) || v.k( "Placeholder is not inside a Group or Adornment." );
		if( a instanceof V )
		{
			var b = this.computeBorder( this.as ), c = this.Qc;
			Xa( c, b.width || 0, b.height || 0 );
			Bm( this, 0, 0, c.width, c.height );
			for( var c = a.Ic, d = !1; c.next(); )if( c.value.isVisible() )
			{
				d = !0;
				break
			}
			!d || isNaN( b.x ) || isNaN( b.y ) || (c = new y, c.Xt( b, a.ef ), a.location = new y( c.x, c.y ))
		}
		else
		{
			var b = this.ya, c = this.Qc, d = this.padding, e = d.left + d.right, f = d.top + d.bottom;
			if( b.G() )Xa( c, b.width +
				e || 0, b.height + f || 0 ), Bm( this, -d.left, -d.top, c.width, c.height );
			else
			{
				var h = a.Yb, k = h.Xa( tb, v.L() ), b = v.gk( k.x, k.y, 0, 0 );
				b.dj( h.Xa( Fb, k ) );
				b.dj( h.Xa( vb, k ) );
				b.dj( h.Xa( Db, k ) );
				a.yi.m( b.x, b.y );
				Xa( c, b.width + e || 0, b.height + f || 0 );
				Bm( this, -d.left, -d.top, c.width, c.height );
				v.v( k );
				v.Vb( b )
			}
		}
	};
	Mi.prototype.Ni = function( a, b, c, d )
	{
		var e = this.V;
		e.x = a;
		e.y = b;
		e.width = c;
		e.height = d
	};
	Mi.prototype.computeBorder = function( a )
	{
		var b = this.Y;
		if( b instanceof V )
		{
			var c = b;
			if( c.qD && this.as.G() )
			{
				var d = c.g;
				if( null !== d && (d = d.Wa, d instanceof Xg && !d.Aq && null !== d.ac && !d.ac.contains( c )) )return a.assign( this.as ), a
			}
		}
		var c = v.bg(), d = this.computeMemberBounds( c ), e = this.padding;
		a.m( d.x - e.left, d.y - e.top, d.width + e.left + e.right, d.height + e.top + e.bottom );
		v.Vb( c );
		b instanceof V && (c = b, c.rG && c.location.G() && a.dj( c.location ));
		return a
	};
	Mi.prototype.computeMemberBounds = function( a )
	{
		if( !(this.Y instanceof V) )return a.m( 0, 0, 0, 0 ), a;
		for( var b = this.Y, c = Infinity, d = Infinity, e = -Infinity, f = -Infinity, h = b.Ic; h.next(); )
		{
			var k = h.value;
			if( k.isVisible() )
			{
				if( k instanceof W )
				{
					var l = k;
					if( !b.pw )continue;
					if( dl( l ) )continue;
					if( l.T === b || l.Z === b )continue
				}
				k = k.V;
				k.left < c && (c = k.left);
				k.top < d && (d = k.top);
				k.right > e && (e = k.right);
				k.bottom > f && (f = k.bottom)
			}
		}
		isFinite( c ) && isFinite( d ) ? a.m( c, d, e - c, f - d ) : (b = b.location, c = this.padding, a.m( b.x + c.left, b.y + c.top, 0, 0 ));
		return a
	};
	v.defineProperty( Mi, {padding: "padding"}, function()
	{
		return this.Te
	}, function( a )
	{
		"number" === typeof a ? ((isNaN( a ) || 0 > a) && v.va( a, ">= 0", Mi, "padding" ), a = new eb( a )) : (v.A( a, eb, Mi, "padding" ), (isNaN( a.left ) || 0 > a.left) && v.va( a.left, ">= 0", Mi, "padding:value.left" ), (isNaN( a.right ) || 0 > a.right) && v.va( a.right, ">= 0", Mi, "padding:value.right" ), (isNaN( a.top ) || 0 > a.top) && v.va( a.top, ">= 0", Mi, "padding:value.top" ), (isNaN( a.bottom ) || 0 > a.bottom) && v.va( a.bottom, ">= 0", Mi, "padding:value.bottom" ));
		var b = this.Te;
		b.K( a ) || (this.Te =
			a = a.R(), this.h( "padding", b, a ))
	} );
	function Yf()
	{
		0 < arguments.length && v.dd( Yf );
		v.ec( this );
		this.ly = this.S = null;
		this.rj = this.Tq = !0;
		this.ar = !1;
		this.Wp = (new y( 0, 0 )).freeze();
		this.Uq = this.Vq = !0;
		this.sB = "";
		this.Xn = !1;
		this.Cy = null
	}

	v.ea( "Layout", Yf );
	Yf.prototype.cloneProtected = function( a )
	{
		a.Tq = this.Tq;
		a.rj = this.rj;
		a.ar = this.ar;
		a.Wp.assign( this.Wp );
		a.Vq = this.Vq;
		a.Uq = this.Uq;
		a.sB = this.sB;
		this.rj || (a.Xn = !0)
	};
	Yf.prototype.copy = function()
	{
		var a = new this.constructor;
		this.cloneProtected( a );
		return a
	};
	Yf.prototype.toString = function()
	{
		var a = v.af( Object.getPrototypeOf( this ) ), a = a + "(";
		null !== this.group && (a += " in " + this.group);
		null !== this.g && (a += " for " + this.g);
		return a + ")"
	};
	v.defineProperty( Yf, {g: "diagram"}, function()
	{
		return this.S
	}, function( a )
	{
		null !== a && v.A( a, E, Yf, "diagram" );
		this.S = a
	} );
	v.defineProperty( Yf, {group: "group"}, function()
	{
		return this.ly
	}, function( a )
	{
		this.ly !== a && (null !== a && v.A( a, V, Yf, "group" ), this.ly = a, null !== a && (this.S = a.g))
	} );
	v.defineProperty( Yf, {sH: "isOngoing"}, function()
	{
		return this.Tq
	}, function( a )
	{
		this.Tq !== a && (v.j( a, "boolean", Yf, "isOngoing" ), this.Tq = a)
	} );
	v.defineProperty( Yf, {eE: "isInitial"}, function()
	{
		return this.rj
	}, function( a )
	{
		v.j( a, "boolean", Yf, "isInitial" );
		this.rj = a;
		a || (this.Xn = !0)
	} );
	v.defineProperty( Yf, {Kw: "isViewportSized"}, function()
	{
		return this.ar
	}, function( a )
	{
		this.ar !== a && (v.j( a, "boolean", Yf, "isViewportSized" ), (this.ar = a) && this.H())
	} );
	v.defineProperty( Yf, {wt: "isRouting"}, function()
	{
		return this.Vq
	}, function( a )
	{
		this.Vq !== a && (v.j( a, "boolean", Yf, "isRouting" ), this.Vq = a)
	} );
	v.defineProperty( Yf, {gE: "isRealtime"}, function()
	{
		return this.Uq
	}, function( a )
	{
		this.Uq !== a && (v.j( a, "boolean", Yf, "isRealtime" ), this.Uq = a)
	} );
	v.defineProperty( Yf, {xf: "isValidLayout"}, function()
	{
		return this.Xn
	}, function( a )
	{
		this.Xn !== a && (v.j( a, "boolean", Yf, "isValidLayout" ), this.Xn = a, a || (a = this.g, null !== a && (a.uu = !0)))
	} );
	Yf.prototype.invalidateLayout = Yf.prototype.H = function()
	{
		if( this.Xn )
		{
			var a = this.g;
			if( null !== a && !a.la.ib )
			{
				var b = a.Na;
				!b.Wn && (b.df && b.ai(), this.sH && a.Sm || this.eE && !a.Sm) && (this.xf = !1, a.ve())
			}
		}
	};
	v.defineProperty( Yf, {network: "network"}, function()
	{
		return this.Cy
	}, function( a )
	{
		var b = this.Cy;
		b !== a && (null !== a && v.A( a, Zf, Yf, "network" ), null !== b && (b.Pb = null), this.Cy = a, null !== a && (a.Pb = this))
	} );
	Yf.prototype.createNetwork = function()
	{
		return new Zf
	};
	Yf.prototype.makeNetwork = function( a )
	{
		var b = this.createNetwork();
		b.Pb = this;
		a instanceof E ? (b.Rj( a.Bg, !0 ), b.Rj( a.links, !0 )) : a instanceof V ? b.Rj( a.Ic ) : b.Rj( a.i );
		return b
	};
	Yf.prototype.updateParts = function()
	{
		var a = this.g;
		if( null === a && null !== this.network )for( var b = this.network.vertexes.i; b.next(); )
		{
			var c = b.value.Jc;
			if( null !== c && (a = c.g, null !== a) )break
		}
		this.xf = !0;
		try
		{
			null !== a && a.Qb( "Layout" ), this.commitLayout()
		} finally
		{
			null !== a && a.yd( "Layout" )
		}
	};
	Yf.prototype.commitLayout = function()
	{
		for( var a = this.network.vertexes.i; a.next(); )a.value.commit();
		if( this.wt )for( a = this.network.edges.i; a.next(); )a.value.commit()
	};
	Yf.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		var b = new J( R );
		a instanceof E ? (mq( this, b, a.Bg, !0, this.Qz, !0, !1, !0 ), mq( this, b, a.dk, !0, this.Qz, !0, !1, !0 )) : a instanceof V ? mq( this, b, a.Ic, !1, this.Qz, !0, !1, !0 ) : b.Tc( a.i );
		var c = b.count;
		if( 0 < c )
		{
			a = this.g;
			null !== a && a.Qb( "Layout" );
			for( var c = Math.ceil( Math.sqrt( c ) ), d = this.Zd.x, e = d, f = this.Zd.y, h = 0, k = 0, b = b.i; b.next(); )
			{
				var l = b.value;
				l.tf();
				var m = l.Ca, n = m.width,
					m = m.height;
				l.moveTo( e, f );
				l.By = !1;
				e += Math.max( n, 50 ) + 20;
				k = Math.max( k, Math.max( m, 50 ) );
				h >= c - 1 ? (h = 0, e = d, f += k + 20, k = 0) : h++
			}
			null !== a && a.yd( "Layout" )
		}
		this.xf = !0
	};
	Yf.prototype.Qz = function( a )
	{
		return!a.location.G() || a instanceof V && a.By ? !0 : !1
	};
	function mq( a, b, c, d, e, f, h, k )
	{
		for( c = c.i; c.next(); )
		{
			var l = c.value;
			d && !l.fp || null !== e && !e( l ) || !l.canLayout() || (f && l instanceof S ? l.vf || (l instanceof V ? null === l.Pb ? mq( a, b, l.Ic, !1, e, f, h, k ) : b.add( l ) : b.add( l )) : h && l instanceof W ? b.add( l ) : !k || !l.Rd() || l instanceof S || b.add( l ))
		}
	}

	Yf.prototype.collectParts = Yf.prototype.lG = function( a )
	{
		var b = new J( R );
		a instanceof E ? (mq( this, b, a.Bg, !0, null, !0, !0, !0 ), mq( this, b, a.links, !0, null, !0, !0, !0 ), mq( this, b, a.dk, !0, null, !0, !0, !0 )) : a instanceof V ? mq( this, b, a.Ic, !1, null, !0, !0, !0 ) : mq( this, b, a.i, !1, null, !0, !0, !0 );
		return b
	};
	v.defineProperty( Yf, {Zd: "arrangementOrigin"}, function()
	{
		return this.Wp
	}, function( a )
	{
		v.A( a, y, Yf, "arrangementOrigin" );
		this.Wp.K( a ) || (this.Wp.assign( a ), this.H())
	} );
	Yf.prototype.initialOrigin = function( a )
	{
		var b = this.group;
		if( null !== b )
		{
			var c = b.position.copy();
			(isNaN( c.x ) || isNaN( c.y )) && c.set( a );
			b = b.placeholder;
			null !== b && (c = b.Xa( tb ), (isNaN( c.x ) || isNaN( c.y )) && c.set( a ), c.x += b.padding.left, c.y += b.padding.top);
			return c
		}
		return a
	};
	function Zf()
	{
		v.ec( this );
		this.Wd = null;
		this.clear()
	}

	v.ea( "LayoutNetwork", Zf );
	Zf.prototype.clear = function()
	{
		if( this.vertexes )for( var a = this.vertexes.i; a.next(); )
		{
			var b = a.value;
			b.clear();
			b.network = null
		}
		if( this.edges )for( a = this.edges.i; a.next(); )b = a.value, b.clear(), b.network = null;
		this.vertexes = new J( nq );
		this.edges = new J( oq );
		this.Uz = new na( S, nq );
		this.Gz = new na( W, oq )
	};
	Zf.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		var b = "LayoutNetwork" + (null !== this.Pb ? "(" + this.Pb.toString() + ")" : "");
		if( 0 >= a )return b;
		b += " vertexes: " + this.vertexes.count + " edges: " + this.edges.count;
		if( 1 < a )
		{
			for( var c = this.vertexes.i; c.next(); )b += "\n    " + c.value.toString( a - 1 );
			for( c = this.edges.i; c.next(); )b += "\n    " + c.value.toString( a - 1 )
		}
		return b
	};
	v.defineProperty( Zf, {Pb: "layout"}, function()
	{
		return this.Wd
	}, function( a )
	{
		this.Wd = a
	} );
	Zf.prototype.createVertex = function()
	{
		return new nq
	};
	Zf.prototype.createEdge = function()
	{
		return new oq
	};
	Zf.prototype.addParts = Zf.prototype.Rj = function( a, b, c )
	{
		if( null !== a )
		{
			void 0 === b && (b = !1);
			v.j( b, "boolean", Zf, "addParts:toplevelonly" );
			void 0 === c && (c = null);
			null === c && (c = function( a )
			{
				if( a instanceof S )return!a.vf;
				if( a instanceof W )
				{
					var b = a.T;
					if( null === b || b.vf )return!1;
					a = a.Z;
					return null === a || a.vf ? !1 : !0
				}
				return!1
			});
			for( a = a.i; a.next(); )
			{
				var d = a.value;
				if( d instanceof S && (!b || d.fp) && d.canLayout() && c( d ) )if( d instanceof V && null === d.Pb )this.Rj( d.Ic, !1 );
				else if( null === this.Mm( d ) )
				{
					var e = this.createVertex();
					e.Jc = d;
					this.Zk( e )
				}
			}
			for( a.reset(); a.next(); )if( d = a.value, d instanceof W && (!b || d.fp) && d.canLayout() && c( d ) && null === this.xw( d ) )
			{
				var f = d.T, e = d.Z;
				null !== f && null !== e && f !== e && (f = this.findGroupVertex( f ), e = this.findGroupVertex( e ), null !== f && null !== e && this.lp( f, e, d ))
			}
		}
	};
	Zf.prototype.findGroupVertex = function( a )
	{
		if( null === a )return null;
		var b = a.findVisibleNode();
		if( null === b )return null;
		a = this.Mm( b );
		if( null !== a )return a;
		for( b = b.Sa; null !== b; )
		{
			a = this.Mm( b );
			if( null !== a )return a;
			b = b.Sa
		}
		return null
	};
	Zf.prototype.addVertex = Zf.prototype.Zk = function( a )
	{
		if( null !== a )
		{
			this.vertexes.add( a );
			var b = a.Jc;
			null !== b && this.Uz.add( b, a );
			a.network = this
		}
	};
	Zf.prototype.addNode = Zf.prototype.Os = function( a )
	{
		if( null === a )return null;
		var b = this.Mm( a );
		null === b && (b = this.createVertex(), b.Jc = a, this.Zk( b ));
		return b
	};
	Zf.prototype.deleteVertex = Zf.prototype.AD = function( a )
	{
		if( null !== a && pq( this, a ) )
		{
			for( var b = a.Pe, c = b.count - 1; 0 <= c; c-- )
			{
				var d = b.da( c );
				this.Ro( d )
			}
			b = a.Ke;
			for( c = b.count - 1; 0 <= c; c-- )d = b.da( c ), this.Ro( d )
		}
	};
	function pq( a, b )
	{
		if( null === b )return!1;
		var c = a.vertexes.remove( b );
		c && (a.Uz.remove( b.Jc ), b.network = null);
		return c
	}

	Zf.prototype.deleteNode = function( a )
	{
		null !== a && (a = this.Mm( a ), null !== a && this.AD( a ))
	};
	Zf.prototype.findVertex = Zf.prototype.Mm = function( a )
	{
		return null === a ? null : this.Uz.ja( a )
	};
	Zf.prototype.addEdge = Zf.prototype.Io = function( a )
	{
		if( null !== a )
		{
			this.edges.add( a );
			var b = a.link;
			null !== b && null === this.xw( b ) && this.Gz.add( b, a );
			b = a.toVertex;
			null !== b && b.bD( a );
			b = a.fromVertex;
			null !== b && b.aD( a );
			a.network = this
		}
	};
	Zf.prototype.addLink = function( a )
	{
		if( null === a )return null;
		var b = a.T, c = a.Z, d = this.xw( a );
		null === d ? (d = this.createEdge(), d.link = a, null !== b && (d.fromVertex = this.Os( b )), null !== c && (d.toVertex = this.Os( c )), this.Io( d )) : (d.fromVertex = null !== b ? this.Os( b ) : null, d.toVertex = null !== c ? this.Os( c ) : null);
		return d
	};
	Zf.prototype.deleteEdge = Zf.prototype.Ro = function( a )
	{
		if( null !== a )
		{
			var b = a.toVertex;
			null !== b && b.zD( a );
			b = a.fromVertex;
			null !== b && b.yD( a );
			qq( this, a )
		}
	};
	function qq( a, b )
	{
		null !== b && a.edges.remove( b ) && (a.Gz.remove( b.link ), b.network = null)
	}

	Zf.prototype.deleteLink = function( a )
	{
		null !== a && (a = this.xw( a ), null !== a && this.Ro( a ))
	};
	Zf.prototype.findEdge = Zf.prototype.xw = function( a )
	{
		return null === a ? null : this.Gz.ja( a )
	};
	Zf.prototype.linkVertexes = Zf.prototype.lp = function( a, b, c )
	{
		if( null === a || null === b )return null;
		if( a.network === this && b.network === this )
		{
			var d = this.createEdge();
			d.link = c;
			d.fromVertex = a;
			d.toVertex = b;
			this.Io( d );
			return d
		}
		return null
	};
	Zf.prototype.reverseEdge = Zf.prototype.ex = function( a )
	{
		if( null !== a )
		{
			var b = a.fromVertex, c = a.toVertex;
			null !== b && null !== c && (b.yD( a ), c.zD( a ), a.ex(), b.bD( a ), c.aD( a ))
		}
	};
	Zf.prototype.deleteSelfEdges = Zf.prototype.tw = function()
	{
		for( var a = v.jb(), b = this.edges.i; b.next(); )
		{
			var c = b.value;
			c.fromVertex === c.toVertex && a.push( c )
		}
		b = a.length;
		for( c = 0; c < b; c++ )this.Ro( a[c] );
		v.sa( a )
	};
	Zf.prototype.deleteArtificialVertexes = function()
	{
		for( var a = v.jb(), b = this.vertexes.i; b.next(); )
		{
			var c = b.value;
			null === c.Jc && a.push( c )
		}
		c = a.length;
		for( b = 0; b < c; b++ )this.AD( a[b] );
		c = v.jb();
		for( b = this.edges.i; b.next(); )
		{
			var d = b.value;
			null === d.link && c.push( d )
		}
		d = c.length;
		for( b = 0; b < d; b++ )this.Ro( c[b] );
		v.sa( a );
		v.sa( c )
	};
	function rq( a )
	{
		for( var b = v.jb(), c = a.edges.i; c.next(); )
		{
			var d = c.value;
			null !== d.fromVertex && null !== d.toVertex || b.push( d )
		}
		c = b.length;
		for( d = 0; d < c; d++ )a.Ro( b[d] );
		v.sa( b )
	}

	Zf.prototype.splitIntoSubNetworks = Zf.prototype.CI = function()
	{
		this.deleteArtificialVertexes();
		rq( this );
		this.tw();
		for( var a = new I( Zf ), b = !0; b; )for( var b = !1, c = this.vertexes.i; c.next(); )
		{
			var d = c.value;
			if( 0 < d.Pe.count || 0 < d.Ke.count )
			{
				b = this.Pb.createNetwork();
				a.add( b );
				sq( this, b, d );
				b = !0;
				break
			}
		}
		a.sort( function( a, b )
		{
			return null === a || null === b || a === b ? 0 : b.vertexes.count - a.vertexes.count
		} );
		return a
	};
	function sq( a, b, c )
	{
		if( null !== c && c.network !== b )
		{
			pq( a, c );
			b.Zk( c );
			for( var d = c.lc; d.next(); )
			{
				var e = d.value;
				e.network !== b && (qq( a, e ), b.Io( e ), sq( a, b, e.fromVertex ))
			}
			for( d = c.$b; d.next(); )c = d.value, c.network !== b && (qq( a, c ), b.Io( c ), sq( a, b, c.toVertex ))
		}
	}

	Zf.prototype.findAllParts = function()
	{
		for( var a = new J( R ), b = this.vertexes.i; b.next(); )a.add( b.value.Jc );
		for( b = this.edges.i; b.next(); )a.add( b.value.link );
		return a
	};
	function nq()
	{
		v.ec( this );
		this.network = null;
		this.M = (new B( 0, 0, 10, 10 )).freeze();
		this.O = (new y( 5, 5 )).freeze();
		this.clear()
	}

	v.ea( "LayoutVertex", nq );
	nq.prototype.clear = function()
	{
		this.rd = this.ke = null;
		this.Pe = new I( oq );
		this.Ke = new I( oq )
	};
	nq.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		var b = "LayoutVertex#" + v.md( this );
		if( 0 < a && (b += null !== this.Jc ? "(" + this.Jc.toString() + ")" : "", 1 < a) )
		{
			a = "";
			for( var c = !0, d = this.Pe.i; d.next(); )
			{
				var e = d.value;
				c ? c = !1 : a += ",";
				a += e.toString( 0 )
			}
			e = "";
			c = !0;
			for( d = this.Ke.i; d.next(); )
			{
				var f = d.value;
				c ? c = !1 : e += ",";
				e += f.toString( 0 )
			}
			b += " sources: " + a + " destinations: " + e
		}
		return b
	};
	v.defineProperty( nq, {data: "data"}, function()
	{
		return this.ke
	}, function( a )
	{
		this.ke = a;
		if( null !== a )
		{
			var b = a.bounds;
			a = b.x;
			var c = b.y, d = b.width, b = b.height;
			this.O.m( d / 2, b / 2 );
			this.M.m( a, c, d, b )
		}
	} );
	v.defineProperty( nq, {Jc: "node"}, function()
	{
		return this.rd
	}, function( a )
	{
		if( this.rd !== a )
		{
			this.rd = a;
			a.tf();
			var b = a.V, c = b.x, d = b.y, e = b.width, b = b.height;
			isNaN( c ) && (c = 0);
			isNaN( d ) && (d = 0);
			this.M.m( c, d, e, b );
			if( !(a instanceof V) && (a = a.bc.Xa( Ab ), a.G()) )
			{
				this.O.m( a.x - c, a.y - d );
				return
			}
			this.O.m( e / 2, b / 2 )
		}
	} );
	v.defineProperty( nq, {mb: "bounds"}, function()
	{
		return this.M
	}, function( a )
	{
		this.M.K( a ) || this.M.assign( a )
	} );
	v.defineProperty( nq, {focus: "focus"}, function()
	{
		return this.O
	}, function( a )
	{
		this.O.K( a ) || this.O.assign( a )
	} );
	v.defineProperty( nq, {na: "centerX"}, function()
	{
		return this.M.x + this.O.x
	}, function( a )
	{
		var b = this.M;
		b.x + this.O.x !== a && (b.Oa(), b.x = a - this.O.x, b.freeze())
	} );
	v.defineProperty( nq, {ua: "centerY"}, function()
	{
		return this.M.y + this.O.y
	}, function( a )
	{
		var b = this.M;
		b.y + this.O.y !== a && (b.Oa(), b.y = a - this.O.y, b.freeze())
	} );
	v.defineProperty( nq, {ht: "focusX"}, function()
	{
		return this.O.x
	}, function( a )
	{
		var b = this.O;
		b.x !== a && (b.Oa(), b.x = a, b.freeze())
	} );
	v.defineProperty( nq, {it: "focusY"}, function()
	{
		return this.O.y
	}, function( a )
	{
		var b = this.O;
		b.y !== a && (b.Oa(), b.y = a, b.freeze())
	} );
	v.defineProperty( nq, {x: "x"}, function()
	{
		return this.M.x
	}, function( a )
	{
		var b = this.M;
		b.x !== a && (b.Oa(), b.x = a, b.freeze())
	} );
	v.defineProperty( nq, {y: "y"}, function()
	{
		return this.M.y
	}, function( a )
	{
		var b = this.M;
		b.y !== a && (b.Oa(), b.y = a, b.freeze())
	} );
	v.defineProperty( nq, {width: "width"}, function()
	{
		return this.M.width
	}, function( a )
	{
		var b = this.M;
		b.width !== a && (b.Oa(), b.width = a, b.freeze())
	} );
	v.defineProperty( nq, {height: "height"}, function()
	{
		return this.M.height
	}, function( a )
	{
		var b = this.M;
		b.height !== a && (b.Oa(), b.height = a, b.freeze())
	} );
	nq.prototype.commit = function()
	{
		var a = this.ke;
		if( null !== a )
		{
			var b = this.mb, c = a.bounds;
			v.Ta( c ) ? (c.x = b.x, c.y = b.y, c.width = b.width, c.height = b.height) : a.bounds = b.copy()
		}
		else if( a = this.Jc, null !== a )
		{
			b = this.mb;
			if( !(a instanceof V) )
			{
				var c = a.V, d = a.bc.Xa( Ab );
				if( c.G() && d.G() )
				{
					a.moveTo( b.x + this.ht - (d.x - c.x), b.y + this.it - (d.y - c.y) );
					return
				}
			}
			a.moveTo( b.x, b.y )
		}
	};
	nq.prototype.addSourceEdge = nq.prototype.bD = function( a )
	{
		null !== a && (this.Pe.contains( a ) || this.Pe.add( a ))
	};
	nq.prototype.deleteSourceEdge = nq.prototype.zD = function( a )
	{
		null !== a && this.Pe.remove( a )
	};
	nq.prototype.addDestinationEdge = nq.prototype.aD = function( a )
	{
		null !== a && (this.Ke.contains( a ) || this.Ke.add( a ))
	};
	nq.prototype.deleteDestinationEdge = nq.prototype.yD = function( a )
	{
		null !== a && this.Ke.remove( a )
	};
	v.u( nq, {BI: "sourceVertexes"}, function()
	{
		for( var a = new J( nq ), b = this.lc; b.next(); )a.add( b.value.fromVertex );
		return a.i
	} );
	v.u( nq, {EG: "destinationVertexes"}, function()
	{
		for( var a = new J( nq ), b = this.$b; b.next(); )a.add( b.value.toVertex );
		return a.i
	} );
	v.u( nq, {vertexes: "vertexes"}, function()
	{
		for( var a = new J( nq ), b = this.lc; b.next(); )a.add( b.value.fromVertex );
		for( b = this.$b; b.next(); )a.add( b.value.toVertex );
		return a.i
	} );
	v.u( nq, {lc: "sourceEdges"}, function()
	{
		return this.Pe.i
	} );
	v.u( nq, {$b: "destinationEdges"}, function()
	{
		return this.Ke.i
	} );
	v.u( nq, {edges: "edges"}, function()
	{
		for( var a = new I( oq ), b = this.lc; b.next(); )a.add( b.value );
		for( b = this.$b; b.next(); )a.add( b.value );
		return a.i
	} );
	v.u( nq, {JG: "edgesCount"}, function()
	{
		return this.Pe.count + this.Ke.count
	} );
	var tq;
	nq.standardComparer = tq = function( a, b )
	{
		var c = a.rd, d = b.rd;
		return c ? d ? (c = c.text, d = d.text, c < d ? -1 : c > d ? 1 : 0) : 1 : null !== d ? -1 : 0
	};
	nq.smartComparer = function( a, b )
	{
		if( null !== a )
		{
			if( null !== b )
			{
				var c = a.rd, d = b.rd;
				if( null !== c )
				{
					if( null !== d )
					{
						for( var c = c.text.toLocaleLowerCase().split( /([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/ ), d = d.text.toLocaleLowerCase().split( /([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/ ), e = 0; e < c.length; e++ )if( "" !== d[e] && void 0 !== d[e] )
						{
							var f = parseFloat( c[e] ), h = parseFloat( d[e] );
							if( isNaN( f ) )
							{
								if( !isNaN( h ) )return 1;
								if( 0 !== c[e].localeCompare( d[e] ) )return c[e].localeCompare( d[e] )
							}
							else
							{
								if( isNaN( h ) )return-1;
								if( 0 !== f - h )return f -
									h
							}
						}
						else if( "" !== c[e] )return 1;
						return"" !== d[e] && void 0 !== d[e] ? -1 : 0
					}
					return 1
				}
				return null !== d ? -1 : 0
			}
			return 1
		}
		return null !== b ? -1 : 0
	};
	function oq()
	{
		v.ec( this );
		this.network = null;
		this.clear()
	}

	v.ea( "LayoutEdge", oq );
	oq.prototype.clear = function()
	{
		this.toVertex = this.fromVertex = this.link = this.data = null
	};
	oq.prototype.toString = function( a )
	{
		void 0 === a && (a = 0);
		var b = "LayoutEdge#" + v.md( this );
		0 < a && (b += null !== this.link ? "(" + this.link.toString() + ")" : "", 1 < a && (b += " " + (this.fromVertex ? this.fromVertex.toString() : "null") + " --\x3e " + (this.toVertex ? this.toVertex.toString() : "null")));
		return b
	};
	oq.prototype.ex = function()
	{
		var a = this.fromVertex;
		this.fromVertex = this.toVertex;
		this.toVertex = a
	};
	oq.prototype.commit = function()
	{
	};
	oq.prototype.getOtherVertex = oq.prototype.UG = function( a )
	{
		return this.toVertex === a ? this.fromVertex : this.fromVertex === a ? this.toVertex : null
	};
	function lm()
	{
		0 < arguments.length && v.dd( lm );
		Yf.call( this );
		this.Kw = !0;
		this.Js = this.Ks = NaN;
		this.gj = (new ia( NaN, NaN )).freeze();
		this.Oh = (new ia( 10, 10 )).freeze();
		this.Be = tn;
		this.fd = mn;
		this.Nh = hn;
		this.wh = uq
	}

	v.Ia( lm, Yf );
	v.ea( "GridLayout", lm );
	lm.prototype.cloneProtected = function( a )
	{
		Yf.prototype.cloneProtected.call( this, a );
		a.Ks = this.Ks;
		a.Js = this.Js;
		a.gj.assign( this.gj );
		a.Oh.assign( this.Oh );
		a.Be = this.Be;
		a.fd = this.fd;
		a.Nh = this.Nh;
		a.wh = this.wh
	};
	lm.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		this.Zd = this.initialOrigin( this.Zd );
		var b = this.g;
		a = this.lG( a );
		for( var c = a.copy().i; c.next(); )
		{
			var d = c.value;
			if( d instanceof W )
			{
				var e = d;
				if( null !== e.T || null !== e.Z )
				{
					a.remove( e );
					continue
				}
			}
			d.tf();
			if( d instanceof V )for( d = d.Ic; d.next(); )a.remove( d.value )
		}
		e = a.dc();
		if( 0 !== e.length )
		{
			switch( this.sorting )
			{
			case ln:
				e.reverse();
				break;
			case hn:
				e.sort( this.comparer );
				break;
			case jn:
				e.sort( this.comparer ), e.reverse()
			}
			var f = this.TI;
			isNaN( f ) && (f = 0);
			var h = this.sF, h = isNaN( h ) && null !== b ? Math.max( b.rb.width - b.padding.left - b.padding.right, 0 ) : Math.max( this.sF, 0 );
			0 >= f && 0 >= h && (f = 1);
			a = this.spacing.width;
			isFinite( a ) || (a = 0);
			c = this.spacing.height;
			isFinite( c ) || (c = 0);
			null !== b && b.Qb( "Layout" );
			d = [];
			switch( this.alignment )
			{
			case un:
				var k = a, l = c, m = Math.max( this.Mo.width, 1 );
				if( !isFinite( m ) )for( var n = m = 0; n < e.length; n++ )var p = e[n], q = p.Ca, m = Math.max( m, q.width );
				var m = Math.max( m + k, 1 ), r = Math.max( this.Mo.height,
					1 );
				if( !isFinite( r ) )for( n = r = 0; n < e.length; n++ )p = e[n], q = p.Ca, r = Math.max( r, q.height );
				for( var r = Math.max( r + l, 1 ), s = this.Of, t = this.Zd.x, u = t, w = this.Zd.y, x = 0, z = 0, n = 0; n < e.length; n++ )
				{
					var p = e[n], q = p.Ca, A = Math.ceil( (q.width + k) / m ) * m, H = Math.ceil( (q.height + l) / r ) * r, C = 0;
					switch( s )
					{
					case nn:
						C = Math.abs( u - q.width );
						break;
					default:
						C = u + q.width
					}
					if( 0 < f && x > f - 1 || 0 < h && 0 < x && C > h )d.push( new B( 0, w, h + k, z ) ), x = 0, u = t, w += z, z = 0;
					z = Math.max( z, H );
					H = 0;
					switch( s )
					{
					case nn:
						H = -q.width;
						break;
					default:
						H = 0
					}
					p.moveTo( u + H, w );
					switch( s )
					{
					case nn:
						u -= A;
						break;
					default:
						u += A
					}
					x++
				}
				d.push( new B( 0, w, h + k, z ) );
				break;
			case tn:
				k = f;
				l = a;
				m = c;
				n = Math.max( this.Mo.width, 1 );
				p = w = A = 0;
				q = v.L();
				for( f = 0; f < e.length; f++ )r = e[f], s = r.Ca, t = cp( r, r.bc, r.ef, q ), A = Math.max( A, t.x ), w = Math.max( w, s.width - t.x ), p = Math.max( p, t.y );
				u = this.Of;
				switch( u )
				{
				case nn:
					A += l;
					break;
				default:
					w += l
				}
				var n = isFinite( n ) ? Math.max( n + l, 1 ) : Math.max( A + w, 1 ), T = w = this.Zd.x, x = this.Zd.y, z = 0;
				h >= A && (h -= A);
				for( var A = H = 0, C = Math.max( this.Mo.height, 1 ), ba = p = 0, U = !0, M = v.L(), f = 0; f < e.length; f++ )
				{
					r = e[f];
					s = r.Ca;
					t = cp( r, r.bc, r.ef, q );
					if( 0 < z )switch( u )
					{
					case nn:
						T =
							(T - w - (s.width - t.x)) / n;
						T = Dc( Math.round( T ), T ) ? Math.round( T ) : Math.floor( T );
						T = T * n + w;
						break;
					default:
						T = (T - w + t.x) / n, T = Dc( Math.round( T ), T ) ? Math.round( T ) : Math.ceil( T ), T = T * n + w
					}
					else switch( u )
					{
					case nn:
						H = T + t.x + s.width;
						break;
					default:
						H = T - t.x
					}
					var aa = 0;
					switch( u )
					{
					case nn:
						aa = -(T + t.x) + H;
						break;
					default:
						aa = T + s.width - t.x - H
					}
					if( 0 < k && z > k - 1 || 0 < h && 0 < z && aa > h )
					{
						d.push( new B( 0, U ? x - p : x, h + l, ba + p + m ) );
						for( T = 0; T < z && f !== z; T++ )
						{
							var aa = e[f - z + T], Ia = cp( aa, aa.bc, aa.ef, M );
							aa.moveTo( aa.position.x, aa.position.y + p - Ia.y )
						}
						ba += m;
						x = U ? x + ba : x + (ba + p);
						z = ba = p = 0;
						T = w;
						U = !1
					}
					T === w && (A = u === nn ? Math.max( A, s.width - t.x ) : Math.min( A, -t.x ));
					p = Math.max( p, t.y );
					ba = Math.max( ba, s.height - t.y );
					isFinite( C ) && (ba = Math.max( ba, Math.max( s.height, C ) - t.y ));
					U ? r.moveTo( T - t.x, x - t.y ) : r.moveTo( T - t.x, x );
					switch( u )
					{
					case nn:
						T -= t.x + l;
						break;
					default:
						T += s.width - t.x + l
					}
					z++
				}
				d.push( new B( 0, x, h + l, (U ? ba : ba + p) + m ) );
				for( T = 0; T < z && f !== z; T++ )aa = e[f - z + T], Ia = cp( aa, aa.bc, aa.ef, q ), aa.moveTo( aa.position.x, aa.position.y + p - Ia.y );
				v.v( q );
				v.v( M );
				if( u === nn )for( f = 0; f < d.length; f++ )e = d[f], e.width += A, e.x -= A;
				else for( f =
										0; f < d.length; f++ )e = d[f], e.x > A && (e.width += e.x - A, e.x = A)
			}
			for( k = f = h = e = 0; k < d.length; k++ )l = d[k], e = Math.min( e, l.x ), h = Math.min( h, l.y ), f = Math.max( f, l.x + l.width );
			this.Of === nn ? this.commitLayers( d, new y( e + a / 2 - (f + e), h - c / 2 ) ) : this.commitLayers( d, new y( e - a / 2, h - c / 2 ) );
			null !== b && b.yd( "Layout" );
			this.xf = !0
		}
	};
	lm.prototype.commitLayers = function()
	{
	};
	v.defineProperty( lm, {sF: "wrappingWidth"}, function()
	{
		return this.Ks
	}, function( a )
	{
		this.Ks !== a && (v.j( a, "number", lm, "wrappingWidth" ), 0 < a || isNaN( a )) && (this.Ks = a, this.Kw = isNaN( a ), this.H())
	} );
	v.defineProperty( lm, {TI: "wrappingColumn"}, function()
	{
		return this.Js
	}, function( a )
	{
		this.Js !== a && (v.j( a, "number", lm, "wrappingColumn" ), 0 < a || isNaN( a )) && (this.Js = a, this.H())
	} );
	v.defineProperty( lm, {Mo: "cellSize"}, function()
	{
		return this.gj
	}, function( a )
	{
		v.A( a, ia, lm, "cellSize" );
		this.gj.K( a ) || (this.gj.assign( a ), this.H())
	} );
	v.defineProperty( lm, {spacing: "spacing"}, function()
	{
		return this.Oh
	}, function( a )
	{
		v.A( a, ia, lm, "spacing" );
		this.Oh.K( a ) || (this.Oh.assign( a ), this.H())
	} );
	v.defineProperty( lm, {alignment: "alignment"}, function()
	{
		return this.Be
	}, function( a )
	{
		this.Be !== a && (v.pb( a, lm, lm, "alignment" ), a === tn || a === un) && (this.Be = a, this.H())
	} );
	v.defineProperty( lm, {Of: "arrangement"}, function()
	{
		return this.fd
	}, function( a )
	{
		this.fd !== a && (v.pb( a, lm, lm, "arrangement" ), a === mn || a === nn) && (this.fd = a, this.H())
	} );
	v.defineProperty( lm, {sorting: "sorting"}, function()
	{
		return this.Nh
	}, function( a )
	{
		this.Nh !== a && (v.pb( a, lm, lm, "sorting" ), a === kn || a === ln || a === hn || a === jn) && (this.Nh = a, this.H())
	} );
	v.defineProperty( lm, {comparer: "comparer"}, function()
	{
		return this.wh
	}, function( a )
	{
		this.wh !== a && (v.j( a, "function", lm, "comparer" ), this.wh = a, this.H())
	} );
	var uq;
	lm.standardComparer = uq = function( a, b )
	{
		var c = a.text, d = b.text;
		return c < d ? -1 : c > d ? 1 : 0
	};
	lm.smartComparer = function( a, b )
	{
		if( null !== a )
		{
			if( null !== b )
			{
				for( var c = a.text.toLocaleLowerCase().split( /([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/ ), d = b.text.toLocaleLowerCase().split( /([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/ ), e = 0; e < c.length; e++ )if( "" !== d[e] && void 0 !== d[e] )
				{
					var f = parseFloat( c[e] ), h = parseFloat( d[e] );
					if( isNaN( f ) )
					{
						if( !isNaN( h ) )return 1;
						if( 0 !== c[e].localeCompare( d[e] ) )return c[e].localeCompare( d[e] )
					}
					else
					{
						if( isNaN( h ) )return-1;
						if( 0 !== f - h )return f - h
					}
				}
				else if( "" !== c[e] )return 1;
				return"" !==
					d[e] && void 0 !== d[e] ? -1 : 0
			}
			return 1
		}
		return null !== b ? -1 : 0
	};
	var un;
	lm.Position = un = v.p( lm, "Position", 0 );
	var tn;
	lm.Location = tn = v.p( lm, "Location", 1 );
	var mn;
	lm.LeftToRight = mn = v.p( lm, "LeftToRight", 2 );
	var nn;
	lm.RightToLeft = nn = v.p( lm, "RightToLeft", 3 );
	var kn;
	lm.Forward = kn = v.p( lm, "Forward", 4 );
	var ln;
	lm.Reverse = ln = v.p( lm, "Reverse", 5 );
	var hn;
	lm.Ascending = hn = v.p( lm, "Ascending", 6 );
	var jn;
	lm.Descending = jn = v.p( lm, "Descending", 7 );
	function vn()
	{
		0 < arguments.length && v.dd( vn );
		Yf.call( this );
		this.$x = this.Jn = this.Ld = 0;
		this.Bq = 360;
		this.Zx = Hn;
		this.yk = 0;
		this.zB = Hn;
		this.Cu = this.tg = this.QC = 0;
		this.bw = new vq;
		this.Eu = this.hm = 0;
		this.JF = 600;
		this.Nr = NaN;
		this.Yp = 1;
		this.us = 0;
		this.ws = 360;
		this.fd = Hn;
		this.aa = Dn;
		this.Nh = An;
		this.wh = tq;
		this.Oh = 6;
		this.Dr = Kn
	}

	v.Ia( vn, Yf );
	v.ea( "CircularLayout", vn );
	vn.prototype.cloneProtected = function( a )
	{
		Yf.prototype.cloneProtected.call( this, a );
		a.Nr = this.Nr;
		a.Yp = this.Yp;
		a.us = this.us;
		a.ws = this.ws;
		a.fd = this.fd;
		a.aa = this.aa;
		a.Nh = this.Nh;
		a.wh = this.wh;
		a.Oh = this.Oh;
		a.Dr = this.Dr
	};
	vn.prototype.createNetwork = function()
	{
		return new wq
	};
	vn.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		null === this.network && (this.network = this.makeNetwork( a ));
		a = this.network.vertexes;
		if( 1 >= a.count )1 === a.count && (a = a.first(), a.na = 0, a.ua = 0);
		else
		{
			var b = new I( xq );
			b.Tc( a.i );
			a = new I( xq );
			var c = new I( xq ), d;
			d = this.sort( b );
			var e = this.Zx, f = this.zB, h = this.Ld, k = this.Jn, l = this.$x, m = this.Bq, b = this.yk, n = this.QC, p = this.tg, q = this.Cu, e = this.Of, f = this.Qw, h = this.cI;
			if( !isFinite( h ) ||
				0 >= h )h = NaN;
			k = this.fG;
			if( !isFinite( k ) || 0 >= k )k = 1;
			l = this.ye;
			isFinite( l ) || (l = 0);
			m = this.Bf;
			if( !isFinite( m ) || 360 < m || 1 > m )m = 360;
			b = this.spacing;
			isFinite( b ) || (b = NaN);
			e === In && f === Jn ? e = Hn : e === In && f !== Jn && (f = Jn, e = this.Of);
			if( (this.direction === Bn || this.direction === Cn) && this.sorting !== An )
			{
				for( var r = 0; !(r >= d.length); r += 2 )
				{
					a.add( d.da( r ) );
					if( r + 1 >= d.length )break;
					c.add( d.da( r + 1 ) )
				}
				this.direction === Bn ? (this.Of === In && a.reverse(), d = new I( xq ), d.Tc( a ), d.Tc( c )) : (this.Of === In && c.reverse(), d = new I( xq ), d.Tc( c ), d.Tc( a ))
			}
			for( var s =
				d.length, t = n = 0, r = 0; r < d.length; r++ )
			{
				var p = l + m * t * (this.direction === Dn ? 1 : -1) / s, u = d.da( r ).diameter;
				isNaN( u ) && (u = yq( d.da( r ), p ));
				360 > m && (0 === r || r === d.length - 1) && (u /= 2);
				n += u;
				t++
			}
			if( isNaN( h ) || e === In )
			{
				isNaN( b ) && (b = 6);
				if( e !== Hn && e !== In )
				{
					u = -Infinity;
					for( r = 0; r < s; r++ )
					{
						var q = d.da( r ), w = d.da( r === s - 1 ? 0 : r + 1 );
						isNaN( q.diameter ) && yq( q, 0 );
						isNaN( w.diameter ) && yq( w, 0 );
						u = Math.max( u, (q.diameter + w.diameter) / 2 )
					}
					q = u + b;
					e === Fn ? (p = 2 * Math.PI / s, h = (u + b) / p) : h = zq( this, q * (360 <= m ? s : s - 1), k, l * Math.PI / 180, m * Math.PI / 180 )
				}
				else h = zq( this, n + (360 <=
					m ? s : s - 1) * (e !== In ? b : 1.6 * b), k, l * Math.PI / 180, m * Math.PI / 180 );
				p = h * k
			}
			else if( p = h * k, t = Aq( this, h, p, l * Math.PI / 180, m * Math.PI / 180 ), isNaN( b ) )
			{
				if( e === Hn || e === In )b = (t - n) / (360 <= m ? s : s - 1)
			}
			else if( e === Hn || e === In )r = (t - n) / (360 <= m ? s : s - 1), r < b ? (h = zq( this, n + b * (360 <= m ? s : s - 1), k, l * Math.PI / 180, m * Math.PI / 180 ), p = h * k) : b = r;
			else
			{
				u = -Infinity;
				for( r = 0; r < s; r++ )q = d.da( r ), w = d.da( r === s - 1 ? 0 : r + 1 ), isNaN( q.diameter ) && yq( q, 0 ), isNaN( w.diameter ) && yq( w, 0 ), u = Math.max( u, (q.diameter + w.diameter) / 2 );
				q = u + b;
				r = zq( this, q * (360 <= m ? s : s - 1), k, l * Math.PI / 180,
						m * Math.PI / 180 );
				r > h ? (h = r, p = h * k) : q = t / (360 <= m ? s : s - 1)
			}
			this.Zx = e;
			this.zB = f;
			this.Ld = h;
			this.Jn = k;
			this.$x = l;
			this.Bq = m;
			this.yk = b;
			this.QC = n;
			this.tg = p;
			this.Cu = q;
			b = d;
			d = this.Zx;
			e = this.Ld;
			f = this.$x;
			k = this.Bq;
			l = this.yk;
			m = this.tg;
			n = this.Cu;
			if( this.direction !== Bn && this.direction !== Cn || d !== In )if( this.direction === Bn || this.direction === Cn )
			{
				h = 0;
				switch( d )
				{
				case Gn:
					h = 180 * Bq( this, e, m, f, n ) / Math.PI;
					break;
				case Hn:
					n = b = 0;
					h = a.first();
					null !== h && (b = yq( h, Math.PI / 2 ));
					h = c.first();
					null !== h && (n = yq( h, Math.PI / 2 ));
					h = 180 * Bq( this, e, m, f, l + (b +
						n) / 2 ) / Math.PI;
					break;
				case Fn:
					h = k / b.length
				}
				if( this.direction === Bn )
				{
					switch( d )
					{
					case Gn:
						Cq( this, a, f, En );
						break;
					case Hn:
						Dq( this, a, f, En );
						break;
					case Fn:
						Eq( this, a, k / 2, f, En )
					}
					switch( d )
					{
					case Gn:
						Cq( this, c, f + h, Dn );
						break;
					case Hn:
						Dq( this, c, f + h, Dn );
						break;
					case Fn:
						Eq( this, c, k / 2, f + h, Dn )
					}
				}
				else
				{
					switch( d )
					{
					case Gn:
						Cq( this, c, f, En );
						break;
					case Hn:
						Dq( this, c, f, En );
						break;
					case Fn:
						Eq( this, c, k / 2, f, En )
					}
					switch( d )
					{
					case Gn:
						Cq( this, a, f + h, Dn );
						break;
					case Hn:
						Dq( this, a, f + h, Dn );
						break;
					case Fn:
						Eq( this, a, k / 2, f + h, Dn )
					}
				}
			}
			else switch( d )
				{
				case Gn:
					Cq( this,
						b, f, this.direction );
					break;
				case Hn:
					Dq( this, b, f, this.direction );
					break;
				case Fn:
					Eq( this, b, k, f, this.direction );
					break;
				case In:
					Fq( this, b, k, f, this.direction )
				}
			else Fq( this, b, k, f - k / 2, Dn )
		}
		this.updateParts();
		this.network = null;
		this.xf = !0
	};
	function Eq( a, b, c, d, e )
	{
		var f = a.Bq, h = a.Ld;
		a = a.tg;
		d = d * Math.PI / 180;
		c = c * Math.PI / 180;
		for( var k = b.length, l = 0; l < k; l++ )
		{
			var m = d + (e === Dn ? l * c / (360 <= f ? k : k - 1) : -(l * c) / k), n = b.da( l ), p = h * Math.tan( m ) / a, p = Math.sqrt( (h * h + a * a * p * p) / (1 + p * p) );
			n.na = p * Math.cos( m );
			n.ua = p * Math.sin( m );
			n.actualAngle = 180 * m / Math.PI
		}
	}

	function Dq( a, b, c, d )
	{
		var e = a.Ld, f = a.tg, h = a.yk;
		c = c * Math.PI / 180;
		for( var k = b.length, l = 0; l < k; l++ )
		{
			var m = b.da( l ), n = b.da( l === k - 1 ? 0 : l + 1 ), p = f * Math.sin( c );
			m.na = e * Math.cos( c );
			m.ua = p;
			m.actualAngle = 180 * c / Math.PI;
			isNaN( m.diameter ) && yq( m, 0 );
			isNaN( n.diameter ) && yq( n, 0 );
			m = Bq( a, e, f, d === Dn ? c : -c, (m.diameter + n.diameter) / 2 + h );
			c += d === Dn ? m : -m
		}
	}

	function Cq( a, b, c, d )
	{
		var e = a.Ld, f = a.tg, h = a.Cu;
		c = c * Math.PI / 180;
		for( var k = b.length, l = 0; l < k; l++ )
		{
			var m = b.da( l );
			m.na = e * Math.cos( c );
			m.ua = f * Math.sin( c );
			m.actualAngle = 180 * c / Math.PI;
			m = Bq( a, e, f, d === Dn ? c : -c, h );
			c += d === Dn ? m : -m
		}
	}

	function Fq( a, b, c, d, e )
	{
		var f = a.Eu, f = a.Bq;
		a.hm = 0;
		a.bw = new vq;
		if( 360 > c )
		{
			for( f = d + (e === Dn ? f : -f); 0 > f; )f += 360;
			f %= 360;
			180 < f && (f -= 360);
			f *= Math.PI / 180;
			a.Eu = f;
			Gq( a, b, c, d, e )
		}
		else Hq( a, b, c, d, e );
		a.bw.commit( b )
	}

	function Hq( a, b, c, d, e )
	{
		var f = a.Ld, h = a.yk, k = a.Jn, l = f * Math.cos( d * Math.PI / 180 ), m = a.tg * Math.sin( d * Math.PI / 180 ), n = b.dc();
		if( 3 === n.length )n[0].na = f, n[0].ua = 0, n[1].na = n[0].na - n[0].width / 2 - n[1].width / 2 - h, n[1].y = n[0].y, n[2].na = (n[0].na + n[1].na) / 2, n[2].y = n[0].y - n[2].height - h;
		else if( 4 === n.length )n[0].na = f, n[0].ua = 0, n[2].na = -n[0].na, n[2].ua = n[0].ua, n[1].na = 0, n[1].y = Math.min( n[0].y, n[2].y ) - n[1].height - h, n[3].na = 0, n[3].y = Math.max( n[0].y + n[0].height + h, n[2].y + n[2].height + h );
		else
		{
			for( var f = v.L(), p = 0; p < n.length; p++ )
			{
				n[p].na =
					l;
				n[p].ua = m;
				if( p >= n.length - 1 )break;
				Iq( a, l, m, n, p, e, f ) || Jq( a, l, m, n, p, e, f );
				l = f.x;
				m = f.y
			}
			v.v( f );
			a.hm++;
			if( !(23 < a.hm) )
			{
				var l = n[0].na, m = n[0].ua, f = n[n.length - 1].na, p = n[n.length - 1].ua, q = Math.abs( l - f ) - ((n[0].width + n[n.length - 1].width) / 2 + h), r = Math.abs( m - p ) - ((n[0].height + n[n.length - 1].height) / 2 + h), h = 0;
				1 > Math.abs( r ) ? Math.abs( l - f ) < (n[0].width + n[n.length - 1].width) / 2 && (h = 0) : h = 0 < r ? r : 1 > Math.abs( q ) ? 0 : q;
				q = !1;
				q = Math.abs( f ) > Math.abs( p ) ? 0 < f !== m > p : 0 < p !== l < f;
				if( q = e === Dn ? q : !q )h = -Math.abs( h ), h = Math.min( h, -n[n.length - 1].width ),
					h = Math.min( h, -n[n.length - 1].height );
				a.bw.compare( h, n );
				1 < Math.abs( h ) && (a.Ld = 8 > a.hm ? a.Ld - h / (2 * Math.PI) : 5 > n.length && 10 < h ? a.Ld / 2 : a.Ld - (0 < h ? 1.7 : -2.3), a.tg = a.Ld * k, Hq( a, b, c, d, e ))
			}
		}
	}

	function Gq( a, b, c, d, e )
	{
		for( var f = a.Ld, h = a.tg, k = a.Jn, l = f * Math.cos( d * Math.PI / 180 ), m = h * Math.sin( d * Math.PI / 180 ), n = v.L(), p = b.dc(), q = 0; q < p.length; q++ )
		{
			p[q].na = l;
			p[q].ua = m;
			if( q >= p.length - 1 )break;
			Iq( a, l, m, p, q, e, n ) || Jq( a, l, m, p, q, e, n );
			l = n.x;
			m = n.y
		}
		v.v( n );
		a.hm++;
		if( !(23 < a.hm) )
		{
			l = Math.atan2( m, l );
			l = e === Dn ? a.Eu - l : l - a.Eu;
			l = Math.abs( l ) < Math.abs( l - 2 * Math.PI ) ? l : l - 2 * Math.PI;
			f = l * (f + h) / 2;
			h = a.bw;
			if( Math.abs( f ) < Math.abs( h.Yo ) )for( h.Yo = f, h.jn = [], h.Lp = [], l = 0; l < p.length; l++ )h.jn[l] = p[l].mb.x, h.Lp[l] = p[l].mb.y;
			1 < Math.abs( f ) &&
			(a.Ld = 8 > a.hm ? a.Ld - f / (2 * Math.PI) : a.Ld - (0 < f ? 1.7 : -2.3), a.tg = a.Ld * k, Gq( a, b, c, d, e ))
		}
	}

	function Iq( a, b, c, d, e, f, h )
	{
		var k = a.Ld, l = a.tg, m = 0, n = 0;
		a = (d[e].width + d[e + 1].width) / 2 + a.yk;
		var p = !1;
		if( 0 <= c !== (f === Dn) )
		{
			if( m = b + a, m > k )
			{
				m = b - a;
				if( m < -k )return h.x = m, h.y = n, !1;
				p = !0
			}
		}
		else if( m = b - a, m < -k )
		{
			m = b + a;
			if( m > k )return h.x = m, h.y = n, !1;
			p = !0
		}
		n = Math.sqrt( 1 - Math.min( 1, m * m / (k * k) ) ) * l;
		0 > c !== p && (n = -n);
		if( Math.abs( c - n ) > (d[e].height + d[e + 1].height) / 2 )return h.x = m, h.y = n, !1;
		h.x = m;
		h.y = n;
		return!0
	}

	function Jq( a, b, c, d, e, f, h )
	{
		var k = a.Ld, l = a.tg, m = 0, n = 0;
		a = (d[e].height + d[e + 1].height) / 2 + a.yk;
		d = !1;
		if( 0 <= b !== (f === Dn) )
		{
			if( n = c - a, n < -l )
			{
				n = c + a;
				if( n > l )
				{
					h.x = m;
					h.y = n;
					return
				}
				d = !0
			}
		}
		else if( n = c + a, n > l )
		{
			n = c - a;
			if( n < -l )
			{
				h.x = m;
				h.y = n;
				return
			}
			d = !0
		}
		m = Math.sqrt( 1 - Math.min( 1, n * n / (l * l) ) ) * k;
		0 > b !== d && (m = -m);
		h.x = m;
		h.y = n
	}

	vn.prototype.commitLayout = function()
	{
		this.commitNodes();
		this.wt && this.commitLinks()
	};
	vn.prototype.commitNodes = function()
	{
		for( var a = this.VF, b = this.network.vertexes.i; b.next(); )
		{
			var c = b.value;
			c.x += a.x;
			c.y += a.y;
			c.commit()
		}
	};
	vn.prototype.commitLinks = function()
	{
		for( var a = this.network.edges.i; a.next(); )a.value.commit()
	};
	function Aq( a, b, c, d, e )
	{
		var f = a.JF;
		if( .001 > Math.abs( a.Jn - 1 ) )return void 0 !== d && void 0 !== e ? e * b : 2 * Math.PI * b;
		a = b > c ? Math.sqrt( b * b - c * c ) / b : Math.sqrt( c * c - b * b ) / c;
		for( var h = 0, k = 0, k = void 0 !== d && void 0 !== e ? e / (f + 1) : Math.PI / (2 * (f + 1)), l = 0, m = 0; m <= f; m++ )l = void 0 !== d && void 0 !== e ? d + m * e / f : m * Math.PI / (2 * f), l = Math.sin( l ), h += Math.sqrt( 1 - a * a * l * l ) * k;
		return void 0 !== d && void 0 !== e ? (b > c ? b : c) * h : 4 * (b > c ? b : c) * h
	}

	function zq( a, b, c, d, e )
	{
		var f = 0, f = void 0 !== d && void 0 !== e ? Aq( a, 1, c, d, e ) : Aq( a, 1, c );
		return b / f
	}

	function Bq( a, b, c, d, e )
	{
		if( .001 > Math.abs( a.Jn - 1 ) )return e / b;
		var f = b > c ? Math.sqrt( b * b - c * c ) / b : Math.sqrt( c * c - b * b ) / c, h = 0;
		a = 2 * Math.PI / (700 * a.network.vertexes.count);
		b > c && (d += Math.PI / 2);
		for( var k = 0; ; k++ )
		{
			var l = Math.sin( d + k * a ), h = h + (b > c ? b : c) * Math.sqrt( 1 - f * f * l * l ) * a;
			if( h >= e )return k * a
		}
	}

	vn.prototype.sort = function( a )
	{
		switch( this.sorting )
		{
		case yn:
			break;
		case zn:
			a.reverse();
			break;
		case wn:
			a.sort( this.comparer );
			break;
		case xn:
			a.sort( this.comparer );
			a.reverse();
			break;
		case An:
			for( var b = [], c = 0; c < a.length; c++ )b.push( 0 );
			for( var d = new I( xq ), c = 0; c < a.length; c++ )
			{
				var e = -1, f = -1;
				if( 0 === c )for( var h = 0; h < a.length; h++ )
				{
					var k = a.da( h ).JG;
					k > e && (e = k, f = h)
				}
				else for( h = 0; h < a.length; h++ )k = b[h], k > e && (e = k, f = h);
				d.add( a.da( f ) );
				b[f] = -1;
				f = a.da( f );
				e = 0;
				for( h = f.lc; h.next(); )e = a.indexOf( h.value.fromVertex ), 0 > e || 0 <= b[e] &&
					b[e]++;
				for( f = f.$b; f.next(); )e = a.indexOf( f.value.toVertex ), 0 > e || 0 <= b[e] && b[e]++
			}
			a = [];
			for( b = 0; b < d.length; b++ )
			{
				h = d.da( b );
				a[b] = [];
				for( var l = 0, c = h.$b; c.next(); )l = d.indexOf( c.value.toVertex ), l !== b && 0 > a[b].indexOf( l ) && a[b].push( l );
				for( c = h.lc; c.next(); )l = d.indexOf( c.value.fromVertex ), l !== b && 0 > a[b].indexOf( l ) && a[b].push( l )
			}
			h = [];
			for( b = 0; b < a.length; b++ )h[b] = 0;
			for( var c = [], k = [], m = [], e = [], f = new I( xq ), n = 0, b = 0; b < a.length; b++ )
			{
				var p = a[b].length;
				if( 1 === p )e.push( b );
				else if( 0 === p )f.add( d.da( b ) );
				else
				{
					if( 0 === n )c.push( b );
					else
					{
						for( var q = Infinity, r = Infinity, s = -1, t = [], p = 0; p < c.length; p++ )0 > a[c[p]].indexOf( c[p === c.length - 1 ? 0 : p + 1] ) && t.push( p === c.length - 1 ? 0 : p + 1 );
						if( 0 === t.length )for( p = 0; p < c.length; p++ )t.push( p );
						for( p = 0; p < t.length; p++ )
						{
							var u = t[p], w, l = a[b];
							w = k;
							for( var x = m, z = h, A = u, H = c, C = 0, T = 0; T < w.length; T++ )
							{
								var ba = z[w[T]], U = z[x[T]], M = 0, aa = 0;
								ba < U ? (M = ba, aa = U) : (M = U, aa = ba);
								if( M < A && A <= aa )for( ba = 0; ba < l.length; ba++ )U = l[ba], 0 > H.indexOf( U ) || M < z[U] && z[U] < aa || M === z[U] || aa === z[U] || C++;
								else for( ba = 0; ba < l.length; ba++ )U = l[ba], 0 > H.indexOf( U ) ||
									M < z[U] && z[U] < aa && M !== z[U] && aa !== z[U] && C++
							}
							w = C;
							for( z = x = 0; z < a[b].length; z++ )l = c.indexOf( a[b][z] ), 0 <= l && (l = Math.abs( u - (l >= u ? l + 1 : l) ), x += l < c.length + 1 - l ? l : c.length + 1 - l);
							for( z = 0; z < k.length; z++ )l = h[k[z]], A = h[m[z]], l >= u && l++, A >= u && A++, l > A && (H = A, A = l, l = H), A - l < (c.length + 2) / 2 === (l < u && u <= A) && x++;
							if( w < q || w === q && x < r )q = w, r = x, s = u
						}
						c.splice( s, 0, b );
						for( p = 0; p < c.length; p++ )h[c[p]] = p;
						for( p = 0; p < a[b].length; p++ )q = a[b][p], 0 <= c.indexOf( q ) && (k.push( b ), m.push( q ))
					}
					n++
				}
			}
			k = !1;
			for( m = c.length; ; )
			{
				k = !0;
				for( h = 0; h < e.length; h++ )if( b = e[h],
					n = a[b][0], l = c.indexOf( n ), 0 <= l )
				{
					for( r = p = 0; r < a[n].length; r++ )q = a[n][r], q = c.indexOf( q ), 0 > q || q === l || (s = q > l ? q - l : l - q, p += q < l !== s > m - s ? 1 : -1);
					c.splice( 0 > p ? l : l + 1, 0, b );
					e.splice( h, 1 );
					h--
				}
				else k = !1;
				if( k )break;
				else c.push( e[0] ), e.splice( 0, 1 )
			}
			for( b = 0; b < c.length; b++ )l = c[b], f.add( d.da( l ) );
			return f;
		default:
			v.k( "Invalid sorting type." )
		}
		return a
	};
	v.defineProperty( vn, {cI: "radius"}, function()
	{
		return this.Nr
	}, function( a )
	{
		this.Nr !== a && (v.j( a, "number", vn, "radius" ), 0 < a || isNaN( a )) && (this.Nr = a, this.H())
	} );
	v.defineProperty( vn, {fG: "aspectRatio"}, function()
	{
		return this.Yp
	}, function( a )
	{
		this.Yp !== a && (v.j( a, "number", vn, "aspectRatio" ), 0 < a && (this.Yp = a, this.H()))
	} );
	v.defineProperty( vn, {ye: "startAngle"}, function()
	{
		return this.us
	}, function( a )
	{
		this.us !== a && (v.j( a, "number", vn, "startAngle" ), this.us = a, this.H())
	} );
	v.defineProperty( vn, {Bf: "sweepAngle"}, function()
	{
		return this.ws
	}, function( a )
	{
		this.ws !== a && (v.j( a, "number", vn, "sweepAngle" ), this.ws = 0 < a && 360 >= a ? a : 360, this.H())
	} );
	v.defineProperty( vn, {Of: "arrangement"}, function()
	{
		return this.fd
	}, function( a )
	{
		this.fd !== a && (v.pb( a, vn, vn, "arrangement" ), a === In || a === Hn || a === Gn || a === Fn) && (this.fd = a, this.H())
	} );
	v.defineProperty( vn, {direction: "direction"}, function()
	{
		return this.aa
	}, function( a )
	{
		this.aa !== a && (v.pb( a, vn, vn, "direction" ), a === Dn || a === En || a === Bn || a === Cn) && (this.aa = a, this.H())
	} );
	v.defineProperty( vn, {sorting: "sorting"}, function()
	{
		return this.Nh
	}, function( a )
	{
		this.Nh !== a && (v.pb( a, vn, vn, "sorting" ), a === yn || a === zn || a === wn || xn || a === An) && (this.Nh = a, this.H())
	} );
	v.defineProperty( vn, {comparer: "comparer"}, function()
	{
		return this.wh
	}, function( a )
	{
		this.wh !== a && (v.j( a, "function", vn, "comparer" ), this.wh = a, this.H())
	} );
	v.defineProperty( vn, {spacing: "spacing"}, function()
	{
		return this.Oh
	}, function( a )
	{
		this.Oh !== a && (v.j( a, "number", vn, "spacing" ), this.Oh = a, this.H())
	} );
	v.defineProperty( vn, {Qw: "nodeDiameterFormula"}, function()
	{
		return this.Dr
	}, function( a )
	{
		this.Dr !== a && (v.pb( a, vn, vn, "nodeDiameterFormula" ), a === Kn || a === Jn) && (this.Dr = a, this.H())
	} );
	v.u( vn, {WF: "actualXRadius"}, function()
	{
		return this.Ld
	} );
	v.u( vn, {XF: "actualYRadius"}, function()
	{
		return this.tg
	} );
	v.u( vn, {WI: "actualSpacing"}, function()
	{
		return this.yk
	} );
	v.u( vn, {VF: "actualCenter"}, function()
	{
		return isNaN( this.Zd.x ) || isNaN( this.Zd.y ) ? new y( 0, 0 ) : new y( this.Zd.x + this.WF, this.Zd.y + this.XF )
	} );
	var Hn;
	vn.ConstantSpacing = Hn = v.p( vn, "ConstantSpacing", 0 );
	var Gn;
	vn.ConstantDistance = Gn = v.p( vn, "ConstantDistance", 1 );
	var Fn;
	vn.ConstantAngle = Fn = v.p( vn, "ConstantAngle", 2 );
	var In;
	vn.Packed = In = v.p( vn, "Packed", 3 );
	var Dn;
	vn.Clockwise = Dn = v.p( vn, "Clockwise", 4 );
	var En;
	vn.Counterclockwise = En = v.p( vn, "Counterclockwise", 5 );
	var Bn;
	vn.BidirectionalLeft = Bn = v.p( vn, "BidirectionalLeft", 6 );
	var Cn;
	vn.BidirectionalRight = Cn = v.p( vn, "BidirectionalRight", 7 );
	var yn;
	vn.Forwards = yn = v.p( vn, "Forwards", 8 );
	var zn;
	vn.Reverse = zn = v.p( vn, "Reverse", 9 );
	var wn;
	vn.Ascending = wn = v.p( vn, "Ascending", 10 );
	var xn;
	vn.Descending = xn = v.p( vn, "Descending", 11 );
	var An;
	vn.Optimized = An = v.p( vn, "Optimized", 12 );
	var Kn;
	vn.Pythagorean = Kn = v.p( vn, "Pythagorean", 13 );
	var Jn;
	vn.Circular = Jn = v.p( vn, "Circular", 14 );
	function vq()
	{
		this.Yo = -Infinity;
		this.Lp = this.jn = null
	}

	vq.prototype.compare = function( a, b )
	{
		if( 0 < a && 0 > this.Yo || Math.abs( a ) < Math.abs( this.Yo ) && !(0 > a && 0 < this.Yo) )
		{
			this.Yo = a;
			this.jn = [];
			this.Lp = [];
			for( var c = 0; c < b.length; c++ )this.jn[c] = b[c].mb.x, this.Lp[c] = b[c].mb.y
		}
	};
	vq.prototype.commit = function( a )
	{
		if( null !== this.jn && null !== this.Lp )for( var b = 0; b < this.jn.length; b++ )
		{
			var c = a.da( b );
			c.x = this.jn[b];
			c.y = this.Lp[b]
		}
	};
	function wq()
	{
		Zf.call( this )
	}

	v.Ia( wq, Zf );
	v.ea( "CircularNetwork", wq );
	wq.prototype.createVertex = function()
	{
		return new xq
	};
	wq.prototype.createEdge = function()
	{
		return new Kq
	};
	function xq()
	{
		nq.call( this );
		this.actualAngle = this.diameter = NaN
	}

	v.Ia( xq, nq );
	v.ea( "CircularVertex", xq );
	function yq( a, b )
	{
		var c = a.network;
		if( null === c )return NaN;
		c = c.Pb;
		if( null === c )return NaN;
		if( c.Of === In )if( c.Qw === Jn )a.diameter = Math.max( a.width, a.height );
		else
		{
			var c = Math.abs( Math.sin( b ) ), d = Math.abs( Math.cos( b ) );
			if( 0 === c )return a.width;
			if( 0 === d )return a.height;
			a.diameter = Math.min( a.height / c, a.width / d )
		}
		else a.diameter = c.Qw === Jn ? Math.max( a.width, a.height ) : Math.sqrt( a.width * a.width + a.height * a.height );
		return a.diameter
	}

	function Kq()
	{
		oq.call( this )
	}

	v.Ia( Kq, oq );
	v.ea( "CircularEdge", Kq );
	function Lq()
	{
		0 < arguments.length && v.dd( Lq );
		Yf.call( this );
		this.sg = null;
		this.cr = 0;
		this.cg = (new ia( 100, 100 )).freeze();
		this.Xp = !1;
		this.Mh = !0;
		this.vh = !1;
		this.ho = 100;
		this.Dq = 1;
		this.Dh = 1E3;
		this.Pr = Math;
		this.En = .05;
		this.Dn = 50;
		this.An = 150;
		this.Cn = 0;
		this.tq = 10;
		this.sq = 5
	}

	v.Ia( Lq, Yf );
	v.ea( "ForceDirectedLayout", Lq );
	Lq.prototype.cloneProtected = function( a )
	{
		Yf.prototype.cloneProtected.call( this, a );
		a.cg.assign( this.cg );
		a.Xp = this.Xp;
		a.Mh = this.Mh;
		a.vh = this.vh;
		a.ho = this.ho;
		a.Dq = this.Dq;
		a.Dh = this.Dh;
		a.Pr = this.Pr;
		a.En = this.En;
		a.Dn = this.Dn;
		a.An = this.An;
		a.Cn = this.Cn;
		a.tq = this.tq;
		a.sq = this.sq
	};
	Lq.prototype.createNetwork = function()
	{
		return new Mq
	};
	Lq.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		null === this.network && (this.network = this.makeNetwork( a ));
		a = this.Kz;
		if( 0 < this.network.vertexes.count )
		{
			this.network.tw();
			for( var b = this.network.vertexes.i; b.next(); )
			{
				var c = b.value;
				c.charge = this.electricalCharge( c );
				c.mass = this.gravitationalMass( c )
			}
			for( b = this.network.edges.i; b.next(); )c = b.value, c.stiffness = this.springStiffness( c ), c.length = this.springLength( c );
			this.Xy();
			this.cr = 0;
			if( this.needsClusterLayout() )
			{
				b = this.network;
				for( c = b.CI().i; c.next(); )
				{
					this.network = c.value;
					for( var d = this.network.vertexes.i; d.next(); )
					{
						var e = d.value;
						e.$f = e.vertexes.count;
						e.ck = 1;
						e.Em = null;
						e.oh = null
					}
					Nq( this, 0, a )
				}
				this.network = b;
				c.reset();
				for( var d = this.gD, f = c.count, h = !0, k = e = 0, l = v.jb(), m = 0; m < f + b.vertexes.count + 2; m++ )l[m] = null;
				f = 0;
				c.reset();
				for( var n = v.bg(); c.next(); )if( m = c.value, this.ah( m, n ), h )h = !1, e = n.x + n.width / 2, k = n.y + n.height / 2, l[0] = new y( n.x + n.width + d.width, n.y ), l[1] = new y( n.x,
						n.y + n.height + d.height ), f = 2;
				else
				{
					var p = Oq( l, f, e, k, n.width, n.height, d ), q = l[p], r = new y( q.x + n.width + d.width, q.y ), s = new y( q.x, q.y + n.height + d.height );
					p + 1 < f && l.splice( p + 1, 0, null );
					l[p] = r;
					l[p + 1] = s;
					f++;
					p = q.x - n.x;
					q = q.y - n.y;
					for( m = m.vertexes.i; m.next(); )r = m.value, r.na += p, r.ua += q
				}
				v.Vb( n );
				for( m = b.vertexes.i; m.next(); )h = m.value, n = h.mb, 2 > f ? (e = n.x + n.width / 2, k = n.y + n.height / 2, l[0] = new y( n.x + n.width + d.width, n.y ), l[1] = new y( n.x, n.y + n.height + d.height ), f = 2) : (p = Oq( l, f, e, k, n.width, n.height, d ), q = l[p], r = new y( q.x + n.width + d.width,
					q.y ), s = new y( q.x, q.y + n.height + d.height ), p + 1 < f && l.splice( p + 1, 0, null ), l[p] = r, l[p + 1] = s, f++, h.na = q.x + h.width / 2, h.ua = q.y + h.height / 2);
				v.sa( l );
				for( c.reset(); c.next(); )
				{
					d = c.value;
					for( e = d.vertexes.i; e.next(); )b.Zk( e.value );
					for( d = d.edges.i; d.next(); )b.Io( d.value )
				}
			}
			Pq( this, a );
			this.updateParts()
		}
		this.ho = a;
		this.network = null;
		this.xf = !0
	};
	Lq.prototype.needsClusterLayout = function()
	{
		if( 3 > this.network.vertexes.count )return!1;
		for( var a = 0, b = 0, c = this.network.vertexes.first().mb, d = this.network.vertexes.i; d.next(); )
		{
			if( d.value.mb.yg( c ) && (a++, 2 < a) )return!0;
			if( 10 < b )break;
			b++
		}
		return!1
	};
	Lq.prototype.ah = function( a, b )
	{
		for( var c = !0, d = a.vertexes.i; d.next(); )
		{
			var e = d.value;
			c ? (c = !1, b.set( e.mb )) : b.ci( e.mb )
		}
		return b
	};
	function Nq( a, b, c )
	{
		if( Qq( a, b ) )
		{
			var d = a.Dh;
			a.Dh *= 1 + 1 / (b + 1);
			var e = Zq( a, b ), f = Math.max( 0, Math.max( Math.min( a.network.vertexes.count, c * (b + 1) / 11 ), 10 ) );
			a.Kz += f;
			Nq( a, b + 1, c );
			Pq( a, f );
			er( a, e );
			b = a.sg;
			null === b ? b = new I( fr ) : b.clear();
			b.Tc( e.vertexes );
			b.sort( function( a, b )
			{
				return null === a || null === b || a === b ? 0 : b.$f - a.$f
			} );
			for( e = b.i; e.next(); )gr( a, e.value );
			a.Dh = d
		}
	}

	function Qq( a, b )
	{
		if( 10 < b || 3 > a.network.vertexes.count )return!1;
		null === a.sg ? a.sg = new I( fr ) : a.sg.clear();
		a.sg.Tc( a.network.vertexes );
		var c = a.sg;
		c.sort( function( a, b )
		{
			return null === a || null === b || a === b ? 0 : b.$f - a.$f
		} );
		for( var d = c.count - 1; 0 <= d && 1 >= c.da( d ).$f; )d--;
		return 1 < c.count - d
	}

	function Zq( a, b )
	{
		for( var c = a.network, d = new Mq, e = a.sg.i; e.next(); )
		{
			var f = e.value;
			if( 1 < f.$f )
			{
				d.Zk( f );
				var h = new hr;
				h.xx = f.$f;
				h.yx = f.width;
				h.wx = f.height;
				h.DA = f.O.x;
				h.EA = f.O.y;
				null === f.oh && (f.oh = new I( hr ));
				f.oh.add( h );
				f.eA = f.oh.count - 1
			}
			else break
		}
		for( var k = c.edges.i; k.next(); )if( e = k.value, e.fromVertex.network === d && e.toVertex.network === d )d.Io( e );
		else if( e.fromVertex.network === d )
		{
			var l = e.fromVertex.Em;
			null === l && (l = new I( fr ), e.fromVertex.Em = l);
			l.add( e.toVertex );
			e.fromVertex.$f--;
			e.fromVertex.ck += e.toVertex.ck
		}
		else e.toVertex.network ===
			d && (l = e.toVertex.Em, null === l && (l = new I( fr ), e.toVertex.Em = l), l.add( e.fromVertex ), e.toVertex.$f--, e.toVertex.ck += e.fromVertex.ck);
		for( e = d.edges.i; e.next(); )f = e.value, f.length *= Math.max( 1, Id( (f.fromVertex.ck + f.toVertex.ck) / (4 * b + 1) ) );
		for( e = d.vertexes.i; e.next(); )if( f = e.value, l = f.Em, null !== l && 0 < l.count && (h = f.oh.da( f.oh.count - 1 ), h = h.xx - f.$f, !(0 >= h)) )
		{
			for( var m = 0, n = 0, p = l.count - h; p < l.count; p++ )
			{
				for( var q = l.da( p ), r = null, k = q.edges.i; k.next(); )
				{
					var s = k.value;
					if( s.UG( q ) === f )
					{
						r = s;
						break
					}
				}
				null !== r && (n += r.length,
					m += q.width * q.height)
			}
			l = f.na;
			k = f.ua;
			p = f.width;
			q = f.height;
			r = f.O;
			s = p * q;
			1 > s && (s = 1);
			m = Id( (m + s + n * n * 4 / (h * h)) / s );
			h = (m - 1) * p / 2;
			m = (m - 1) * q / 2;
			f.mb = new B( l - r.x - h, k - r.y - m, p + 2 * h, q + 2 * m );
			f.focus = new y( r.x + h, r.y + m )
		}
		a.network = d;
		return c
	}

	function er( a, b )
	{
		for( var c = a.network.vertexes.i; c.next(); )
		{
			var d = c.value;
			d.network = b;
			if( null !== d.oh )
			{
				var e = d.oh.da( d.eA );
				d.$f = e.xx;
				var f = e.DA, h = e.EA;
				d.mb = new B( d.na - f, d.ua - h, e.yx, e.wx );
				d.focus = new y( f, h );
				d.eA--
			}
		}
		for( c = a.network.edges.i; c.next(); )c.value.network = b;
		a.network = b
	}

	function gr( a, b )
	{
		var c = b.Em;
		if( null !== c && 0 !== c.count )
		{
			var d = b.na, e = b.ua, f = b.width, h = b.height;
			null !== b.oh && 0 < b.oh.count && (h = b.oh.da( 0 ), f = h.yx, h = h.wx);
			for( var f = Id( f * f + h * h ) / 2, k = !1, l = h = 0, m = 0, n = b.vertexes.i; n.next(); )
			{
				var p = n.value;
				1 >= p.$f ? l++ : (k = !0, m++, h += Math.atan2( b.ua - p.ua, b.na - p.na ))
			}
			if( 0 !== l )for( 0 < m && (h /= m), n = m = 0, m = k ? 2 * Math.PI / (l + 1) : 2 * Math.PI / l, 0 === l % 2 && (n = m / 2), 1 < c.count && c.sort( function( a, b )
			{
				return null === a || null === b || a === b ? 0 : b.width * b.height - a.width * a.height
			} ), k = 0 === l % 2 ? 0 : 1, c = c.i; c.next(); )if( l =
				c.value, !(1 < l.$f || a.isFixed( l )) )
			{
				for( var p = null, q = l.edges.i; q.next(); )
				{
					p = q.value;
					break
				}
				var q = l.width, r = l.height, q = Id( q * q + r * r ) / 2, p = f + p.length + q, q = h + (m * (k / 2 >> 1) + n) * (0 === k % 2 ? 1 : -1);
				l.na = d + p * Math.cos( q );
				l.ua = e + p * Math.sin( q );
				k++
			}
		}
	}

	function Oq( a, b, c, d, e, f, h )
	{
		var k = 9E19, l = -1, m = 0;
		a:for( ; m < b; m++ )
		{
			var n = a[m], p = n.x - c, q = n.y - d, p = p * p + q * q;
			if( p < k )
			{
				for( q = m - 1; 0 <= q; q-- )if( a[q].y > n.y && a[q].x - n.x < e + h.width )continue a;
				for( q = m + 1; q < b; q++ )if( a[q].x > n.x && a[q].y - n.y < f + h.height )continue a;
				l = m;
				k = p
			}
		}
		return l
	}

	Lq.prototype.Xy = function()
	{
		if( this.comments )for( var a = this.network.vertexes.i; a.next(); )this.addComments( a.value )
	};
	Lq.prototype.addComments = function( a )
	{
		var b = a.Jc;
		if( null !== b )for( b = b.HD(); b.next(); )
		{
			var c = b.value;
			if( "Comment" === c.gc && c.isVisible() )
			{
				var d = this.network.Mm( c );
				null === d && (d = this.network.Os( c ));
				d.charge = this.zG;
				for( var c = null, e = d.$b; e.next(); )
				{
					var f = e.value;
					if( f.toVertex === a )
					{
						c = f;
						break
					}
				}
				if( null === c )for( e = d.lc; e.next(); )if( f = e.value, f.fromVertex === a )
				{
					c = f;
					break
				}
				null === c && (c = this.network.lp( a, d, null ));
				c.length = this.AG
			}
		}
	};
	function ir( a, b )
	{
		var c = a.M, d = c.x, e = c.y, f = c.width, c = c.height, h = b.M, k = h.x, l = h.y, m = h.width, h = h.height;
		return d + f < k ? e > l + h ? (d = d + f - k, e = e - l - h, Id( d * d + e * e )) : e + c < l ? (d = d + f - k, e = e + c - l, Id( d * d + e * e )) : k - (d + f) : d > k + m ? e > l + h ? (d = d - k - m, e = e - l - h, Id( d * d + e * e )) : e + c < l ? (d = d - k - m, e = e + c - l, Id( d * d + e * e )) : d - (k + m) : e > l + h ? e - (l + h) : e + c < l ? l - (e + c) : .1
	}

	function Pq( a, b )
	{
		a.sg = null;
		for( var c = a.cr + b; a.cr < c && (a.cr++, jr( a )); );
		a.sg = null
	}

	function jr( a )
	{
		null === a.sg && (a.sg = new I( fr ), a.sg.Tc( a.network.vertexes ));
		var b = a.sg.n;
		if( 0 >= b.length )return!1;
		var c = b[0];
		c.forceX = 0;
		c.forceY = 0;
		for( var d = c.na, e = d, f = c.ua, h = f, c = 1; c < b.length; c++ )
		{
			var k = b[c];
			k.forceX = 0;
			k.forceY = 0;
			var l = k.na, k = k.ua, d = Math.min( d, l ), e = Math.max( e, l ), f = Math.min( f, k ), h = Math.max( h, k )
		}
		(f = e - d > h - f) ? b.sort( function( a, b )
		{
			return null === a || null === b || a === b ? 0 : a.na - b.na
		} ) : b.sort( function( a, b )
		{
			return null === a || null === b || a === b ? 0 : a.ua - b.ua
		} );
		for( var h = a.Dh, m = 0, n = 0, p = 0, c = 0; c < b.length; c++ )
		{
			var k =
				b[c], l = k.M, q = k.O, d = l.x + q.x, l = l.y + q.y, n = k.charge * a.electricalFieldX( d, l ), p = k.charge * a.electricalFieldY( d, l ), n = n + k.mass * a.gravitationalFieldX( d, l ), p = p + k.mass * a.gravitationalFieldY( d, l );
			k.forceX += n;
			k.forceY += p;
			for( q = c + 1; q < b.length; q++ )if( e = b[q], e !== k )
			{
				var r = e.M, n = e.O, p = r.x + n.x, r = r.y + n.y;
				if( d - p > h || p - d > h )
				{
					if( f )break
				}
				else if( l - r > h || r - l > h )
				{
					if( !f )break
				}
				else
				{
					var s = ir( k, e );
					1 > s ? (n = a.Yw, null === n && (a.Yw = n = new va( 0 )), m = n.random(), s = n.random(), d > p ? (n = Math.abs( e.M.right - k.M.x ), n = (1 + n) * m) : d < p ? (n = Math.abs( e.M.x - k.M.right ),
						n = -(1 + n) * m) : (n = Math.max( e.width, k.width ), n = (1 + n) * m - n / 2), l > r ? (p = Math.abs( e.M.bottom - k.M.y ), p = (1 + p) * s) : d < p ? (p = Math.abs( e.M.y - k.M.bottom ), p = -(1 + p) * s) : (p = Math.max( e.height, k.height ), p = (1 + p) * s - p / 2)) : (m = -(k.charge * e.charge) / (s * s), n = (p - d) / s * m, p = (r - l) / s * m);
					k.forceX += n;
					k.forceY += p;
					e.forceX -= n;
					e.forceY -= p
				}
			}
		}
		for( c = a.network.edges.i; c.next(); )f = c.value, k = f.fromVertex, e = f.toVertex, l = k.M, q = k.O, d = l.x + q.x, l = l.y + q.y, r = e.M, n = e.O, p = r.x + n.x, r = r.y + n.y, s = ir( k, e ), 1 > s ? (n = a.Yw, null === n && (a.Yw = n = new va( 0 )), m = n.random(), s =
			n.random(), n = (d > p ? 1 : -1) * (1 + (e.width > k.width) ? e.width : k.width) * m, p = (l > r ? 1 : -1) * (1 + (e.height > k.height) ? e.height : k.height) * s) : (m = f.stiffness * (s - f.length), n = (p - d) / s * m, p = (r - l) / s * m), k.forceX += n, k.forceY += p, e.forceX -= n, e.forceY -= p;
		c = 0;
		d = Math.max( a.Dh / 20, 50 );
		for( e = 0; e < b.length; e++ )k = b[e], a.isFixed( k ) ? a.moveFixedVertex( k ) : (f = k.forceX, h = k.forceY, f < -d ? f = -d : f > d && (f = d), h < -d ? h = -d : h > d && (h = d), k.na += f, k.ua += h, c = Math.max( c, f * f + h * h ));
		return c > a.ED * a.ED
	}

	Lq.prototype.moveFixedVertex = function()
	{
	};
	Lq.prototype.commitLayout = function()
	{
		this.kA();
		this.commitNodes();
		this.wt && this.commitLinks()
	};
	Lq.prototype.kA = function()
	{
		if( this.Fp )for( var a = this.network.edges.i; a.next(); )
		{
			var b = a.value.link;
			null !== b && (b.xb = kc, b.yb = kc)
		}
	};
	Lq.prototype.commitNodes = function()
	{
		var a = 0, b = 0;
		if( this.eG )
		{
			var c = v.bg();
			this.ah( this.network, c );
			b = this.Zd;
			a = b.x - c.x;
			b = b.y - c.y;
			v.Vb( c )
		}
		for( var c = v.bg(), d = this.network.vertexes.i; d.next(); )
		{
			var e = d.value;
			if( 0 !== a || 0 !== b )c.assign( e.mb ), c.x += a, c.y += b, e.mb = c;
			e.commit()
		}
		v.Vb( c )
	};
	Lq.prototype.commitLinks = function()
	{
		for( var a = this.network.edges.i; a.next(); )a.value.commit()
	};
	Lq.prototype.springStiffness = function( a )
	{
		a = a.stiffness;
		return isNaN( a ) ? this.En : a
	};
	Lq.prototype.springLength = function( a )
	{
		a = a.length;
		return isNaN( a ) ? this.Dn : a
	};
	Lq.prototype.electricalCharge = function( a )
	{
		a = a.charge;
		return isNaN( a ) ? this.An : a
	};
	Lq.prototype.electricalFieldX = function()
	{
		return 0
	};
	Lq.prototype.electricalFieldY = function()
	{
		return 0
	};
	Lq.prototype.gravitationalMass = function( a )
	{
		a = a.mass;
		return isNaN( a ) ? this.Cn : a
	};
	Lq.prototype.gravitationalFieldX = function()
	{
		return 0
	};
	Lq.prototype.gravitationalFieldY = function()
	{
		return 0
	};
	Lq.prototype.isFixed = function( a )
	{
		return a.isFixed
	};
	v.u( Lq, {wJ: "currentIteration"}, function()
	{
		return this.cr
	} );
	v.defineProperty( Lq, {gD: "arrangementSpacing"}, function()
	{
		return this.cg
	}, function( a )
	{
		v.A( a, ia, Lq, "arrangementSpacing" );
		this.cg.K( a ) || (this.cg.assign( a ), this.H())
	} );
	v.defineProperty( Lq, {eG: "arrangesToOrigin"}, function()
	{
		return this.Xp
	}, function( a )
	{
		this.Xp !== a && (v.j( a, "boolean", Lq, "arrangesToOrigin" ), this.Xp = a, this.H())
	} );
	v.defineProperty( Lq, {Fp: "setsPortSpots"}, function()
	{
		return this.Mh
	}, function( a )
	{
		this.Mh !== a && (v.j( a, "boolean", Lq, "setsPortSpots" ), this.Mh = a, this.H())
	} );
	v.defineProperty( Lq, {comments: "comments"}, function()
	{
		return this.vh
	}, function( a )
	{
		this.vh !== a && (v.j( a, "boolean", Lq, "comments" ), this.vh = a, this.H())
	} );
	v.defineProperty( Lq, {Kz: "maxIterations"}, function()
	{
		return this.ho
	}, function( a )
	{
		this.ho !== a && (v.j( a, "number", Lq, "maxIterations" ), 0 <= a && (this.ho = a, this.H()))
	} );
	v.defineProperty( Lq, {ED: "epsilonDistance"}, function()
	{
		return this.Dq
	}, function( a )
	{
		this.Dq !== a && (v.j( a, "number", Lq, "epsilonDistance" ), 0 < a && (this.Dq = a, this.H()))
	} );
	v.defineProperty( Lq, {NJ: "infinityDistance"}, function()
	{
		return this.Dh
	}, function( a )
	{
		this.Dh !== a && (v.j( a, "number", Lq, "infinityDistance" ), 1 < a && (this.Dh = a, this.H()))
	} );
	v.defineProperty( Lq, {Yw: "randomNumberGenerator"}, function()
	{
		return this.Pr
	}, function( a )
	{
		this.Pr !== a && (null !== a && "function" !== typeof a.random && v.k( 'ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: ' + a ), this.Pr = a)
	} );
	v.defineProperty( Lq, {IJ: "defaultSpringStiffness"}, function()
	{
		return this.En
	}, function( a )
	{
		this.En !== a && (v.j( a, "number", Lq, "defaultSpringStiffness" ), this.En = a, this.H())
	} );
	v.defineProperty( Lq, {HJ: "defaultSpringLength"}, function()
	{
		return this.Dn
	}, function( a )
	{
		this.Dn !== a && (v.j( a, "number", Lq, "defaultSpringLength" ), this.Dn = a, this.H())
	} );
	v.defineProperty( Lq, {BJ: "defaultElectricalCharge"}, function()
	{
		return this.An
	}, function( a )
	{
		this.An !== a && (v.j( a, "number", Lq, "defaultElectricalCharge" ), this.An = a, this.H())
	} );
	v.defineProperty( Lq, {CJ: "defaultGravitationalMass"}, function()
	{
		return this.Cn
	}, function( a )
	{
		this.Cn !== a && (v.j( a, "number", Lq, "defaultGravitationalMass" ), this.Cn = a, this.H())
	} );
	v.defineProperty( Lq, {AG: "defaultCommentSpringLength"}, function()
	{
		return this.tq
	}, function( a )
	{
		this.tq !== a && (v.j( a, "number", Lq, "defaultCommentSpringLength" ), this.tq = a, this.H())
	} );
	v.defineProperty( Lq, {zG: "defaultCommentElectricalCharge"}, function()
	{
		return this.sq
	}, function( a )
	{
		this.sq !== a && (v.j( a, "number", Lq, "defaultCommentElectricalCharge" ), this.sq = a, this.H())
	} );
	function hr()
	{
		this.EA = this.DA = this.wx = this.yx = this.xx = 0
	}

	function Mq()
	{
		Zf.call( this )
	}

	v.Ia( Mq, Zf );
	v.ea( "ForceDirectedNetwork", Mq );
	Mq.prototype.createVertex = function()
	{
		return new fr
	};
	Mq.prototype.createEdge = function()
	{
		return new kr
	};
	function fr()
	{
		nq.call( this );
		this.isFixed = !1;
		this.mass = this.charge = NaN;
		this.ck = this.$f = this.forceY = this.forceX = 0;
		this.oh = this.Em = null;
		this.eA = 0
	}

	v.Ia( fr, nq );
	v.ea( "ForceDirectedVertex", fr );
	function kr()
	{
		oq.call( this );
		this.length = this.stiffness = NaN
	}

	v.Ia( kr, oq );
	v.ea( "ForceDirectedEdge", kr );
	function gn()
	{
		0 < arguments.length && v.dd( gn );
		Yf.call( this );
		this.Kd = this.$l = 25;
		this.aa = 0;
		this.zn = lr;
		this.ao = mr;
		this.Rn = nr;
		this.Xl = 4;
		this.mn = or;
		this.Fi = pr;
		this.Mh = !0;
		this.hr = 4;
		this.Fb = this.nv = this.ob = -1;
		this.If = this.rr = 0;
		this.Lb = this.Ff = this.Gf = this.jg = this.Vd = null;
		this.zr = 0;
		this.yr = this.dm = null;
		this.ng = 0;
		this.Ar = null;
		this.Tg = [];
		this.Tg.length = 100
	}

	v.Ia( gn, Yf );
	v.ea( "LayeredDigraphLayout", gn );
	gn.prototype.cloneProtected = function( a )
	{
		Yf.prototype.cloneProtected.call( this, a );
		a.$l = this.$l;
		a.Kd = this.Kd;
		a.aa = this.aa;
		a.zn = this.zn;
		a.ao = this.ao;
		a.Rn = this.Rn;
		a.Xl = this.Xl;
		a.mn = this.mn;
		a.Fi = this.Fi;
		a.Mh = this.Mh;
		a.hr = this.hr
	};
	gn.prototype.createNetwork = function()
	{
		return new qr
	};
	gn.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		null === this.network && (this.network = this.makeNetwork( a ));
		this.Zd = this.initialOrigin( this.Zd );
		this.nv = -1;
		this.If = this.rr = 0;
		this.Ar = this.yr = this.dm = null;
		for( a = 0; a < this.Tg.length; a++ )this.Tg[a] = null;
		if( 0 < this.network.vertexes.count )
		{
			this.network.tw();
			for( a = this.network.edges.i; a.next(); )a.value.rev = !1;
			switch( this.zn )
			{
			default:
			case rr:
				var b = 0, c = this.network.vertexes.count -
					1;
				a = [];
				a.length = c + 1;
				for( var d = this.network.vertexes.i; d.next(); )d.value.valid = !0;
				for( ; null !== sr( this.network ); )
				{
					for( d = tr( this.network ); null !== d; )a[c] = d, c--, d.valid = !1, d = tr( this.network );
					for( d = ur( this.network ); null !== d; )a[b] = d, b++, d.valid = !1, d = ur( this.network );
					for( var d = null, e = 0, f = this.network.vertexes.i; f.next(); )
					{
						var h = f.value;
						if( h.valid )
						{
							for( var k = 0, l = h.$b; l.next(); )l.value.toVertex.valid && k++;
							for( var l = 0, m = h.lc; m.next(); )m.value.fromVertex.valid && l++;
							if( null === d || e < k - l )d = h, e = k - l
						}
					}
					null !== d && (a[b] =
						d, b++, d.valid = !1)
				}
				for( b = 0; b < this.network.vertexes.count; b++ )a[b].index = b;
				for( a = this.network.edges.i; a.next(); )b = a.value, b.fromVertex.index > b.toVertex.index && (this.network.ex( b ), b.rev = !0);
				break;
			case lr:
				for( b = this.network.vertexes.i; b.next(); )a = b.value, a.So = -1, a.finish = -1;
				for( a = this.network.edges.i; a.next(); )a.value.forest = !1;
				this.zr = 0;
				for( b.reset(); b.next(); )c = b.value, 0 === c.lc.count && vr( this, c );
				for( b.reset(); b.next(); )c = b.value, -1 === c.So && vr( this, c );
				for( a.reset(); a.next(); )b = a.value, b.forest || (c = b.fromVertex,
					d = c.finish, e = b.toVertex, f = e.finish, e.So < c.So && d < f && (this.network.ex( b ), b.rev = !0))
			}
			for( a = this.network.vertexes.i; a.next(); )a.value.layer = -1;
			this.ob = -1;
			this.assignLayers();
			for( a.reset(); a.next(); )this.ob = Math.max( this.ob, a.value.layer );
			a = [];
			for( c = this.network.edges.i; c.next(); )b = c.value, b.valid = !1, a.push( b );
			for( c = 0; c < a.length; c++ )if( b = a[c], !b.valid && (null !== b.fromVertex.rd && null !== b.toVertex.rd || b.fromVertex.layer !== b.toVertex.layer) )
			{
				l = h = k = f = 0;
				e = b.fromVertex;
				d = b.toVertex;
				if( null !== b.link )
				{
					k = b.link;
					if( null === k )continue;
					var n = e.rd, f = d.rd;
					if( null === n || null === f )continue;
					var p = k.T, h = k.Z, q = k.bd, l = k.Hd;
					b.rev && (k = p, m = q, p = h, q = l, h = k, l = m);
					var r = e.O, k = b.toVertex.O, s = b.rev ? d.M : e.M, m = v.L();
					s.G() ? (cp( p, q, Ab, m ), m.G() || m.assign( r )) : m.assign( r );
					n !== p && s.G() && p.isVisible() && (n = e.M, n.G() && (m.x += s.x - n.x, m.y += s.y - n.y));
					p = b.rev ? e.M : d.M;
					n = v.L();
					p.G() ? (cp( h, l, Ab, n ), n.G() || n.assign( k )) : n.assign( k );
					f !== h && p.G() && h.isVisible() && (f = d.M, f.G() && (n.x += p.x - f.x, n.y += p.y - f.y));
					90 === this.aa || 270 === this.aa ? (f = Math.round( (m.x -
						r.x) / this.Kd ), h = m.x, k = Math.round( (n.x - k.x) / this.Kd ), l = n.x) : (f = Math.round( (m.y - r.y) / this.Kd ), h = m.y, k = Math.round( (n.y - k.y) / this.Kd ), l = n.y);
					v.v( m );
					v.v( n );
					b.portFromColOffset = f;
					b.portFromPos = h;
					b.portToColOffset = k;
					b.portToPos = l
				}
				else b.portFromColOffset = 0, b.portFromPos = 0, b.portToColOffset = 0, b.portToPos = 0;
				m = e.layer;
				r = d.layer;
				a:if( n = b, p = 0, s = n.link, null !== s )
				{
					var t = s.bd, u = s.Hd;
					if( null !== t && null !== u )
					{
						var w = s.T, q = s.Z;
						if( null !== w && null !== q )
						{
							var x = t.xb, z = u.yb;
							this.Fp || (s.xb.Uc() || (x = s.xb), s.yb.Uc() || (z = s.yb));
							var A = s.jc, H = wr( this, !0 );
							if( x.Uc() || x === sb )x = H;
							var C = wr( this, !1 );
							if( z.Uc() || z === sb )z = C;
							if( x.Vi() && x.bp( C ) && z.Vi() && z.bp( H ) )
							{
								p = 0;
								break a
							}
							H = s.getLinkPoint( w, t, x, !0, A, q, u, v.L() );
							x = s.getLinkDirection( w, t, H, x, !0, A, q, u );
							v.v( H );
							x === xr( this, n, !0 ) ? p += 1 : this.Fp && null !== w && 1 === w.ports.count && n.rev && (p += 1);
							x = s.getLinkPoint( q, u, z, !1, A, w, t, v.L() );
							s = s.getLinkDirection( q, u, x, z, !1, A, w, t );
							v.v( x );
							s === xr( this, n, !1 ) ? p += 2 : this.Fp && null !== q && 1 === q.ports.count && n.rev && (p += 2)
						}
					}
				}
				n = 1 === p || 3 === p ? !0 : !1;
				if( p = 2 === p || 3 === p ? !0 : !1 )q =
					this.network.createVertex(), q.rd = null, q.Bm = 1, q.layer = m, q.near = e, this.network.Zk( q ), e = this.network.lp( e, q, b.link ), e.valid = !1, e.rev = b.rev, e.portFromColOffset = f, e.portToColOffset = 0, e.portFromPos = h, e.portToPos = 0, e = q;
				s = 1;
				n && s--;
				if( m - r > s && 0 < m )
				{
					b.valid = !1;
					q = this.network.createVertex();
					q.rd = null;
					q.Bm = 2;
					q.layer = m - 1;
					this.network.Zk( q );
					e = this.network.lp( e, q, b.link );
					e.valid = !0;
					e.rev = b.rev;
					e.portFromColOffset = p ? 0 : f;
					e.portToColOffset = 0;
					e.portFromPos = p ? 0 : h;
					e.portToPos = 0;
					e = q;
					for( m--; m - r > s && 0 < m; )q = this.network.createVertex(),
						q.rd = null, q.Bm = 3, q.layer = m - 1, this.network.Zk( q ), e = this.network.lp( e, q, b.link ), e.valid = !0, e.rev = b.rev, e.portFromColOffset = 0, e.portToColOffset = 0, e.portFromPos = 0, e.portToPos = 0, e = q, m--;
					e = this.network.lp( q, d, b.link );
					e.valid = !n;
					n && (q.near = d);
					e.rev = b.rev;
					e.portFromColOffset = 0;
					e.portToColOffset = k;
					e.portFromPos = 0;
					e.portToPos = l
				}
				else b.valid = !0
			}
			b = this.Vd = [];
			for( c = 0; c <= this.ob; c++ )b[c] = 0;
			for( a = this.network.vertexes.i; a.next(); )c = a.value, c.index = -1;
			this.initializeIndices();
			this.nv = -1;
			for( c = this.If = this.rr = 0; c <=
				this.ob; c++ )b[c] > b[this.If] && (this.nv = b[c] - 1, this.If = c), b[c] < b[this.rr] && (this.rr = c);
			this.Ar = [];
			for( c = 0; c < b.length; c++ )this.Ar[c] = [];
			for( a.reset(); a.next(); )b = a.value, c = this.Ar[b.layer], c[b.index] = b;
			this.Fb = -1;
			for( a = 0; a <= this.ob; a++ )
			{
				b = yr( this, a );
				c = 0;
				d = this.Vd[a];
				for( e = 0; e < d; e++ )f = b[e], c += this.nodeMinColumnSpace( f, !0 ), f.column = c, c += 1, c += this.nodeMinColumnSpace( f, !1 );
				this.Fb = Math.max( this.Fb, c - 1 );
				zr( this, a, b )
			}
			this.reduceCrossings();
			this.straightenAndPack();
			this.updateParts()
		}
		this.network = null;
		this.xf = !0
	};
	gn.prototype.linkMinLength = function( a )
	{
		var b = a.toVertex, c = 0;
		for( a = a.fromVertex.$b; a.next(); )a.value.toVertex === b && c++;
		return 1
	};
	function Ar( a )
	{
		var b = a.fromVertex.rd;
		a = a.toVertex.rd;
		return null === b && null === a ? 8 : null === b || null === a ? 4 : 1
	}

	gn.prototype.nodeMinLayerSpace = function( a, b )
	{
		return null === a.rd ? 0 : 90 === this.aa || 270 === this.aa ? b ? a.O.y + 10 : a.M.height - a.O.y + 10 : b ? a.O.x + 10 : a.M.width - a.O.x + 10
	};
	gn.prototype.nodeMinColumnSpace = function( a, b )
	{
		if( null === a.rd )return 0;
		var c = b ? a.Sz : a.Rz;
		if( null !== c )return c;
		c = this.aa;
		return 90 === c || 270 === c ? b ? a.Sz = a.O.x / this.Kd + 1 | 0 : a.Rz = (a.M.width - a.O.x) / this.Kd + 1 | 0 : b ? a.Sz = a.O.y / this.Kd + 1 | 0 : a.Rz = (a.M.height - a.O.y) / this.Kd + 1 | 0
	};
	function Br( a )
	{
		null === a.dm && (a.dm = []);
		for( var b = 0, c = a.network.vertexes.i; c.next(); )
		{
			var d = c.value;
			a.dm[b] = d.layer;
			b++;
			a.dm[b] = d.column;
			b++;
			a.dm[b] = d.index;
			b++
		}
		return a.dm
	}

	function Cr( a, b )
	{
		for( var c = 0, d = a.network.vertexes.i; d.next(); )
		{
			var e = d.value;
			e.layer = b[c];
			c++;
			e.column = b[c];
			c++;
			e.index = b[c];
			c++
		}
	}

	function Dr( a, b, c )
	{
		var d = yr( a, b ), e = a.Vd[b];
		if( null === a.yr || a.yr.length < e * e )a.yr = [];
		for( var f = a.yr, h = 0; h < e; h++ )
		{
			var k = 0, l = d[h], m = l.near, n = 0;
			if( null !== m && m.layer === l.layer )if( n = m.index, n > h )for( var p = h + 1; p < n; p++ )l = d[p], l.near === m && l.Bm === m.Bm || k++;
			else for( p = h - 1; p > n; p-- )l = d[p], l.near === m && l.Bm === m.Bm || k++;
			var m = 0, q, r = q = p = l = 0, s, t = 0, u = 0;
			s = 0;
			var w;
			if( 0 <= c )for( n = d[h].Pe, m = 0; m < n.count; m++ )if( q = n.n[m], q.valid && q.fromVertex.layer !== b )for( l = q.fromVertex.index, p = q.portToPos, q = q.portFromPos, r = m + 1; r < n.count; r++ )s =
				n.n[r], s.valid && s.fromVertex.layer !== b && (t = s.fromVertex.index, u = s.portToPos, s = s.portFromPos, p < u && (l > t || l === t && q > s) && k++, u < p && (t > l || t === l && s > q) && k++);
			if( 0 >= c )for( n = d[h].Ke, m = 0; m < n.count; m++ )if( q = n.n[m], q.valid && q.toVertex.layer !== b )for( l = q.toVertex.index, p = q.portToPos, q = q.portFromPos, r = m + 1; r < n.count; r++ )s = n.n[r], s.valid && s.toVertex.layer !== b && (t = s.toVertex.index, u = s.portToPos, s = s.portFromPos, q < s && (l > t || l === t && p > u) && k++, s < q && (t > l || t === l && u > p) && k++);
			f[h * e + h] = k;
			for( n = h + 1; n < e; n++ )
			{
				var x = 0, z = 0;
				if( 0 <= c )for( k =
													 d[h].Pe, w = d[n].Pe, m = 0; m < k.count; m++ )if( q = k.n[m], q.valid && q.fromVertex.layer !== b )for( l = q.fromVertex.index, q = q.portFromPos, r = 0; r < w.count; r++ )s = w.n[r], s.valid && s.fromVertex.layer !== b && (t = s.fromVertex.index, s = s.portFromPos, (l < t || l === t && q < s) && z++, (t < l || t === l && s < q) && x++);
				if( 0 >= c )for( k = d[h].Ke, w = d[n].Ke, m = 0; m < k.count; m++ )if( q = k.n[m], q.valid && q.toVertex.layer !== b )for( l = q.toVertex.index, p = q.portToPos, r = 0; r < w.count; r++ )s = w.n[r], s.valid && s.toVertex.layer !== b && (t = s.toVertex.index, u = s.portToPos, (l < t || l === t && p <
					u) && z++, (t < l || t === l && u < p) && x++);
				f[h * e + n] = x;
				f[n * e + h] = z
			}
		}
		zr( a, b, d );
		return f
	}

	gn.prototype.countCrossings = function()
	{
		for( var a = 0, b = 0; b <= this.ob; b++ )for( var c = Dr( this, b, 1 ), d = this.Vd[b], e = 0; e < d; e++ )for( var f = e; f < d; f++ )a += c[e * d + f];
		return a
	};
	function Er( a )
	{
		for( var b = 0, c = 0; c <= a.ob; c++ )
		{
			for( var d = a, e = c, f = yr( d, e ), h = d.Vd[e], k = 0, l = 0; l < h; l++ )
			{
				var m = null, m = f[l].Ke, n, p = 0, q = 0;
				if( null !== m )for( var r = 0; r < m.count; r++ )n = m.n[r], n.valid && n.toVertex.layer !== e && (p = n.fromVertex.column + n.portFromColOffset, q = n.toVertex.column + n.portToColOffset, k += (Math.abs( p - q ) + 1) * Ar( n ))
			}
			zr( d, e, f );
			b += k
		}
		return b
	}

	gn.prototype.normalize = function()
	{
		var a = Infinity;
		this.Fb = -1;
		for( var b = this.network.vertexes.i; b.next(); )
		{
			var c = b.value, a = Math.min( a, c.column - this.nodeMinColumnSpace( c, !0 ) );
			this.Fb = Math.max( this.Fb, c.column + this.nodeMinColumnSpace( c, !1 ) )
		}
		for( b.reset(); b.next(); )b.value.column -= a;
		this.Fb -= a
	};
	function Fr( a, b, c )
	{
		for( var d = yr( a, b ), e = a.Vd[b], f = [], h = 0; h < e; h++ )
		{
			var k = d[h], l = null;
			0 >= c && (l = k.Pe);
			var m = null;
			0 <= c && (m = k.Ke);
			var n = 0, p = 0, q = k.near;
			null !== q && q.layer === k.layer && (n += q.column - 1, p++);
			if( null !== l )for( q = 0; q < l.count; q++ )
			{
				var k = l.n[q], r = k.fromVertex;
				k.valid && !k.rev && r.layer !== b && (n += r.column + k.portFromColOffset, p++)
			}
			if( null !== m )for( l = 0; l < m.count; l++ )k = m.n[l], q = k.toVertex, k.valid && !k.rev && q.layer !== b && (n += q.column + k.portToColOffset, p++);
			f[h] = 0 === p ? -1 : n / p
		}
		zr( a, b, d );
		return f
	}

	function Gr( a, b, c )
	{
		for( var d = yr( a, b ), e = a.Vd[b], f = [], h = 0; h < e; h++ )
		{
			var k = d[h], l = null;
			0 >= c && (l = k.Pe);
			var m = null;
			0 <= c && (m = k.Ke);
			var n = 0, p = [], q = k.near;
			null !== q && q.layer === k.layer && (p[n] = q.column - 1, n++);
			if( null !== l )for( q = 0; q < l.count; q++ )
			{
				var k = l.n[q], r = k.fromVertex;
				k.valid && !k.rev && r.layer !== b && (p[n] = r.column + k.portFromColOffset, n++)
			}
			if( null !== m )for( l = 0; l < m.count; l++ )k = m.n[l], q = k.toVertex, k.valid && !k.rev && q.layer !== b && (p[n] = q.column + k.portToColOffset, n++);
			0 === n ? f[h] = -1 : (p.sort( function( a, b )
			{
				return a - b
			} ),
				m = n >> 1, f[h] = n & 1 ? p[m] : p[m - 1] + p[m] >> 1)
		}
		zr( a, b, d );
		return f
	}

	function Hr( a, b, c, d, e, f )
	{
		if( b.component === d )
		{
			b.component = c;
			var h = 0, k = 0;
			if( e )for( var l = b.$b; l.next(); )
			{
				var k = l.value, m = k.toVertex, h = b.layer - m.layer, k = a.linkMinLength( k );
				h === k && Hr( a, m, c, d, e, f )
			}
			if( f )for( l = b.lc; l.next(); )k = l.value, m = k.fromVertex, h = m.layer - b.layer, k = a.linkMinLength( k ), h === k && Hr( a, m, c, d, e, f )
		}
	}

	function Ir( a, b, c, d, e, f )
	{
		if( b.component === d )
		{
			b.component = c;
			if( e )for( var h = b.$b; h.next(); )Ir( a, h.value.toVertex, c, d, e, f );
			if( f )for( b = b.lc; b.next(); )Ir( a, b.value.fromVertex, c, d, e, f )
		}
	}

	function sr( a )
	{
		for( a = a.vertexes.i; a.next(); )
		{
			var b = a.value;
			if( b.valid )return b
		}
		return null
	}

	function tr( a )
	{
		for( a = a.vertexes.i; a.next(); )
		{
			var b = a.value;
			if( b.valid )
			{
				for( var c = !0, d = b.$b; d.next(); )if( d.value.toVertex.valid )
				{
					c = !1;
					break
				}
				if( c )return b
			}
		}
		return null
	}

	function ur( a )
	{
		for( a = a.vertexes.i; a.next(); )
		{
			var b = a.value;
			if( b.valid )
			{
				for( var c = !0, d = b.lc; d.next(); )if( d.value.fromVertex.valid )
				{
					c = !1;
					break
				}
				if( c )return b
			}
		}
		return null
	}

	function vr( a, b )
	{
		b.So = a.zr;
		a.zr++;
		for( var c = b.$b; c.next(); )
		{
			var d = c.value, e = d.toVertex;
			-1 === e.So && (d.forest = !0, vr( a, e ))
		}
		b.finish = a.zr;
		a.zr++
	}

	gn.prototype.assignLayers = function()
	{
		switch( this.ao )
		{
		case Jr:
			Kr( this );
			break;
		case Lr:
			for( var a = 0, b = this.network.vertexes.i; b.next(); )a = Mr( this, b.value ), this.ob = Math.max( a, this.ob );
			for( b.reset(); b.next(); )a = b.value, a.layer = this.ob - a.layer;
			break;
		default:
		case mr:
			Kr( this );
			for( b = this.network.vertexes.i; b.next(); )b.value.valid = !1;
			for( b.reset(); b.next(); )a = b.value, 0 === a.lc.count && Nr( this, a );
			a = Infinity;
			for( b.reset(); b.next(); )a = Math.min( a, b.value.layer );
			this.ob = -1;
			for( b.reset(); b.next(); )
			{
				var c = b.value;
				c.layer -=
					a;
				this.ob = Math.max( this.ob, c.layer )
			}
		}
	};
	function Kr( a )
	{
		for( var b = a.network.vertexes.i; b.next(); )
		{
			var c = Or( a, b.value );
			a.ob = Math.max( c, a.ob )
		}
	}

	function Or( a, b )
	{
		var c = 0;
		if( -1 === b.layer )
		{
			for( var d = b.$b; d.next(); )var e = d.value, f = e.toVertex, e = a.linkMinLength( e ), c = Math.max( c, Or( a, f ) + e );
			b.layer = c
		}
		else c = b.layer;
		return c
	}

	function Mr( a, b )
	{
		var c = 0;
		if( -1 === b.layer )
		{
			for( var d = b.lc; d.next(); )var e = d.value, f = e.fromVertex, e = a.linkMinLength( e ), c = Math.max( c, Mr( a, f ) + e );
			b.layer = c
		}
		else c = b.layer;
		return c
	}

	function Nr( a, b )
	{
		if( !b.valid )
		{
			b.valid = !0;
			for( var c = b.$b; c.next(); )Nr( a, c.value.toVertex );
			for( c = a.network.vertexes.i; c.next(); )c.value.component = -1;
			for( var d = b.Pe.n, e = d.length, f = 0; f < e; f++ )
			{
				var h = d[f], k = a.linkMinLength( h );
				h.fromVertex.layer - h.toVertex.layer > k && Hr( a, h.fromVertex, 0, -1, !0, !1 )
			}
			for( Hr( a, b, 1, -1, !0, !0 ); 0 !== b.component; )
			{
				for( var k = 0, d = Infinity, l = 0, m = null, n = a.network.vertexes.i; n.next(); )
				{
					var p = n.value;
					if( 1 === p.component )
					{
						for( var q = 0, r = !1, s = p.Pe.n, e = s.length, f = 0; f < e; f++ )
						{
							var h = s[f], t = h.fromVertex,
								q = q + 1;
							1 !== t.component && (k += 1, t = t.layer - p.layer, h = a.linkMinLength( h ), d = Math.min( d, t - h ))
						}
						h = p.Ke.n;
						e = h.length;
						for( f = 0; f < e; f++ )s = h[f].toVertex, q -= 1, 1 !== s.component ? k -= 1 : r = !0;
						(null === m || q < l) && !r && (m = p, l = q)
					}
				}
				if( 0 < k )
				{
					for( c.reset(); c.next(); )e = c.value, 1 === e.component && (e.layer += d);
					b.component = 0
				}
				else m.component = 0
			}
			for( c = a.network.vertexes.i; c.next(); )c.value.component = -1;
			for( Hr( a, b, 1, -1, !0, !1 ); 0 !== b.component; )
			{
				f = 0;
				e = Infinity;
				d = 0;
				k = null;
				for( l = a.network.vertexes.i; l.next(); )if( m = l.value, 1 === m.component )
				{
					n =
						0;
					p = !1;
					h = m.Pe.n;
					q = h.length;
					for( r = 0; r < q; r++ )s = h[r].fromVertex, n += 1, 1 !== s.component ? f += 1 : p = !0;
					h = m.Ke.n;
					q = h.length;
					for( r = 0; r < q; r++ )s = h[r], t = s.toVertex, n -= 1, 1 !== t.component && (f -= 1, t = m.layer - t.layer, s = a.linkMinLength( s ), e = Math.min( e, t - s ));
					(null === k || n > d) && !p && (k = m, d = n)
				}
				if( 0 > f )
				{
					for( c.reset(); c.next(); )f = c.value, 1 === f.component && (f.layer -= e);
					b.component = 0
				}
				else k.component = 0
			}
		}
	}

	function xr( a, b, c )
	{
		return 90 === a.aa ? c && !b.rev || !c && b.rev ? 270 : 90 : 180 === a.aa ? c && !b.rev || !c && b.rev ? 0 : 180 : 270 === a.aa ? c && !b.rev || !c && b.rev ? 90 : 270 : c && !b.rev || !c && b.rev ? 180 : 0
	}

	gn.prototype.initializeIndices = function()
	{
		switch( this.Rn )
		{
		default:
		case Pr:
			for( var a = this.network.vertexes.i; a.next(); )
			{
				var b = a.value, c = b.layer;
				b.index = this.Vd[c];
				this.Vd[c]++
			}
			break;
		case nr:
			a = this.network.vertexes.i;
			for( b = this.ob; 0 <= b; b-- )for( a.reset(); a.next(); )c = a.value, c.layer === b && -1 === c.index && Qr( this, c );
			break;
		case Rr:
			for( a = this.network.vertexes.i, b = 0; b <= this.ob; b++ )for( a.reset(); a.next(); )c = a.value, c.layer === b && -1 === c.index && Sr( this, c )
		}
	};
	function Qr( a, b )
	{
		var c = b.layer;
		b.index = a.Vd[c];
		a.Vd[c]++;
		for( var c = b.Ke.dc(), d = !0; d; )for( var d = !1, e = 0; e < c.length - 1; e++ )
		{
			var f = c[e], h = c[e + 1];
			f.portFromColOffset > h.portFromColOffset && (d = !0, c[e] = h, c[e + 1] = f)
		}
		for( e = 0; e < c.length; e++ )d = c[e], d.valid && (d = d.toVertex, -1 === d.index && Qr( a, d ))
	}

	function Sr( a, b )
	{
		var c = b.layer;
		b.index = a.Vd[c];
		a.Vd[c]++;
		for( var c = b.Pe.dc(), d = !0, e = 0; d; )for( d = !1, e = 0; e < c.length - 1; e++ )
		{
			var f = c[e], h = c[e + 1];
			f.portToColOffset > h.portToColOffset && (d = !0, c[e] = h, c[e + 1] = f)
		}
		for( e = 0; e < c.length; e++ )d = c[e], d.valid && (d = d.fromVertex, -1 === d.index && Sr( a, d ))
	}

	gn.prototype.reduceCrossings = function()
	{
		for( var a = this.countCrossings(), b = Br( this ), c = 0, d = 0, e = 0, c = 0; c < this.Xl; c++ )
		{
			for( d = 0; d <= this.ob; d++ )Tr( this, d, 1 ), Ur( this, d, 1 );
			e = this.countCrossings();
			e < a && (a = e, b = Br( this ));
			for( d = this.ob; 0 <= d; d-- )Tr( this, d, -1 ), Ur( this, d, -1 );
			e = this.countCrossings();
			e < a && (a = e, b = Br( this ))
		}
		Cr( this, b );
		for( c = 0; c < this.Xl; c++ )
		{
			for( d = 0; d <= this.ob; d++ )Tr( this, d, 0 ), Ur( this, d, 0 );
			e = this.countCrossings();
			e < a && (a = e, b = Br( this ));
			for( d = this.ob; 0 <= d; d-- )Tr( this, d, 0 ), Ur( this, d, 0 );
			e = this.countCrossings();
			e < a && (a = e, b = Br( this ))
		}
		Cr( this, b );
		var f = !1, h = c = 0, k = 0, d = 0;
		switch( this.mn )
		{
		case Vr:
			break;
		case Wr:
			for( k = a + 1; (d = this.countCrossings()) < k; )for( k = d, c = this.ob; 0 <= c; c-- )for( h = 0; h <= c; h++ )
			{
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, -1 ) || f;
				e = this.countCrossings();
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, 1 ) || f;
				e = this.countCrossings();
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = h; d <= c; d++ )f = Ur( this, d, 1 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1,
																d = h; d <= c; d++ )f = Ur( this, d, -1 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, 0 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = h; d <= c; d++ )f = Ur( this, d, 0 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ))
			}
			break;
		default:
		case or:
			for( c = this.ob, h = 0, k = a + 1; (d = this.countCrossings()) < k; )
			{
				k = d;
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, -1 ) || f;
				e = this.countCrossings();
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, 1 ) || f;
				e = this.countCrossings();
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = h; d <= c; d++ )f = Ur( this, d, 1 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = h; d <= c; d++ )f = Ur( this, d, -1 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = c; d >= h; d-- )f = Ur( this, d, 0 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ));
				for( f = !0; f; )for( f = !1, d = h; d <= c; d++ )f = Ur( this, d, 0 ) || f;
				e >= a ? Cr( this, b ) : (a = e, b = Br( this ))
			}
		}
		Cr( this, b )
	};
	function Tr( a, b, c )
	{
		var d = 0, e = yr( a, b ), f = a.Vd[b], h = Gr( a, b, c );
		c = Fr( a, b, c );
		for( d = 0; d < f; d++ )-1 === c[d] && (c[d] = e[d].column), -1 === h[d] && (h[d] = e[d].column);
		for( var k = !0, l; k; )for( k = !1, d = 0; d < f - 1; d++ )if( h[d + 1] < h[d] || h[d + 1] === h[d] && c[d + 1] < c[d] )k = !0, l = h[d], h[d] = h[d + 1], h[d + 1] = l, l = c[d], c[d] = c[d + 1], c[d + 1] = l, l = e[d], e[d] = e[d + 1], e[d + 1] = l;
		for( d = h = 0; d < f; d++ )l = e[d], l.index = d, h += a.nodeMinColumnSpace( l, !0 ), l.column = h, h += 1, h += a.nodeMinColumnSpace( l, !1 );
		zr( a, b, e )
	}

	function Ur( a, b, c )
	{
		var d = yr( a, b ), e = a.Vd[b];
		c = Dr( a, b, c );
		var f = 0, h;
		h = [];
		for( f = 0; f < e; f++ )h[f] = -1;
		var k;
		k = [];
		for( f = 0; f < e; f++ )k[f] = -1;
		for( var l = !1, m = !0; m; )for( m = !1, f = 0; f < e - 1; f++ )
		{
			var n = c[d[f].index * e + d[f + 1].index], p = c[d[f + 1].index * e + d[f].index], q = 0, r = 0, s = d[f].column, t = d[f + 1].column, u = a.nodeMinColumnSpace( d[f], !0 ), w = a.nodeMinColumnSpace( d[f], !1 ), x = a.nodeMinColumnSpace( d[f + 1], !0 ), z = a.nodeMinColumnSpace( d[f + 1], !1 ), u = s - u + x, w = t - w + z, x = x = 0, A = d[f].lc.i;
			for( A.reset(); A.next(); )if( z = A.value, z.valid && z.fromVertex.layer ===
				b )
			{
				z = z.fromVertex;
				for( x = 0; d[x] !== z; )x++;
				x < f && (q += 2 * (f - x), r += 2 * (f + 1 - x));
				x === f + 1 && (q += 1);
				x > f + 1 && (q += 4 * (x - f), r += 4 * (x - (f + 1)))
			}
			A = d[f].$b.i;
			for( A.reset(); A.next(); )if( z = A.value, z.valid && z.toVertex.layer === b )
			{
				z = z.toVertex;
				for( x = 0; d[x] !== z; )x++;
				x === f + 1 && (r += 1)
			}
			A = d[f + 1].lc.i;
			for( A.reset(); A.next(); )if( z = A.value, z.valid && z.fromVertex.layer === b )
			{
				z = z.fromVertex;
				for( x = 0; d[x] !== z; )x++;
				x < f && (q += 2 * (f + 1 - x), r += 2 * (f - x));
				x === f && (r += 1);
				x > f + 1 && (q += 4 * (x - (f + 1)), r += 4 * (x - f))
			}
			A = d[f + 1].$b.i;
			for( A.reset(); A.next(); )if( z = A.value,
				z.valid && z.toVertex.layer === b )
			{
				z = z.toVertex;
				for( x = 0; d[x] !== z; )x++;
				x === f && (q += 1)
			}
			var x = z = 0, A = h[d[f].index], H = k[d[f].index], C = h[d[f + 1].index], T = k[d[f + 1].index];
			-1 !== A && (z += Math.abs( A - s ), x += Math.abs( A - w ));
			-1 !== H && (z += Math.abs( H - s ), x += Math.abs( H - w ));
			-1 !== C && (z += Math.abs( C - t ), x += Math.abs( C - u ));
			-1 !== T && (z += Math.abs( T - t ), x += Math.abs( T - u ));
			if( r < q - .5 || r === q && p < n - .5 || r === q && p === n && x < z - .5 )m = l = !0, d[f].column = w, d[f + 1].column = u, n = d[f], d[f] = d[f + 1], d[f + 1] = n
		}
		for( f = 0; f < e; f++ )d[f].index = f;
		zr( a, b, d );
		return l
	}

	gn.prototype.straightenAndPack = function()
	{
		var a = 0, b = !1, c = 0 !== (this.Fi & Xr), a = this.Fi === pr;
		1E3 < this.network.edges.count && !a && (c = !1);
		if( c )
		{
			b = [];
			for( a = a = 0; a <= this.ob; a++ )b[a] = 0;
			for( var d = 0, e = this.network.vertexes.i; e.next(); )
			{
				var f = e.value, a = f.layer, d = f.column, f = this.nodeMinColumnSpace( f, !1 );
				b[a] = Math.max( b[a], d + f )
			}
			for( e.reset(); e.next(); )f = e.value, a = f.layer, d = f.column, f.column = (8 * (this.Fb - b[a]) >> 1) + 8 * d;
			this.Fb *= 8
		}
		if( 0 !== (this.Fi & Yr) )for( b = !0; b; )
		{
			b = !1;
			for( a = this.If + 1; a <= this.ob; a++ )b = Zr( this, a, 1 ) || b;
			for( a = this.If - 1; 0 <= a; a-- )b = Zr( this, a, -1 ) || b;
			b = Zr( this, this.If, 0 ) || b
		}
		if( 0 !== (this.Fi & $r) )
		{
			for( a = this.If + 1; a <= this.ob; a++ )as( this, a, 1 );
			for( a = this.If - 1; 0 <= a; a-- )as( this, a, -1 );
			as( this, this.If, 0 )
		}
		c && (bs( this, -1 ), bs( this, 1 ));
		if( 0 !== (this.Fi & Yr) )for( b = !0; b; )
		{
			b = !1;
			b = Zr( this, this.If, 0 ) || b;
			for( a = this.If + 1; a <= this.ob; a++ )b = Zr( this, a, 0 ) || b;
			for( a = this.If - 1; 0 <= a; a-- )b = Zr( this, a, 0 ) || b
		}
	};
	function Zr( a, b, c )
	{
		for( var d = !1; cs( a, b, c ); )d = !0;
		return d
	}

	function cs( a, b, c )
	{
		var d = 0, e = yr( a, b ), f = a.Vd[b], h = Fr( a, b, -1 );
		if( 0 < c )for( d = 0; d < f; d++ )h[d] = -1;
		var k = Fr( a, b, 1 );
		if( 0 > c )for( d = 0; d < f; d++ )k[d] = -1;
		for( var l = !1, m = !0; m; )for( m = !1, d = 0; d < f; d++ )
		{
			var n = e[d].column, p = a.nodeMinColumnSpace( e[d], !0 ), q = a.nodeMinColumnSpace( e[d], !1 ), r = 0, r = 0 > d - 1 || n - e[d - 1].column - 1 > p + a.nodeMinColumnSpace( e[d - 1], !1 ) ? n - 1 : n, p = 0, p = d + 1 >= f || e[d + 1].column - n - 1 > q + a.nodeMinColumnSpace( e[d + 1], !0 ) ? n + 1 : n, s = q = 0, t = 0, u = 0, w = 0, x = 0;
			if( 0 >= c )for( var z = e[d].lc.i; z.next(); )
			{
				var A = z.value;
				A.valid && A.fromVertex.layer !==
					b && (u = Ar( A ), w = A.portFromColOffset, x = A.portToColOffset, A = A.fromVertex.column, q += (Math.abs( n + x - (A + w) ) + 1) * u, s += (Math.abs( r + x - (A + w) ) + 1) * u, t += (Math.abs( p + x - (A + w) ) + 1) * u)
			}
			if( 0 <= c )for( z = e[d].$b.i; z.next(); )A = z.value, A.valid && A.toVertex.layer !== b && (u = Ar( A ), w = A.portFromColOffset, x = A.portToColOffset, A = A.toVertex.column, q += (Math.abs( n + w - (A + x) ) + 1) * u, s += (Math.abs( r + w - (A + x) ) + 1) * u, t += (Math.abs( p + w - (A + x) ) + 1) * u);
			x = w = u = 0;
			z = h[e[d].index];
			A = k[e[d].index];
			-1 !== z && (u += Math.abs( z - n ), w += Math.abs( z - r ), x += Math.abs( z - p ));
			-1 !==
			A && (u += Math.abs( A - n ), w += Math.abs( A - r ), x += Math.abs( A - p ));
			if( s < q || s === q && w < u )m = l = !0, e[d].column = r;
			if( t < q || t === q && x < u )m = l = !0, e[d].column = p
		}
		zr( a, b, e );
		a.normalize();
		return l
	}

	function as( a, b, c )
	{
		var d = 0, e = yr( a, b ), f = a.Vd[b], h = Gr( a, b, c );
		c = [];
		for( d = 0; d < f; d++ )c[d] = h[d];
		for( h = !0; h; )for( h = !1, d = 0; d < f; d++ )
		{
			var k = e[d].column, l = a.nodeMinColumnSpace( e[d], !0 ), m = a.nodeMinColumnSpace( e[d], !1 ), n = 0, p = 0, q = 0, q = p = 0;
			-1 === c[d] ? 0 === d && d === f - 1 ? n = k : 0 === d ? (p = e[d + 1].column, n = p - k === m + a.nodeMinColumnSpace( e[d + 1], !0 ) ? k - 1 : k) : d === f - 1 ? (q = e[d - 1].column, n = k - q === l + a.nodeMinColumnSpace( e[d - 1], !1 ) ? k + 1 : k) : (q = e[d - 1].column, q = q + a.nodeMinColumnSpace( e[d - 1], !1 ) + l + 1, p = e[d + 1].column, p = p - a.nodeMinColumnSpace( e[d +
				1], !0 ) - m - 1, n = (q + p) / 2 | 0) : 0 === d && d === f - 1 ? n = c[d] : 0 === d ? (p = e[d + 1].column, p = p - a.nodeMinColumnSpace( e[d + 1], !0 ) - m - 1, n = Math.min( c[d], p )) : d === f - 1 ? (q = e[d - 1].column, q = q + a.nodeMinColumnSpace( e[d - 1], !1 ) + l + 1, n = Math.max( c[d], q )) : (q = e[d - 1].column, q = q + a.nodeMinColumnSpace( e[d - 1], !1 ) + l + 1, p = e[d + 1].column, p = p - a.nodeMinColumnSpace( e[d + 1], !0 ) - m - 1, q < c[d] && c[d] < p ? n = c[d] : q >= c[d] ? n = q : p <= c[d] && (n = p));
			n !== k && (h = !0, e[d].column = n)
		}
		zr( a, b, e );
		a.normalize()
	}

	function ds( a, b )
	{
		for( var c = !0, d = a.network.vertexes.i; d.next(); )
		{
			var e = d.value, f = a.nodeMinColumnSpace( e, !0 ), h = a.nodeMinColumnSpace( e, !1 );
			if( e.column - f <= b && e.column + h >= b )
			{
				c = !1;
				break
			}
		}
		e = !1;
		if( c )for( d.reset(); d.next(); )c = d.value, c.column > b && (c.column -= 1, e = !0);
		return e
	}

	function es( a, b )
	{
		for( var c = b, c = b + 1, d = 0, e = [], f = [], d = 0; d <= a.ob; d++ )e[d] = !1, f[d] = !1;
		for( var h = a.network.vertexes.i; h.next(); )
		{
			var d = h.value, k = d.column - a.nodeMinColumnSpace( d, !0 ), l = d.column + a.nodeMinColumnSpace( d, !1 );
			k <= b && l >= b && (e[d.layer] = !0);
			k <= c && l >= c && (f[d.layer] = !0)
		}
		k = !0;
		c = !1;
		for( d = 0; d <= a.ob; d++ )k = k && !(e[d] && f[d]);
		if( k )for( h.reset(); h.next(); )e = h.value, e.column > b && (e.column -= 1, c = !0);
		return c
	}

	function bs( a, b )
	{
		for( var c = 0; c <= a.Fb; c++ )for( ; ds( a, c ); );
		a.normalize();
		for( c = 0; c < a.Fb; c++ )for( ; es( a, c ); );
		a.normalize();
		var c = 0, d, e = 0, f = 0, h = 0;
		if( 0 < b )for( c = 0; c <= a.Fb; c++ )for( d = Br( a ), e = Er( a ), f = e + 1; e < f; )f = e, fs( a, c, 1 ), h = Er( a ), h > e ? Cr( a, d ) : h < e && (e = h, d = Br( a ));
		if( 0 > b )for( c = a.Fb; 0 <= c; c-- )for( d = Br( a ), e = Er( a ), f = e + 1; e < f; )f = e, fs( a, c, -1 ), h = Er( a ), h > e ? Cr( a, d ) : h < e && (e = h, d = Br( a ));
		a.normalize()
	}

	function fs( a, b, c )
	{
		a.ng = 0;
		for( var d = a.network.vertexes.i; d.next(); )d.value.component = -1;
		if( 0 < c )for( d.reset(); d.next(); )
		{
			var e = d.value;
			e.column - a.nodeMinColumnSpace( e, !0 ) <= b && (e.component = a.ng)
		}
		if( 0 > c )for( d.reset(); d.next(); )e = d.value, e.column + a.nodeMinColumnSpace( e, !1 ) >= b && (e.component = a.ng);
		a.ng++;
		for( d.reset(); d.next(); )b = d.value, -1 === b.component && (Ir( a, b, a.ng, -1, !0, !0 ), a.ng++);
		var f = 0;
		b = [];
		for( f = 0; f < a.ng * a.ng; f++ )b[f] = !1;
		e = [];
		for( f = 0; f < (a.ob + 1) * (a.Fb + 1); f++ )e[f] = -1;
		for( d.reset(); d.next(); )for( var f =
			d.value, h = f.layer, k = Math.max( 0, f.column - a.nodeMinColumnSpace( f, !0 ) ), l = Math.min( a.Fb, f.column + a.nodeMinColumnSpace( f, !1 ) ); k <= l; k++ )e[h * (a.Fb + 1) + k] = f.component;
		for( f = 0; f <= a.ob; f++ )
		{
			if( 0 < c )for( k = 0; k < a.Fb; k++ )-1 !== e[f * (a.Fb + 1) + k] && -1 !== e[f * (a.Fb + 1) + k + 1] && e[f * (a.Fb + 1) + k] !== e[f * (a.Fb + 1) + k + 1] && (b[e[f * (a.Fb + 1) + k] * a.ng + e[f * (a.Fb + 1) + k + 1]] = !0);
			if( 0 > c )for( k = a.Fb; 0 < k; k-- )-1 !== e[f * (a.Fb + 1) + k] && -1 !== e[f * (a.Fb + 1) + k - 1] && e[f * (a.Fb + 1) + k] !== e[f * (a.Fb + 1) + k - 1] && (b[e[f * (a.Fb + 1) + k] * a.ng + e[f * (a.Fb + 1) + k - 1]] = !0)
		}
		e = [];
		for( f =
					 0; f < a.ng; f++ )e[f] = !0;
		h = new I( "number" );
		h.add( 0 );
		for( l = 0; 0 !== h.count; )if( l = h.n[h.count - 1], h.Vc( h.count - 1 ), e[l] )for( e[l] = !1, f = 0; f < a.ng; f++ )b[l * a.ng + f] && h.Cd( 0, f );
		if( 0 < c )for( d.reset(); d.next(); )a = d.value, e[a.component] && (a.column -= 1);
		if( 0 > c )for( d.reset(); d.next(); )c = d.value, e[c.component] && (c.column += 1)
	}

	gn.prototype.commitLayout = function()
	{
		if( this.Fp )for( var a = wr( this, !0 ), b = wr( this, !1 ), c = this.network.edges.i; c.next(); )
		{
			var d = c.value.link;
			null !== d && (d.xb = a, d.yb = b)
		}
		this.commitNodes();
		this.bz();
		this.wt && this.commitLinks()
	};
	function wr( a, b )
	{
		return 270 === a.aa ? b ? pc : sc : 90 === a.aa ? b ? sc : pc : 180 === a.aa ? b ? qc : rc : b ? rc : qc
	}

	gn.prototype.commitNodes = function()
	{
		this.jg = [];
		this.Gf = [];
		this.Ff = [];
		this.Lb = [];
		for( var a = 0; a <= this.ob; a++ )this.jg[a] = 0, this.Gf[a] = 0, this.Ff[a] = 0, this.Lb[a] = 0;
		for( a = this.network.vertexes.i; a.next(); )
		{
			var b = a.value, c = b.layer;
			this.jg[c] = Math.max( this.jg[c], this.nodeMinLayerSpace( b, !0 ) );
			this.Gf[c] = Math.max( this.Gf[c], this.nodeMinLayerSpace( b, !1 ) )
		}
		for( var b = 0, d = this.$l, c = 0; c <= this.ob; c++ )
		{
			var e = d;
			0 >= this.jg[c] + this.Gf[c] && (e = 0);
			0 < c && (b += e / 2);
			90 === this.aa || 0 === this.aa ? (b += this.Gf[c], this.Ff[c] = b, b += this.jg[c]) :
				(b += this.jg[c], this.Ff[c] = b, b += this.Gf[c]);
			c < this.ob && (b += e / 2);
			this.Lb[c] = b
		}
		d = b;
		b = this.Zd.copy();
		null !== this.group && (270 === this.direction || 90 === this.direction ? b.y -= 10 : b.x -= 10, 270 === this.direction || 90 === this.direction ? b.x -= this.nD / 2 : b.y -= this.nD / 2);
		for( c = 0; c <= this.ob; c++ )270 === this.aa ? this.Ff[c] = b.y + this.Ff[c] : 90 === this.aa ? (this.Ff[c] = b.y + d - this.Ff[c], this.Lb[c] = d - this.Lb[c]) : 180 === this.aa ? this.Ff[c] = b.x + this.Ff[c] : (this.Ff[c] = b.x + d - this.Ff[c], this.Lb[c] = d - this.Lb[c]);
		for( a.reset(); a.next(); )
		{
			var c =
				a.value, d = c.layer, e = c.column | 0, f = 0, h = 0;
			270 === this.aa || 90 === this.aa ? (f = b.x + this.Kd * e, h = this.Ff[d]) : (f = this.Ff[d], h = b.y + this.Kd * e);
			c.na = f;
			c.ua = h;
			c.commit()
		}
	};
	gn.prototype.bz = function()
	{
		for( var a = 0, b = this.$l, c = 0; c <= this.ob; c++ )a += this.jg[c], a += this.Gf[c];
		for( var a = a + this.ob * b, b = [], c = this.Kd * this.Fb, d = this.IH; 0 <= d; d-- )270 === this.aa ? 0 === d ? b.push( new B( 0, 0, c, Math.abs( this.Lb[0] ) ) ) : b.push( new B( 0, this.Lb[d - 1], c, Math.abs( this.Lb[d - 1] - this.Lb[d] ) ) ) : 90 === this.aa ? 0 === d ? b.push( new B( 0, this.Lb[0], c, Math.abs( this.Lb[0] - a ) ) ) : b.push( new B( 0, this.Lb[d], c, Math.abs( this.Lb[d - 1] - this.Lb[d] ) ) ) : 180 === this.aa ? 0 === d ? b.push( new B( 0, 0, Math.abs( this.Lb[0] ), c ) ) : b.push( new B( this.Lb[d -
			1], 0, Math.abs( this.Lb[d - 1] - this.Lb[d] ), c ) ) : 0 === d ? b.push( new B( this.Lb[0], 0, Math.abs( this.Lb[0] - a ), c ) ) : b.push( new B( this.Lb[d], 0, Math.abs( this.Lb[d - 1] - this.Lb[d] ), c ) );
		this.commitLayers( b, Xc )
	};
	gn.prototype.commitLayers = function()
	{
	};
	gn.prototype.commitLinks = function()
	{
		for( var a = this.network.edges.i, b; a.next(); )b = a.value.link, null !== b && (b.Cl(), b.Oo(), b.Pi());
		for( a.reset(); a.next(); )b = a.value.link, null !== b && b.gn();
		for( a.reset(); a.next(); )
		{
			var c = a.value;
			b = c.link;
			if( null !== b )
			{
				b.Cl();
				var d = b, e = d.T, f = d.Z, h = d.bd, k = d.Hd;
				if( c.valid )
				{
					if( b.Je === Hi && 4 === b.oa )
					{
						if( c.rev )var l = e, e = f, f = l, m = h, h = k, k = m;
						if( c.fromVertex.column === c.toVertex.column )
						{
							var n = b.getLinkPoint( e, h, b.computeSpot( !0 ), !0, !1, f, k ), p = b.getLinkPoint( f, k, b.computeSpot( !1 ), !1, !1,
								e, h );
							n.G() || n.set( e.V.bl );
							p.G() || p.set( f.V.bl );
							b.Oo();
							b.Yk( n.x, n.y );
							b.Yk( (2 * n.x + p.x) / 3, (2 * n.y + p.y) / 3 );
							b.Yk( (n.x + 2 * p.x) / 3, (n.y + 2 * p.y) / 3 );
							b.Yk( p.x, p.y )
						}
						else
						{
							var q = !1, r = !1;
							null !== h && b.computeSpot( !0 ) === sb && (q = !0);
							null !== k && b.computeSpot( !1 ) === sb && (r = !0);
							if( q || r )
							{
								var s = b.l( 0 ).x, t = b.l( 0 ).y, u = b.l( 1 ).x, w = b.l( 1 ).y, x = b.l( 2 ).x, z = b.l( 2 ).y, A = b.l( 3 ).x, H = b.l( 3 ).y;
								if( q )
								{
									90 === this.aa || 270 === this.aa ? (u = s, w = (t + H) / 2) : (u = (s + A) / 2, w = t);
									b.W( 1, u, w );
									var C = b.getLinkPoint( e, h, b.computeSpot( !0 ), !0, !1, f, k );
									C.G() || C.set( e.V.bl );
									b.W( 0, C.x, C.y )
								}
								r && (90 === this.aa || 270 === this.aa ? (x = A, z = (t + H) / 2) : (x = (s + A) / 2, z = H), b.W( 2, x, z ), C = b.getLinkPoint( f, k, b.computeSpot( !1 ), !1, !1, e, h ), C.G() || C.set( f.V.bl ), b.W( 3, C.x, C.y ))
							}
						}
					}
					b.Pi()
				}
				else if( c.fromVertex.layer === c.toVertex.layer )b.Pi();
				else
				{
					var T = !1, ba = !1, U = 0, M = b.gt + 1;
					if( b.jc )ba = !0, U = b.oa, 4 < U && b.points.removeRange( 2, U - 3 );
					else if( b.Je === Hi )T = !0, U = b.oa, 4 < U && b.points.removeRange( 2, U - 3 ), M = 2;
					else
					{
						var U = b.oa, aa = b.computeSpot( !0 ) === sb, Ia = b.computeSpot( !1 ) === sb;
						2 < U && aa && Ia ? b.points.removeRange( 1, U - 2 ) :
								3 < U && aa && !Ia ? b.points.removeRange( 1, U - 3 ) : 3 < U && !aa && Ia ? b.points.removeRange( 2, U - 2 ) : 4 < U && !aa && !Ia && b.points.removeRange( 2, U - 3 )
					}
					var oa = c.fromVertex, Ga = c.toVertex, pa, Ca;
					if( c.rev )
					{
						for( var ua = 0; null !== Ga && oa !== Ga; )
						{
							Ca = pa = null;
							for( var fc = Ga.lc.i; fc.next(); )
							{
								var nd = fc.value;
								if( nd.link === c.link && (pa = nd.fromVertex, Ca = nd.toVertex, null === pa.rd) )break
							}
							if( pa !== oa )if( ob = b.l( M - 1 ).x, gb = b.l( M - 1 ).y, ka = pa.na, la = pa.ua, ba )180 === this.aa || 0 === this.aa ? 2 === M ? (b.w( M++, ob, gb ), b.w( M++, ob, la )) : (se = null !== Ca ? Ca.ua : gb, se !== la &&
								(pb = this.Lb[pa.layer - 1], b.w( M++, pb, gb ), b.w( M++, pb, la ))) : 2 === M ? (b.w( M++, ob, gb ), b.w( M++, ka, gb )) : (qd = null !== Ca ? Ca.na : ob, qd !== ka && (pb = this.Lb[pa.layer - 1], b.w( M++, ob, pb ), b.w( M++, ka, pb )));
							else if( 2 === M )if( Ua = Math.max( 10, this.jg[Ga.layer] ), Ra = Math.max( 10, this.Gf[Ga.layer] ), T )180 === this.aa ? ka <= Ga.M.x ? (ua = Ga.M.x, b.w( M++, ua - Ua, la ), b.w( M++, ua, la ), b.w( M++, ua + Ra, la )) : (b.w( M++, ka - Ua, la ), b.w( M++, ka, la ), b.w( M++, ka + Ra, la )) : 90 === this.aa ? la >= Ga.M.bottom ? (ua = Ga.M.y + Ga.M.height, b.w( M++, ka, ua + Ra ), b.w( M++, ka, ua ), b.w( M++,
								ka, ua - Ua )) : (b.w( M++, ka, la + Ra ), b.w( M++, ka, la ), b.w( M++, ka, la - Ua )) : 270 === this.aa ? la <= Ga.M.y ? (ua = Ga.M.y, b.w( M++, ka, ua - Ua ), b.w( M++, ka, ua ), b.w( M++, ka, ua + Ra )) : (b.w( M++, ka, la - Ua ), b.w( M++, ka, la ), b.w( M++, ka, la + Ra )) : 0 === this.aa && (ka >= Ga.M.right ? (ua = Ga.M.x + Ga.M.width, b.w( M++, ua + Ra, la ), b.w( M++, ua, la ), b.w( M++, ua - Ua, la )) : (b.w( M++, ka + Ra, la ), b.w( M++, ka, la ), b.w( M++, ka - Ua, la )));
							else
							{
								b.w( M++, ob, gb );
								var od = 0;
								if( 180 === this.aa || 0 === this.aa )
								{
									if( 180 === this.aa ? ka >= Ga.M.right : ka <= Ga.M.x )od = (0 === this.aa ? -Ua : Ra) / 2;
									b.w( M++, ob +
										od, la )
								}
								else
								{
									if( 270 === this.aa ? la >= Ga.M.bottom : la <= Ga.M.y )od = (90 === this.aa ? -Ua : Ra) / 2;
									b.w( M++, ka, gb + od )
								}
								b.w( M++, ka, la )
							}
							else Ua = Math.max( 10, this.jg[pa.layer] ), Ra = Math.max( 10, this.Gf[pa.layer] ), 180 === this.aa ? (T && b.w( M++, ka - Ua, la ), b.w( M++, ka, la ), T && b.w( M++, ka + Ra, la )) : 90 === this.aa ? (T && b.w( M++, ka, la + Ra ), b.w( M++, ka, la ), T && b.w( M++, ka, la - Ua )) : 270 === this.aa ? (T && b.w( M++, ka, la - Ua ), b.w( M++, ka, la ), T && b.w( M++, ka, la + Ra )) : (T && b.w( M++, ka + Ra, la ), b.w( M++, ka, la ), T && b.w( M++, ka - Ua, la ));
							Ga = pa
						}
						if( null === k || b.computeSpot( !1 ) !==
							sb || ba )if( ob = b.l( M - 1 ).x, gb = b.l( M - 1 ).y, ka = b.l( M ).x, la = b.l( M ).y, ba )
						{
							var Je = this.Gf[oa.layer], Wb = 0;
							180 === this.aa || 0 === this.aa ? (Wb = gb, Wb >= oa.M.y && Wb <= oa.M.bottom && (180 === this.aa ? ka >= oa.M.x : ka <= oa.M.right) && (ua = oa.na + (180 === this.aa ? -Je : Je), Wb = Wb < oa.M.y + oa.M.height / 2 ? oa.M.y - this.Kd / 2 : oa.M.bottom + this.Kd / 2, b.w( M++, ua, gb ), b.w( M++, ua, Wb )), b.w( M++, ka, Wb )) : (Wb = ob, Wb >= oa.M.x && Wb <= oa.M.right && (270 === this.aa ? la >= oa.M.y : la <= oa.M.bottom) && (ua = oa.ua + (270 === this.aa ? -Je : Je), Wb = Wb < oa.M.x + oa.M.width / 2 ? oa.M.x - this.Kd /
								2 : oa.M.right + this.Kd / 2, b.w( M++, ob, ua ), b.w( M++, Wb, ua )), b.w( M++, Wb, la ));
							b.w( M++, ka, la )
						}
						else if( T )Ua = Math.max( 10, this.jg[oa.layer] ), Ra = Math.max( 10, this.Gf[oa.layer] ), 180 === this.aa && ka >= oa.M.x ? (ua = oa.M.x + oa.M.width, b.W( M - 2, ua, gb ), b.W( M - 1, ua + Ra, gb )) : 90 === this.aa && la <= oa.M.bottom ? (ua = oa.M.y, b.W( M - 2, ob, ua ), b.W( M - 1, ob, ua - Ua )) : 270 === this.aa && la >= oa.M.y ? (ua = oa.M.y + oa.M.height, b.W( M - 2, ob, ua ), b.W( M - 1, ob, ua + Ra )) : 0 === this.aa && ka <= oa.M.right && (ua = oa.M.x, b.W( M - 2, ua, gb ), b.W( M - 1, ua - Ua, gb ));
						else
						{
							Ua = Math.max( 10, this.jg[oa.layer] );
							Ra = Math.max( 10, this.Gf[oa.layer] );
							od = 0;
							if( 180 === this.aa || 0 === this.aa )
							{
								if( 180 === this.aa ? ka <= oa.M.x : ka >= oa.M.right )od = (0 === this.aa ? Ra : -Ua) / 2;
								b.w( M++, ka + od, gb )
							}
							else
							{
								if( 270 === this.aa ? la <= oa.M.y : la >= oa.M.bottom )od = (90 === this.aa ? Ra : -Ua) / 2;
								b.w( M++, ob, la + od )
							}
							b.w( M++, ka, la )
						}
					}
					else
					{
						for( ; null !== oa && oa !== Ga; )
						{
							Ca = pa = null;
							for( var Gg = oa.$b.i; Gg.next(); )
							{
								var pd = Gg.value;
								if( pd.link === c.link && (pa = pd.toVertex, Ca = pd.fromVertex, null !== Ca.rd && (Ca = null), null === pa.rd) )break
							}
							var ob = 0, gb = 0, ka = 0, la = 0, pb = 0, Ua = 0, Ra = 0;
							if( pa !==
								Ga )if( ob = b.l( M - 1 ).x, gb = b.l( M - 1 ).y, ka = pa.na, la = pa.ua, ba )if( 180 === this.aa || 0 === this.aa )
							{
								var se = null !== Ca ? Ca.ua : gb;
								se !== la && (pb = this.Lb[pa.layer], 2 === M && (pb = 0 === this.aa ? Math.max( pb, ob ) : Math.min( pb, ob )), b.w( M++, pb, gb ), b.w( M++, pb, la ))
							}
							else
							{
								var qd = null !== Ca ? Ca.na : ob;
								qd !== ka && (pb = this.Lb[pa.layer], 2 === M && (pb = 90 === this.aa ? Math.max( pb, gb ) : Math.min( pb, gb )), b.w( M++, ob, pb ), b.w( M++, ka, pb ))
							}
							else Ua = Math.max( 10, this.jg[pa.layer] ), Ra = Math.max( 10, this.Gf[pa.layer] ), 180 === this.aa ? (b.w( M++, ka + Ra, la ), T && b.w( M++, ka, la ),
									b.w( M++, ka - Ua, la )) : 90 === this.aa ? (b.w( M++, ka, la - Ua ), T && b.w( M++, ka, la ), b.w( M++, ka, la + Ra )) : 270 === this.aa ? (b.w( M++, ka, la + Ra ), T && b.w( M++, ka, la ), b.w( M++, ka, la - Ua )) : (b.w( M++, ka - Ua, la ), T && b.w( M++, ka, la ), b.w( M++, ka + Ra, la ));
							oa = pa
						}
						ba && (ob = b.l( M - 1 ).x, gb = b.l( M - 1 ).y, ka = b.l( M ).x, la = b.l( M ).y, 180 === this.aa || 0 === this.aa ? gb !== la && (pb = 0 === this.aa ? Math.min( Math.max( (ka + ob) / 2, this.Lb[Ga.layer] ), ka ) : Math.max( Math.min( (ka + ob) / 2, this.Lb[Ga.layer] ), ka ), b.w( M++, pb, gb ), b.w( M++, pb, la )) : ob !== ka && (pb = 90 === this.aa ? Math.min( Math.max( (la +
							gb) / 2, this.Lb[Ga.layer] ), la ) : Math.max( Math.min( (la + gb) / 2, this.Lb[Ga.layer] ), la ), b.w( M++, ob, pb ), b.w( M++, ka, pb )))
					}
					if( null !== d && T )
					{
						if( null !== h )
						{
							if( b.computeSpot( !0 ) === sb )
							{
								var ae = b.l( 0 ), Kd = b.l( 2 );
								ae.K( Kd ) || b.W( 1, (ae.x + Kd.x) / 2, (ae.y + Kd.y) / 2 )
							}
							C = b.getLinkPoint( e, h, sb, !0, !1, f, k );
							C.G() || C.set( e.V.bl );
							b.W( 0, C.x, C.y )
						}
						null !== k && (b.computeSpot( !1 ) === sb && (ae = b.l( b.oa - 1 ), Kd = b.l( b.oa - 3 ), ae.K( Kd ) || b.W( b.oa - 2, (ae.x + Kd.x) / 2, (ae.y + Kd.y) / 2 )), C = b.getLinkPoint( f, k, sb, !1, !1, e, h ), C.G() || C.set( f.V.bl ), b.W( b.oa - 1, C.x, C.y ))
					}
					b.Pi();
					c.commit()
				}
			}
		}
		for( var be = new I( W ), Hg = this.network.edges.i; Hg.next(); )
		{
			var Zc = Hg.value.link;
			null !== Zc && Zc.jc && !be.contains( Zc ) && be.add( Zc )
		}
		if( 0 < be.count )if( 90 === this.aa || 270 === this.aa )
		{
			for( var gi = 0, xb = new I( gs ), Xb, Ld, jh = be.i; jh.next(); )
			{
				var Lb = jh.value;
				if( null !== Lb && Lb.jc )for( var ib = 2; ib < Lb.oa - 3; ib++ )if( Xb = Lb.l( ib ), Ld = Lb.l( ib + 1 ), hs( Xb.y, Ld.y ) && !hs( Xb.x, Ld.x ) )
				{
					var bb = new gs;
					bb.layer = Math.floor( Xb.y / 2 );
					var Ke = Lb.l( 0 ), Md = Lb.l( Lb.oa - 1 );
					bb.first = Ke.x * Ke.x + Ke.y;
					bb.Td = Md.x * Md.x + Md.y;
					bb.He = Math.min( Xb.x, Ld.x );
					bb.$d = Math.max( Xb.x, Ld.x );
					bb.index = ib;
					bb.link = Lb;
					if( ib + 2 < Lb.oa )
					{
						var Ig = Lb.l( ib - 1 ), Jg = Lb.l( ib + 2 ), gc = 0;
						Ig.y < Xb.y ? gc = Jg.y < Xb.y ? 3 : Xb.x < Ld.x ? 2 : 1 : Ig.y > Xb.y && (gc = Jg.y > Xb.y ? 0 : Ld.x < Xb.x ? 2 : 1);
						bb.bi = gc
					}
					xb.add( bb )
				}
			}
			if( 1 < xb.count )
			{
				xb.sort( this.OE );
				for( var hc = 0; hc < xb.count; )
				{
					for( var ce = xb.n[hc].layer, $c = hc + 1; $c < xb.count && xb.n[$c].layer === ce; )$c++;
					if( 1 < $c - hc )for( var kb = hc; kb < $c; )
					{
						for( var Nc = xb.n[kb].$d, Ka = hc + 1; Ka < $c && xb.n[Ka].He < Nc; )Nc = Math.max( Nc, xb.n[Ka].$d ), Ka++;
						var lb = Ka - kb;
						if( 1 < lb )
						{
							xb.Ip( this.hx, kb, kb + lb );
							for( var tc = 1, rd = xb.n[kb].Td, ib = kb; ib < Ka; ib++ )
							{
								var Ib = xb.n[ib];
								Ib.Td !== rd && (tc++, rd = Ib.Td)
							}
							xb.Ip( this.NE, kb, kb + lb );
							for( var de = 1, rd = xb.n[kb].first, ib = kb; ib < Ka; ib++ )Ib = xb.n[ib], Ib.first !== rd && (de++, rd = Ib.first);
							var qf = !0, Le = de;
							tc < de ? (qf = !1, Le = tc, rd = xb.n[kb].Td, xb.Ip( this.hx, kb, kb + lb )) : rd = xb.n[kb].first;
							for( var Jf = 0, ib = kb; ib < Ka; ib++ )
							{
								Ib = xb.n[ib];
								(qf ? Ib.first : Ib.Td) !== rd && (Jf++, rd = qf ? Ib.first : Ib.Td);
								Lb = Ib.link;
								Xb = Lb.l( Ib.index );
								Ld = Lb.l( Ib.index + 1 );
								var Jb = this.mE * (Jf - (Le - 1) / 2);
								gi++;
								Lb.Cl();
								Lb.W( Ib.index,
									Xb.x, Xb.y + Jb );
								Lb.W( Ib.index + 1, Ld.x, Ld.y + Jb );
								Lb.Pi()
							}
						}
						kb = Ka
					}
					hc = $c
				}
			}
		}
		else
		{
			for( var te = 0, Mb = new I( gs ), ic, Rb, Ec = be.i; Ec.next(); )
			{
				var mb = Ec.value;
				if( null !== mb && mb.jc )for( var Cb = 2; Cb < mb.oa - 3; Cb++ )if( ic = mb.l( Cb ), Rb = mb.l( Cb + 1 ), hs( ic.x, Rb.x ) && !hs( ic.y, Rb.y ) )
				{
					var Kb = new gs;
					Kb.layer = Math.floor( ic.x / 2 );
					var Nd = mb.l( 0 ), Kg = mb.l( mb.oa - 1 );
					Kb.first = Nd.x + Nd.y * Nd.y;
					Kb.Td = Kg.x + Kg.y * Kg.y;
					Kb.He = Math.min( ic.y, Rb.y );
					Kb.$d = Math.max( ic.y, Rb.y );
					Kb.index = Cb;
					Kb.link = mb;
					if( Cb + 2 < mb.oa )
					{
						var kh = mb.l( Cb - 1 ), lh = mb.l( Cb + 2 ), ue = 0;
						kh.x < ic.x ?
							ue = lh.x < ic.x ? 3 : ic.y < Rb.y ? 2 : 1 : kh.x > ic.x && (ue = lh.x > ic.x ? 0 : Rb.y < ic.y ? 2 : 1);
						Kb.bi = ue
					}
					Mb.add( Kb )
				}
			}
			if( 1 < Mb.count )
			{
				Mb.sort( this.OE );
				for( var ad = 0; ad < Mb.count; )
				{
					for( var rf = Mb.n[ad].layer, jc = ad + 1; jc < Mb.count && Mb.n[jc].layer === rf; )jc++;
					if( 1 < jc - ad )for( var yb = ad; yb < jc; )
					{
						for( var zb = Mb.n[yb].$d, Fc = ad + 1; Fc < jc && Mb.n[Fc].He < zb; )zb = Math.max( zb, Mb.n[Fc].$d ), Fc++;
						var Lg = Fc - yb;
						if( 1 < Lg )
						{
							Mb.Ip( this.hx, yb, yb + Lg );
							for( var Oc = 1, Pc = Mb.n[yb].Td, Cb = yb; Cb < Fc; Cb++ )
							{
								var jb = Mb.n[Cb];
								jb.Td !== Pc && (Oc++, Pc = jb.Td)
							}
							Mb.Ip( this.NE, yb, yb + Lg );
							for( var Qc = 1, Pc = Mb.n[yb].first, Cb = yb; Cb < Fc; Cb++ )jb = Mb.n[Cb], jb.first !== Pc && (Qc++, Pc = jb.first);
							var Od = !0, ee = Qc;
							Oc < Qc ? (Od = !1, ee = Oc, Pc = Mb.n[yb].Td, Mb.Ip( this.hx, yb, yb + Lg )) : Pc = Mb.n[yb].first;
							for( var sf = 0, Cb = yb; Cb < Fc; Cb++ )
							{
								jb = Mb.n[Cb];
								(Od ? jb.first : jb.Td) !== Pc && (sf++, Pc = Od ? jb.first : jb.Td);
								mb = jb.link;
								ic = mb.l( jb.index );
								Rb = mb.l( jb.index + 1 );
								var hi = this.mE * (sf - (ee - 1) / 2);
								te++;
								mb.Cl();
								mb.W( jb.index, ic.x + hi, ic.y );
								mb.W( jb.index + 1, Rb.x + hi, Rb.y );
								mb.Pi()
							}
						}
						yb = Fc
					}
					ad = jc
				}
			}
		}
	};
	gn.prototype.OE = function( a, b )
	{
		return a instanceof gs && b instanceof gs && a !== b ? a.layer < b.layer ? -1 : a.layer > b.layer ? 1 : a.He < b.He ? -1 : a.He > b.He ? 1 : a.$d < b.$d ? -1 : a.$d > b.$d ? 1 : 0 : 0
	};
	gn.prototype.NE = function( a, b )
	{
		return a instanceof gs && b instanceof gs && a !== b ? a.first < b.first ? -1 : a.first > b.first || a.bi < b.bi ? 1 : a.bi > b.bi || a.He < b.He ? -1 : a.He > b.He ? 1 : a.$d < b.$d ? -1 : a.$d > b.$d ? 1 : 0 : 0
	};
	gn.prototype.hx = function( a, b )
	{
		return a instanceof gs && b instanceof gs && a !== b ? a.Td < b.Td ? -1 : a.Td > b.Td || a.bi < b.bi ? 1 : a.bi > b.bi || a.He < b.He ? -1 : a.He > b.He ? 1 : a.$d < b.$d ? -1 : a.$d > b.$d ? 1 : 0 : 0
	};
	function hs( a, b )
	{
		var c = a - b;
		return-1 < c && 1 > c
	}

	function yr( a, b )
	{
		var c, d = a.Vd[b];
		if( d >= a.Tg.length )
		{
			c = [];
			for( var e = 0; e < a.Tg.length; e++ )c[e] = a.Tg[e];
			a.Tg = c
		}
		void 0 === a.Tg[d] || null === a.Tg[d] ? c = [] : (c = a.Tg[d], a.Tg[d] = null);
		d = a.Ar[b];
		for( e = 0; e < d.length; e++ )
		{
			var f = d[e];
			c[f.index] = f
		}
		return c
	}

	function zr( a, b, c )
	{
		a.Tg[a.Vd[b]] = c
	}

	v.defineProperty( gn, {layerSpacing: "layerSpacing"}, function()
	{
		return this.$l
	}, function( a )
	{
		this.$l !== a && (v.j( a, "number", gn, "layerSpacing" ), 0 <= a && (this.$l = a, this.H()))
	} );
	v.defineProperty( gn, {nD: "columnSpacing"}, function()
	{
		return this.Kd
	}, function( a )
	{
		this.Kd !== a && (v.j( a, "number", gn, "columnSpacing" ), 0 < a && (this.Kd = a, this.H()))
	} );
	v.defineProperty( gn, {direction: "direction"}, function()
	{
		return this.aa
	}, function( a )
	{
		this.aa !== a && (v.j( a, "number", gn, "direction" ), 0 === a || 90 === a || 180 === a || 270 === a ? (this.aa = a, this.H()) : v.k( "LayeredDigraphLayout.direction must be 0, 90, 180, or 270" ))
	} );
	v.defineProperty( gn, {angle: "angle"}, function()
	{
		return this.direction
	}, function( a )
	{
		this.direction = a
	} );
	v.defineProperty( gn, {yG: "cycleRemoveOption"}, function()
	{
		return this.zn
	}, function( a )
	{
		this.zn !== a && (v.pb( a, gn, gn, "cycleRemoveOption" ), a === rr || a === lr) && (this.zn = a, this.H())
	} );
	v.defineProperty( gn, {zH: "layeringOption"}, function()
	{
		return this.ao
	}, function( a )
	{
		this.ao !== a && (v.pb( a, gn, gn, "layeringOption" ), a === mr || a === Jr || a === Lr) && (this.ao = a, this.H())
	} );
	v.defineProperty( gn, {jH: "initializeOption"}, function()
	{
		return this.Rn
	}, function( a )
	{
		this.Rn !== a && (v.pb( a, gn, gn, "initializeOption" ), a === nr || a === Rr || a === Pr) && (this.Rn = a, this.H())
	} );
	v.defineProperty( gn, {XJ: "iterations"}, function()
	{
		return this.Xl
	}, function( a )
	{
		this.Xl !== a && (v.Ve( a, qr, "iterations" ), 0 <= a && (this.Xl = a, this.H()))
	} );
	v.defineProperty( gn, {cG: "aggressiveOption"}, function()
	{
		return this.mn
	}, function( a )
	{
		this.mn !== a && (v.pb( a, gn, gn, "aggressiveOption" ), a === Vr || a === or || a === Wr) && (this.mn = a, this.H())
	} );
	v.defineProperty( gn, {tK: "packOption"}, function()
	{
		return this.Fi
	}, function( a )
	{
		this.Fi !== a && (v.j( a, "number", gn, "packOption" ), 0 <= a && 8 > a && (this.Fi = a, this.H()))
	} );
	v.defineProperty( gn, {Fp: "setsPortSpots"}, function()
	{
		return this.Mh
	}, function( a )
	{
		this.Mh !== a && (v.j( a, "boolean", gn, "setsPortSpots" ), this.Mh = a, this.H())
	} );
	v.defineProperty( gn, {mE: "linkSpacing"}, function()
	{
		return this.hr
	}, function( a )
	{
		this.hr !== a && (v.j( a, "number", gn, "linkSpacing" ), 0 <= a && (this.hr = a, this.H()))
	} );
	v.u( gn, {IH: "maxLayer"}, function()
	{
		return this.ob
	} );
	v.u( gn, {cK: "maxIndex"}, function()
	{
		return this.nv
	} );
	v.u( gn, {bK: "maxColumn"}, function()
	{
		return this.Fb
	} );
	v.u( gn, {hK: "minIndexLayer"}, function()
	{
		return this.rr
	} );
	v.u( gn, {dK: "maxIndexLayer"}, function()
	{
		return this.If
	} );
	var lr;
	gn.CycleDepthFirst = lr = v.p( gn, "CycleDepthFirst", 0 );
	var rr;
	gn.CycleGreedy = rr = v.p( gn, "CycleGreedy", 1 );
	var mr;
	gn.LayerOptimalLinkLength = mr = v.p( gn, "LayerOptimalLinkLength", 0 );
	var Jr;
	gn.LayerLongestPathSink = Jr = v.p( gn, "LayerLongestPathSink", 1 );
	var Lr;
	gn.LayerLongestPathSource = Lr = v.p( gn, "LayerLongestPathSource", 2 );
	var nr;
	gn.InitDepthFirstOut = nr = v.p( gn, "InitDepthFirstOut", 0 );
	var Rr;
	gn.InitDepthFirstIn = Rr = v.p( gn, "InitDepthFirstIn", 1 );
	var Pr;
	gn.InitNaive = Pr = v.p( gn, "InitNaive", 2 );
	var Vr;
	gn.AggressiveNone = Vr = v.p( gn, "AggressiveNone", 0 );
	var or;
	gn.AggressiveLess = or = v.p( gn, "AggressiveLess", 1 );
	var Wr;
	gn.AggressiveMore = Wr = v.p( gn, "AggressiveMore", 2 );
	gn.PackNone = 0;
	var Xr;
	gn.PackExpand = Xr = 1;
	var Yr;
	gn.PackStraighten = Yr = 2;
	var $r;
	gn.PackMedian = $r = 4;
	var pr;
	gn.PackAll = pr = 7;
	function gs()
	{
		this.index = this.$d = this.He = this.Td = this.first = this.layer = 0;
		this.link = null;
		this.bi = 0
	}

	v.Pd( gs, {layer: !0, first: !0, Td: !0, He: !0, $d: !0, index: !0, link: !0, bi: !0} );
	function qr()
	{
		Zf.call( this )
	}

	v.Ia( qr, Zf );
	v.ea( "LayeredDigraphNetwork", qr );
	qr.prototype.createVertex = function()
	{
		return new is
	};
	qr.prototype.createEdge = function()
	{
		return new js
	};
	function is()
	{
		nq.call( this );
		this.index = this.column = this.layer = -1;
		this.component = NaN;
		this.near = null;
		this.valid = !1;
		this.finish = this.So = NaN;
		this.Bm = 0;
		this.Rz = this.Sz = null
	}

	v.Ia( is, nq );
	v.ea( "LayeredDigraphVertex", is );
	function js()
	{
		oq.call( this );
		this.forest = this.rev = this.valid = !1;
		this.portToPos = this.portFromPos = NaN;
		this.portToColOffset = this.portFromColOffset = 0
	}

	v.Ia( js, oq );
	v.ea( "LayeredDigraphEdge", js );
	function Z()
	{
		0 < arguments.length && v.dd( Z );
		Yf.call( this );
		this.vd = new J( Object );
		this.Jr = ks;
		this.Ef = ls;
		this.Es = ms;
		this.lv = ns;
		this.LA = null;
		this.vh = !0;
		this.fd = os;
		this.cg = (new ia( 10, 10 )).freeze();
		this.ra = new ps;
		this.ta = new ps;
		this.Ky = []
	}

	v.Ia( Z, Yf );
	v.ea( "TreeLayout", Z );
	Z.prototype.cloneProtected = function( a )
	{
		Yf.prototype.cloneProtected.call( this, a );
		a.Jr = this.Jr;
		a.Es = this.Es;
		a.lv = this.lv;
		a.vh = this.vh;
		a.fd = this.fd;
		a.cg.assign( this.cg );
		a.ra.copyInheritedPropertiesFrom( this.ra );
		a.ta.copyInheritedPropertiesFrom( this.ta )
	};
	Z.prototype.createNetwork = function()
	{
		return new qs
	};
	Z.prototype.makeNetwork = function( a )
	{
		function b( a )
		{
			if( a instanceof S )return!a.vf && "Comment" !== a.gc;
			if( a instanceof W )
			{
				var b = a.T;
				if( null === b || b.vf || "Comment" === b.gc )return!1;
				a = a.Z;
				return null === a || a.vf || "Comment" === a.gc ? !1 : !0
			}
			return!1
		}

		var c = this.createNetwork();
		c.Pb = this;
		a instanceof E ? (c.Rj( a.Bg, !0, b ), c.Rj( a.links, !0, b )) : a instanceof V ? c.Rj( a.Ic, !1, b ) : c.Rj( a.i, !1, b );
		return c
	};
	Z.prototype.doLayout = function( a )
	{
		null === a && v.k( "Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts" );
		null === this.network && (this.network = this.makeNetwork( a ));
		this.Of !== rs && (this.Zd = this.initialOrigin( this.Zd ));
		var b = this.g;
		null === b && a instanceof E && (b = a);
		this.Ef = this.path === ks && null !== b ? b.Sd ? ls : ss : this.path === ks ? ls : this.path;
		if( 0 < this.network.vertexes.count )
		{
			this.network.tw();
			for( a = this.network.vertexes.i; a.next(); )b = a.value, b.initialized = !1, b.level =
				0, b.parent = null, b.children = [];
			if( 0 < this.vd.count )
			{
				a = new J( ps );
				for( b = this.vd.i; b.next(); )
				{
					var c = b.value;
					c instanceof S ? (c = this.network.Mm( c ), null !== c && a.add( c )) : c instanceof ps && a.add( c )
				}
				this.vd = a
			}
			0 === this.vd.count && this.findRoots();
			for( a = this.vd.copy().i; a.next(); )b = a.value, b.initialized || (b.initialized = !0, ts( this, b ));
			for( a = this.vd.i; a.next(); )b = a.value, b instanceof ps && us( this, b );
			for( a = this.vd.i; a.next(); )b = a.value, b instanceof ps && vs( this, b );
			for( a = this.vd.i; a.next(); )b = a.value, b instanceof ps &&
				ws( this, b );
			this.Xy();
			if( this.Ez === xs )
			{
				c = [];
				for( a = this.network.vertexes.i; a.next(); )
				{
					var d = a.value, b = d.parent;
					null === b && (b = d);
					var b = 0 === b.angle || 180 === b.angle, e = c[d.level];
					void 0 === e && (e = 0);
					c[d.level] = Math.max( e, b ? d.width : d.height )
				}
				for( d = 0; d < c.length; d++ )void 0 === c[d] && (c[d] = 0);
				this.LA = c;
				for( a = this.network.vertexes.i; a.next(); )d = a.value, b = d.parent, null === b && (b = d), 0 === b.angle || 180 === b.angle ? (180 === b.angle && (d.ht += c[d.level] - d.width), d.width = c[d.level]) : (270 === b.angle && (d.it += c[d.level] - d.height), d.height =
					c[d.level])
			}
			else if( this.Ez === ys )for( a = this.network.vertexes.i; a.next(); )
			{
				c = a.value;
				b = 0 === c.angle || 180 === c.angle;
				e = -1;
				for( d = 0; d < c.children.length; d++ )var f = c.children[d], e = Math.max( e, b ? f.width : f.height );
				if( 0 <= e )for( d = 0; d < c.children.length; d++ )f = c.children[d], b ? (180 === c.angle && (f.ht += e - f.width), f.width = e) : (270 === c.angle && (f.it += e - f.height), f.height = e)
			}
			for( a = this.vd.i; a.next(); )b = a.value, b instanceof ps && this.layoutTree( b );
			this.arrangeTrees();
			this.updateParts()
		}
		this.network = null;
		this.vd = new J( Object );
		this.xf = !0
	};
	Z.prototype.findRoots = function()
	{
		for( var a = this.network.vertexes.i; a.next(); )
		{
			var b = a.value;
			switch( this.Ef )
			{
			case ls:
				0 === b.lc.count && this.vd.add( b );
				break;
			case ss:
				0 === b.$b.count && this.vd.add( b );
				break;
			default:
				v.k( "Unhandled path value " + this.Ef.toString() )
			}
		}
		if( 0 === this.vd.count )
		{
			for( var a = 999999, b = null, c = this.network.vertexes.i; c.next(); )
			{
				var d = c.value;
				switch( this.Ef )
				{
				case ls:
					d.lc.count < a && (a = d.lc.count, b = d);
					break;
				case ss:
					d.$b.count < a && (a = d.$b.count, b = d);
					break;
				default:
					v.k( "Unhandled path value " + this.Ef.toString() )
				}
			}
			null !==
			b && this.vd.add( b )
		}
	};
	function ts( a, b )
	{
		if( null !== b )
		{
			switch( a.Ef )
			{
			case ls:
				if( 0 < b.$b.count )
				{
					for( var c = new I( ps ), d = b.EG; d.next(); )
					{
						var e = d.value;
						zs( a, b, e ) && c.add( e )
					}
					0 < c.count && (b.children = c.dc())
				}
				break;
			case ss:
				if( 0 < b.lc.count )
				{
					c = new I( ps );
					for( d = b.BI; d.next(); )e = d.value, zs( a, b, e ) && c.add( e );
					0 < c.count && (b.children = c.dc())
				}
				break;
			default:
				v.k( "Unhandled path value" + a.Ef.toString() )
			}
			c = b.children;
			d = c.length;
			for( e = 0; e < d; e++ )
			{
				var f = c[e];
				f.initialized = !0;
				f.level = b.level + 1;
				f.parent = b;
				a.vd.remove( f )
			}
			for( e = 0; e < d; e++ )f = c[e], ts( a, f )
		}
	}

	function zs( a, b, c )
	{
		if( c.initialized )
		{
			var d;
			if( null === b )d = !1;
			else
			{
				for( d = b.parent; null !== d && d !== c; )d = d.parent;
				d = d === c
			}
			if( d || c.level > b.level )return!1;
			a.removeChild( c.parent, c )
		}
		return!0
	}

	Z.prototype.removeChild = function( a, b )
	{
		if( null !== a && null !== b )
		{
			for( var c = a.children, d = 0, e = 0; e < c.length; e++ )c[e] === b && d++;
			if( 0 < d )
			{
				for( var d = Array( c.length - d ), f = 0, e = 0; e < c.length; e++ )c[e] !== b && (d[f++] = c[e]);
				a.children = d
			}
		}
	};
	function us( a, b )
	{
		if( null !== b )
		{
			a.initializeTreeVertexValues( b );
			b.alignment === As && a.sortTreeVertexChildren( b );
			for( var c = 0, d = b.Dm, e = 0, f = b.children, h = f.length, k = 0; k < h; k++ )
			{
				var l = f[k];
				us( a, l );
				c += l.descendantCount + 1;
				d = Math.max( d, l.maxChildrenCount );
				e = Math.max( e, l.maxGenerationCount )
			}
			b.descendantCount = c;
			b.maxChildrenCount = d;
			b.maxGenerationCount = 0 < d ? e + 1 : 0
		}
	}

	function Bs( a, b )
	{
		switch( a.Es )
		{
		default:
		case ms:
			return null !== b.parent ? b.parent : a.ra;
		case Cs:
			return null === b.parent ? a.ra : null === b.parent.parent ? a.ta : b.parent;
		case Ds:
			return null !== b.parent ? null !== b.parent.parent ? b.parent.parent : a.ta : a.ra;
		case Es:
			var c = !0;
			if( 0 === b.Dm )c = !1;
			else for( var d = b.children, e = d.length, f = 0; f < e; f++ )if( 0 < d[f].Dm )
			{
				c = !1;
				break
			}
			return c && null !== b.parent ? a.ta : null !== b.parent ? b.parent : a.ra
		}
	}

	Z.prototype.initializeTreeVertexValues = function( a )
	{
		var b = Bs( this, a );
		a.copyInheritedPropertiesFrom( b );
		if( null !== a.parent && a.parent.alignment === As )
		{
			for( var b = a.angle, c = a.parent.children, d = 0; d < c.length && a !== c[d]; )d++;
			0 === d % 2 ? d !== c.length - 1 && (b = 90 === b ? 180 : 180 === b ? 270 : 270 === b ? 180 : 270) : b = 90 === b ? 0 : 180 === b ? 90 : 270 === b ? 0 : 90;
			a.angle = b
		}
		a.initialized = !0
	};
	function vs( a, b )
	{
		if( null !== b )
		{
			a.assignTreeVertexValues( b );
			for( var c = b.children, d = c.length, e = 0; e < d; e++ )vs( a, c[e] )
		}
	}

	Z.prototype.assignTreeVertexValues = function()
	{
	};
	function ws( a, b )
	{
		if( null !== b )
		{
			b.alignment !== As && a.sortTreeVertexChildren( b );
			for( var c = b.children, d = c.length, e = 0; e < d; e++ )ws( a, c[e] )
		}
	}

	Z.prototype.sortTreeVertexChildren = function( a )
	{
		switch( a.sorting )
		{
		case Fs:
			break;
		case Gs:
			a.children.reverse();
			break;
		case Hs:
			a.children.sort( a.comparer );
			break;
		case Is:
			a.children.sort( a.comparer );
			a.children.reverse();
			break;
		default:
			v.k( "Unhandled sorting value " + a.sorting.toString() )
		}
	};
	Z.prototype.Xy = function()
	{
		if( this.comments )for( var a = this.network.vertexes.i; a.next(); )this.addComments( a.value )
	};
	Z.prototype.addComments = function( a )
	{
		var b = a.angle, c = a.parent, d = 0, e = Js, e = !1;
		null !== c && (d = c.angle, e = c.alignment, e = Ks( e ));
		var b = 90 === b || 270 === b, d = 90 === d || 270 === d, c = 0 === a.Dm, f = 0, h = 0, k = 0, l = a.commentSpacing;
		if( null !== a.Jc )for( var m = a.Jc.HD(); m.next(); )
		{
			var n = m.value;
			"Comment" === n.gc && n.canLayout() && (null === a.comments && (a.comments = []), a.comments.push( n ), n.tf(), n = n.Ca, b && !c || !e && !d && c || e && d && c ? (f = Math.max( f, n.width ), h += n.height + Math.abs( k )) : (f += n.width + Math.abs( k ), h = Math.max( h, n.height )), k = l)
		}
		null !== a.comments &&
		(b && !c || !e && !d && c || e && d && c ? (f += Math.abs( a.commentMargin ), h = Math.max( 0, h - a.height )) : (h += Math.abs( a.commentMargin ), f = Math.max( 0, f - a.width )), e = v.gk( 0, 0, a.M.width + f, a.M.height + h ), a.mb = e, v.Vb( e ))
	};
	function Ks( a )
	{
		return a === Ls || a === As || a === Ms || a === Ns
	}

	function Os( a )
	{
		return a === Ls || a === As
	}

	function Ps( a )
	{
		var b = a.parent;
		if( null !== b )
		{
			var c = b.alignment;
			if( Ks( c ) )
			{
				if( Os( c ) )
				{
					b = b.children;
					for( c = 0; c < b.length && a !== b[c]; )c++;
					return 0 === c % 2
				}
				if( c === Ms )return!0
			}
		}
		return!1
	}

	Z.prototype.layoutComments = function( a )
	{
		if( null !== a.comments )
		{
			var b = a.Jc.Ca, c = a.parent, d = a.angle, e = 0, f = Js, f = !1;
			null !== c && (e = c.angle, f = c.alignment, f = Ks( f ));
			for( var c = 90 === d || 270 === d, d = 90 === e || 270 === e, h = 0 === a.Dm, k = Ps( a ), l = 0, m = a.comments, n = m.length, p = v.L(), q = 0; q < n; q++ )
			{
				var r = m[q], s = r.Ca;
				if( c && !h || !f && !d && h || f && d && h )
				{
					if( 135 < e && !f || d && k )if( 0 <= a.commentMargin )for( p.m( a.M.x - a.commentMargin - s.width, a.M.y + l ), r.move( p ), r = r.wg(); r.next(); )
					{
						var t = r.value;
						t.xb = qc;
						t.yb = rc
					}
					else for( p.m( a.M.x + 2 * a.O.x - a.commentMargin,
								a.M.y + l ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = rc, t.yb = qc;
					else if( 0 <= a.commentMargin )for( p.m( a.M.x + 2 * a.O.x + a.commentMargin, a.M.y + l ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = rc, t.yb = qc;
					else for( p.m( a.M.x + a.commentMargin - s.width, a.M.y + l ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = qc, t.yb = rc;
					l = 0 <= a.commentSpacing ? l + (s.height + a.commentSpacing) : l + (a.commentSpacing - s.height)
				}
				else
				{
					if( 135 < e && !f || !d && k )if( 0 <= a.commentMargin )for( p.m( a.M.x + l, a.M.y - a.commentMargin - s.height ), r.move( p ), r = r.wg(); r.next(); )t =
						r.value, t.xb = pc, t.yb = sc;
					else for( p.m( a.M.x + l, a.M.y + 2 * a.O.y - a.commentMargin ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = sc, t.yb = pc;
					else if( 0 <= a.commentMargin )for( p.m( a.M.x + l, a.M.y + 2 * a.O.y + a.commentMargin ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = sc, t.yb = pc;
					else for( p.m( a.M.x + l, a.M.y + a.commentMargin - s.height ), r.move( p ), r = r.wg(); r.next(); )t = r.value, t.xb = pc, t.yb = sc;
					l = 0 <= a.commentSpacing ? l + (s.width + a.commentSpacing) : l + (a.commentSpacing - s.width)
				}
			}
			v.v( p );
			b = l - a.commentSpacing - (c ? b.height : b.width);
			if( this.Ef ===
				ls )for( e = a.$b; e.next(); )a = e.value.link, null === a || a.rl || (a.ll = 0 < b ? b : NaN);
			else for( e = a.lc; e.next(); )a = e.value.link, null === a || a.rl || (a.Gl = 0 < b ? b : NaN)
		}
	};
	Z.prototype.layoutTree = function( a )
	{
		if( null !== a )
		{
			for( var b = a.children, c = b.length, d = 0; d < c; d++ )this.layoutTree( b[d] );
			switch( a.compaction )
			{
			case Qs:
				Rs( this, a );
				break;
			case Ss:
				if( a.alignment === As )Rs( this, a );
				else if( 0 === a.Dm )
				{
					var d = a.parent, b = !1, c = 0, e = Js;
					null !== d && (c = d.angle, e = d.alignment, b = Ks( e ));
					d = Ps( a );
					a.ma.m( 0, 0 );
					a.fb.m( a.width, a.height );
					null === a.parent || null === a.comments || (180 !== c && 270 !== c || b) && !d ? a.La.m( 0, 0 ) : 180 === c && !b || (90 === c || 270 === c) && d ? a.La.m( a.width - 2 * a.O.x, 0 ) : a.La.m( 0, a.height - 2 * a.O.y );
					a.zt =
						null;
					a.Rt = null
				}
				else
				{
					for( var f = Ts( a ), b = 90 === f || 270 === f, h = 0, k = a.children, l = k.length, m = 0; m < l; m++ )var n = k[m], h = Math.max( h, b ? n.fb.width : n.fb.height );
					var p = a.alignment, d = p === Us, q = p === Vs, r = Ks( p ), s = Math.max( 0, a.breadthLimit ), c = Ws( a ), t = a.nodeSpacing, u = Xs( a ), w = a.rowSpacing, x = 0;
					if( d || q || a.Ap || a.Bp && 1 === a.maxGenerationCount )x = Math.max( 0, a.rowIndent );
					var d = a.width, e = a.height, z = 0, A = 0, H = 0, C = null, T = null, ba = 0, U = 0, M = 0, aa = 0, Ia = 0, oa = 0, Ga = 0, pa = 0, n = 0;
					r && !Os( p ) && 135 < f && k.reverse();
					if( Os( p ) )if( 1 < l )for( m = 0; m < l; m++ )0 === m %
						2 && m !== l - 1 ? pa = Math.max( pa, b ? k[m].fb.width : k[m].fb.height ) : 0 !== m % 2 && (n = Math.max( n, b ? k[m].fb.width : k[m].fb.height ));
					else 1 === l && (pa = b ? k[0].fb.width : k[0].fb.height);
					if( r )
					{
						switch( p )
						{
						case Ls:
							U = 135 > f ? Ys( a, k, pa, z, A ) : Zs( a, k, pa, z, A );
							pa = U.x;
							z = U.width;
							A = U.height;
							break;
						case Ms:
							for( m = 0; m < l; m++ )
							{
								var n = k[m], Ca = n.fb, C = 0 === oa ? 0 : w;
								b ? (n.ma.m( h - Ca.width, aa + C ), z = Math.max( z, Ca.width ), A = Math.max( A, aa + C + Ca.height ), aa += C + Ca.height) : (n.ma.m( M + C, h - Ca.height ), z = Math.max( z, M + C + Ca.width ), A = Math.max( A, Ca.height ), M += C + Ca.width);
								oa++
							}
							break;
						case Ns:
							for( m = 0; m < l; m++ )n = k[m], Ca = n.fb, C = 0 === oa ? 0 : w, b ? (n.ma.m( t / 2 + a.O.x, aa + C ), z = Math.max( z, Ca.width ), A = Math.max( A, aa + C + Ca.height ), aa += C + Ca.height) : (n.ma.m( M + C, t / 2 + a.O.y ), z = Math.max( z, M + C + Ca.width ), A = Math.max( A, Ca.height ), M += C + Ca.width), oa++
						}
						C = $s( this, 2 );
						T = $s( this, 2 );
						b ? (C[0].m( 0, 0 ), C[1].m( 0, A ), T[0].m( z, 0 )) : (C[0].m( 0, 0 ), C[1].m( z, 0 ), T[0].m( 0, A ));
						T[1].m( z, A )
					}
					else for( m = 0; m < l; m++ )
					{
						n = k[m];
						Ca = n.fb;
						if( b )
						{
							0 < s && 0 < oa && M + t + Ca.width > s && (M < h && at( a, p, h - M, 0, Ga, m - 1 ), Ia++, oa = 0, Ga = m, H = A, M = 0, aa = 135 < f ? -A - w :
								A + w);
							gt( this, n, 0, aa );
							var ua = 0;
							if( 0 === oa )
							{
								if( C = n.zt, T = n.Rt, ba = Ca.width, U = Ca.height, null === C || null === T || f !== Ts( n ) )C = $s( this, 2 ), T = $s( this, 2 ), C[0].m( 0, 0 ), C[1].m( 0, U ), T[0].m( ba, 0 ), T[1].m( ba, U )
							}
							else
							{
								var fc = v.jb(), U = ht( this, a, n, C, T, ba, U, fc ), ua = U.x, C = fc[0], T = fc[1], ba = U.width, U = U.height;
								v.sa( fc );
								M < Ca.width && 0 > ua && (it( a, -ua, 0, Ga, m - 1 ), jt( C, -ua, 0 ), jt( T, -ua, 0 ), ua = 0)
							}
							n.ma.m( ua, aa );
							z = Math.max( z, ba );
							A = Math.max( A, H + (0 === Ia ? 0 : w) + Ca.height );
							M = ba
						}
						else
						{
							0 < s && 0 < oa && aa + t + Ca.height > s && (aa < h && at( a, p, 0, h - aa, Ga, m - 1 ), Ia++, oa =
								0, Ga = m, H = z, aa = 0, M = 135 < f ? -z - w : z + w);
							gt( this, n, M, 0 );
							ua = 0;
							if( 0 === oa )
							{
								if( C = n.zt, T = n.Rt, ba = Ca.width, U = Ca.height, null === C || null === T || f !== Ts( n ) )C = $s( this, 2 ), T = $s( this, 2 ), C[0].m( 0, 0 ), C[1].m( ba, 0 ), T[0].m( 0, U ), T[1].m( ba, U )
							}
							else fc = v.jb(), U = ht( this, a, n, C, T, ba, U, fc ), ua = U.x, C = fc[0], T = fc[1], ba = U.width, U = U.height, v.sa( fc ), aa < Ca.height && 0 > ua && (it( a, 0, -ua, Ga, m - 1 ), jt( C, 0, -ua ), jt( T, 0, -ua ), ua = 0);
							n.ma.m( M, ua );
							A = Math.max( A, U );
							z = Math.max( z, H + (0 === Ia ? 0 : w) + Ca.width );
							aa = U
						}
						oa++
					}
					0 < Ia && (b ? (A += Math.max( 0, c ), M < z && at( a, p, z - M, 0, Ga,
							l - 1 ), 0 < x && (q || it( a, x, 0, 0, l - 1 ), z += x)) : (z += Math.max( 0, c ), aa < A && at( a, p, 0, A - aa, Ga, l - 1 ), 0 < x && (q || it( a, 0, x, 0, l - 1 ), A += x)));
					q = h = 0;
					switch( p )
					{
					case kt:
						b ? h += z / 2 - a.O.x - u / 2 : q += A / 2 - a.O.y - u / 2;
						break;
					case Js:
						0 < Ia ? b ? h += z / 2 - a.O.x - u / 2 : q += A / 2 - a.O.y - u / 2 : b ? (m = k[0].ma.x + k[0].La.x, pa = k[l - 1].ma.x + k[l - 1].La.x + 2 * k[l - 1].O.x, h += m + (pa - m) / 2 - a.O.x - u / 2) : (m = k[0].ma.y + k[0].La.y, pa = k[l - 1].ma.y + k[l - 1].La.y + 2 * k[l - 1].O.y, q += m + (pa - m) / 2 - a.O.y - u / 2);
						break;
					case Us:
						b ? (h -= u, z += u) : (q -= u, A += u);
						break;
					case Vs:
						b ? (h += z - a.width + u, z += u) : (q += A - a.height +
							u, A += u);
						break;
					case Ls:
						b ? h = 1 < l ? h + (pa + t / 2 - a.O.x) : h + (k[0].O.x - a.O.x + k[0].La.x) : q = 1 < l ? q + (pa + t / 2 - a.O.y) : q + (k[0].O.y - a.O.y + k[0].La.y);
						break;
					case Ms:
						b ? h += z + t / 2 - a.O.x : q += A + t / 2 - a.O.y;
						break;
					case Ns:
						break;
					default:
						v.k( "Unhandled alignment value " + p.toString() )
					}
					for( m = 0; m < l; m++ )n = k[m], b ? n.ma.m( n.ma.x + n.La.x - h, n.ma.y + (135 < f ? (r ? -A : -n.fb.height) + n.La.y - c : e + c + n.La.y) ) : n.ma.m( n.ma.x + (135 < f ? (r ? -z : -n.fb.width) + n.La.x - c : d + c + n.La.x), n.ma.y + n.La.y - q );
					l = k = 0;
					r ? b ? (z = lt( a, z, h ), 0 > h && (h = 0), 135 < f && (q += A + c), A += e + c, p === Ns && (k += t /
						2 + a.O.x), l += e + c) : (135 < f && (h += z + c), z += d + c, A = mt( a, A, q ), 0 > q && (q = 0), p === Ns && (l += t / 2 + a.O.y), k += d + c) : b ? (null === a.comments ? d > z && (p = nt( p, d - z, 0 ), k = p.x, l = p.y, z = d, h = 0) : z = lt( a, z, h ), 0 > h && (k -= h, h = 0), 135 < f && (q += A + c), A = Math.max( Math.max( A, e ), A + e + c ), l += e + c) : (135 < f && (h += z + c), z = Math.max( Math.max( z, d ), z + d + c ), null === a.comments ? e > A && (p = nt( p, 0, e - A ), k = p.x, l = p.y, A = e, q = 0) : A = mt( a, A, q ), 0 > q && (l -= q, q = 0), k += d + c);
					if( 0 < Ia )f = $s( this, 4 ), p = $s( this, 4 ), b ? (f[2].m( 0, e + c ), f[3].m( f[2].x, A ), p[2].m( z, f[2].y ), p[3].m( p[2].x, f[3].y )) : (f[2].m( d +
						c, 0 ), f[3].m( z, f[2].y ), p[2].m( f[2].x, A ), p[3].m( f[3].x, p[2].y ));
					else
					{
						f = $s( this, C.length + 2 );
						p = $s( this, T.length + 2 );
						for( m = 0; m < C.length; m++ )r = C[m], f[m + 2].m( r.x + k, r.y + l );
						for( m = 0; m < T.length; m++ )r = T[m], p[m + 2].m( r.x + k, r.y + l )
					}
					b ? (f[0].m( h, 0 ), f[1].m( f[0].x, e ), f[2].y < f[1].y && (f[2].x > f[0].x ? f[2].assign( f[1] ) : f[1].assign( f[2] )), f[3].y < f[2].y && (f[3].x > f[0].x ? f[3].assign( f[2] ) : f[2].assign( f[3] )), p[0].m( h + d, 0 ), p[1].m( p[0].x, e ), p[2].y < p[1].y && (p[2].x < p[0].x ? p[2].assign( p[1] ) : p[1].assign( p[2] )), p[3].y < p[2].y && (p[3].x <
						p[0].x ? p[3].assign( p[2] ) : p[2].assign( p[3] )), f[2].y -= c / 2, p[2].y -= c / 2) : (f[0].m( 0, q ), f[1].m( d, f[0].y ), f[2].x < f[1].x && (f[2].y > f[0].y ? f[2].assign( f[1] ) : f[1].assign( f[2] )), f[3].x < f[2].x && (f[3].y > f[0].y ? f[3].assign( f[2] ) : f[2].assign( f[3] )), p[0].m( 0, q + e ), p[1].m( d, p[0].y ), p[2].x < p[1].x && (p[2].y < p[0].y ? p[2].assign( p[1] ) : p[1].assign( p[2] )), p[3].x < p[2].x && (p[3].y < p[0].y ? p[3].assign( p[2] ) : p[2].assign( p[3] )), f[2].x -= c / 2, p[2].x -= c / 2);
					ot( this, C );
					ot( this, T );
					a.zt = f;
					a.Rt = p;
					a.La.m( h, q );
					a.fb.m( z, A )
				}
				break;
			default:
				v.k( "Unhandled compaction value " +
					a.compaction.toString() )
			}
		}
	};
	function Rs( a, b )
	{
		if( 0 === b.Dm )
		{
			var c = !1, d = 0, e = Js;
			null !== b.parent && (d = b.parent.angle, e = b.parent.alignment, c = Ks( e ));
			e = Ps( b );
			b.ma.m( 0, 0 );
			b.fb.m( b.width, b.height );
			null === b.parent || null === b.comments || (180 !== d && 270 !== d || c) && !e ? b.La.m( 0, 0 ) : 180 === d && !c || (90 === d || 270 === d) && e ? b.La.m( b.width - 2 * b.O.x, 0 ) : b.La.m( 0, b.height - 2 * b.O.y )
		}
		else
		{
			for( var c = Ts( b ), d = 90 === c || 270 === c, f = 0, e = b.children, h = e.length, k = 0; k < h; k++ )var l = e[k], f = Math.max( f, d ? l.fb.width : l.fb.height );
			var m = b.alignment, n = m === Us, p = m === Vs, q = Ks( m ), r = Math.max( 0,
				b.breadthLimit ), s = Ws( b ), t = b.nodeSpacing, u = Xs( b ), w = n || p ? 0 : u / 2, x = b.rowSpacing, z = 0;
			if( n || p || b.Ap || b.Bp && 1 === b.maxGenerationCount )z = Math.max( 0, b.rowIndent );
			var n = b.width, A = b.height, H = 0, C = 0, T = 0, ba = 0, U = 0, M = 0, aa = 0, Ia = 0, oa = 0, Ga = 0;
			q && !Os( m ) && 135 < c && e.reverse();
			if( Os( m ) )if( 1 < h )for( k = 0; k < h; k++ )
			{
				var l = e[k], pa = l.fb;
				0 === k % 2 && k !== h - 1 ? oa = Math.max( oa, (d ? pa.width : pa.height) + pt( l ) - t ) : 0 !== k % 2 && (Ga = Math.max( Ga, (d ? pa.width : pa.height) + pt( l ) - t ))
			}
			else 1 === h && (oa = d ? e[0].fb.width : e[0].fb.height);
			if( q )switch( m )
			{
			case Ls:
			case As:
				C =
						135 > c ? Ys( b, e, oa, H, C ) : Zs( b, e, oa, H, C );
				oa = C.x;
				H = C.width;
				C = C.height;
				break;
			case Ms:
				for( k = 0; k < h; k++ )l = e[k], pa = l.fb, r = 0 === aa ? 0 : x, d ? (l.ma.m( f - pa.width, U + r ), H = Math.max( H, pa.width ), C = Math.max( C, U + r + pa.height ), U += r + pa.height) : (l.ma.m( ba + r, f - pa.height ), H = Math.max( H, ba + r + pa.width ), C = Math.max( C, pa.height ), ba += r + pa.width), aa++;
				break;
			case Ns:
				for( f = 0; f < h; f++ )l = e[f], pa = l.fb, r = 0 === aa ? 0 : x, d ? (l.ma.m( t / 2 + b.O.x, U + r ), H = Math.max( H, pa.width ), C = Math.max( C, U + r + pa.height ), U += r + pa.height) : (l.ma.m( ba + r, t / 2 + b.O.y ), H = Math.max( H,
						ba + r + pa.width ), C = Math.max( C, pa.height ), ba += r + pa.width), aa++
			}
			else for( k = 0; k < h; k++ )l = e[k], pa = l.fb, d ? (0 < r && 0 < aa && ba + t + pa.width > r && (ba < f && at( b, m, f - ba, 0, Ia, k - 1 ), M++, aa = 0, Ia = k, T = C, ba = 0, U = 135 < c ? -C - x : C + x), Ga = 0 === aa ? w : t, gt( a, l, 0, U ), l.ma.m( ba + Ga, U ), H = Math.max( H, ba + Ga + pa.width ), C = Math.max( C, T + (0 === M ? 0 : x) + pa.height ), ba += Ga + pa.width) : (0 < r && 0 < aa && U + t + pa.height > r && (U < f && at( b, m, 0, f - U, Ia, k - 1 ), M++, aa = 0, Ia = k, T = H, U = 0, ba = 135 < c ? -H - x : H + x), Ga = 0 === aa ? w : t, gt( a, l, ba, 0 ), l.ma.m( ba, U + Ga ), C = Math.max( C, U + Ga + pa.height ), H = Math.max( H,
					T + (0 === M ? 0 : x) + pa.width ), U += Ga + pa.height), aa++;
			0 < M && (d ? (C += Math.max( 0, s ), ba < H && at( b, m, H - ba, 0, Ia, h - 1 ), 0 < z && (p || it( b, z, 0, 0, h - 1 ), H += z)) : (H += Math.max( 0, s ), U < C && at( b, m, 0, C - U, Ia, h - 1 ), 0 < z && (p || it( b, 0, z, 0, h - 1 ), C += z)));
			z = p = 0;
			switch( m )
			{
			case kt:
				d ? p += H / 2 - b.O.x - u / 2 : z += C / 2 - b.O.y - u / 2;
				break;
			case Js:
				0 < M ? d ? p += H / 2 - b.O.x - u / 2 : z += C / 2 - b.O.y - u / 2 : d ? (m = e[0].ma.x + e[0].La.x, t = e[h - 1].ma.x + e[h - 1].La.x + 2 * e[h - 1].O.x, p += m + (t - m) / 2 - b.O.x - u / 2) : (m = e[0].ma.y + e[0].La.y, t = e[h - 1].ma.y + e[h - 1].La.y + 2 * e[h - 1].O.y, z += m + (t - m) / 2 - b.O.y - u / 2);
				break;
			case Us:
				d ? (p -= u, H += u) : (z -= u, C += u);
				break;
			case Vs:
				d ? (p += H - b.width + u, H += u) : (z += C - b.height + u, C += u);
				break;
			case Ls:
			case As:
				d ? p = 1 < h ? p + (oa + t / 2 - b.O.x) : p + (e[0].O.x - b.O.x + e[0].La.x) : z = 1 < h ? z + (oa + t / 2 - b.O.y) : z + (e[0].O.y - b.O.y + e[0].La.y);
				break;
			case Ms:
				d ? p += H + t / 2 - b.O.x : z += C + t / 2 - b.O.y;
				break;
			case Ns:
				break;
			default:
				v.k( "Unhandled alignment value " + m.toString() )
			}
			for( k = 0; k < h; k++ )l = e[k], d ? l.ma.m( l.ma.x + l.La.x - p, l.ma.y + (135 < c ? (q ? -C : -l.fb.height) + l.La.y - s : A + s + l.La.y) ) : l.ma.m( l.ma.x + (135 < c ? (q ? -H : -l.fb.width) + l.La.x - s : n + s +
				l.La.x), l.ma.y + l.La.y - z );
			d ? (H = lt( b, H, p ), 0 > p && (p = 0), 135 < c && (z += C + s), C += A + s) : (135 < c && (p += H + s), H += n + s, C = mt( b, C, z ), 0 > z && (z = 0));
			b.La.m( p, z );
			b.fb.m( H, C )
		}
	}

	function Ys( a, b, c, d, e )
	{
		var f = b.length;
		if( 0 === f )return new B( c, 0, d, e );
		if( 1 === f )
		{
			var h = b[0];
			d = h.fb.width;
			e = h.fb.height;
			return new B( c, 0, d, e )
		}
		for( var k = a.nodeSpacing, l = a.rowSpacing, m = 90 === Ts( a ), n = 0, p = 0, q = 0, r = 0; r < f; r++ )if( !(0 !== r % 2 || 1 < f && r === f - 1) )
		{
			var h = b[r], s = h.fb, t = 0 === n ? 0 : l;
			if( m )
			{
				var u = pt( h ) - k;
				h.ma.m( c - (s.width + u), q + t );
				d = Math.max( d, s.width + u );
				e = Math.max( e, q + t + s.height );
				q += t + s.height
			}
			else u = pt( h ) - k, h.ma.m( p + t, c - (s.height + u) ), e = Math.max( e, s.height + u ), d = Math.max( d, p + t + s.width ), p += t + s.width;
			n++
		}
		var n =
			0, w = p, x = q;
		m ? (p = c + k, q = 0) : (p = 0, q = c + k);
		for( r = 0; r < f; r++ )0 !== r % 2 && (h = b[r], s = h.fb, t = 0 === n ? 0 : l, m ? (u = pt( h ) - k, h.ma.m( p + u, q + t ), d = Math.max( d, p + s.width + u ), e = Math.max( e, q + t + s.height ), q += t + s.height) : (u = pt( h ) - k, h.ma.m( p + t, q + u ), d = Math.max( d, p + t + s.width ), e = Math.max( e, q + s.height + u ), p += t + s.width), n++);
		1 < f && 1 === f % 2 && (h = b[f - 1], s = h.fb, b = qt( h, m ? Math.max( Math.abs( x ), Math.abs( q ) ) : Math.max( Math.abs( w ), Math.abs( p ) ) ), m ? (h.ma.m( c + k / 2 - h.O.x - h.La.x, e + b ), m = c + k / 2 - h.O.x - h.La.x, d = Math.max( d, m + s.width ), 0 > m && (d -= m), e = Math.max( e, Math.max( x,
			q ) + b + s.height ), 0 > h.ma.x && (c = rt( a, h.ma.x, !1, c, k ))) : (h.ma.m( d + b, c + k / 2 - h.O.y - h.La.y ), d = Math.max( d, Math.max( w, p ) + b + s.width ), m = c + k / 2 - h.O.y - h.La.y, e = Math.max( e, m + s.height ), 0 > m && (e -= m), 0 > h.ma.y && (c = rt( a, h.ma.y, !0, c, k ))));
		return new B( c, 0, d, e )
	}

	function Zs( a, b, c, d, e )
	{
		var f = b.length;
		if( 0 === f )return new B( c, 0, d, e );
		if( 1 === f )
		{
			var h = b[0];
			d = h.fb.width;
			e = h.fb.height;
			return new B( c, 0, d, e )
		}
		for( var k = a.nodeSpacing, l = a.rowSpacing, m = 270 === Ts( a ), n = 0, p = 0, q = 0, r = 0; r < f; r++ )if( !(0 !== r % 2 || 1 < f && r === f - 1) )
		{
			var h = b[r], s = h.fb, t = 0 === n ? 0 : l;
			if( m )
			{
				var u = pt( h ) - k, q = q - (t + s.height);
				h.ma.m( c - (s.width + u), q );
				d = Math.max( d, s.width + u );
				e = Math.max( e, Math.abs( q ) )
			}
			else u = pt( h ) - k, p -= t + s.width, h.ma.m( p, c - (s.height + u) ), e = Math.max( e, s.height + u ), d = Math.max( d, Math.abs( p ) );
			n++
		}
		var n = 0,
			w = p, x = q;
		m ? (p = c + k, q = 0) : (p = 0, q = c + k);
		for( r = 0; r < f; r++ )0 !== r % 2 && (h = b[r], s = h.fb, t = 0 === n ? 0 : l, m ? (u = pt( h ) - k, q -= t + s.height, h.ma.m( p + u, q ), d = Math.max( d, p + s.width + u ), e = Math.max( e, Math.abs( q ) )) : (u = pt( h ) - k, p -= t + s.width, h.ma.m( p, q + u ), e = Math.max( e, q + s.height + u ), d = Math.max( d, Math.abs( p ) )), n++);
		1 < f && 1 === f % 2 && (h = b[f - 1], s = h.fb, l = qt( h, m ? Math.max( Math.abs( x ), Math.abs( q ) ) : Math.max( Math.abs( w ), Math.abs( p ) ) ), m ? (h.ma.m( c + k / 2 - h.O.x - h.La.x, -e - s.height - l ), p = c + k / 2 - h.O.x - h.La.x, d = Math.max( d, p + s.width ), 0 > p && (d -= p), e = Math.max( e, Math.abs( Math.min( x,
			q ) ) + l + s.height ), 0 > h.ma.x && (c = rt( a, h.ma.x, !1, c, k ))) : (h.ma.m( -d - s.width - l, c + k / 2 - h.O.y - h.La.y ), d = Math.max( d, Math.abs( Math.min( w, p ) ) + l + s.width ), p = c + k / 2 - h.O.y - h.La.y, e = Math.max( e, p + s.height ), 0 > p && (e -= p), 0 > h.ma.y && (c = rt( a, h.ma.y, !0, c, k ))));
		for( r = 0; r < f; r++ )h = b[r], m ? h.ma.m( h.ma.x, h.ma.y + e ) : h.ma.m( h.ma.x + d, h.ma.y );
		return new B( c, 0, d, e )
	}

	function pt( a )
	{
		return null === a.parent ? 0 : a.parent.nodeSpacing
	}

	function qt( a )
	{
		return null === a.parent ? 0 : a.parent.rowSpacing
	}

	function rt( a, b, c, d, e )
	{
		a = a.children;
		for( var f = a.length, h = 0; h < f; h++ )c ? a[h].ma.m( a[h].ma.x, a[h].ma.y - b ) : a[h].ma.m( a[h].ma.x - b, a[h].ma.y );
		b = a[f - 1];
		return Math.max( d, c ? b.La.y + b.O.y - e / 2 : b.La.x + b.O.x - e / 2 )
	}

	function lt( a, b, c )
	{
		switch( a.alignment )
		{
		case Js:
		case kt:
			var d = b;
			c + a.width > d && (d = c + a.width);
			0 > c && (d -= c);
			return d;
		case Us:
			return a.width > b ? a.width : b;
		case Vs:
			return 2 * a.O.x > b ? a.width : b + a.width - 2 * a.O.x;
		case Ls:
		case As:
			return d = Math.min( 0, c ), c = Math.max( b, c + a.width ), Math.max( a.width, c - d );
		case Ms:
			return a.width - a.O.x + a.nodeSpacing / 2 + b;
		case Ns:
			return Math.max( a.width, a.O.x + a.nodeSpacing / 2 + b );
		default:
			return b
		}
	}

	function mt( a, b, c )
	{
		switch( a.alignment )
		{
		case Js:
		case kt:
			var d = b;
			c + a.height > d && (d = c + a.height);
			0 > c && (d -= c);
			return d;
		case Us:
			return a.height > b ? a.height : b;
		case Vs:
			return 2 * a.O.y > b ? a.height : b + a.height - 2 * a.O.y;
		case Ls:
		case As:
			return d = Math.min( 0, c ), c = Math.max( b, c + a.height ), Math.max( a.height, c - d );
		case Ms:
			return a.height - a.O.y + a.nodeSpacing / 2 + b;
		case Ns:
			return Math.max( a.height, a.O.y + a.nodeSpacing / 2 + b );
		default:
			return b
		}
	}

	function nt( a, b, c )
	{
		switch( a )
		{
		case kt:
			b /= 2;
			c /= 2;
			break;
		case Js:
			b /= 2;
			c /= 2;
			break;
		case Us:
			c = b = 0;
			break;
		case Vs:
			break;
		default:
			v.k( "Unhandled alignment value " + a.toString() )
		}
		return new y( b, c )
	}

	function at( a, b, c, d, e, f )
	{
		b = nt( b, c, d );
		it( a, b.x, b.y, e, f )
	}

	function it( a, b, c, d, e )
	{
		if( 0 !== b || 0 !== c )for( a = a.children; d <= e; d++ )
		{
			var f = a[d].ma;
			f.x += b;
			f.y += c
		}
	}

	function gt( a, b, c, d )
	{
		var e = b.parent;
		switch( a.Ef )
		{
		case ls:
			for( a = b.lc; a.next(); )b = a.value, b.fromVertex === e && b.Qr.m( c, d );
			break;
		case ss:
			for( a = b.$b; a.next(); )b = a.value, b.toVertex === e && b.Qr.m( c, d );
			break;
		default:
			v.k( "Unhandled path value " + a.Ef.toString() )
		}
	}

	function jt( a, b, c )
	{
		for( var d = 0; d < a.length; d++ )
		{
			var e = a[d];
			e.x += b;
			e.y += c
		}
	}

	function ht( a, b, c, d, e, f, h, k )
	{
		var l = Ts( b ), m = 90 === l || 270 === l, n = b.nodeSpacing;
		b = d;
		var p = e;
		d = f;
		e = h;
		var q = c.zt, r = c.Rt;
		h = c.fb;
		var s = m ? Math.max( e, h.height ) : Math.max( d, h.width );
		if( null === q || l !== Ts( c ) )q = $s( a, 2 ), r = $s( a, 2 ), m ? (q[0].m( 0, 0 ), q[1].m( 0, h.height ), r[0].m( h.width, 0 ), r[1].m( r[0].x, q[1].y )) : (q[0].m( 0, 0 ), q[1].m( h.width, 0 ), r[0].m( 0, h.height ), r[1].m( q[1].x, r[0].y ));
		if( m )
		{
			c = d;
			d = 9999999;
			if( !(null === p || 2 > p.length || null === q || 2 > q.length) )for( m = l = 0; l < p.length && m < q.length; )
			{
				e = p[l];
				var t = q[m];
				f = t.x;
				var u = t.y;
				f +=
					c;
				var w = e;
				l + 1 < p.length && (w = p[l + 1]);
				var x = t, t = x.x, x = x.y;
				m + 1 < q.length && (x = q[m + 1], t = x.x, x = x.y, t += c);
				var z = d;
				e.y === u ? z = f - e.x : e.y > u && e.y < x ? z = f + (e.y - u) / (x - u) * (t - f) - e.x : u > e.y && u < w.y && (z = f - (e.x + (u - e.y) / (w.y - e.y) * (w.x - e.x)));
				z < d && (d = z);
				w.y <= e.y ? l++ : x <= u ? m++ : (w.y <= x && l++, x <= w.y && m++)
			}
			c -= d;
			c += n;
			l = q;
			m = c;
			if( null === b || 2 > b.length || null === l || 2 > l.length )d = null;
			else
			{
				n = $s( a, b.length + l.length );
				for( d = f = e = 0; f < l.length && l[f].y < b[0].y; )u = l[f++], n[d++].m( u.x + m, u.y );
				for( ; e < b.length; )u = b[e++], n[d++].m( u.x, u.y );
				for( e = b[b.length -
					1].y; f < l.length && l[f].y <= e; )f++;
				for( ; f < l.length && l[f].y > e; )u = l[f++], n[d++].m( u.x + m, u.y );
				l = $s( a, d );
				for( e = 0; e < d; e++ )l[e].assign( n[e] );
				ot( a, n );
				d = l
			}
			f = r;
			u = c;
			if( null === p || 2 > p.length || null === f || 2 > f.length )e = null;
			else
			{
				n = $s( a, p.length + f.length );
				for( m = w = l = 0; l < p.length && p[l].y < f[0].y; )e = p[l++], n[m++].m( e.x, e.y );
				for( ; w < f.length; )e = f[w++], n[m++].m( e.x + u, e.y );
				for( f = f[f.length - 1].y; l < p.length && p[l].y <= f; )l++;
				for( ; l < p.length && p[l].y > f; )e = p[l++], n[m++].m( e.x, e.y );
				e = $s( a, m );
				for( l = 0; l < m; l++ )e[l].assign( n[l] );
				ot( a, n )
			}
			f =
				Math.max( 0, c ) + h.width;
			h = s
		}
		else
		{
			c = e;
			d = 9999999;
			if( !(null === p || 2 > p.length || null === q || 2 > q.length) )for( m = l = 0; l < p.length && m < q.length; )e = p[l], t = q[m], f = t.x, u = t.y, u += c, w = e, l + 1 < p.length && (w = p[l + 1]), x = t, t = x.x, x = x.y, m + 1 < q.length && (x = q[m + 1], t = x.x, x = x.y, x += c), z = d, e.x === f ? z = u - e.y : e.x > f && e.x < t ? z = u + (e.x - f) / (t - f) * (x - u) - e.y : f > e.x && f < w.x && (z = u - (e.y + (f - e.x) / (w.x - e.x) * (w.y - e.y))), z < d && (d = z), w.x <= e.x ? l++ : t <= f ? m++ : (w.x <= t && l++, t <= w.x && m++);
			c -= d;
			c += n;
			l = q;
			m = c;
			if( null === b || 2 > b.length || null === l || 2 > l.length )d = null;
			else
			{
				n = $s( a,
						b.length + l.length );
				for( d = f = e = 0; f < l.length && l[f].x < b[0].x; )u = l[f++], n[d++].m( u.x, u.y + m );
				for( ; e < b.length; )u = b[e++], n[d++].m( u.x, u.y );
				for( e = b[b.length - 1].x; f < l.length && l[f].x <= e; )f++;
				for( ; f < l.length && l[f].x > e; )u = l[f++], n[d++].m( u.x, u.y + m );
				l = $s( a, d );
				for( e = 0; e < d; e++ )l[e].assign( n[e] );
				ot( a, n );
				d = l
			}
			f = r;
			u = c;
			if( null === p || 2 > p.length || null === f || 2 > f.length )e = null;
			else
			{
				n = $s( a, p.length + f.length );
				for( m = w = l = 0; l < p.length && p[l].x < f[0].x; )e = p[l++], n[m++].m( e.x, e.y );
				for( ; w < f.length; )e = f[w++], n[m++].m( e.x, e.y + u );
				for( f =
							 f[f.length - 1].x; l < p.length && p[l].x <= f; )l++;
				for( ; l < p.length && p[l].x > f; )e = p[l++], n[m++].m( e.x, e.y );
				e = $s( a, m );
				for( l = 0; l < m; l++ )e[l].assign( n[l] );
				ot( a, n )
			}
			f = s;
			h = Math.max( 0, c ) + h.height
		}
		ot( a, b );
		ot( a, q );
		ot( a, p );
		ot( a, r );
		k[0] = d;
		k[1] = e;
		return new B( c, 0, f, h )
	}

	function $s( a, b )
	{
		var c = a.Ky[b];
		if( void 0 !== c && (c = c.pop(), void 0 !== c) )return c;
		for( var c = [], d = 0; d < b; d++ )c[d] = new y;
		return c
	}

	function ot( a, b )
	{
		var c = b.length, d = a.Ky[c];
		void 0 === d && (d = [], a.Ky[c] = d);
		d.push( b )
	}

	Z.prototype.arrangeTrees = function()
	{
		if( this.fd === rs )for( var a = this.vd.i; a.next(); )
		{
			var b = a.value;
			if( b instanceof ps )
			{
				var c = b.Jc;
				if( null !== c )
				{
					var d = c.position, c = d.x, d = d.y;
					isFinite( c ) || (c = 0);
					isFinite( d ) || (d = 0);
					st( this, b, c, d )
				}
			}
		}
		else
		{
			c = [];
			for( a = this.vd.i; a.next(); )b = a.value, b instanceof ps && c.push( b );
			switch( this.sorting )
			{
			case Fs:
				break;
			case Gs:
				c.reverse();
				break;
			case Hs:
				c.sort( this.comparer );
				break;
			case Is:
				c.sort( this.comparer );
				c.reverse();
				break;
			default:
				v.k( "Unhandled sorting value " + this.sorting.toString() )
			}
			b =
				this.Zd;
			a = b.x;
			b = b.y;
			for( d = 0; d < c.length; d++ )
			{
				var e = c[d];
				st( this, e, a + e.La.x, b + e.La.y );
				switch( this.fd )
				{
				case os:
					b += e.fb.height + this.cg.height;
					break;
				case tt:
					a += e.fb.width + this.cg.width;
					break;
				default:
					v.k( "Unhandled arrangement value " + this.fd.toString() )
				}
			}
		}
	};
	function st( a, b, c, d )
	{
		if( null !== b )
		{
			b.x = c;
			b.y = d;
			b = b.children;
			for( var e = b.length, f = 0; f < e; f++ )
			{
				var h = b[f];
				st( a, h, c + h.ma.x, d + h.ma.y )
			}
		}
	}

	Z.prototype.commitLayout = function()
	{
		this.kA();
		this.commitNodes();
		this.bz();
		this.wt && this.commitLinks()
	};
	Z.prototype.commitNodes = function()
	{
		for( var a = this.network.vertexes.i; a.next(); )a.value.commit();
		for( a.reset(); a.next(); )this.layoutComments( a.value )
	};
	Z.prototype.bz = function()
	{
		if( this.Ez === xs )
		{
			for( var a = this.LA, b = [], c = null, d = this.network.vertexes.i; d.next(); )
			{
				var e = d.value;
				null === c ? c = e.mb.copy() : c.ci( e.mb );
				var f = b[e.level], f = void 0 === f ? Ws( e ) : Math.max( f, Ws( e ) );
				b[e.level] = f
			}
			for( d = 0; d < b.length; d++ )void 0 === b[d] && (b[d] = 0);
			90 === this.angle || 270 === this.angle ? (c.Rf( this.nodeSpacing / 2, this.layerSpacing ), e = new y( -this.nodeSpacing / 2, -this.layerSpacing / 2 )) : (c.Rf( this.layerSpacing, this.nodeSpacing / 2 ), e = new y( -this.layerSpacing / 2, -this.nodeSpacing / 2 ));
			var f =
				[], c = 90 === this.angle || 270 === this.angle ? c.width : c.height, h = 0;
			if( 180 === this.angle || 270 === this.angle )for( d = 0; d < a.length; d++ )h += a[d] + b[d];
			for( d = 0; d < a.length; d++ )
			{
				var k = a[d] + b[d];
				270 === this.angle ? (h -= k, f.push( new B( 0, h, c, k ) )) : 90 === this.angle ? (f.push( new B( 0, h, c, k ) ), h += k) : 180 === this.angle ? (h -= k, f.push( new B( h, 0, k, c ) )) : (f.push( new B( h, 0, k, c ) ), h += k)
			}
			this.commitLayers( f, e )
		}
	};
	Z.prototype.commitLayers = function()
	{
	};
	Z.prototype.commitLinks = function()
	{
		for( var a = this.network.edges.i; a.next(); )a.value.commit()
	};
	Z.prototype.kA = function()
	{
		for( var a = this.vd.i; a.next(); )
		{
			var b = a.value;
			b instanceof ps && ut( this, b )
		}
	};
	function ut( a, b )
	{
		if( null !== b )
		{
			a.setPortSpots( b );
			for( var c = b.children, d = c.length, e = 0; e < d; e++ )ut( a, c[e] )
		}
	}

	Z.prototype.setPortSpots = function( a )
	{
		var b = a.alignment;
		if( Ks( b ) )
		{
			var c = this.Ef === ls, d = Ts( a ), e;
			switch( d )
			{
			case 0:
				e = rc;
				break;
			case 90:
				e = sc;
				break;
			case 180:
				e = qc;
				break;
			default:
				e = pc
			}
			var f = a.children, h = f.length;
			switch( b )
			{
			case Ls:
			case As:
				for( b = 0; b < h; b++ )
				{
					var k = f[b], k = (c ? k.lc : k.$b).first();
					if( null !== k && (k = k.link, null !== k) )
					{
						var l = 90 === d || 270 === d ? qc : pc;
						if( 1 === h || b === h - 1 && 1 === h % 2 )switch( d )
						{
						case 0:
							l = qc;
							break;
						case 90:
							l = pc;
							break;
						case 180:
							l = rc;
							break;
						default:
							l = sc
						}
						else 0 === b % 2 && (l = 90 === d || 270 === d ? rc : sc);
						c ? (a.setsPortSpot &&
							(k.xb = e), a.setsChildPortSpot && (k.yb = l)) : (a.setsPortSpot && (k.xb = l), a.setsChildPortSpot && (k.yb = e))
					}
				}
				break;
			case Ms:
				l = 90 === d || 270 === d ? rc : sc;
				for( d = c ? a.$b : a.lc; d.next(); )k = d.value.link, null !== k && (c ? (a.setsPortSpot && (k.xb = e), a.setsChildPortSpot && (k.yb = l)) : (a.setsPortSpot && (k.xb = l), a.setsChildPortSpot && (k.yb = e)));
				break;
			case Ns:
				for( l = 90 === d || 270 === d ? qc : pc, d = c ? a.$b : a.lc; d.next(); )k = d.value.link, null !== k && (c ? (a.setsPortSpot && (k.xb = e), a.setsChildPortSpot && (k.yb = l)) : (a.setsPortSpot && (k.xb = l), a.setsChildPortSpot &&
					(k.yb = e)))
			}
		}
		else if( c = Ts( a ), this.Ef === ls )for( e = a.$b; e.next(); )
		{
			if( d = e.value.link, null !== d )
			{
				if( a.setsPortSpot )if( a.portSpot.Uc() )switch( c )
				{
				case 0:
					d.xb = rc;
					break;
				case 90:
					d.xb = sc;
					break;
				case 180:
					d.xb = qc;
					break;
				default:
					d.xb = pc
				}
				else d.xb = a.portSpot;
				if( a.setsChildPortSpot )if( a.childPortSpot.Uc() )switch( c )
				{
				case 0:
					d.yb = qc;
					break;
				case 90:
					d.yb = pc;
					break;
				case 180:
					d.yb = rc;
					break;
				default:
					d.yb = sc
				}
				else d.yb = a.childPortSpot
			}
		}
		else for( e = a.lc; e.next(); )if( d = e.value.link, null !== d )
			{
				if( a.setsPortSpot )if( a.portSpot.Uc() )switch( c )
				{
				case 0:
					d.yb =
						rc;
					break;
				case 90:
					d.yb = sc;
					break;
				case 180:
					d.yb = qc;
					break;
				default:
					d.yb = pc
				}
				else d.yb = a.portSpot;
				if( a.setsChildPortSpot )if( a.childPortSpot.Uc() )switch( c )
				{
				case 0:
					d.xb = qc;
					break;
				case 90:
					d.xb = pc;
					break;
				case 180:
					d.xb = rc;
					break;
				default:
					d.xb = sc
				}
				else d.xb = a.childPortSpot
			}
	};
	function Ts( a )
	{
		a = a.angle;
		return 45 >= a ? 0 : 135 >= a ? 90 : 225 >= a ? 180 : 315 >= a ? 270 : 0
	}

	function Ws( a )
	{
		var b = Ts( a ), b = 90 === b || 270 === b, c = a.layerSpacing;
		if( 0 < a.layerSpacingParentOverlap )var d = Math.min( 1, a.layerSpacingParentOverlap ), c = c - (b ? a.height * d : a.width * d);
		c < (b ? -a.height : -a.width) && (c = b ? -a.height : -a.width);
		return c
	}

	function Xs( a )
	{
		var b = Ts( a ), b = 90 === b || 270 === b, c = a.nodeIndent;
		if( 0 < a.nodeIndentPastParent )var d = Math.min( 1, a.nodeIndentPastParent ), c = c + (b ? a.width * d : a.height * d);
		return c = Math.max( 0, c )
	}

	v.defineProperty( Z, {AK: "roots"}, function()
	{
		return this.vd
	}, function( a )
	{
		this.vd !== a && (v.A( a, J, Z, "roots" ), this.vd = a, this.H())
	} );
	v.defineProperty( Z, {path: "path"}, function()
	{
		return this.Jr
	}, function( a )
	{
		this.Jr !== a && (v.pb( a, Z, Z, "path" ), this.Jr = a, this.H())
	} );
	v.defineProperty( Z, {NI: "treeStyle"}, function()
	{
		return this.Es
	}, function( a )
	{
		this.fd !== a && (v.pb( a, Z, Z, "treeStyle" ), a === ms || a === Ds || a === Es || a === Cs) && (this.Es = a, this.H())
	} );
	v.defineProperty( Z, {Ez: "layerStyle"}, function()
	{
		return this.lv
	}, function( a )
	{
		this.fd !== a && (v.pb( a, Z, Z, "layerStyle" ), a === ns || a === ys || a === xs) && (this.lv = a, this.H())
	} );
	v.defineProperty( Z, {comments: "comments"}, function()
	{
		return this.vh
	}, function( a )
	{
		this.vh !== a && (v.j( a, "boolean", Z, "comments" ), this.vh = a, this.H())
	} );
	v.defineProperty( Z, {Of: "arrangement"}, function()
	{
		return this.fd
	}, function( a )
	{
		this.fd !== a && (v.pb( a, Z, Z, "arrangement" ), a === os || a === tt || a === rs) && (this.fd = a, this.H())
	} );
	v.defineProperty( Z, {gD: "arrangementSpacing"}, function()
	{
		return this.cg
	}, function( a )
	{
		v.A( a, ia, Z, "arrangementSpacing" );
		this.cg.K( a ) || (this.cg.assign( a ), this.H())
	} );
	v.defineProperty( Z, {zK: "rootDefaults"}, function()
	{
		return this.ra
	}, function( a )
	{
		this.ra !== a && (v.A( a, ps, Z, "rootDefaults" ), this.ra = a, this.H())
	} );
	v.defineProperty( Z, {eJ: "alternateDefaults"}, function()
	{
		return this.ta
	}, function( a )
	{
		this.ta !== a && (v.A( a, ps, Z, "alternateDefaults" ), this.ta = a, this.H())
	} );
	v.defineProperty( Z, {sorting: "sorting"}, function()
	{
		return this.ra.sorting
	}, function( a )
	{
		this.ra.sorting !== a && (v.pb( a, Z, Z, "sorting" ), a === Fs || a === Gs || a === Hs || Is) && (this.ra.sorting = a, this.H())
	} );
	v.defineProperty( Z, {comparer: "comparer"}, function()
	{
		return this.ra.comparer
	}, function( a )
	{
		this.ra.comparer !== a && (v.j( a, "function", Z, "comparer" ), this.ra.comparer = a, this.H())
	} );
	v.defineProperty( Z, {angle: "angle"}, function()
	{
		return this.ra.angle
	}, function( a )
	{
		this.ra.angle !== a && (v.j( a, "number", Z, "angle" ), 0 === a || 90 === a || 180 === a || 270 === a ? (this.ra.angle = a, this.H()) : v.k( "TreeLayout.angle must be 0, 90, 180, or 270" ))
	} );
	v.defineProperty( Z, {alignment: "alignment"}, function()
	{
		return this.ra.alignment
	}, function( a )
	{
		this.ra.alignment !== a && (v.pb( a, Z, Z, "alignment" ), this.ra.alignment = a, this.H())
	} );
	v.defineProperty( Z, {nodeIndent: "nodeIndent"}, function()
	{
		return this.ra.nodeIndent
	}, function( a )
	{
		this.ra.nodeIndent !== a && (v.j( a, "number", Z, "nodeIndent" ), 0 <= a && (this.ra.nodeIndent = a, this.H()))
	} );
	v.defineProperty( Z, {nodeIndentPastParent: "nodeIndentPastParent"}, function()
	{
		return this.ra.nodeIndentPastParent
	}, function( a )
	{
		this.ra.nodeIndentPastParent !== a && (v.j( a, "number", Z, "nodeIndentPastParent" ), 0 <= a && 1 >= a && (this.ra.nodeIndentPastParent = a, this.H()))
	} );
	v.defineProperty( Z, {nodeSpacing: "nodeSpacing"}, function()
	{
		return this.ra.nodeSpacing
	}, function( a )
	{
		this.ra.nodeSpacing !== a && (v.j( a, "number", Z, "nodeSpacing" ), this.ra.nodeSpacing = a, this.H())
	} );
	v.defineProperty( Z, {layerSpacing: "layerSpacing"}, function()
	{
		return this.ra.layerSpacing
	}, function( a )
	{
		this.ra.layerSpacing !== a && (v.j( a, "number", Z, "layerSpacing" ), this.ra.layerSpacing = a, this.H())
	} );
	v.defineProperty( Z, {layerSpacingParentOverlap: "layerSpacingParentOverlap"}, function()
	{
		return this.ra.layerSpacingParentOverlap
	}, function( a )
	{
		this.ra.layerSpacingParentOverlap !== a && (v.j( a, "number", Z, "layerSpacingParentOverlap" ), 0 <= a && 1 >= a && (this.ra.layerSpacingParentOverlap = a, this.H()))
	} );
	v.defineProperty( Z, {compaction: "compaction"}, function()
	{
		return this.ra.compaction
	}, function( a )
	{
		this.ra.compaction !== a && (v.pb( a, Z, Z, "compaction" ), a === Qs || a === Ss) && (this.ra.compaction = a, this.H())
	} );
	v.defineProperty( Z, {breadthLimit: "breadthLimit"}, function()
	{
		return this.ra.breadthLimit
	}, function( a )
	{
		this.ra.breadthLimit !== a && (v.j( a, "number", Z, "breadthLimit" ), 0 <= a && (this.ra.breadthLimit = a, this.H()))
	} );
	v.defineProperty( Z, {rowSpacing: "rowSpacing"}, function()
	{
		return this.ra.rowSpacing
	}, function( a )
	{
		this.ra.rowSpacing !== a && (v.j( a, "number", Z, "rowSpacing" ), this.ra.rowSpacing = a, this.H())
	} );
	v.defineProperty( Z, {rowIndent: "rowIndent"}, function()
	{
		return this.ra.rowIndent
	}, function( a )
	{
		this.ra.rowIndent !== a && (v.j( a, "number", Z, "rowIndent" ), 0 <= a && (this.ra.rowIndent = a, this.H()))
	} );
	v.defineProperty( Z, {commentSpacing: "commentSpacing"}, function()
	{
		return this.ra.commentSpacing
	}, function( a )
	{
		this.ra.commentSpacing !== a && (v.j( a, "number", Z, "commentSpacing" ), this.ra.commentSpacing = a, this.H())
	} );
	v.defineProperty( Z, {commentMargin: "commentMargin"}, function()
	{
		return this.ra.commentMargin
	}, function( a )
	{
		this.ra.commentMargin !== a && (v.j( a, "number", Z, "commentMargin" ), this.ra.commentMargin = a, this.H())
	} );
	v.defineProperty( Z, {setsPortSpot: "setsPortSpot"}, function()
	{
		return this.ra.setsPortSpot
	}, function( a )
	{
		this.ra.setsPortSpot !== a && (v.j( a, "boolean", Z, "setsPortSpot" ), this.ra.setsPortSpot = a, this.H())
	} );
	v.defineProperty( Z, {portSpot: "portSpot"}, function()
	{
		return this.ra.portSpot
	}, function( a )
	{
		v.A( a, L, Z, "portSpot" );
		this.ra.portSpot.K( a ) || (this.ra.portSpot = a, this.H())
	} );
	v.defineProperty( Z, {setsChildPortSpot: "setsChildPortSpot"}, function()
	{
		return this.ra.setsChildPortSpot
	}, function( a )
	{
		this.ra.setsChildPortSpot !== a && (v.j( a, "boolean", Z, "setsChildPortSpot" ), this.ra.setsChildPortSpot = a, this.H())
	} );
	v.defineProperty( Z, {childPortSpot: "childPortSpot"}, function()
	{
		return this.ra.childPortSpot
	}, function( a )
	{
		v.A( a, L, Z, "childPortSpot" );
		this.ra.childPortSpot.K( a ) || (this.ra.childPortSpot = a, this.H())
	} );
	v.defineProperty( Z, {pJ: "alternateSorting"}, function()
	{
		return this.ta.sorting
	}, function( a )
	{
		this.ta.sorting !== a && (v.pb( a, Z, Z, "alternateSorting" ), a === Fs || a === Gs || a === Hs || Is) && (this.ta.sorting = a, this.H())
	} );
	v.defineProperty( Z, {dJ: "alternateComparer"}, function()
	{
		return this.ta.comparer
	}, function( a )
	{
		this.ta.comparer !== a && (v.j( a, "function", Z, "alternateComparer" ), this.ta.comparer = a, this.H())
	} );
	v.defineProperty( Z, {YI: "alternateAngle"}, function()
	{
		return this.ta.angle
	}, function( a )
	{
		this.ta.angle !== a && (v.j( a, "number", Z, "alternateAngle" ), 0 === a || 90 === a || 180 === a || 270 === a) && (this.ta.angle = a, this.H())
	} );
	v.defineProperty( Z, {XI: "alternateAlignment"}, function()
	{
		return this.ta.alignment
	}, function( a )
	{
		this.ta.alignment !== a && (v.pb( a, Z, Z, "alternateAlignment" ), this.ta.alignment = a, this.H())
	} );
	v.defineProperty( Z, {hJ: "alternateNodeIndent"}, function()
	{
		return this.ta.nodeIndent
	}, function( a )
	{
		this.ta.nodeIndent !== a && (v.j( a, "number", Z, "alternateNodeIndent" ), 0 <= a && (this.ta.nodeIndent = a, this.H()))
	} );
	v.defineProperty( Z, {iJ: "alternateNodeIndentPastParent"}, function()
	{
		return this.ta.nodeIndentPastParent
	}, function( a )
	{
		this.ta.nodeIndentPastParent !== a && (v.j( a, "number", Z, "alternateNodeIndentPastParent" ), 0 <= a && 1 >= a && (this.ta.nodeIndentPastParent = a, this.H()))
	} );
	v.defineProperty( Z, {jJ: "alternateNodeSpacing"}, function()
	{
		return this.ta.nodeSpacing
	}, function( a )
	{
		this.ta.nodeSpacing !== a && (v.j( a, "number", Z, "alternateNodeSpacing" ), this.ta.nodeSpacing = a, this.H())
	} );
	v.defineProperty( Z, {fJ: "alternateLayerSpacing"}, function()
	{
		return this.ta.layerSpacing
	}, function( a )
	{
		this.ta.layerSpacing !== a && (v.j( a, "number", Z, "alternateLayerSpacing" ), this.ta.layerSpacing = a, this.H())
	} );
	v.defineProperty( Z, {gJ: "alternateLayerSpacingParentOverlap"}, function()
	{
		return this.ta.layerSpacingParentOverlap
	}, function( a )
	{
		this.ta.layerSpacingParentOverlap !== a && (v.j( a, "number", Z, "alternateLayerSpacingParentOverlap" ), 0 <= a && 1 >= a && (this.ta.layerSpacingParentOverlap = a, this.H()))
	} );
	v.defineProperty( Z, {cJ: "alternateCompaction"}, function()
	{
		return this.ta.compaction
	}, function( a )
	{
		this.ta.compaction !== a && (v.pb( a, Z, Z, "alternateCompaction" ), a === Qs || a === Ss) && (this.ta.compaction = a, this.H())
	} );
	v.defineProperty( Z, {ZI: "alternateBreadthLimit"}, function()
	{
		return this.ta.breadthLimit
	}, function( a )
	{
		this.ta.breadthLimit !== a && (v.j( a, "number", Z, "alternateBreadthLimit" ), 0 <= a && (this.ta.breadthLimit = a, this.H()))
	} );
	v.defineProperty( Z, {mJ: "alternateRowSpacing"}, function()
	{
		return this.ta.rowSpacing
	}, function( a )
	{
		this.ta.rowSpacing !== a && (v.j( a, "number", Z, "alternateRowSpacing" ), this.ta.rowSpacing = a, this.H())
	} );
	v.defineProperty( Z, {lJ: "alternateRowIndent"}, function()
	{
		return this.ta.rowIndent
	}, function( a )
	{
		this.ta.rowIndent !== a && (v.j( a, "number", Z, "alternateRowIndent" ), 0 <= a && (this.ta.rowIndent = a, this.H()))
	} );
	v.defineProperty( Z, {bJ: "alternateCommentSpacing"}, function()
	{
		return this.ta.commentSpacing
	}, function( a )
	{
		this.ta.commentSpacing !== a && (v.j( a, "number", Z, "alternateCommentSpacing" ), this.ta.commentSpacing = a, this.H())
	} );
	v.defineProperty( Z, {aJ: "alternateCommentMargin"}, function()
	{
		return this.ta.commentMargin
	}, function( a )
	{
		this.ta.commentMargin !== a && (v.j( a, "number", Z, "alternateCommentMargin" ), this.ta.commentMargin = a, this.H())
	} );
	v.defineProperty( Z, {oJ: "alternateSetsPortSpot"}, function()
	{
		return this.ta.setsPortSpot
	}, function( a )
	{
		this.ta.setsPortSpot !== a && (v.j( a, "boolean", Z, "alternateSetsPortSpot" ), this.ta.setsPortSpot = a, this.H())
	} );
	v.defineProperty( Z, {kJ: "alternatePortSpot"}, function()
	{
		return this.ta.portSpot
	}, function( a )
	{
		v.A( a, L, Z, "alternatePortSpot" );
		this.ta.portSpot.K( a ) || (this.ta.portSpot = a, this.H())
	} );
	v.defineProperty( Z, {nJ: "alternateSetsChildPortSpot"}, function()
	{
		return this.ta.setsChildPortSpot
	}, function( a )
	{
		this.ta.setsChildPortSpot !== a && (v.j( a, "boolean", Z, "alternateSetsChildPortSpot" ), this.ta.setsChildPortSpot = a, this.H())
	} );
	v.defineProperty( Z, {$I: "alternateChildPortSpot"}, function()
	{
		return this.ta.childPortSpot
	}, function( a )
	{
		v.A( a, L, Z, "alternateChildPortSpot" );
		this.ta.childPortSpot.K( a ) || (this.ta.childPortSpot = a, this.H())
	} );
	var ks;
	Z.PathDefault = ks = v.p( Z, "PathDefault", -1 );
	var ls;
	Z.PathDestination = ls = v.p( Z, "PathDestination", 0 );
	var ss;
	Z.PathSource = ss = v.p( Z, "PathSource", 1 );
	var Fs;
	Z.SortingForwards = Fs = v.p( Z, "SortingForwards", 10 );
	var Gs;
	Z.SortingReverse = Gs = v.p( Z, "SortingReverse", 11 );
	var Hs;
	Z.SortingAscending = Hs = v.p( Z, "SortingAscending", 12 );
	var Is;
	Z.SortingDescending = Is = v.p( Z, "SortingDescending", 13 );
	var kt;
	Z.AlignmentCenterSubtrees = kt = v.p( Z, "AlignmentCenterSubtrees", 20 );
	var Js;
	Z.AlignmentCenterChildren = Js = v.p( Z, "AlignmentCenterChildren", 21 );
	var Us;
	Z.AlignmentStart = Us = v.p( Z, "AlignmentStart", 22 );
	var Vs;
	Z.AlignmentEnd = Vs = v.p( Z, "AlignmentEnd", 23 );
	var Ls;
	Z.AlignmentBus = Ls = v.p( Z, "AlignmentBus", 24 );
	var As;
	Z.AlignmentBusBranching = As = v.p( Z, "AlignmentBusBranching", 25 );
	var Ms;
	Z.AlignmentTopLeftBus = Ms = v.p( Z, "AlignmentTopLeftBus", 26 );
	var Ns;
	Z.AlignmentBottomRightBus = Ns = v.p( Z, "AlignmentBottomRightBus", 27 );
	var Qs;
	Z.CompactionNone = Qs = v.p( Z, "CompactionNone", 30 );
	var Ss;
	Z.CompactionBlock = Ss = v.p( Z, "CompactionBlock", 31 );
	var ms;
	Z.StyleLayered = ms = v.p( Z, "StyleLayered", 40 );
	var Es;
	Z.StyleLastParents = Es = v.p( Z, "StyleLastParents", 41 );
	var Ds;
	Z.StyleAlternating = Ds = v.p( Z, "StyleAlternating", 42 );
	var Cs;
	Z.StyleRootOnly = Cs = v.p( Z, "StyleRootOnly", 43 );
	var os;
	Z.ArrangementVertical = os = v.p( Z, "ArrangementVertical", 50 );
	var tt;
	Z.ArrangementHorizontal = tt = v.p( Z, "ArrangementHorizontal", 51 );
	var rs;
	Z.ArrangementFixedRoots = rs = v.p( Z, "ArrangementFixedRoots", 52 );
	var ns;
	Z.LayerIndividual = ns = v.p( Z, "LayerIndividual", 60 );
	var ys;
	Z.LayerSiblings = ys = v.p( Z, "LayerSiblings", 61 );
	var xs;
	Z.LayerUniform = xs = v.p( Z, "LayerUniform", 62 );
	function qs()
	{
		Zf.call( this )
	}

	v.Ia( qs, Zf );
	v.ea( "TreeNetwork", qs );
	qs.prototype.createVertex = function()
	{
		return new ps
	};
	qs.prototype.createEdge = function()
	{
		return new vt
	};
	function ps()
	{
		nq.call( this );
		this.initialized = !1;
		this.parent = null;
		this.children = [];
		this.maxGenerationCount = this.maxChildrenCount = this.descendantCount = this.level = 0;
		this.comments = null;
		this.ma = new y( 0, 0 );
		this.fb = new ia( 0, 0 );
		this.La = new y( 0, 0 );
		this.Bp = this.Ap = this.pI = !1;
		this.Rt = this.zt = null;
		this.sorting = Fs;
		this.comparer = tq;
		this.angle = 0;
		this.alignment = Js;
		this.nodeIndentPastParent = this.nodeIndent = 0;
		this.nodeSpacing = 20;
		this.layerSpacing = 50;
		this.layerSpacingParentOverlap = 0;
		this.compaction = Ss;
		this.breadthLimit =
			0;
		this.rowSpacing = 25;
		this.commentSpacing = this.rowIndent = 10;
		this.commentMargin = 20;
		this.setsPortSpot = !0;
		this.portSpot = kc;
		this.setsChildPortSpot = !0;
		this.childPortSpot = kc
	}

	v.Ia( ps, nq );
	v.ea( "TreeVertex", ps );
	ps.prototype.copyInheritedPropertiesFrom = function( a )
	{
		null !== a && (this.sorting = a.sorting, this.comparer = a.comparer, this.angle = a.angle, this.alignment = a.alignment, this.nodeIndent = a.nodeIndent, this.nodeIndentPastParent = a.nodeIndentPastParent, this.nodeSpacing = a.nodeSpacing, this.layerSpacing = a.layerSpacing, this.layerSpacingParentOverlap = a.layerSpacingParentOverlap, this.compaction = a.compaction, this.breadthLimit = a.breadthLimit, this.rowSpacing = a.rowSpacing, this.rowIndent = a.rowIndent, this.commentSpacing = a.commentSpacing,
			this.commentMargin = a.commentMargin, this.setsPortSpot = a.setsPortSpot, this.portSpot = a.portSpot, this.setsChildPortSpot = a.setsChildPortSpot, this.childPortSpot = a.childPortSpot)
	};
	v.u( ps, {Dm: "childrenCount"}, function()
	{
		return this.children.length
	} );
	v.defineProperty( ps, {yK: "relativePosition"}, function()
	{
		return this.ma
	}, function( a )
	{
		this.ma.set( a )
	} );
	v.defineProperty( ps, {KK: "subtreeSize"}, function()
	{
		return this.fb
	}, function( a )
	{
		this.fb.set( a )
	} );
	v.defineProperty( ps, {JK: "subtreeOffset"}, function()
	{
		return this.La
	}, function( a )
	{
		this.La.set( a )
	} );
	function vt()
	{
		oq.call( this );
		this.Qr = new y( 0, 0 )
	}

	v.Ia( vt, oq );
	v.ea( "TreeEdge", vt );
	vt.prototype.commit = function()
	{
		var a = this.link;
		if( null !== a && !a.rl )
		{
			var b = this.network.Pb, c = null, d = null;
			switch( b.Ef )
			{
			case ls:
				c = this.fromVertex;
				d = this.toVertex;
				break;
			case ss:
				c = this.toVertex;
				d = this.fromVertex;
				break;
			default:
				v.k( "Unhandled path value " + b.Ef.toString() )
			}
			if( null !== c && null !== d )if( b = this.Qr, 0 !== b.x || 0 !== b.y || c.pI )
			{
				var d = c.mb, e = Ts( c ), f = Ws( c ), h = c.rowSpacing;
				a.gn();
				var k = a.Je === Hi, l = a.jc, m = 0, n, p;
				a.Cl();
				if( l || k )
				{
					for( m = 2; 4 < a.oa; )a.CE( 2 );
					n = a.l( 1 );
					p = a.l( 2 )
				}
				else
				{
					for( m = 1; 3 < a.oa; )a.CE( 1 );
					n = a.l( 0 );
					p =
						a.l( a.oa - 1 )
				}
				var q = a.l( a.oa - 1 ), r = 0;
				0 === e ? (c.alignment === Vs ? (r = d.bottom + b.y, 0 === b.y && n.y > q.y + c.rowIndent && (r = Math.min( r, Math.max( n.y, r - Xs( c ) ) ))) : c.alignment === Us ? (r = d.top + b.y, 0 === b.y && n.y < q.y - c.rowIndent && (r = Math.max( r, Math.min( n.y, r + Xs( c ) ) ))) : r = c.Ap || c.Bp && 1 === c.maxGenerationCount ? d.top - c.La.y + b.y : d.y + d.height / 2 + b.y, k ? (a.w( m, n.x, r ), m++, a.w( m, d.right + f, r ), m++, a.w( m, d.right + f + (b.x - h) / 3, r ), m++, a.w( m, d.right + f + 2 * (b.x - h) / 3, r ), m++, a.w( m, d.right + f + (b.x - h), r ), m++, a.w( m, p.x, r )) : (l && (a.w( m, d.right + f / 2, n.y ),
					m++), a.w( m, d.right + f / 2, r ), m++, a.w( m, d.right + f + b.x - (l ? h / 2 : h), r ), m++, l && a.w( m, a.l( m - 1 ).x, p.y ))) : 90 === e ? (c.alignment === Vs ? (r = d.right + b.x, 0 === b.x && n.x > q.x + c.rowIndent && (r = Math.min( r, Math.max( n.x, r - Xs( c ) ) ))) : c.alignment === Us ? (r = d.left + b.x, 0 === b.x && n.x < q.x - c.rowIndent && (r = Math.max( r, Math.min( n.x, r + Xs( c ) ) ))) : r = c.Ap || c.Bp && 1 === c.maxGenerationCount ? d.left - c.La.x + b.x : d.x + d.width / 2 + b.x, k ? (a.w( m, r, n.y ), m++, a.w( m, r, d.bottom + f ), m++, a.w( m, r, d.bottom + f + (b.y - h) / 3 ), m++, a.w( m, r, d.bottom + f + 2 * (b.y - h) / 3 ), m++, a.w( m, r, d.bottom +
					f + (b.y - h) ), m++, a.w( m, r, p.y )) : (l && (a.w( m, n.x, d.bottom + f / 2 ), m++), a.w( m, r, d.bottom + f / 2 ), m++, a.w( m, r, d.bottom + f + b.y - (l ? h / 2 : h) ), m++, l && a.w( m, p.x, a.l( m - 1 ).y ))) : 180 === e ? (c.alignment === Vs ? (r = d.bottom + b.y, 0 === b.y && n.y > q.y + c.rowIndent && (r = Math.min( r, Math.max( n.y, r - Xs( c ) ) ))) : c.alignment === Us ? (r = d.top + b.y, 0 === b.y && n.y < q.y - c.rowIndent && (r = Math.max( r, Math.min( n.y, r + Xs( c ) ) ))) : r = c.Ap || c.Bp && 1 === c.maxGenerationCount ? d.top - c.La.y + b.y : d.y + d.height / 2 + b.y, k ? (a.w( m, n.x, r ), m++, a.w( m, d.left - f, r ), m++, a.w( m, d.left - f + (b.x +
					h) / 3, r ), m++, a.w( m, d.left - f + 2 * (b.x + h) / 3, r ), m++, a.w( m, d.left - f + (b.x + h), r ), m++, a.w( m, p.x, r )) : (l && (a.w( m, d.left - f / 2, n.y ), m++), a.w( m, d.left - f / 2, r ), m++, a.w( m, d.left - f + b.x + (l ? h / 2 : h), r ), m++, l && a.w( m, a.l( m - 1 ).x, p.y ))) : 270 === e ? (c.alignment === Vs ? (r = d.right + b.x, 0 === b.x && n.x > q.x + c.rowIndent && (r = Math.min( r, Math.max( n.x, r - Xs( c ) ) ))) : c.alignment === Us ? (r = d.left + b.x, 0 === b.x && n.x < q.x - c.rowIndent && (r = Math.max( r, Math.min( n.x, r + Xs( c ) ) ))) : r = c.Ap || c.Bp && 1 === c.maxGenerationCount ? d.left - c.La.x + b.x : d.x + d.width / 2 + b.x, k ? (a.w( m,
					r, n.y ), m++, a.w( m, r, d.top - f ), m++, a.w( m, r, d.top - f + (b.y + h) / 3 ), m++, a.w( m, r, d.top - f + 2 * (b.y + h) / 3 ), m++, a.w( m, r, d.top - f + (b.y + h) ), m++, a.w( m, r, p.y )) : (l && (a.w( m, n.x, d.top - f / 2 ), m++), a.w( m, r, d.top - f / 2 ), m++, a.w( m, r, d.top - f + b.y + (l ? h / 2 : h) ), m++, l && a.w( m, p.x, a.l( m - 1 ).y ))) : v.k( "Invalid angle " + e );
				a.Pi()
			}
			else e = c, f = d, a = this.link, c = Ts( e ), c !== Ts( f ) && (b = Ws( e ), d = e.mb, e = f.mb, 0 === c && e.left - d.right < b + 1 || 90 === c && e.top - d.bottom < b + 1 || 180 === c && d.left - e.right < b + 1 || 270 === c && d.top - e.bottom < b + 1 || (a.gn(), e = a.Je === Hi, f = a.jc, h = Ks( this.fromVertex.alignment ),
					a.Cl(), 0 === c ? (c = d.right + b / 2, e ? 4 === a.oa && (b = a.l( 3 ).y, a.W( 1, c - 20, a.l( 1 ).y ), a.w( 2, c - 20, b ), a.w( 3, c, b ), a.w( 4, c + 20, b ), a.W( 5, a.l( 5 ).x, b )) : f ? h ? a.W( 3, a.l( 2 ).x, a.l( 4 ).y ) : 6 === a.oa && (a.W( 2, c, a.l( 2 ).y ), a.W( 3, c, a.l( 3 ).y )) : 4 === a.oa ? a.w( 2, c, a.l( 2 ).y ) : 3 === a.oa ? a.W( 1, c, a.l( 2 ).y ) : 2 === a.oa && a.w( 1, c, a.l( 1 ).y )) : 90 === c ? (b = d.bottom + b / 2, e ? 4 === a.oa && (c = a.l( 3 ).x, a.W( 1, a.l( 1 ).x, b - 20 ), a.w( 2, c, b - 20 ), a.w( 3, c, b ), a.w( 4, c, b + 20 ), a.W( 5, c, a.l( 5 ).y )) : f ? h ? a.W( 3, a.l( 2 ).x, a.l( 4 ).y ) : 6 === a.oa && (a.W( 2, a.l( 2 ).x, b ), a.W( 3, a.l( 3 ).x, b )) : 4 === a.oa ?
					a.w( 2, a.l( 2 ).x, b ) : 3 === a.oa ? a.W( 1, a.l( 2 ).x, b ) : 2 === a.oa && a.w( 1, a.l( 1 ).x, b )) : 180 === c ? (c = d.left - b / 2, e ? 4 === a.oa && (b = a.l( 3 ).y, a.W( 1, c + 20, a.l( 1 ).y ), a.w( 2, c + 20, b ), a.w( 3, c, b ), a.w( 4, c - 20, b ), a.W( 5, a.l( 5 ).x, b )) : f ? h ? a.W( 3, a.l( 2 ).x, a.l( 4 ).y ) : 6 === a.oa && (a.W( 2, c, a.l( 2 ).y ), a.W( 3, c, a.l( 3 ).y )) : 4 === a.oa ? a.w( 2, c, a.l( 2 ).y ) : 3 === a.oa ? a.W( 1, c, a.l( 2 ).y ) : 2 === a.oa && a.w( 1, c, a.l( 1 ).y )) : 270 === c && (b = d.top - b / 2, e ? 4 === a.oa && (c = a.l( 3 ).x, a.W( 1, a.l( 1 ).x, b + 20 ), a.w( 2, c, b + 20 ), a.w( 3, c, b ), a.w( 4, c, b - 20 ), a.W( 5, c, a.l( 5 ).y )) : f ? h ? a.W( 3, a.l( 2 ).x,
					a.l( 4 ).y ) : 6 === a.oa && (a.W( 2, a.l( 2 ).x, b ), a.W( 3, a.l( 3 ).x, b )) : 4 === a.oa ? a.w( 2, a.l( 2 ).x, b ) : 3 === a.oa ? a.W( 1, a.l( 2 ).x, b ) : 2 === a.oa && a.w( 1, a.l( 1 ).x, b )), a.Pi()))
		}
	};
	v.defineProperty( vt, {xK: "relativePoint"}, function()
	{
		return this.Qr
	}, function( a )
	{
		this.Qr.set( a )
	} );
	function wt()
	{
		G.call( this );
		this.Qe = null
	}

	v.Ia( wt, G );
	wt.prototype.cloneProtected = function( a )
	{
		G.prototype.cloneProtected.call( this, a );
		a.element = this.Qe.cloneNode( !0 )
	};
	wt.prototype.toString = function()
	{
		return"HTMLHost(" + this.Qe.toString() + ")#" + v.md( this )
	};
	wt.prototype.Wj = function( a, b )
	{
		var c = this.Qe;
		if( null !== c )
		{
			var d = this.Xa( Ab );
			d.x -= this.V.width / 2;
			d.y -= this.V.height / 2;
			d.x -= this.V.x;
			d.y -= this.V.y;
			var d = b.jF( d ), e = b.hl;
			null === e || e.contains( c ) || e.appendChild( c );
			e = this.transform;
			c.style.transform = "matrix(" + e.m11 + "," + e.m12 + "," + e.m21 + "," + e.m22 + "," + e.dx + "," + e.dy + ")";
			c.style.transformOrigin = "0 0";
			e = d.y;
			c.style.left = d.x + "px";
			c.style.top = e + "px"
		}
	};
	wt.prototype.mp = function( a, b, c, d )
	{
		var e = this.ya;
		isFinite( e.width ) && (a = e.width);
		isFinite( e.height ) && (b = e.height);
		var e = this.yf, f = this.jh;
		c = Math.max( c, f.width );
		d = Math.max( d, f.height );
		a = Math.min( e.width, a );
		b = Math.min( e.height, b );
		a = Math.max( c, a );
		b = Math.max( d, b );
		c = this.Qe;
		null !== c && (b = c.getBoundingClientRect(), a = b.width, b = b.height);
		Xa( this.Qc, a, b );
		Bm( this, 0, 0, a, b )
	};
	wt.prototype.Ni = function( a, b, c, d )
	{
		Fm( this, a, b, c, d )
	};
	v.u( wt, {Ha: "naturalBounds"}, function()
	{
		return this.Qc
	} );
	v.defineProperty( wt, {element: "element"}, function()
	{
		return this.Qe
	}, function( a )
	{
		var b = this.Qe;
		b !== a && (a instanceof HTMLElement || v.k( "HTMLHost.element must be an instance of HTMLElement." ), this.Qe = a, a.className = "HTMLHost", this.h( "element", b, a ), this.pa())
	} );
	ea.version = "1.6.13";
	window && (window.module && "object" === typeof window.module && "object" === typeof window.module.exports ? window.module.exports = ea : window.define && "function" === typeof window.define && window.define.amd ? (window.go = ea, window.define( ea )) : window.go = ea);
	"undefined" !== typeof module && "object" === typeof module.exports && (module.exports = ea);
})( window );
